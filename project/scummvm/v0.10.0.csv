"commit id","commit date","commit message"
"1c285c70948fa5d950fe5cf5778c30c53fbd0361","2006-06-11 22:29:41+00:00","Bump version

svn-id: r23041
"
"89585587971763e81db6ddc3594beef4714ce933","2006-06-11 22:40:32+00:00","oops. Copyright sign lost

svn-id: r23043
"
"70ae8021717ee5741114081f8d10308fbdefec28","2006-06-12 00:11:24+00:00","Update year

svn-id: r23049
"
"e31ea42d1203aec0e9416aa308f5ae0aba9abbdf","2006-06-12 00:47:30+00:00","Correct function called when exiting oracle or close up scene in FF. Fixes bug #1504393 - FF: Recursion error when using Chemistry Set

svn-id: r23050
"
"1e358906ef6c540568788efec819851543ae0bcc","2006-06-12 06:00:52+00:00","Fix errors in centreScroll() of FF

svn-id: r23053
"
"48358fb09c04b1e2a7425de1036069e58b6c8030","2006-06-12 06:47:38+00:00","Fix bug #1500552 - FF: Glitches in Swamp Soup game of arcade

svn-id: r23055
"
"f22be03872bd777ccb32ca21ac4c964bd88b37e2","2006-06-12 08:40:50+00:00","Increased the spacing between the widgets on the 'Game' tab of the 'Edit Game'
dialog in 320xX mode. They were so close to each other that it bordered on
being pornographic.

svn-id: r23058
"
"5c630a4e630de50fc95650b3510d7d1c89d38651","2006-06-12 10:55:53+00:00","Small corrections and cleanup for Gob2, fixing the graphical glitches in the intro

svn-id: r23060
"
"da64d9f72edf3094592f181f2992c4acff5e0a9d","2006-06-12 15:33:27+00:00","o WIP file cache code borrowed from PS2 port.
o add property

svn-id: r23062
"
"796b001b4f2184094beac0e7318d4fb70fca58e9","2006-06-12 21:33:30+00:00","Fixing loading of Scenery::_animations[] + small gob2 cleanup

svn-id: r23066
"
"f52921fb9b767a6456d2b8f7ac989b51d5023214","2006-06-12 22:21:07+00:00","Using MemoryReadStream for Scenery::loadAnim()

svn-id: r23073
"
"486f1813145e5da74314929cd3f4d9df4cfa4841","2006-06-13 04:05:16+00:00","Add another version of SoccerMLS

svn-id: r23077
"
"243e6b2d2711da4901110868c7bd8e4d9d20a74d","2006-06-13 08:10:54+00:00","Fixing Scenery::_statics, Game::_totTextData and Game::_totResourceTable

svn-id: r23078
"
"df4f95f805b698057381525ca43e5b03cc379633","2006-06-13 09:48:46+00:00","Let the [cursor] palette manager handle disableCursorPalette() too, to avoid
cursor glitch in at least some HE games which first set a cursor palette, and
then disable it. (The disabled palette would be re-enabled after dismissing the
GUI.)

svn-id: r23081
"
"3728e96b17f46133f8e6ce4a2a99a7c72cf7ce18","2006-06-13 09:57:16+00:00","Disable the theme before restoring the cursor, not afterwards. Otherwise there
may be a noticeable amount of time (disabling the theme can be comparatively
slow) where the cursor is wrong.

svn-id: r23082
"
"61c5281454955613c747590c366e127c5080c76e","2006-06-13 10:20:59+00:00","Removed printf() debug message.

svn-id: r23085
"
"a709eb05b7a757eb31fb4df1421c837e73b1ba6d","2006-06-13 17:02:53+00:00","More READ_LE_* -> MemoryReadStream conversion + minor cleanup

svn-id: r23089
"
"f66f86fbd76b8f1082a327f76f674c479a774384","2006-06-13 18:22:18+00:00","Fix credits

svn-id: r23090
"
"410e149705321ce6a2d60e0a269867a626799984","2006-06-13 18:32:05+00:00","More proper version of credits

svn-id: r23092
"
"9458fd5cff24aa568b17c5a5a2301c6bda5d6789","2006-06-13 18:33:58+00:00","No idea how PlayStation turned to Playstation. Fixing.

svn-id: r23093
"
"94de8740870e3152c6ec951e1909005ec8d93975","2006-06-13 18:37:40+00:00","Since setCursorHotspot() does not update the cursor (should it?), we have to
call it before setCursorFromBuffer(), not afterwards. This fixes the cursor
hotspot being temporarily wrong in HE games that use loadWizCursor().

svn-id: r23094
"
"332e1d860ed3bab0380ec492160d41c1a86c8206","2006-06-13 19:15:08+00:00","Some more READ_LE_* -> MemoryReadStream.* conversions

svn-id: r23099
"
"7afb55604b3d1cc34f2eb0cf4103355240e4fb86","2006-06-14 11:30:19+00:00","fixes compile with msvc8

svn-id: r23102
"
"6fe3d3214d98df513fbe59eb79b7951ee6b0174b","2006-06-14 12:22:24+00:00","Fix the shadow glitches in HE98 version of puttrace, the shadow mode isn't reset in HE90-98 games.

svn-id: r23104
"
"793151a0aa4c8fe5ee5ce2e312826a361fd80474","2006-06-14 16:29:56+00:00","Implements new Tab drawing for modern theme (nearlly matches mockups now)

svn-id: r23106
"
"42d093cd166aacccf11bc8fdc0c384aa3d38a73a","2006-06-14 19:32:26+00:00","Added --themepath option, and documented (very briefly) the --gui-theme option.

svn-id: r23108
"
"70fc192f30e49ecf5f94cd1808c5600d390b231f","2006-06-14 19:43:25+00:00","Should fix --debugflags for all engines which set up the debug flags in Engine::init.

svn-id: r23110
"
"4eefe52e1ccb6e830025906706651e0e9e4c9949","2006-06-14 22:56:59+00:00","Fixed FF cursor hotspots, after Kirben pointed out to me two special cases that
we didn't handle. This makes he tile puzzle easier to solve. (But it's still a
terrible puzzle.)

svn-id: r23114
"
"021159724d5babf61f8239506275e147ed3882a7","2006-06-15 02:14:40+00:00","Fix drawing of tab widget. Now it matches mock-ups. Added tab scrolling.

svn-id: r23116
"
"bc74af60a658547c59afb80d40d74570774f3994","2006-06-15 02:30:05+00:00","- Consistent order of tabs between global and game options
- Consistent order of paths on paths tab in global and game options

svn-id: r23118
"
"e76a4cbc0d8305bec70cb8861b9016b83446d3cb","2006-06-15 02:54:02+00:00","Smaller versions of checkbox and cursor for 320xY resolutions.

svn-id: r23120
"
"2265872a8362e7d27b5eff9f5d5a3e00a0199d70","2006-06-15 08:07:20+00:00","Delete the old cursor buffer before allocating a new one. If the theme is
enabled by the time it's refreshed, replace the cursor.

svn-id: r23122
"
"e5b5361e75df6d3125ec56a02643495784f16e14","2006-06-15 10:18:23+00:00","Remove error for default case of active case 6/8 in akos_increaseAnim(), a default case is normal in original games. Fixes bug #1506017 - HE Pajama Sam 1: ERROR while tralking to snotty trees.

svn-id: r23125
"
"e939153b6ac7b59e4de05a4a047e73ec2c140cc0","2006-06-15 12:04:22+00:00","Fixed regression with the override checkboxes in the 'Edit game' dialog. The
checkbox's command message was being intercepted by the tab widget.

svn-id: r23126
"
"65041ae239055e07b7f592f1cfcca01e1c89e159","2006-06-15 12:09:53+00:00","Fix bug with tab navigation buttons jumping on resolution change.

svn-id: r23128
"
"6f844ae420e3a5722a1b580b1de95713a2b832a6","2006-06-15 13:18:28+00:00","- Make tabs narrower so they all fit on screen. Now navigation buttons
appear only on PSP resolution
- Combined Audio/Volume tab in game options for consistency.

svn-id: r23130
"
"4a1b8ccb86426b437f6ddb13bde3b11abb688d14","2006-06-15 13:56:02+00:00","Made the body of the tab widgets taller. This makes no visual difference, but
allows us to use the bottommost widgets on some tabs, even in 640x400 mode.

svn-id: r23132
"
"84b54c31732538464ee8d75644a0587aa32ff5f5","2006-06-15 14:25:59+00:00","- Adds 'THEME_HINT_NO_BACKGROUND_RESTORE' for buttons which don't want restored background (example: the tab scrolling buttons).
- Call _theme->drawAll() at the end of the redraw method of NewGui

svn-id: r23134
"
"50673f9f1fada025a0b6804b0bd17cd9262226dc","2006-06-16 06:26:26+00:00","The top dialog can change during the event loop. In that case, flush all the
dialog-related events since they were probably generated while the old dialog
was still visible, and therefore note intended for the new one.

This hopefully fixes strange behaviour/crashes with pop-up widgets. (Most easy
to trigger in 3x mode or when running ScummVM under Valgrind.)

svn-id: r23141
"
"f4d7226334bb09683e932df58ae80eddc1c11528","2006-06-16 11:30:23+00:00","Adjust akos code to only draw within bounds in HE games. Fixes many graphical glitches in HE games.

svn-id: r23143
"
"40bfc71de8102c0391f08ddb5de6009d924f07f7","2006-06-16 13:14:55+00:00","Fix rects in HE games, when positions are set by scripts

svn-id: r23146
"
"9e21960e934fc434b4cb83dd27af285508982cf8","2006-06-16 18:41:24+00:00","fix bug id 1507216 'ITE: 15 second freeze in Prince's bedroom'

svn-id: r23148
"
"f1831b8b5ded1830a8947de280daa4c7d995cde1","2006-06-16 19:34:16+00:00","Fix gcc warning.

svn-id: r23149
"
"7675b3546de924770caa870e65320cf070f347e8","2006-06-16 22:20:07+00:00","Remove _name.clear(); from Close since same File instance is re-opened by Symbian using that filename.

svn-id: r23152
"
"b81b9ac1243535d8ff3dd7316a3eb7da5b5be3bc","2006-06-17 05:48:43+00:00","Limit vm.numNestedScripts to positive value, when subtracting slot in runScriptNested(). Fixes restart, after ending sequence in freddi4

svn-id: r23153
"
"bc3e089842c7e4f462bcec24a8bf43694697728a","2006-06-17 06:27:44+00:00","Fix the buttons of paintings and safe in Nogroom of spyfox

svn-id: r23156
"
"ce1edcfd7d4bdd863e08f73797fbf773c9c8199c","2006-06-17 07:53:55+00:00","Fixed Smushplayer for Symbian OS.__SYMBIAN32__ was defined as __SYMBIA32__.

svn-id: r23157
"
"ff38faa21d09a2a41323b196ddd586289dca292e","2006-06-17 15:54:40+00:00","The stopMusic() function (which is publicly accessable from the outside) now
locks the mutex to avoid pulling the proverbial rug out from beneath the timer
callback's proverbial feet. To stop the music when the mutex is already locked,
we use stopMusicInternal(), which is a protected function. This will hopefully
fix the crash on exit which has happened to me every few months.

svn-id: r23159
"
"02f1555dbe844aa9b8d238aac4d50644a304a78e","2006-06-18 06:23:22+00:00","Added missing (but unimportant) breaks to switch default cases.

svn-id: r23161
"
"a1b2432f5c2d936a6330eb684d041114e5e2c6b4","2006-06-18 07:44:03+00:00","Add Blue's Clues games

svn-id: r23165
"
"2462289c50498c2da9c87304e0efdbfb63b962d9","2006-06-18 10:06:45+00:00","Updated comments to correspond with recent Adlib renamings.

svn-id: r23166
"
"499b5491eb73b0c9d40ca2e72dda076e2a2e6c24","2006-06-18 10:39:57+00:00","Makes sure updateScreen() is called once in a while in the menu polling loop, to give backends some drawing time for virtual keyboards etc

svn-id: r23169
"
"49b3f8f5391f1aaa2739a8bb355474c5d07aa661","2006-06-18 10:46:22+00:00","Add alternative method to prevent debug code of scripts been triggered in lost. Fixes regressions when convertFilePath() is used by some HE games

svn-id: r23171
"
"31e7efc1673455498b5326c57121edd74610230d","2006-06-18 10:54:54+00:00","Remove debug left over

svn-id: r23172
"
"15c26ed5eba1134e67caa14d3359f06409b86441","2006-06-18 13:44:01+00:00","Add 16bit color feature flag to Backyard Basketball too

svn-id: r23173
"
"bc6306192d3f31ff3ab7b72585ec7b58687dc59c","2006-06-19 04:09:39+00:00","Fix screen scrolling glitch when looking at the top of closet in parents room of DOS version of fbear

svn-id: r23174
"
"f4ff7fabad90c27d52582d08b891b72abc4c5a71","2006-06-19 07:45:40+00:00","Add patch for bug #1507856 - INDY3 VGA: Crashes in Sewer

svn-id: r23177
"
"032de3589b86173b90b55e1b9516af3e421a8c57","2006-06-19 10:12:37+00:00","Fix sentence line regression in C64 maniac

svn-id: r23179
"
"632caa1a1e86d1957c846d1e61c30af63d60d513","2006-06-19 10:29:36+00:00","Fix inventory colors regression in C64 maniac

svn-id: r23180
"
"3c7a5f78cc10e08b8a06e7ec504efc1f1d4beaf7","2006-06-19 21:07:37+00:00","Updated symbian actions for working key names

svn-id: r23183
"
"67d58ec4bb0f4bfc07a8eefcc2c94a44e1a6622b","2006-06-19 21:08:34+00:00","Added assert to audiostream allocation since failure causes serious problems

svn-id: r23184
"
"7e2227927cf65cf2281e466b0d43cc0e9ad22a83","2006-06-19 22:18:21+00:00","HOORAY!!!!! My first commit message! :D Added note about the need of setting platform to Macintosh for HE Mac games.

svn-id: r23185
"
"35ce9e3c98d8770694c9fd199473cdf1e45474a4","2006-06-20 17:52:25+00:00","kyra engine support

svn-id: r23188
"
"f6c3de48b5abd5ca96f6d714581d17fa42cee389","2006-06-20 17:54:09+00:00","fix typo

svn-id: r23191
"
"a7908a01bf75254c4c430457cf6647e68d8aa1c1","2006-06-20 18:03:02+00:00","fix vga device overlays and invalid mouse cursor calls

svn-id: r23192
"
"1569d5fadc511780cd24bd835fc8983a76a714ba","2006-06-20 18:08:03+00:00","Cleanup.

svn-id: r23194
"
"ecfedb1e81dc738620bdc42be15855559674a9ef","2006-06-20 18:55:25+00:00","Cleanup. It seems unnecessary to have a 'break' right after an unconditional
return in a switch case.

svn-id: r23198
"
"73e7b35efba5a7c1b1335da949930294a290b8de","2006-06-20 19:42:14+00:00","updated the readme for 0.9.0 release

svn-id: r23200
"
"f9d3e510731f1f3d8379580e89247b1cd03d1f3c","2006-06-20 19:49:41+00:00","added CE port news for 0.9.0

svn-id: r23202
"
"49a2f44944675253a13f3b6a18c627a1dd7be2d8","2006-06-20 21:36:09+00:00","Applied my own patch #1508018. I don't know for sure that it's exactly right,
but it improves the Adlib sound effects in early games, e.g. the door opening
and closing sounds in Indy 3 and MI1 floppy. There still appears to be some
kind of looping/repeating mechanism that we don't implement, though.

svn-id: r23204
"
"49af7d44c2e799dda335687ae803c27a7c3bd1c1","2006-06-20 22:50:27+00:00","Applied patches from bug report #1276480, 'GUI: Accented characters'. This
changes quite a lot of things in the font renderer and the convbdf tools, so
there may be regressions, but we want this feature for 0.9.0.

svn-id: r23208
"
"7d334b75a69c0de2fe6671c34d1b7944cc748b3c","2006-06-21 00:18:56+00:00","Fixed warning.

svn-id: r23210
"
"08c2e219010fee2d30b613d75ab048c53d4b6b93","2006-06-21 06:17:36+00:00","Initialise the control panel's _mouseX / _mouseY. Fixes a Valgrind warning.

svn-id: r23212
"
"4b2aa543040e6f79bacc5107f1790e8d85ad697f","2006-06-21 06:50:50+00:00","Revert back to original method used for scrollEffect(), fixes regressions.

svn-id: r23214
"
"286de879fd7edc2b84cec47b8b53f9d5ac89aa0c","2006-06-21 10:28:09+00:00","Add cyx's patch for bug #1035739 - SCUMM/SMUSH: Ugly palette change when video finishes

svn-id: r23216
"
"3c11d2fa18e984d6bb024d7e9bd67eb0077cffdf","2006-06-21 11:33:04+00:00","Move moveScreen to common surface functions for graphics

svn-id: r23218
"
"cf0563fe4ddae4250a654839b7cd56c787436f53","2006-06-21 11:33:40+00:00","Add eriktorbjorn's patch for bug #1507757 - BASS: Odd press sound at beginning

svn-id: r23219
"
"fb21a064166fce13e321b23a34b7b0bfc12638a4","2006-06-21 12:34:13+00:00","Add back auto detection of Macintosh platform for HE games

svn-id: r23221
"
"3ae7df09da8ec0d9420265d3e2cc5b13910ed20e","2006-06-21 13:19:07+00:00","Update docs for FF

svn-id: r23223
"
"c5f3b8060a6446b0c256b9b08fcfeaa1c3020caf","2006-06-21 13:22:09+00:00","Typo

svn-id: r23224
"
"c333fad84d6878e66136a9b8f57a114374683968","2006-06-21 13:59:28+00:00","Remove duplicate left over

svn-id: r23228
"
"42b10a67b4c76c1acb1dfb554d4be35106caedef","2006-06-21 14:02:50+00:00","Typo

svn-id: r23229
"
"150d9027f62a803893227d94786153721ac73c04","2006-06-21 14:16:22+00:00","Correct line to 80 chars

svn-id: r23231
"
"b85ed06d79358b1285a7b1c0c7c24c0fc64d8c80","2006-06-21 15:05:12+00:00","Match the original behaviour more closely when examining inventory items. The
text is displayed at least 800 ms. See bug #1181865.

svn-id: r23233
"
"bbebcabf6135859c58c8e62a291a9debd5033d07","2006-06-21 20:53:16+00:00","Update description

svn-id: r23239
"
"095a46052aec9d87a1be2b81a522cf1963b091f4","2006-06-21 21:04:12+00:00","sync trunk

svn-id: r23243
"
"3b56fa4068696fccecc8bd694c99528c0c04de00","2006-06-21 21:05:35+00:00","Set 0.9.0 date

svn-id: r23244
"
"034676f33a191a784104875ab689f30332757f5c","2006-06-21 21:35:40+00:00","Commits fix for crashing about dialog mentioned my Marucs on -devel.

svn-id: r23248
"
"9cb6196508d084a9fa6e6a0057b035dbcdc31cb2","2006-06-21 21:44:13+00:00","Oops fixes problem introduced with last commit.

svn-id: r23250
"
"3116a69adfffbee87d9a46d1f8fa4f56253b2ae9","2006-06-21 21:52:16+00:00","Ok after a few checks this is how it should be (fixing problems with my last commits).

svn-id: r23251
"
"d2bd1de292c1ff393fb2757fec2af2b1c4731019","2006-06-21 22:30:33+00:00","Reverting here too.

svn-id: r23253
"
"36807a857d944d35679dc01cb7a4e5ca535bda2f","2006-06-22 00:03:13+00:00","Add cyx's patch for VAR_FADE_DELAY timer changes in fade effects

svn-id: r23255
"
"7d16e0b170e3a25e914374ed03538943dbabc724","2006-06-22 08:09:48+00:00","Adds the AUTHOR file to the MacOS X snapshots, and updates the bundle layout to correctly show the background image

svn-id: r23257
"
"59c296075aed24d755fdfc60a37fe95302250909","2006-06-22 08:21:28+00:00","This additional check for Macintosh versions of HE games isn't required, as platform is already set correctly

svn-id: r23258
"
"70b5453731facd8699c73db40445502f6e980eac","2006-06-22 13:04:19+00:00","Fix bug #1509496 - INDY3 (MAC): Map screen hangs up at azores.

svn-id: r23259
"
"f5128aeaf5259841c29308bb1dcb7a8c4b65994f","2006-06-22 17:57:37+00:00","Tweak SCUMM detection a bit more -- do not hard code a check for the genmethod to determine the platform value, but rather use the platform value the GameFilenamePattern provides

svn-id: r23260
"
"1acf72221fac47e45cf62fd389127309fa94e4a6","2006-06-23 10:03:30+00:00","Add Spanish version of the Feebles Files (4CD)

svn-id: r23261
"
"ea36cacc7abf86c415f198f7e2c1e51fc94a6aa7","2006-06-23 10:07:45+00:00","Typo

svn-id: r23262
"
"dbfc1cb9b1945642d3ebea6db8884289ccd58ad7","2006-06-23 23:10:23+00:00","Convert file path, before playing videos in HE games

svn-id: r23263
"
"d07d76ff9c7f2e2493e88f468e22c92dac19ea98","2006-06-23 23:16:48+00:00","Add another Windows demo of puttputt

svn-id: r23264
"
"510fd0cb89fbdd617c06e2a84948453f34058136","2006-06-24 00:35:37+00:00","Remove extra Windows demo of puttputt, was a corrupt version

svn-id: r23268
"
"99ddd2660958b6cc3f7f1de5b2fff6f667ecd98a","2006-06-24 00:37:18+00:00","Ooops

svn-id: r23269
"
"4b26f8319e6697b15b41614f51cd11d70393c9dc","2006-06-24 01:46:54+00:00","Add cyx's patch for bug #1508935 - FOA: Indy walks on the spot. Also fixes car failing to turn during smart star challenge in thinker1

svn-id: r23271
"
"21ce238473ebbdead525a7f36685244a2baa653e","2006-06-24 03:25:52+00:00","Big Thinkers First Grade is supported now

svn-id: r23272
"
"72a4747dd64461e4bca819f5a246c84518b7ff8d","2006-06-24 07:14:15+00:00","Fix warning

svn-id: r23273
"
"d210b19aec69d34711e5d473e6e4e5081955b02e","2006-06-24 08:07:48+00:00","Move backends/fs/fs.h and .cpp to common/fs/fs.h and .cpp
Rationale: backend implementations belong to backends/, but portable APIs meant to be used by high level code is for common / sound / graphics / ... (compare also with backends/midi vs. sound/mididrv.h)

svn-id: r23274
"
"9a955180a4179237d3474a73c6829a6554a9bc09","2006-06-24 08:48:11+00:00","* Renamed config.mak to config.mk
* Renamed common.rules to rules.mk
* Removed explicit declaration of MODULE_DIRS in various spots (instead we let rules.mk compute it)

svn-id: r23275
"
"ca2a6d7cd19625c1a6319905fdb743609e7d6446","2006-06-24 09:29:57+00:00","Fixing a leak in the Kyra engine (the savefile manager allocated by class Engine was never freed)

svn-id: r23276
"
"ff1566754407dea6b44e7687634850475aa2ccf2","2006-06-24 09:34:24+00:00","These FIXME comments can go, I think :)

svn-id: r23277
"
"75628fe9d7fa636da792d278b36396c3934ddf0e","2006-06-24 09:34:49+00:00","Renamed class Timer to TimerManager (the old name was somewhat incorrect/confusing)

svn-id: r23278
"
"c9fd9c4878f95f4ae463bc136156634577e6f444","2006-06-24 09:53:45+00:00","Added 'timer' backend module, based on the existing TimerManager code (work in progress)

svn-id: r23279
"
"aa8ed526f01fed98b014a85e1aa6022f3f2f86ad","2006-06-24 10:05:09+00:00","cleanup

svn-id: r23280
"
"bd3c24bce4f1ebbe56827c757615d7c0414df160","2006-06-24 10:08:46+00:00","Add Italian version of the Feebles Files (4CD)

svn-id: r23281
"
"6a588f8399bf6f598b476e1a05104e8d6f78f277","2006-06-24 10:08:43+00:00","Moved savefile code to new 'saves' backend module (work in progress)

svn-id: r23282
"
"00ca50beb721a82ae74925e1e88bf5029c5b96cc","2006-06-24 10:12:38+00:00","Follow our code formatting guidelines; also, we provide default implementations for getSavefileManager and displayMessageOnOSD, no point in replacing this with empty dummy implementations

svn-id: r23283
"
"5faf5f44c33a0862721d919a72bd7cf5934b8dd7","2006-06-24 10:14:18+00:00","Remove unused slash from DEPDIRS (cosmetical change to appease Torbjoern :-)

svn-id: r23284
"
"3b1b06b09c03f87252da45e27098ce60929e9182","2006-06-24 10:45:47+00:00","Added some FIXME comments to AGI engine

svn-id: r23285
"
"d67f9623cc89f9bf23769819ee5716028e41d813","2006-06-24 10:46:47+00:00","Typo, and stress that getSavePath() is not to be used for storing savegames via Common::File

svn-id: r23286
"
"ac8607f43303011fe8c12193e0d9dbc3b8ceee41","2006-06-24 12:03:30+00:00","Fixes save/load of kyra engine.

svn-id: r23287
"
"530948bbce755bb52bf4f9045cbc494fce76dfd1","2006-06-24 12:09:40+00:00","Updates msvc8 project file.

svn-id: r23289
"
"c673860d0e095a206e2503a19690a4f73c1b2cf7","2006-06-24 12:16:03+00:00","Ok msvc8 builds should link again.

svn-id: r23290
"
"dc41d02ac73109add30a3456bc44d558f29d2f8d","2006-06-24 12:27:07+00:00","fix character clipping as mentioned by Marcus on the mailing list on 22 june

svn-id: r23292
"
"492c65009cb186024f52ec1970617028c3d09efe","2006-06-24 12:33:52+00:00","Started to move 'monolithic' parts of our ports to the new 'background/platform' directory (see also the 'Modular_Backends' page in our Wiki)

svn-id: r23293
"
"7409ae2fbb78f4bab17398a41f0ed1235ebcded0","2006-06-24 12:45:31+00:00","Upadtes msvc8 project files again.

svn-id: r23294
"
"e53c1af36231ccd9196fdfe33562d4ac1b54df69","2006-06-24 13:21:46+00:00","listwidget: handle clicking outside of the list more gracefully

svn-id: r23295
"
"163f49240b39b74d30f548a56e5634608580a448","2006-06-24 22:44:51+00:00","Add Keith Scroggins to credits as Atari/FreeMiNT builder.

svn-id: r23297
"
"8d3887f170a0d085e50eecb6750724ce3b055d7d","2006-06-25 01:19:34+00:00","Fixes a warning with VC++ 2005 Express.

svn-id: r23307
"
"61c69ab4b2045acd8f471d09d9739b2061bb6d16","2006-06-25 10:32:01+00:00","Patch #1511978: Patch for convbdf.c so it compiles with GCC 2.95.3

svn-id: r23308
"
"d2e54d5e3c18c5d49f0be6ddedb9faa097598e27","2006-06-26 13:29:40+00:00","Patch #1512689: 'Fixing AGI Game Detection'

svn-id: r23315
"
"e09bdf84cbcb805d0b2ad123c4d3de6db2ac7310","2006-06-27 10:54:01+00:00","Fixed the HE version of the Swedish Freddi Fish 1, and added detection for the
Macintosh version, with a lot of help from Kirben.

svn-id: r23321
"
"2b99a59e5ca615429777116001d49437eca68a65","2006-06-27 11:31:30+00:00","Resort HE games, by HE version and mark US versions

svn-id: r23323
"
"9767fa5aac72dc084d1b9320fea291da68dbf9b7","2006-06-28 03:25:55+00:00","Add French versions of freddi3, freddicove and pajama2

svn-id: r23326
"
"c367dbfc36af58f589ff320ff69eb072dac518e5","2006-06-28 04:52:48+00:00","Since the slider's handleMouseMoved() clips the new value, there's no need to
test if X >= 0. Dragging the slider quickly, we may never get an event where X
is exactly 0, so all it does is to make it more difficult to drag the slider to
its minimum value.

svn-id: r23330
"
"dd57c5798221419ab6ac20330462fe117631aad6","2006-06-28 14:06:54+00:00","Add eriktorbjorn's patch for DXA unification, with more changes

svn-id: r23332
"
"1c197352268e23ea4c245635efee7b21de75bf32","2006-06-28 14:10:07+00:00","Add patch #1504492 - DXA: New compression scheme

svn-id: r23333
"
"e17fe8e88b3ab38bf35489aaf52d3d0dd0b12811","2006-06-28 14:14:21+00:00","Remove left over ;

svn-id: r23335
"
"fa4aa40b7b2bf0240b0c6e8116be4f87bdcb4cf0","2006-06-28 14:27:56+00:00","Correct docs for copyFrameToBuffer()

svn-id: r23336
"
"3a020e787617d9ae5004ffbd496b95a6d67e9ca2","2006-06-29 05:15:45+00:00","Add custom memory management code. malloc() for small allocs became much faster and startup time in the GP32 is now 10~30 secs depend on clock speed.

svn-id: r23338
"
"d954c5ebd5af8390416dab9a1b885c445a4bba60","2006-06-29 05:25:19+00:00","Try to use processor cache efficiently.

svn-id: r23339
"
"5e7d109e3cac8c46f3842df4988f082579de7ffa","2006-06-29 05:34:56+00:00","Lock sound timer thread.

svn-id: r23340
"
"7169e90fadd2f6929cf6b599db3afe531175cf9b","2006-06-29 09:17:04+00:00","Properly init memory tables.

svn-id: r23342
"
"221afd715a0806405de3e86bc30323a208096cc7","2006-06-29 12:31:52+00:00","Whoops. Correct varible name.

svn-id: r23344
"
"27a8b8a255478ebe76fb616e7d5dba0b8f433dce","2006-06-29 12:55:57+00:00","- Renamed a few mult-variables to something more fitting
- Fixed a small mistake, making the entering animation work
- Correcting Game_v2::playTot() so that the loading screen is shown
- Updated most of the collisions stuff, the objects names hint stuff works now

svn-id: r23346
"
"72a5fea703fe8dffdbd24d6f00d1e334639ed641","2006-06-29 13:18:20+00:00","Oh. I forgot to change function calls.

svn-id: r23348
"
"5cea3c77986fa3960a0c572d166de36f734a4380","2006-06-30 09:19:29+00:00","Added NEWS sections for 0.10.0 and the inevitable 0.9.1.

svn-id: r23350
"
"b9fa49a1762c3652c1f607fb8a7431e52fe74b2e","2006-06-30 16:38:43+00:00","Align memory address properly. This fixes crash on the GP32.

svn-id: r23354
"
"8c5ead1f70ec3bb49e6633af0192bbcc90f4a1bf","2006-06-30 19:54:12+00:00","No need to calls clearSoundCallback here (engine destructor already does that)

svn-id: r23356
"
"25f68b08ab8c1fc35aab2d060b0f38ebf7856785","2006-06-30 20:21:42+00:00","Moved backends/dc into new platform directory.

svn-id: r23357
"
"438f47b041d1e9b4d1eebdae23c121a0584259e2","2006-06-30 21:00:39+00:00","move psp backend to backends/platforms/psp

svn-id: r23358
"
"14fc6d4ca40bd503966152f87ec1f396e42ff132","2006-06-30 21:14:34+00:00","fix compilation after backend move

svn-id: r23359
"
"d71d5774ade7ba6568c816318fb57b6a53908337","2006-06-30 21:58:40+00:00","Include DCLauncherDialog.h from the new backend dir.

svn-id: r23360
"
"87d3e4fb0ec92d762035581ca65d31227b743ee4","2006-06-30 22:06:45+00:00","Moved savefile.cpp to backends, to work around link error

svn-id: r23361
"
"294dcea3ef063ee4ec95f3f418af4534445da1c6","2006-06-30 23:35:11+00:00","Add French version of the Feeble Files (Windows 4CD)

svn-id: r23362
"
"6a8749ace05649fdf69593c76a75c322f34a5bfa","2006-07-01 08:13:46+00:00","move ce port to its new home

svn-id: r23366
"
"31fa4fbad82a0870941c1eac42d796b84b5c9360","2006-07-05 22:27:11+00:00","Fix bug #1515345 - INDY3 (FM-TOWNS): Black screen upon start (Amiga)

svn-id: r23372
"
"4bbdf9daae811be8394818aaea7c659592a33a4e","2006-07-06 11:17:14+00:00","Fix 1506002 - PUTTTIME: Weird Mouth Movement

svn-id: r23374
"
"41626a6af3b171c427797fdca480305b63890047","2006-07-06 11:40:50+00:00","Add cyx's patch for 1513622 - HE: Palette glitch (recent regression)

svn-id: r23376
"
"9269ebe9f5a281f452594f1e8108e31c88a398fb","2006-07-06 12:22:33+00:00","Fix off by one, in the stomach of pajama3

svn-id: r23377
"
"1d8d9f5510dc5f574e926bd6fadb9d20337daede","2006-07-06 21:44:48+00:00","Moving remaining platform/backends code, as previously threatened

svn-id: r23380
"
"3f4cc015b2d7b0ddd26a24dada04a64b68d27bc6","2006-07-07 07:31:13+00:00","Fix bug #1518523 - FOA: Indy facing the wrong direction in intro. And adjust walk code to closer match original code of earlier games

svn-id: r23381
"
"240acc427ad26fc30566e65a75ad808260c180b6","2006-07-07 09:00:18+00:00","make grabRawScreen() pure virtual, since it's now _required_ to be implemented by backends for certain SCUMM games to function properly.
This happened when ScummEngine::moveScreen() was changed in revision 23215 and causes Indy4 to fail the assert(_system->grabRawScreen(...)) on PSP (and Symbian?), where this function was not implemented.

svn-id: r23383
"
"2b0c4e9bf3c026ad0042bc8cd885a0fafc2cca99","2006-07-07 10:38:56+00:00","implement grabRawScreen()

svn-id: r23385
"
"0f2584d47013c9601ab2fbbff48b37bcd0155b51","2006-07-07 10:40:11+00:00","fix build with latest psp toolchain

svn-id: r23386
"
"4e1d751ba267a0cfae2d807e529ae42b0bb0f302","2006-07-07 10:54:37+00:00","override inactive_dialog_shading on PSP

svn-id: r23390
"
"6a53fa4cc3b5ac4895633e37d04b8ecae8b2daaf","2006-07-07 12:47:44+00:00","Revert recent change to actorWalkStep(), caused regressions

svn-id: r23393
"
"39b08f70a6f65d3c277b2eb86ee150ec99392e86","2006-07-07 21:58:52+00:00","- Fix bug #1513671 'GUI: PSP classic mode problems'
- Fix little inconsistency in modern theme for PSP resolution.

svn-id: r23394
"
"fd7701a5296ce5afc383469f7365fc789a50507a","2006-07-07 23:03:26+00:00","Add another German Windows version of pajama2

svn-id: r23396
"
"5951f266db5f89de238da0d9e547bc3bf71fa232","2006-07-07 23:53:11+00:00","Update language settinga for filename patterns in HE games

svn-id: r23398
"
"163a8cb72cf9cccd5883c7ea9ad0c95f2670507b","2006-07-08 08:23:41+00:00","Initial commit of ScummVM-based debugging functionality

svn-id: r23403
"
"6f388eb29048b30bdf3fba63b78e28085573c278","2006-07-08 08:25:27+00:00","Replaced old debugging files with new ScummVM based one

svn-id: r23404
"
"10e450947deb8b4770a51a85acc66559883ea5f2","2006-07-08 08:27:19+00:00","Added extra checking and debugging code, as well as partial rewrite/enhancement of talking and hotspot support methods

svn-id: r23405
"
"9fe05aa007642bbe86a51923b9cc51ce324c4b94","2006-07-08 08:29:01+00:00","Rewrote the status line handling code along with tweaks to the debug information display

svn-id: r23406
"
"e79b3dfd414773942fcf42f5d3ba57dd59047d1f","2006-07-08 08:30:14+00:00","Added shortcut stub for decoding a string without passing the current hotspot and action name

svn-id: r23407
"
"4a52b14de656e05c695e52f1122532d21319d303","2006-07-08 08:32:04+00:00","Added improved display of partially off-screen images, as well as proper handling of special talk message Ids that display a puzzled or exclamation dialog talk bubble above a character

svn-id: r23408
"
"acb3a5a9ac6700341af2100a1eb5885a18d73c74","2006-07-08 08:34:29+00:00","Added ScummVM debuglevel support for dumping executed scripts
Fixed up some incorrect script methods and added several new ones

svn-id: r23409
"
"c6b6a2e12587b15a95d371acf9f18586ff392736","2006-07-08 08:36:32+00:00","Added new hotspot runtime fields, a list for handling the details of paused characters (who have bumped into each other), and loading of newly added default character states from lure.dat

svn-id: r23410
"
"55c80679bafd2c50e6cd5df3738430037bfc4b5a","2006-07-08 08:37:47+00:00","Disabled waiting for mouse release when making a popup selection to match original game

svn-id: r23411
"
"64d0e4dcd8b1f3b650209f0d7fba863a3fd527d8","2006-07-08 08:38:44+00:00","Incremented lure.dat version and added new constants for debugging, tick methods, and hotspots

svn-id: r23412
"
"6b5150797ae044da90cd0b2a4a7a1b03ab4147f4","2006-07-08 08:39:42+00:00","Added support for ScummVM boot parameter values as well invoking the built-in debugger

svn-id: r23413
"
"258a7b528fe85043507743a179d8edbf44b9a0af","2006-07-08 08:40:50+00:00","Add another German Macintosh version of pajama2

svn-id: r23414
"
"a20214e43a0fdaa99b6874f9ce132a9827f61023","2006-07-08 08:42:58+00:00","Rewrote the talk handling code
Added lots of debugging information
Partial support for characters bumping into each other
Player/NPC action handling generally improved
Added hard-coding for variable width frame animation of Ratpouch being released
Basic support for Ratpouch wondering around

svn-id: r23416
"
"dfbc46f877f072d9526f93661a1b4958436f4140","2006-07-08 08:44:53+00:00","General additions of newly understood hotspot fields, further decoded talk handling, ratpouch being freed, and several more script methods

svn-id: r23418
"
"6ed462e06febcd060348d66a8779362a5b2bc89b","2006-07-08 10:28:35+00:00","Rename VAR_WINDOWS_VERSION to VAR_PLATFORM_VERSION

svn-id: r23419
"
"5658e71f4d7c2245098316434db2f239871e9f05","2006-07-08 11:42:07+00:00","Added support for DXA cutscenes, while still retaining support for the old MPEG
cutscenes and the 'dummy' (subtitles and voice-over) mode. Several tweaks and
cleanups were made in this process, and there may very well be regressions, but
it should be stable enough to commit.

svn-id: r23420
"
"93e9dee0d1b56620005d5c1d7ef65eb34c7da962","2006-07-08 12:23:44+00:00","Adds a message dialog if kyra.dat is missing which tells the user to download the kyra.dat file.

svn-id: r23421
"
"57621c92458c3731e1417fb007bbaa0728dfabf3","2006-07-08 13:56:56+00:00","Implements loading of 'westwood.001' for kyra3 (no need to run the installer anymore).
(thanks to eriktorbjorn for his code to extract files from westwood.001)

svn-id: r23423
"
"700ff85a638fef71e709049dbbac96d538810408","2006-07-08 14:25:25+00:00","Updated BS2 section for next version, which may or may not be called 0.10.0.

svn-id: r23424
"
"abdebd3bfd3596d073f40cc4d7452a053906f8b5","2006-07-08 14:25:23+00:00","- fixes some c/p errors from my last commit
- fixes embedded pak loading

svn-id: r23425
"
"db2ffa42856d0ecd337b7a0fdd342d7560f2bdca","2006-07-08 14:51:26+00:00","Changes init error handling of kyra engine (engine fails at Engine_KYRA_create now instead of KyraEngine::init, also adds check for invalid game path like the scumm
engine does).

svn-id: r23426
"
"5aff1df2200e9d12a87d4ce4d6d146b17b0b5467","2006-07-08 15:39:26+00:00","Slightly more verbose debug message.

svn-id: r23428
"
"b7997a723105534dcefe50ae5b1448638480f0da","2006-07-08 16:37:23+00:00","- Fixed a few mistakes that added up to look correct, fixing bargon's cursor
- Updated cursor drawing in general

svn-id: r23429
"
"03ef03887a079abc61672d27f99b271fe2b807a1","2006-07-08 17:37:51+00:00","Updated credits

svn-id: r23430
"
"07ffde92706f3725c44978c477b2b987a4aa2cf0","2006-07-08 20:20:07+00:00","Fixed typo in comment.

svn-id: r23435
"
"1e0b6995aa2b49b39a6c352b499558d42ca6417c","2006-07-08 20:20:55+00:00","More robust handling of the optional startup.inf file.

svn-id: r23436
"
"8edc7ce1f74232be366957553cbf224f462576b4","2006-07-08 20:27:03+00:00","Updated 0.9.1 section.

svn-id: r23438
"
"7bfaa0db78b79c555fc1137de4a5964beca9d16e","2006-07-08 20:45:01+00:00","Cleanup

svn-id: r23439
"
"5e1bf440466c4634d8ecd5ebf57f1de9bec20730","2006-07-08 20:56:02+00:00","Testing the new ciabot.py hook ... dang, I wanted to modify scummsys.h, where is abort butto... CARRIER LOST

svn-id: r23440
"
"8cb98dc45ca85d2aab2ac4b9d0fa5d6e72521c8a","2006-07-08 23:38:29+00:00","Add fix for bug #1519327 - FF: Stack corruption

svn-id: r23442
"
"36f90314358f9af016be4d39e65094447f9936ae","2006-07-09 01:09:25+00:00","Add filename patterns for Macintosh versions of Blue's Birthday Adventure

svn-id: r23443
"
"b3f2d299fef43460f9297c28c37d2749fdd2712a","2006-07-09 05:47:17+00:00","HE80+ games ignore subtitle speed, due to sound code been used. Fixes glitches that can occur, when slow subtitle speed is set in HE80+ games.

svn-id: r23447
"
"eaff9344a457d14a90175d8fe613d0cd952290f9","2006-07-09 09:40:44+00:00","Added OSystem::setFocusRectangle (first part of Nintendo DS patch)

svn-id: r23449
"
"51ad5aa7197b3ced348ae37e2bc1586cb25dff3e","2006-07-09 09:43:56+00:00","Verify malloc worked. Apparently, simon (or FF?) sometimes tries to allocate extremly big (well, for the Nintendo DS at least :) chunks of memory, which lead to malloc failures.

svn-id: r23450
"
"bea72e9514a5b3ced091d952762a5fa633e27740","2006-07-09 11:47:17+00:00","Patch #1519399: DS Backend

svn-id: r23452
"
"859a557b8a44eb983f19698cd4dfb4a0ff367fca","2006-07-09 12:16:35+00:00","Added Neil Millstone to the credits

svn-id: r23454
"
"0b16c09d435230312123d9eb5738a83815331f47","2006-07-09 12:27:37+00:00","Mention DS port in the NEWS file. Also mention the walkbox changes

svn-id: r23455
"
"7df2f26b341a8418da60faf572a37a47e1ec6c27","2006-07-09 12:45:50+00:00","Changed the default value of START_PACK_STRUCTS / END_PACK_STRUCTS; cleanup

svn-id: r23456
"
"880838514f28fd298e6418f2096d61b3f757e237","2006-07-09 12:58:10+00:00","Remove duplicated content

svn-id: r23457
"
"f35f4a4d1c41a8d186621b912b985dd5d796632a","2006-07-09 13:01:15+00:00","Use START_PACK_STRUCTS / END_PACK_STRUCTS when available, instead of checking for GCC / not GCC

svn-id: r23458
"
"0e66c43c709c81d2f7351f3b53bca74e6896a0be","2006-07-09 13:10:45+00:00","Fix some more duplicated files, and unify case for rpc include

svn-id: r23459
"
"1ffa13180f9b0eef110a6548d840257c15343804","2006-07-09 14:46:04+00:00","More DS port fixes

svn-id: r23460
"
"140097267fe8f9beaa7d6310a112326b3b9d8f16","2006-07-09 15:32:06+00:00","Final fixes. Builds fine now, apart from a few still-missing-from-svn files

svn-id: r23461
"
"7f00697913d6546b0f4a58da82318c7a85fb8c25","2006-07-09 18:28:58+00:00","svn-id: r23462
"
"75e64b91defc913956767698b6d8eccc7bc59e7f","2006-07-09 18:30:28+00:00","Adding data which was missing from initial patch.

svn-id: r23463
"
"dcbbfa01c09854903666cce7ec855883b4257c00","2006-07-09 18:54:12+00:00","Instead of drawing the mouse cursor as a sprite, let the backend handle it

svn-id: r23464
"
"53aa4f054adf2b9ade12b8af400b1abb0fb01239","2006-07-10 01:25:52+00:00","Change default config file location to 'Application Data\ScummVM' directory of the user's profile, when using Windows NT4/2000/XP/Vista

svn-id: r23465
"
"357b311c942a5b66b8111e7f999c85ac5e8eacfd","2006-07-10 06:29:10+00:00","Applied my own fix for bug #1519667 ('DOTT: Graphic glitches while kite comes
down') after discussing it with Kirben.

svn-id: r23466
"
"f4b81b55ec548d31d8e766634d03d892f80f602d","2006-07-10 08:07:01+00:00","Synced 0.9.1 NEWS section with 0.9.0 branch.

svn-id: r23469
"
"d8e974ba72a5ed9faf43e1a8fcd5611f4606e9db","2006-07-10 09:29:12+00:00","Fixed bug #1519817, 'ALL: Build failure if libmpeg2 is disabled'.

svn-id: r23470
"
"76e67fba9264cee212af40f327f60231d40e08eb","2006-07-10 10:14:10+00:00","Fix actor glitches in the stomach location of pajama3

svn-id: r23471
"
"924ff9169b7003da7965fa2538d593372e6035a0","2006-07-10 10:41:22+00:00","Update fixed issues in 0.9.1

svn-id: r23473
"
"175c951e8ea2977810c946045dc15252a6f2c49e","2006-07-10 11:12:11+00:00","Add cyx's patch for #1497725 - GUI: trying to enter empty CD drive

svn-id: r23475
"
"242edd0e39aa967924a24bfcae4a4b27d5dc78bd","2006-07-10 11:45:40+00:00","Restrict recent walk code changes to to exact SCUMM versions required, to prevent regressions in earlier games

svn-id: r23476
"
"dcb59be8b7f87b2cd9b41af0d40457e6c74cdabc","2006-07-10 12:38:07+00:00","When I added the message about fixing rare actor drawing glitches, I was
thinking mainly of Day of the Tentacle, even if we have fixed some other
glitches that did affect Fate of Atlantis as well. I've reverted to the
deliberately vague message.

svn-id: r23478
"
"6eecad572293815af18642382f341b866424dcc8","2006-07-10 15:45:09+00:00","Call handleScreenChanged() when opening the console. Otherwise, we may get
garbage and/or crashes if the scaler has changed since the console was created.

svn-id: r23480
"
"cd020a688ed445dc67cd9f1c70a90f6c890d9af5","2006-07-10 18:57:40+00:00","Moved the initial screen clearing from play() to load(), so that it will be
done before the MPEG player calls showOverlay().

svn-id: r23482
"
"e87c31d35d1ada10bd15dc3e5c8b9ab61201cbb0","2006-07-11 04:43:14+00:00","Remove out dated comment

svn-id: r23483
"
"4ff6685de70773d5484213876dc5eba4ff51335c","2006-07-11 07:58:54+00:00","Force HFS+ filesystem when making OS X disk images (for backwards compatability), as the default has apparently changed

svn-id: r23486
"
"21b89308b5595ba05d66cc6d4967a491e36bb585","2006-07-11 16:51:10+00:00","This should fix bug #1520629 ('No Music in Simon1').

svn-id: r23488
"
"612ba0c2be6dac5a89165bbb4708e6f487c107f4","2006-07-13 14:01:48+00:00","Some whitespace changes to see if the CIA bot is still silent.

svn-id: r23491
"
"cf8b0c06d1af2ba003a2a6ecece389ed1ee87ffc","2006-07-14 09:37:26+00:00","Whitespace change, and test to see if I'm able to commit now that I've changed
my password. (See SourceForge status page.)

svn-id: r23492
"
"b2d9c0dc2a1248efa7fb49240ddc0c5a59176753","2006-07-14 10:42:24+00:00","More whitespace changes to see if things work normally again.

svn-id: r23494
"
"fb3a3f75aa150d428d28dbb5a2391e833387946b","2006-07-14 13:20:30+00:00","Add another Italian version of Simon the Sorcerer 1 (DOS CD)

svn-id: r23495
"
"6358547a434a30283c7eeacab6e6f822fd2073d2","2006-07-14 13:33:58+00:00","More whitespace changes.

svn-id: r23496
"
"21fe8bad8807fefb644572284cb6808689b04eea","2006-07-14 13:39:54+00:00","Ooops

svn-id: r23498
"
"d3a4d86158b072eca8eb196d51ccbd1d10f0a99a","2006-07-14 16:11:30+00:00","* Add grabRawScreen() method.
* Add Launcher icon.
* Fix trunk compile.

svn-id: r23501
"
"c179895316a1d3f7eb19110016e0c4248da292a8","2006-07-15 04:31:17+00:00","There are no known releases of indy3ega/monkeyega that require this bypass

svn-id: r23502
"
"4664fdae6b88c059951972a5a409cc6c90d87a11","2006-07-15 04:53:54+00:00","There are no known releases of indy3ega/monkeyega that require this bypass

svn-id: r23503
"
"96c97671f56389c0273782d796b54d18c0f5bc4c","2006-07-15 13:25:54+00:00","Makes usage of themepath over extrapath then loading the gui files.

svn-id: r23504
"
"aa4787bdfbe2465d2bb903545f80708b021bb302","2006-07-15 13:56:18+00:00","Adds eriktorbjorn to the kyra credits for his VQA player for kyra3.

svn-id: r23506
"
"f5d8055777599db7b0171df6341b6883136d0d61","2006-07-15 20:00:08+00:00","Changes names of Kyra2 and Kyra3 detected games.

svn-id: r23509
"
"a8e3e929e83d2a963233e13e9656e6e6a7213cd8","2006-07-15 20:09:45+00:00","A little cleanup (merges kyra1_games, kyra2_games, kyra3_games into kyra_games)

svn-id: r23510
"
"04503d462d43d49dd9504785477364ca18eecdb7","2006-07-15 20:30:36+00:00","Use the FS Api to load all .PAK and .APK files. (I just made a few quick tests, but before this should be integrated to branch-0-9-0 there should be a test for it on *every* platform, since I'm not quite sure if FilesystemNode::displayName is useable for this...)

svn-id: r23511
"
"d630b3e722f58d008ead016f46fc8ae459fcb1db","2006-07-15 20:32:54+00:00","Little cleanup.

svn-id: r23512
"
"ea0e3a806c4de7fc30cd5f5324bf339e01ca9e80","2006-07-15 20:37:32+00:00","Get rid of some asserts and adds error messages instead.

svn-id: r23513
"
"1ad8d3ee6eb06d75b7509c3695f3e9f3de4a6f3a","2006-07-15 20:46:27+00:00","Adds filesize check for kyra.dat, this forces to upgrade always to the newest version though.

svn-id: r23514
"
"1a31d7da7ef04998e996b1e61d5f98725ffd0d2b","2006-07-15 21:22:07+00:00","Should fix loading of pakfiles.

svn-id: r23516
"
"d7dafdd8db63647287ba17e34812c8f4cbddbbcc","2006-07-15 21:22:42+00:00","Fix building with msvc8.

svn-id: r23517
"
"59d0ddf806773501595a4e29ec31ea229e84b132","2006-07-15 21:23:08+00:00","Fix building with msvc8.

svn-id: r23518
"
"b09b9b216ef298e39059181e3237cbba9979f03a","2006-07-15 21:24:05+00:00","Updates msvc8 project files.

svn-id: r23519
"
"db58d3477b7b79774bc1fba3e19cec4080548978","2006-07-15 21:27:29+00:00","Should fix shadowing warnings with gcc.

svn-id: r23520
"
"68c150df3cb9b46f8505156be9a6b2663774dd60","2006-07-15 22:04:42+00:00","This is more consistent with how we usually initialize arrays of structs, and
seems to still keep msvc8 happy.

svn-id: r23521
"
"700953cff7b1615b5cc1b36d9db4bdf8b14d2d2d","2006-07-15 22:22:39+00:00","Oops. I just noticed I was using _black to track the white colour, and _white
to track the black colour.

svn-id: r23522
"
"c7babbea99d100fe534bacf3f05a94c18be567e6","2006-07-15 22:42:28+00:00","Close the current text object when the movie is ended, to avoid potential
memory leak, and be a bit more robust about handling text objects in the dummy
player.

svn-id: r23523
"
"961e56c6364eef6b405b4cfd97869a83740b5c7e","2006-07-15 23:18:11+00:00","Fixed regression: Test if there's a text object to close before closing it.

svn-id: r23524
"
"6c0edab41ed8177ac39b062c134d9772d4af554b","2006-07-15 23:44:44+00:00","Some cleanups and restructuring. The clearScreen() function has been renamed
clearFrame(), and is only responsible for clearing the frame buffer. Frame
syncing and frame drawing are now separate from each other.

svn-id: r23525
"
"993cc4bd66564d38828fb3643287389fc978fe24","2006-07-16 02:39:22+00:00","Copy protection was disabled in the Monkey Island 1 release included with LucasArts Mac CD Game Pack II

svn-id: r23526
"
"167a1e5912f688501a2f611b1b5f06d2be6b164a","2006-07-16 08:32:23+00:00","Fix FileSystem bug. Now 'Go Up' button works. :)

svn-id: r23527
"
"d5e45271d131417f6cfe943e3e88e7890d6f5a2c","2006-07-16 08:40:28+00:00","Add additional library directories.

svn-id: r23530
"
"73869dca9f91d26b0c01d1835e63c3703a9f4203","2006-07-16 19:44:39+00:00","- don't error on CHAPTER1.VRM miss anymore
- nicer error messages when no font files are found
- implements nicer way to load fonts

svn-id: r23531
"
"317d1a18315231fb8e2e46697fc6bd031de0b724","2006-07-19 17:07:00+00:00","Test commit

svn-id: r23536
"
"efd9b1c3dd34541be31c05d5bdd0fdbe4a0c4ad5","2006-07-19 17:09:26+00:00","Test commit 2

svn-id: r23537
"
"c3bd80ef8143a3e3fa4b0d598d8031c9bca3b374","2006-07-20 17:59:13+00:00","Test commit 3

svn-id: r23539
"
"70b0656d899cfaa59b4998f6070542468ac70f38","2006-07-20 18:08:48+00:00","Test commit 4

svn-id: r23540
"
"29f99a029ed0fd6dbe9a60cc5307d9a22ed56d6c","2006-07-20 21:41:59+00:00","Using path instead of displayName.

svn-id: r23541
"
"ef42b9962d312a3f5da7f4e3a907a4cbecb620d4","2006-07-21 10:59:55+00:00","Spelling and formatting

svn-id: r23542
"
"17f8c7067a6e95cd54151f6a34e88ef3f2d693a8","2006-07-21 11:04:21+00:00","Removing redundant paranthesis

svn-id: r23543
"
"348e34c685b2c1c00e1d0a18f145ca4a075069ee","2006-07-21 21:16:28+00:00","Patch #1525407: TeX typos

svn-id: r23546
"
"f59cf1fcdc88959d87072205a41f542c12e73e37","2006-07-21 21:25:17+00:00","Removing GCC_PACK, we fully rely on START_PACK_STRUCTS / END_PACK_STRUCTS now (hiya eriktorbjorn, this one is for you *ggg*)

svn-id: r23547
"
"e027e7591fb858f60770c45f3ebcefce3870abed","2006-07-21 21:46:19+00:00","o Proper ScummVM copyrights
o Apparently because some patch was applied twice, many header files had
their contents doubled. Fixing this as well.

svn-id: r23548
"
"eb23d7b9a091cbdccb3ef48573874a0389fce5bc","2006-07-22 00:44:56+00:00","Changing usage of FSNode::displayName to FSNode::path

svn-id: r23549
"
"8242e6966d45c20316887b9c7f4691ad4d65fc03","2006-07-22 09:05:13+00:00","Cleanup.

svn-id: r23551
"
"42cebc00dcb5c274c96f69bb2658906d1ce269ec","2006-07-22 10:56:11+00:00","Speed increase for DS port - uses cache ram to store SIN_TABLE.  Other versions are unaffected.

svn-id: r23552
"
"6ed00cd055abcc98b8ad5d4e2ac6396852ec9c95","2006-07-22 14:14:16+00:00","Added FilesystemNode::name method

svn-id: r23553
"
"7caf96af6f60907c5b4870bf92d4532a4818ba0b","2006-07-22 14:28:39+00:00","Changes usage of FilesystemNode::name to FilesystemNode::displayName in the detector code.

svn-id: r23554
"
"ca366849eb47828674fdafe422cebc85e8bc49d9","2006-07-22 14:36:09+00:00","Using FilesystemNode::name instead of FilesystemNode::displayName in the Gobliiins detector code too.

svn-id: r23555
"
"412db86dcfc3b29f436ae358c6dd2613ad6b9927","2006-07-22 14:37:52+00:00","Using FilesystemNode::name instead of FilesystemNode::displayName in the sword1 detector code too.

svn-id: r23556
"
"e5934c8f2158db82fb33ef8000c7eb94728214be","2006-07-22 14:39:54+00:00","Using FilesystemNode::name instead of FilesystemNode::displayName in the sword2 detector code too.

svn-id: r23557
"
"cfd9977425d877870e0c8e800807c5eceea629e6","2006-07-22 14:50:50+00:00","Using FilesystemNode::name instead of FilesystemNode::displayName in all game detectors.

svn-id: r23558
"
"4ae5cef4913ff8b581acd5902e2912352133fb35","2006-07-22 14:59:44+00:00","- let md5_file accept a FilesystemNode too
- changes some engine detectors to use it

svn-id: r23559
"
"3f817264378f72a7c04ff570a91f7aac3ba67837","2006-07-22 15:05:59+00:00","Return false for directories on md5_file with a FSNode as param.

svn-id: r23560
"
"e3ab20ee90cfe1c823a01a545cc0944433e4ad7a","2006-07-22 15:16:28+00:00","Fixed DO_OPTION_OPT so that the '=' is no longer required in long options. (The
value is, as the name implies, optional.) This fixes bug #1526483.

svn-id: r23561
"
"8116b6aab3fca7ee19025be6ec1af6e8f3777df0","2006-07-22 15:21:40+00:00","Using FilesystemNode::name instead of FilesystemNode::displayName in the fileclass too, then again this doesn't *have* to work. (check FilesystemNode documentation)

svn-id: r23562
"
"98809a857acdaf219953f45398c6ea5f970658fd","2006-07-22 15:46:36+00:00","Removing '/' at pathsnames of calls to 'File::addDefaultDirectory' since it can't be assumed that the FS code uses '/' as path separators
(and it shouldn't break anything)

svn-id: r23563
"
"16de659f597ae8985ecbca6a01cba18b0132d069","2006-07-22 16:09:34+00:00","Fixing compiler warnings under amd64.

svn-id: r23564
"
"d272f6c4835457ac785ebd5495ccbb4abace02bf","2006-07-22 16:19:00+00:00","Hardcoding header size of the Thumbnail and of the Info section of scumm games.
(because packed struct handling changed and gcc seems not to be happy with it)
This should unbreak new save games made after this commit.

svn-id: r23565
"
"c59e7ece0a825a75ab639edff3081465ef6b94fc","2006-07-22 17:00:36+00:00","Part of the FreeMiNT patch

svn-id: r23566
"
"63aec29edb3e6065e5b167058247fa4cc39adef7","2006-07-22 17:01:50+00:00","Added isValid to FilesystemNode and AbstractFilesystemNode. See my mail to -devel for more information.

svn-id: r23567
"
"1ffd49604357ed6fd63e133369a89e3b57711ae2","2006-07-22 17:06:14+00:00","Added some warnings if md5_file is used on an illegal FilesystemNode.

svn-id: r23568
"
"2859b647026af1a927d1a74100f125bbc0f77db3","2006-07-22 17:28:48+00:00","Fix struct packing issues (macros are not resolve in #pragma params, at least for GCC)

svn-id: r23569
"
"b4af5bc33122903a6b7a86abe8ec9bcb2efa8cfb","2006-07-22 18:39:41+00:00","Adding unit test for struct packing

svn-id: r23570
"
"9ab0c1d9152f29d439b5ef84f6bf93a783dd711f","2006-07-22 21:23:49+00:00","Clear the active domain when (re)opening the launcher dialog. This fixes bug
#1523050.

svn-id: r23571
"
"a68f7100cef07e096a592307e1eebd17e061de11","2006-07-23 02:20:49+00:00","No need for packing SaveInfoSection and ThumbnailHeader anymore.

svn-id: r23572
"
"15f08bf2687977feac84343e65a091bd30f9367e","2006-07-23 06:50:49+00:00","Warn if copyRectToScreen() is called before _screen is created, since it's
almost certainly a programming error. (Used to be silently ignored.)

Warn if setPalette() is called before _screen is created, but allow it (for
now) since we don't actually set the palette until later. It could still be a
programming error, though.

Don't crash if updateScreen() is called with a 'dirty' palette before _screen
is created.

svn-id: r23573
"
"b845eb9b996a3d83208a02da5f25eaf8103fa665","2006-07-23 07:06:26+00:00","Initialise the screen before creating the music driver. The MT-32 driver wants
to draw to the screen.

svn-id: r23574
"
"5cb880269950844d041ab22ad1ed009a75acfb67","2006-07-23 07:18:37+00:00","The GUI now uses the cursor palette for all themes. Therefore, it shouldn't be
necessary to set up a 'dummy' palette for the cursor any more. If an engine
wants to display an error message without using the GUI, it can set up its own
palette.

With this change, ScummVM no longer sets a palette before _screen is created in
the SDL backend.

svn-id: r23575
"
"1ec5d56780078416c49479341103939e6a6bba41","2006-07-23 09:36:34+00:00","Add kyra skip intro key (backport).

svn-id: r23577
"
"9780117a771c24fcd0e018c8276d1a0fb8d3538c","2006-07-23 13:08:22+00:00","Initial commit of tool to create lure.dat file

svn-id: r23578
"
"6585033705fc2e4ab2219389ac20b14c1ff02d9d","2006-07-23 13:19:33+00:00","Added extra hotspot flags bytes needed for asking Ratpouch for an object, and changed differing word read macros to use a single standard

svn-id: r23579
"
"602548cea32612c791ba1951e21f0bdc87ae616d","2006-07-23 15:01:21+00:00","Removed GCC_PACK that must have been re-added by accident.

svn-id: r23581
"
"4fcdbb93497d30de4c0fc606b3bbddeabdbb4746","2006-07-23 15:08:48+00:00","String class usage cleanup

svn-id: r23582
"
"6050989bd89493cd8f8d484333552b8b8f8581c5","2006-07-23 15:16:50+00:00","Changed SAGA_ACTOR_H__ to SAGA_ACTOR_H etc for consistency.

svn-id: r23583
"
"eabe720a0e79d902d862995816abf9550fc6295f","2006-07-23 15:32:14+00:00","Changed __lure_res_h__ to LURE_RES_H etc for consistency.

svn-id: r23584
"
"c32076e5d0679cefa2fdb2d191e7caf37f79ffdf","2006-07-23 16:13:26+00:00","Use #include '...' instead of #include <...> for pack-start.h and pack-end.h
for consistency with other #includes.

svn-id: r23585
"
"100b8098360862fc00885d3de9a2ad24ae3c9d20","2006-07-24 10:52:14+00:00","Fix bug #1527630 - ZAK FM-TOWNS: Actor (Caponian) picks wrong line

svn-id: r23586
"
"f464830a1779e327fbcc98a36400563ca28815fd","2006-07-24 12:10:32+00:00","Documenting Common::File a bit.

svn-id: r23588
"
"7fe844cac62a7513fced5a3679b79eb7bf7b6a73","2006-07-24 12:49:58+00:00","Fix bug #1496523 - MM: Weird Ed appears backwards at door

svn-id: r23589
"
"bb5280bb2f143d195d77675fa774e509ebed8179","2006-07-25 03:46:56+00:00","Check uppercase and lowercase, when confirming quit in Simon the Sorcerer 1/2

svn-id: r23591
"
"37d050e9da0ef9adb2de6c906e665ccda03c838b","2006-07-25 15:11:42+00:00","Add support for looping the kyra3 main menu.

svn-id: r23593
"
"5ccb436cad9682bdaa86a41299c5ec7e2b0b0a02","2006-07-26 05:27:34+00:00","Nicer quit handling in the intro sequences.

svn-id: r23594
"
"d2befe0c6f808777622c520940af64db34c5245d","2006-07-26 05:33:48+00:00","Skips scroll down sequence then the user wishes to skip the intro.

svn-id: r23596
"
"ec6a9b0071b859bb9ae5fc75f1cba932b8f1e5e4","2006-07-26 06:36:58+00:00","Removed unnecessary #include

svn-id: r23598
"
"c11a5c939d45ae6889f7a67bc515c0cda93ca643","2006-07-26 17:25:14+00:00","fix bug 1521718 (dpad mouse emulation) (backport)

svn-id: r23600
"
"fcb7fe3e630b502c78011cb56ff70b0570af0cb6","2006-07-26 20:09:12+00:00","hotfix for bug #1519449 (scaling/crash issue) (backport)

svn-id: r23602
"
"e9f13232210a74ae05488beec43f87d7b5e27eb5","2006-07-26 20:30:57+00:00","End the Kyra 3 menu screen if _quitFlag is set.

svn-id: r23603
"
"eb7cda50aa5db1561d3285410e20408f2cd5b097","2006-07-26 20:39:27+00:00","Fade out the music when using the Kyra 3 menu to exit. (The original does, and
it might make a useful test case for the fade-out code.)

svn-id: r23604
"
"bcc892ec81a5af68874f89135e2f5659271649e2","2006-07-26 22:24:33+00:00","Make the midi player threadsafe (this should fix bug #1506583 'KYRA1: Crash on exceeded polyphony').

svn-id: r23605
"
"d9e5134919141fe50ab97399f6951b8d3fc8950c","2006-07-27 00:09:13+00:00","Workaround for bug #1498221 ('KYRA1: Glitches when meeting Zanthia').

svn-id: r23608
"
"8a0ec2a3e5f042e38964f20a82429f2e74936eca","2006-07-27 18:29:14+00:00","- moving KyraEngine_v3 declaration to newly added kyra3.h
- implements a little bit init stuff
- implements some music handling

svn-id: r23610
"
"ee5621137fa3a0f668738159450b03fea68a93e3","2006-07-27 20:30:51+00:00","- renaming all opcodes from cmd_* to c1_*
- changing ScriptHelper functions so it will be useable for kyra2 and kyra3 too
- unbreaking savegames (increasing the VERSION number since the game flags table got resized to be useable for kyra3)

svn-id: r23612
"
"a69ac7717d66e00d373465235dce6cf834c78591","2006-07-27 20:39:52+00:00","Oops it should never be renamed to c1_* but to o1_* changing this now.

svn-id: r23613
"
"3c4b13ed33a928352634c4785fa92a5df10ff378","2006-07-28 11:42:53+00:00","Moves the kyra2 code to kyra2.cpp and kyra2.h, renames WSAMovieV3 to WSAMovie2 (kyra2 uses the same format), renames a define in kyra3.h for consistency, and adds a case for CMDS in the VQA player to avoid the constant warning (the tag is always present and empty). Credit/blame for the last one goes to Clemmy :). Starting kyra2 will now show the title animation.

svn-id: r23614
"
"b17c895ea9527c38650e4687cef800e495ee3269","2006-07-28 17:35:04+00:00","Updating msvc8 project files.

svn-id: r23615
"
"f8d4994dc248e44cd762d25adfbb8e8b9b3cbd93","2006-07-28 17:42:33+00:00","Little cleanup.

svn-id: r23616
"
"f51fc44e66e42c1659fcbf892f39a96625f87b17","2006-07-29 05:59:44+00:00","Added _quitFlag test to Kyra 2 animation and to waitForEvent().

svn-id: r23617
"
"29b64b4aab3ad1852e81d85b5d49a1d262ecf48e","2006-07-29 20:20:01+00:00","Small fix for the symbian port

svn-id: r23618
"
"1d52f836dc8eadcff83abee0dbe0fd9c985467a9","2006-07-29 23:42:27+00:00","Some formatting 'fixes'

svn-id: r23619
"
"43fbc9eb816417134fb775631a67c9cd61226a38","2006-07-29 23:44:09+00:00","Adding comment about forced MQ on small devices.

svn-id: r23620
"
"8d453f22670126c72e61c49e2187d3b01bd5baa4","2006-07-29 23:51:43+00:00","Another little formatting and a typo fix.

svn-id: r23621
"
"92649de672d2dd0a03114b81cb4d475ba499519b","2006-07-30 07:51:11+00:00","- fixes copyright of kyra3.h
- implements a bit more init functions for kyra3
- removes hacked mouse cursor
- changes Resource::fileData to accept a null pointer for size

svn-id: r23622
"
"6cc1a57d3bf11f84b78bdb0e72b5e6036a19be50","2006-07-30 08:22:39+00:00","- fixes bug in fileData (introduced with last commit)
- show mouse cursor in Screen::setMouseCursor if it's allready shown
- a little bit more kyra3 init stuff

svn-id: r23623
"
"c1a24c9cdb270b6b65c2618d51abdc6dca3bc6c4","2006-07-30 09:03:10+00:00","CinE Engine support (backport)

svn-id: r23625
"
"066aa14f977842478c923e5213a06c9815e86ebe","2006-07-30 09:10:54+00:00","It's play(), not open(), that encounters the CMDS tag. At least in the intro
movie, which is the only one we currently play.

svn-id: r23626
"
"b3a66e817f33fcc61253108d9ade6be1c8c2eff4","2006-07-30 10:48:44+00:00","Rename BaseNodeFunc to BaseNodeType

svn-id: r23627
"
"2b4518d8a9a472ac7a6439e85c0ac723d94b91d5","2006-07-30 12:09:51+00:00","Added a field value for the current hotspot header flags mask byte

svn-id: r23628
"
"906f36a3237efba519c5fdf2110fee94e7d2e94f","2006-07-30 12:10:44+00:00","Added script method for changing the current hotspot header flags mask byte

svn-id: r23629
"
"6fa9819377b2f71ea1e7594f5b028b7577df7b70","2006-07-30 12:12:18+00:00","Added constants for known hotspot flags, and added line to flag hotspots that have been highlighted with the cursor

svn-id: r23630
"
"0849e46541895e9f7e4fe597f2dd3dcf931ef479","2006-07-30 12:13:26+00:00","Added a popup menu method for listing the items presented in response to an ASK action

svn-id: r23631
"
"1f8066c333e24d0abc3c552b8ef517109058dff6","2006-07-30 12:15:52+00:00","Added proper item selection handling for the ASK action

svn-id: r23632
"
"bd49091afd55cf2663095a1882bab34496ef01f0","2006-07-30 12:17:51+00:00","Added new equals(IgnoreCase) and compareTo(IgnoreCase) methods to class String

svn-id: r23633
"
"53f73eac8569010ccddfeebeddcdb2619b2616aa","2006-07-30 12:21:54+00:00","Added explicit string equals/hash functors to a new header common/hash-str.h; removed Hash functor specialization for String and char pointers; changed all code using hashmaps with string keys to explicitly specify whether they honor or ignore case

svn-id: r23634
"
"8b38f65d1aa2a2e2f50497e47eb6206e3b349b88","2006-07-30 13:06:32+00:00","Add Pajama Sam 3 and Spy FOX 2 mini games

svn-id: r23635
"
"3846565058a62e4636cf9b03f4adb1f4c7f8e5da","2006-07-30 14:53:28+00:00","Implements item shape loading for kyra3.

svn-id: r23637
"
"64c6399bd74d9a0bd1668b6d34a949f8660d350f","2006-07-30 15:05:36+00:00","removing never used buffer.

svn-id: r23638
"
"9918eaa6b9af3ec2d24bf35d5e7ee6cb430e7afe","2006-07-31 00:32:39+00:00","Update details for other HE mini games

svn-id: r23639
"
"a0599ab773e8f324f90baa080c05ce05a7728406","2006-07-31 10:57:19+00:00","Cleaned up some comments

svn-id: r23641
"
"155f65815e97798f134292f6f88c8b9524ba0657","2006-07-31 12:53:15+00:00","Fix bug #1528535 - ZAK FM-TOWNS: Wrong stripe in background.

svn-id: r23642
"
"a1bb64e24b3fdcd8983a479fe9b6c0d88f650e30","2006-07-31 13:37:47+00:00","Const correctness

svn-id: r23644
"
"4a80db4c7b75ca58b7a2c02a740e0ed7e19c52f4","2006-07-31 13:41:21+00:00","* Added copyright string to all engine plugins
* Modified about dialog to list all available plugins with their resp. copyright
* Modified about dialog credits to show the GPL last (like movie end credits do with their legal text, too)

svn-id: r23645
"
"ff10c827fdc153346809b1baba62c94a35f4f467","2006-07-31 14:48:58+00:00","Fix bug #1528856 - ZAK FM-TOWNS: Wrong Screen-Start position in jungle.

svn-id: r23646
"
"01b3a0b56836427cafe7707ae9e8a7189144d717","2006-07-31 16:37:34+00:00","Yet more kyra3 init code.

svn-id: r23648
"
"ec8f1b092dffaee25e4396e1edc1632c63bc3572","2006-07-31 23:05:01+00:00","Committing patch '[ 1531177 ] Kyra2 mock-up' by eriktorbjorn, with the addition of playing the music tracks as well (Only MIDI works for now though)

svn-id: r23649
"
"c32c7e00c4e1d8688a4aa548d41c623acdb8ba3d","2006-08-01 03:29:32+00:00","Don't set the MIDI volume to 255 at the end of a fade-out. At least on my
hardware, that causes an annoying spike in the volume. We already reset the
volume to 255 at the beginning of a new track anyway, as far as I can tell.

svn-id: r23650
"
"afe26b5ea5cb35c68da4db510a134df47a81814b","2006-08-01 07:44:38+00:00","Until the native Kyra 2 Adlib music is supported, enable the automagic MIDI-to-
Adlib converter.

svn-id: r23651
"
"56c59d1da660f57d682579dd9e14bea2da6b0c76","2006-08-01 10:25:10+00:00","Don't start the Kyra 2 menu music until the first frame has faded up, to better
match the original behaviour.

svn-id: r23652
"
"7d53480025b1c314327a523ddb261fb20fe96157","2006-08-01 13:42:33+00:00","Kyra 2 has two types of XMIDI files: XMI and C55. It seems C55 are for the
General MIDI instrument set, so use them unless we're in MT-32 mode. This makes
the music sound a bit closer (at least to me) to what DOSbox plays.

svn-id: r23653
"
"1e9e65d5bcd1f278bb1e52156aa69f82558f7582","2006-08-01 14:05:18+00:00","Whitespace.

svn-id: r23654
"
"15f9a3ce33883b6b48a18d74ffaf77e9d0cbf2d5","2006-08-01 14:10:46+00:00","Some more whitespace changes.

svn-id: r23655
"
"6a40e7f789403ff1a679c1770aa560a914747c3b","2006-08-03 11:12:05+00:00","This is a grossly over-simplified, yet hopefully sufficient for Kyrandia, way
of handling XMIDI loops. If anyone feels like doing it properly in
midiparser_xmidi.cpp, the Exult project probably has one of the better
reference implementations. For now, though, I don't see any real need to, and
this change is clearly flagged as a hack.

svn-id: r23656
"
"e0cd675a47da7cab42fefb26c29a2315893a37e6","2006-08-03 11:13:06+00:00","Since the XMIDI music no longer automatically loops, there's no need to fade it
out just as it's reaching its most dramatic point.

svn-id: r23657
"
"d304e7b4766f2c3321493c046283eb8b7d018a77","2006-08-03 12:20:28+00:00","Add a logo.bmp to DS port, to fix building. agentq, feel free to replace if the filesize is too big or whatever :)

svn-id: r23658
"
"44dd6a386e9342e4088125fef680b1232da35692","2006-08-03 13:11:16+00:00","Committed my own patch #1533833 (minus one line that was left over from an
earlier experimental version) after discussing it with LordHoto. This works
around a bug in the 'Pool of Sorrow' Adlib data which caused the channels to
drift more and more out of sync for each time the music looped. The patch
forces the channels involved to jump in sync. As with all such workarounds, it
may cause regressions. But it shouldn't.

svn-id: r23659
"
"af3241f70035db44a7510d4558a52bd7e1e92722","2006-08-04 09:46:40+00:00","Run the Cine engine's game detector before starting a game, to ensure that it
really is there. I hope this is the right way of fixing bug #1534073.

svn-id: r23660
"
"ca7880df6cbbb7fbc5bf58230f2f6255b0289b37","2006-08-04 13:10:28+00:00","Added new method OSystem::getScreenChangeID(), which can be used by code to track screen changes even without getting all EVENT_SCREEN_CHANGED events

svn-id: r23661
"
"1a10cacfb900c822ef5a53f455af7874675d37c5","2006-08-04 13:55:53+00:00","Renamed handleScreenChanged() -> reflowLayout() in the GUI code

svn-id: r23662
"
"0485f76c8d3e4220dd7977eac829bd85525f2da3","2006-08-04 15:48:37+00:00","Changed GUI code to do 'lazy'/'just-in-time' reflowing, so that client code doesn't have to forward EVENT_SCREEN_CHANGED to us (this may initially cause some regressions, please report any induced crashes or oddities you observe to me)

svn-id: r23663
"
"71be08d8690efad589d6214606054250f6e57fee","2006-08-04 17:33:17+00:00","Patch #1527347: Make maemo port compile again

svn-id: r23664
"
"d74bc3fe3ab58b3270bfb246c87bc309a33eb897","2006-08-04 17:34:23+00:00","Patch #1531027: Updated MSVC7.1 (.NET 2003) project files

svn-id: r23665
"
"4ee581adb5f732c9d1af3d362210b9bd00ecc034","2006-08-04 17:47:57+00:00","Fixed some broken #include's (the PS2 and Symbian may need more fixed, though)

svn-id: r23666
"
"0b50c4966cf1b378164a9df929820a69708c8531","2006-08-04 17:59:53+00:00","Activate _dimsInactive for ValueDisplayDialog, makes the text speed/volume change etc. mini-dialogs behave a little bit less weird (TODO: Disable cursor change)

svn-id: r23667
"
"40835e42b931c96c3889448fed4f5cdd4d6704a2","2006-08-04 18:01:43+00:00","There is no need anymore to report EVENT_SCREEN_CHANGED changes to the GUI code

svn-id: r23668
"
"aab45bac44554e0b91c4ca7193e90cbfa1a8b619","2006-08-04 18:11:00+00:00","Only refresh the theme & reflow all dialogs if the screen settings actually changed

svn-id: r23669
"
"0caaf3fc2c0eff9d54b9dead846665e559135219","2006-08-04 18:58:10+00:00","Patch #1522592: Bugfix [1498158] SIMON: Itemheap overflow on 64bit systems

svn-id: r23670
"
"355a978572f1969377778ba14ab0396d229f1f8f","2006-08-04 20:24:49+00:00","Disabled '-O -Wuninitialized by default; this eases debugging a lot in some cases, at the cost of a nice-but-not-so-often-needed compiler warning (see also patch #1511980)

svn-id: r23675
"
"3a88d7a752421fd81710fd3dc29cd30f7c5f1ecb","2006-08-04 20:27:48+00:00","Added -Wuninitialized to --enable-release (best used in combination with --enable-Werror :-)

svn-id: r23676
"
"ae79aa30176a4bc15b6c11588bfcde79f1502490","2006-08-04 20:34:43+00:00","Modified version of the rest of patch #1497254: Patch to add support for the Atari ST/FreeMiNT Platform

svn-id: r23677
"
"ea3572b68407245caf49029aadcb8acd8e325544","2006-08-04 22:46:06+00:00","Simplify configure code a bit, making it easier to add stuff to config.mk

svn-id: r23678
"
"ccd1f488955579e8ee430c3e9b62fbec36eb396c","2006-08-04 22:59:49+00:00","Fix bug in Fluidsynth configure code

svn-id: r23679
"
"ec3b351133c59c49085a4fa0279e6d2e84977647","2006-08-05 09:04:49+00:00","Added missing agi.vcproj file

svn-id: r23680
"
"ce79bfdf598d0aef376ffa650731e17b82664683","2006-08-05 10:51:15+00:00","Since we link against libvorbisfile, we should check for its presence, too

svn-id: r23681
"
"a27f905eeaf569b76733006e2261bd5d5247fa25","2006-08-06 05:38:19+00:00","Fix bug #1535261  FF:Dock Crash - decompressData error

svn-id: r23684
"
"9f74320aef2ea3d829e569c1c5e8c49b5a9d4d34","2006-08-06 09:18:38+00:00","Reduced MD5 checking to 1Kb, and recalculated MD5 strings

svn-id: r23686
"
"bdff0ae58a025ba31f06da1ab660cc15e5ea1834","2006-08-07 13:09:27+00:00","Removed stripping of high two bits of hotspot name and desc field string Ids

svn-id: r23687
"
"ba32b916889f59045d796eec962081acc3f03250","2006-08-07 13:13:20+00:00","Fixed signature of GetString method - it is a destination character passed, not the current action. Also added a new method to return a decoded string with the correct definite article prefix (a/an/the)

svn-id: r23689
"
"e911afb525e22f0b9bf485f0404a7239e2d9d905","2006-08-07 13:16:07+00:00","Dialog::showMessage transferred over to the Hotspot class. Also enhanced TalkDialog to handle being passed a destination character and active item

svn-id: r23690
"
"c0e600e0fad450dd0b615a33f24b48f10cf32ea3","2006-08-07 13:19:10+00:00","Fixed displayMessage script method to use the new Hotspot::showMessage

svn-id: r23691
"
"1a77d61acee07a637f41e728214d64187dbe74eb","2006-08-07 13:21:15+00:00","Enhanced Room::setTalkDialog to be passed the destination character and active item hotspot Id

svn-id: r23692
"
"9af1acc9017da5455b2f23e7572dec494ef3b5dd","2006-08-07 13:23:30+00:00","Fixed item overwriting destination character in ASK action

svn-id: r23693
"
"b1dbf7328fc00a5e3d4f092d7351c9d0e2bdcf63","2006-08-07 13:24:45+00:00","Reworked the talk dialog system to properly handle destination character and active item Id. Also completed ASK action handler

svn-id: r23694
"
"ea90eb0699f842adab48e6b479b9f0ef8d8c7e54","2006-08-07 13:26:30+00:00","Renamed hotspot talking destination character field to make it's use clearer

svn-id: r23695
"
"d80d6157b636a320d338b91f09c372a59e8f0592","2006-08-07 13:27:28+00:00","Incremented required data file version

svn-id: r23696
"
"389c7a403c42724ecd53493aa037829c3e46e1a0","2006-08-07 13:28:19+00:00","changed references to StringData::getString to use two parameter version rather than passing NULL values

svn-id: r23697
"
"eee50637b8b8e93c38b4138b0b01c72dfa5ca412","2006-08-08 21:34:19+00:00","Little Common::String usage 'fix'.

svn-id: r23698
"
"de9ba3adeec3a89a1155685d8e3fc589962f1d11","2006-08-08 21:35:15+00:00","Updates msvc8 project files.

svn-id: r23699
"
"1c4715b71f79acede6b3758cfd16881bad14e23e","2006-08-12 09:16:08+00:00","- Some more goblins-handling functions
- Fixed some mistakes I made in the Parse_v2 functions. Now the goblins
(finally) move. Also, the correct music is played in the first screen.
- Found the hook for the menu
- On freeing a sound slot, only stop the playing music if it's in the
slot to free

svn-id: r23700
"
"6ee511e68b2f66ebb2bb63a6492073a2ed120947","2006-08-12 12:35:18+00:00","Added another field to the GameSettings for the intro.tot, because the Gobliins 2 demo uses usa.tot
instead

svn-id: r23701
"
"a8c64ffb4a582fe3d80d1390445c7af5513feb9a","2006-08-12 13:38:33+00:00","Ooops, free the allocated _startTot/_startTot0, too...

svn-id: r23702
"
"8d72b8e415faa176213598ade300b5148209fc98","2006-08-12 13:40:16+00:00","Ooops again, use the correct delete...

svn-id: r23703
"
"e9b9aa65a67fde46a6c2301d7ddb76ea4bb19acf","2006-08-12 16:42:19+00:00","Whitespace.

svn-id: r23704
"
"b4311d15cadb4ed35980065a46f52b2cb63d28f6","2006-08-12 17:24:49+00:00","The ListWidget constructor already did most of what reflowLayout() does, except
calling Widget::reflowLayout(). I've simplified that by calling reflowLayout()
directly instead. This may be a bit of a hack, but it was the best way I could
think of to ensure that _entriesPerPage was properly initialised. It wasn't
before, because _h had not been initialised, causing Valgrind to complain.

svn-id: r23705
"
"4476ed5294e011e4e5eea08117791c3990519211","2006-08-13 06:32:16+00:00","Made FF use the same max length for every line when word-wrapping subtitles,
rather than using the length of the previous line. This fixes bug #1536401.

svn-id: r23706
"
"7d0435f23ce7cc19e007ff77b8dfb4bd0554c386","2006-08-15 18:04:01+00:00","- adding LPGL headers to adlib sound specific files
- stating about dual license of adlib sound specific files

svn-id: r23708
"
"c870d057a410d6648559ae2261a99ddf5d37b37d","2006-08-15 19:54:41+00:00","Change Brazilian Portuguese acronym from 'pt' to 'br' in case there will
be pure Portuguese games and to make use of brazilian flag. No detection stuff
is dependent on this, though BASS and Sword1 make use of it. However no
autoupgrade option is implemented, should it be?

svn-id: r23710
"
"375da47dc0a2018f0b82d3919e7ab9a68080fd05","2006-08-15 19:59:29+00:00","Add PT_BRA FT MD5 as reported in bugreport #1539740

svn-id: r23711
"
"7f3ac3f02573c93cdeec8d87775a61b1d043df0a","2006-08-15 21:19:09+00:00","Limit md5 computations to first 5000 bytes in gob engine.

svn-id: r23713
"
"998d2fe96ac969271dbe67abf8b1120efbcc7c85","2006-08-16 20:01:58+00:00","Apply patch #1534805 ('BASS: Linc font too wide in version 303')

svn-id: r23714
"
"b437f343a867161f987ef996af1e3b4efd8fdb53","2006-08-16 20:07:33+00:00","mention BASS v0.0303 LINC spacing fix

svn-id: r23717
"
"0f6d8ab269baa40320ff1cdb7ab5a52b224371c9","2006-08-16 20:52:43+00:00","Fixed pathfinding

svn-id: r23718
"
"31146e6c0a0900a17e8d5871068345c257212e9f","2006-08-18 21:00:41+00:00","fix smartphone cursor hiding when keyboard up, more logical zone function, got rid of higher sound thread priority by default. (backport)

svn-id: r23720
"
"6613b3cae246ac3f511ec1e11713b6256d95aefb","2006-08-18 21:14:28+00:00","fix bugs #1515389 and #1505868 (aka file::exists - dedicated to LordHoto) (backport)

svn-id: r23722
"
"d253442c42405f67bf61db60d9f5d490e12ff025","2006-08-18 21:55:11+00:00","slightly changed patch #1521412: Hardcoded path for theme files

svn-id: r23723
"
"5516fa3b80cd0d1b14ed933a5320f09d9a80e412","2006-08-19 11:10:19+00:00","Added build C target to support more engines.

svn-id: r23725
"
"5ce67a67e198f566ced39a1cdbf11b41dc850a3b","2006-08-19 11:11:18+00:00","Fixed bug causing crash during saving in Saga engine, changed audio to low quality.

svn-id: r23726
"
"e9be88c4446e2ad3412edb5bacf7d8ba62021c6a","2006-08-20 00:43:34+00:00","Rename VAR_MOUSEPRESENT to VAR_INPUTMODE and set the default input type to mouse mode. Fighting uses mouse mode by default in FOA now, just like the original game.

svn-id: r23727
"
"0616d4931a7114b7da292bc8323bf20d28737b93","2006-08-20 11:01:17+00:00","Updated credits with all current port builders.

svn-id: r23732
"
"2c0967e7bbceaba1bb248f6c07ed78e21795711b","2006-08-21 10:04:04+00:00","cleanup & check for sentence overflows

svn-id: r23736
"
"1e683e6124f2f0df749348b2f5a85689e974526d","2006-08-21 10:52:07+00:00","Yet another paranoia check

svn-id: r23737
"
"ceefad66349ffbd6a935af3d8ebfcf8d02772618","2006-08-21 13:02:47+00:00","Added workaround (and warnings to find corner cases) for bug #1535358

svn-id: r23738
"
"a69c0884de9195d5ae2d484900043f885fe8332e","2006-08-21 21:29:23+00:00","Added version string details for one version of loom and one version of monkeyega; some cleanup

svn-id: r23739
"
"d4d2146a0a24949816b04fb47e8828da22fb4ded","2006-08-23 04:26:01+00:00","Run the game detector before creating the engine. This is based entirely on a
recent change to the CINE engine (which in turn was based on some other engine,
I forget which), and should fix bug #1544796. Of course, given how primitive
the Broken Sword 2 detector is, it's easy to fool it. There isn't really any
need for it to be smart, though.

svn-id: r23741
"
"4f9576e033afe20b8de37cff761dd9b08286e63e","2006-08-23 21:13:11+00:00","The DXA player now bases subtitle position on screen size, rather than frame
size. This should help people who want to use the smaller, low-quality
cutscenes instead of the high-quality ones.

The MPEG player probably doesn't know this trick. Maybe later.

svn-id: r23742
"
"11f1123c0208a313d8078c966c75a0a5ec7e2924","2006-08-25 06:30:18+00:00","fix update rect when adjusting ratio (backport)

svn-id: r23744
"
"d12f257ffa3c5c4b35d2f3327cb5db697532afe9","2006-08-25 13:02:47+00:00","Correct platform for alternative Italian version of Simon the Sorcerer 1 (DOS CD)

svn-id: r23745
"
"cb062b128b74e0af882472513965e73cc7c2e861","2006-08-25 17:27:59+00:00","Add possibilitz to store file sizes in the MD5 table (for future use)

svn-id: r23746
"
"3bc38ba7b82079221d816d382d2a2ba1df3557f3","2006-08-25 17:52:45+00:00","Added some actual file sizes to the MD5 table

svn-id: r23747
"
"c7627bbb5cdb48cc0cec1d125f624343c9743f1c","2006-08-25 18:17:39+00:00","Added some MD5 contributer email addresses

svn-id: r23748
"
"a4ac594d21dd0f892be4b855f46b5d7a73a65f7a","2006-08-26 11:25:08+00:00","Fix bug #1544799 - SIMON: Engine creates launcher entry when failing to launch.

svn-id: r23749
"
"4de0c30ad1bdec5e37a4ebb5c3ea6ca5f07eff09","2006-08-26 11:33:15+00:00","Fix bug #1544801 - ITE: Engine creates launcher entry when failing to launch

svn-id: r23751
"
"ca387f158537dad55d11725247c8224678108e2f","2006-08-26 11:34:35+00:00","Added support for DXA cutscenes. Still needs a bit of cleanup, and the DCA
player does not support the (unreleased) multi-lingual cutscene pack, since I
don't have one to test with.

It needs to be cleaned up a bit, but the next step will be to clean up the MPEG
decoder first.

svn-id: r23753
"
"be794a6b845b4e6c9c893df58778af9c741510d9","2006-08-26 11:56:49+00:00","Fix bug #1544810 - AGI: Launching undefined target 'agi' shows a blank screen

svn-id: r23754
"
"96ec0d08ac6498f8d05996e048ae587b4bcb0c50","2006-08-26 12:15:43+00:00","Add the Dutch version of Freddi Fish 1 for Macintosh

svn-id: r23756
"
"cc3b4cdf9937f3d89bb058f9af652c1b371f7222","2006-08-26 12:29:00+00:00","Now that the cutscene handling in both BS1 and BS2 has been extended to play
DXA movies (the MPEG movies still work, of course), there is no longer any need
for the MPEG decoder to handle sound and frame syncing. That is now the
responsibility of the player, not the decoder.

The obvious next step, then, would be to put that in a new player class, and
have both BS1 and BS2 use that. Maybe FF as well.

svn-id: r23757
"
"830a309f1cff3e20d7640d10639aed34a7d83da5","2006-08-26 13:06:32+00:00","Added some more detecion file sizes (I have a simple script that collects them automatically from your file hierarchy and then modifies scumm-md5.txt, if anybody is interested)

svn-id: r23758
"
"e7f4eaa71703570b3c62cde20f97c5df826a0f41","2006-08-26 13:38:02+00:00","Added my simple shell script which I used to batch-update the MD5 table with size information

svn-id: r23759
"
"573bad5ff5524abac46865a49eac1457525b5d21","2006-08-26 13:44:06+00:00","Find more detect files, and use sed instead of perl

svn-id: r23760
"
"c28011aed5e6922d3693b070f3a7911916e65ee6","2006-08-26 15:11:51+00:00","Added some more detection file sizes, using Fingolfin's automagic script. I
should be able to find a couple of Mac versions as well, but I haven't unpacked
those boxes yet.

svn-id: r23761
"
"a698cdfcfc9edab963d66415e8ee8f4b28081914","2006-08-26 18:37:49+00:00","Catalog the PAK files by base name instead of full path name so we can properly unload them. The method may be slightly hackish, but I don't see how else to do it since we apparently support recursive PAK files so the File object can't be instantiated directly using the FilesystemNode. It's this, or add a function to File that gives us just the base name of the file.

svn-id: r23762
"
"69daf49a730b08fd5b9627a9ca803123426dfa69","2006-08-26 19:16:15+00:00","Don't strip the first character of the filename when FilesystemNode is instantiated with just the filename and no path.

svn-id: r23763
"
"11b7cfca101b4a05cd8a0d9b61c4ae4ba7e99eea","2006-08-26 20:05:49+00:00","Stop doing a screen rewrite on each mouse movement event, just schedule a redraw for later instead

svn-id: r23764
"
"89e75ae218c359e949c0336181e0f79eb2137667","2006-08-26 22:02:16+00:00","WORKAROUND for bug #1514457: INDY3: Crash in castle Brunwald (german version).

svn-id: r23765
"
"c47a957fb3dda1e8e43854b3919e4326c9fcba5a","2006-08-26 22:17:30+00:00","Adds some framework for the Kyra2 intro, expands it a little bit and adds some static resources (strings, etc). Also
adding a modified version of eriktorbjorn's '[1531929] KYRA: Kyra 2 & 3 main menu unification', with added mouse pointer and sundry.

svn-id: r23766
"
"3750fb7c5af99f8590891f8834016c16f8d68632","2006-08-27 01:14:31+00:00","Add details for Dutch versions of many HE games

svn-id: r23768
"
"b964c889ed96fede5137fb065ef607126ca1d90a","2006-08-27 01:42:49+00:00","Remove the use of AutoComputeDirtyRects feature of backends, due to it causing minor glitches

svn-id: r23770
"
"57bdecb4c6dc6f35a69120201e0b0f2654ac4c65","2006-08-27 05:02:48+00:00","Update error messages and always report an error if data file load fails

svn-id: r23772
"
"8ae050ff084e4acee056f94f1246ac13bcb012b8","2006-08-27 09:10:24+00:00","Renamed graphics/animation.[cpp|h] to graphics/mpeg_player.[cpp|h] to be more
consistent with dxa_player.[cpp|h]. (Though actually, 'decoder' might be more
accurate...)

svn-id: r23774
"
"72e01a3aa3b574d4f8d1ff973bf98a18b39781ab","2006-08-27 10:40:09+00:00","Forgot to close the DXA file.

svn-id: r23775
"
"385748abe077bbdf9f182ec73775625ef6603385","2006-08-27 10:43:38+00:00","Updated BS1 section.

svn-id: r23776
"
"0b1c1702a5255675b45448857e2530567963ebb5","2006-08-27 10:55:44+00:00","Renamed constant to reflect recent change of file name.

svn-id: r23777
"
"09bfa99b956fc434e3fa1ecfd86f8be2a9c9679c","2006-08-27 11:35:25+00:00","Added code for including room header flags and supported actions

svn-id: r23779
"
"488980d1b0074f6c4bfc7f16d2645f4583e67d44","2006-08-27 11:37:38+00:00","Added comments

svn-id: r23780
"
"f871f569e61187c1ea350d9324c1be582f3f613a","2006-08-27 11:38:55+00:00","Added data for room header flags and actions

svn-id: r23781
"
"a5c728275299c5fc3c6e284e5009bcd03902ce90","2006-08-27 11:40:33+00:00","Added missing initialiser for current talking character

svn-id: r23782
"
"af297a17a30cf396580988aed53a87cc84df0e4c","2006-08-27 11:43:09+00:00","Added support for rooms in the ShowItems method, and adding alphabetic sorting of entries in action selection

svn-id: r23783
"
"73b46369c14b7cb4000dbb48591ec3938a680a7d","2006-08-27 11:44:39+00:00","Made the Memory::dealloc take a void * to make it easier to free any memory block type

svn-id: r23784
"
"1b60992052fa18ee3fc98017b7b2e024da94b1b9","2006-08-27 11:45:52+00:00","Incremented version number

svn-id: r23785
"
"37b4f2039a1682c4b43cff9b56684fccbf85835d","2006-08-27 11:47:03+00:00","Added support for selecting a sequence of commands in response to the Tell action

svn-id: r23786
"
"2b06882a683d282a3b02f8ae408446c439612db3","2006-08-27 11:48:41+00:00","In progress work on tell command handling

svn-id: r23787
"
"7649160dde01b5d74335e198d43d22188d6b54c6","2006-08-27 11:57:30+00:00","Committed recent disassembly efforts

svn-id: r23788
"
"d11e72a168f68d33fce1c3f4ed0b10845c90b285","2006-08-27 12:30:38+00:00","Adds voice/chats to the intro, and adds debug strings to the function calls.

svn-id: r23789
"
"49d1056c300c6afb1591492f350a42563e3647be","2006-08-28 04:53:21+00:00","Only clear the part of the screen usually controlled by the Screen class. The
buffer might not be large enough to cover the menu areas, and they will
probably be clear already.

Only terminate the loop, not the entire function, when pressing Esc during a
cutscene. Otherwise, there may be palette glitches.

svn-id: r23790
"
"c7b4ca485c2454f164573e98f26014eb4de241bd","2006-08-28 09:27:30+00:00","Add Dutch version of Freddi Fish and Luther's Maze Madness

svn-id: r23791
"
"13ff1a4dff1fd1de77e199a1b0b9478d9e998fe6","2006-08-28 12:56:32+00:00","Update of the msvc8 project files.

svn-id: r23794
"
"d9cb390a7b33a80a39b1295a5920e3cd70c408b0","2006-08-28 13:17:36+00:00","Fixing the Windows FS code to not delete the first character of a node, if it is just with a filename created. (which is not working yet though, but still the first char shouldn't be skipped)

svn-id: r23795
"
"ac45e290f7550da70039c1d2051d7e6ed31cc7b7","2006-08-28 13:34:15+00:00","Fixing other FS backends to use the bug fixed version of the POSIX lastPathComponent too (also lets the Windows FS use the POSIX version of lastPathComponent too, since it's nicer than the fix I made)

svn-id: r23796
"
"d639ca97ce7c3820f08be7e24f224af351222c31","2006-08-28 13:39:44+00:00","Oops. some systems are using '\\' instead of '/' fixing that now...

svn-id: r23797
"
"f2004e88c451e81af7b9dfdbb04550015077ee01","2006-08-28 13:54:11+00:00","Removes a non exisitng file from the msvc8 project files.

svn-id: r23798
"
"7c99b54b4e275e376b60231087375cd260fa4cd0","2006-08-28 14:21:23+00:00","Removing an extra '!' in a warning message.

svn-id: r23799
"
"610547acac60b84d155665c5003617903dc0b57d","2006-08-28 18:43:35+00:00","Makes sure FilesystemNode::name isn't used to open a file, use a regular filehandle name instead.

svn-id: r23800
"
"557af0cba5c2a59c74ed4e85af175bd51c93c240","2006-08-28 19:13:54+00:00","Removed the copy protection bypass for Future Wars. We should only bypass the
copy protection if we know there were versions sold that either didn't have the
protection, or failed to include the information needed to get past it.

Besides, this particular bypassing doesn't work. The game appears to start
just fine, but the transporter early in the game is rendered non-functional.

svn-id: r23801
"
"733055cdd92b07ec4f43b0fd30e5f46da02db741","2006-08-29 10:22:39+00:00","Add/Update details of English versions of pajama3, putttime and spyfox2

svn-id: r23804
"
"1ba14890c65492d1d09fd272a37f1c7424023315","2006-08-29 15:58:57+00:00","Init unitialised var.

svn-id: r23805
"
"e0d2b0764f22028e6c5ad0d7e4b73275c90e358e","2006-08-30 11:48:43+00:00","Added word wrapping to the status line (necessary when giving long sets of Tell instructions)

svn-id: r23809
"
"3e54f04f3d75383b93557edf9263acc7195f8274","2006-08-30 12:19:05+00:00","Implemented the Tell action handling, and added support for current actions with dynamic support data

svn-id: r23810
"
"64aa291a1684e6d7feeb33c1a16687c36d396205","2006-08-31 17:17:31+00:00","Applied my own patch #1549054, after discussing it with LordHoto. This makes
the intro scrolling use constant time, rather than assuming that the screen can
be rendered once every 'tick'. On my^H^Hslow computers, this makes it a bit
less smooth, but that should be ok.

It also fixes a tiny glitch right after the scrolling.

svn-id: r23811
"
"1da493ac006fa77d02700765ade698eb5281fe59","2006-08-31 19:32:38+00:00","Adding new name() method.

svn-id: r23813
"
"7ca75815aaa7a86327a06006171dfd64584eabac","2006-09-01 12:04:40+00:00","Add HE72+ specific version of convertMessageToString(), to reduce filtering and since special codes aren't used.

svn-id: r23814
"
"903d9a2d6cfc7a27f1dde4899a77dc3fcf95aabd","2006-09-01 12:06:51+00:00","Ooops, re-enable sound code

svn-id: r23815
"
"db3baf0c66ddf3a60544aa733e34267e4b7fdf4d","2006-09-01 12:14:43+00:00","More fixes for string usage Russian HE games.

svn-id: r23816
"
"8cf8d040d8be9fe28d2c6da2ffdd2f79f2708ec1","2006-09-01 12:20:08+00:00","Only check old special codes through drawString() in HE71 and earlier games

svn-id: r23817
"
"e8e7ff4629f0eddbd45dec17110bff29b435f967","2006-09-02 05:49:59+00:00","Add DISABLE_HE check, around HE72+ specific version of convertMessageString()

svn-id: r23818
"
"e1ea1b90a2fa9531738938f2ab56bff1af4b9aec","2006-09-02 12:47:29+00:00","Fix string formating in Russian versions of HE72+ games

svn-id: r23820
"
"037f04325dd46baf05fbb3f44dcd6c88f1e0136a","2006-09-03 05:02:25+00:00","Added code fragment to mark a room as found when the player enters it

svn-id: r23822
"
"3b994a6a78eed02ff264f75de6ca8bad2ee062b7","2006-09-03 05:03:14+00:00","Changed name of HOTSPOTFLAG_HIGHLIGHTED to HOTSPOTFLAG_FOUND to make it's use clearer

svn-id: r23823
"
"e5fcd5ff2d01118ffc155f859e7b38566ac8f2cb","2006-09-03 05:03:50+00:00","Changed name of HOTSPOTFLAG_HIGHLIGHTED to HOTSPOTFLAG_FOUND to make it's use clearer

svn-id: r23824
"
"816cc1a62c3e0a48d50c77a92538b4ada4783fe1","2006-09-03 05:04:58+00:00","Bugfix to only list rooms that have been found in the Tell action 'Go To' command

svn-id: r23825
"
"92f2e9691edf0b7466841b8f7c99f2e50eb7feda","2006-09-03 08:39:06+00:00","Fixed handling of player occupied areas during room changes

svn-id: r23826
"
"c49cf0c6ed9302f9ee0889f1699d0d6394ecbc72","2006-09-04 18:57:12+00:00","This could possibly fix bug #1551524 ('MAXOSX: Cannot Backspace in AGI Games').
We have a similar backspace handling in several other engines.

svn-id: r23827
"
"f3d284af2e88109541eb507aff27e2b1563001d1","2006-09-04 21:50:17+00:00","More kyra2 intro WIP stuff (WSA playback control sequences implemented, used in the library part). One more sequence has also been implemented, but is off by default due to the WSA files being used apparently being decoded incorrectly.

svn-id: r23828
"
"7a0eddeedd4cf2aa467ea75f3700ba72389e47a1","2006-09-05 12:17:14+00:00","Fixed error message that still referred to disk0.vga

svn-id: r23829
"
"d9b5129fb8620ec715e3aaa068cfd2a25e197fdd","2006-09-07 11:21:20+00:00","Transferred all previously hard-coded English in-game text to a resource

svn-id: r23831
"
"fa8f6e528b48e3a1e9e2d550b36302794ffa73b2","2006-09-07 12:47:42+00:00","Added method to store a list of English words needed by the game engine

svn-id: r23832
"
"fb27c5897740da1da65d7c5e0bf67dee0bab82aa","2006-09-07 16:13:41+00:00","Don't create a second Menu object unless the first one has been deleted. This
seems to fix bug #1553513 ('AGI: Crash after restart').

svn-id: r23833
"
"18325259b82ef5510ceab8e39d76038d5e22f826","2006-09-09 02:02:45+00:00","Fixed bug #1554904 ('KYRA1: No mouse cursor in latest SVN build'). GI_KYRA1 is
not a bit flag...

svn-id: r23834
"
"4ce79947d3d6acf00a8d0ffc9eea6dcd55c758f1","2006-09-09 03:52:09+00:00","Update HE version for Dutch versions of lost, maze, socks and water.

svn-id: r23835
"
"8b13bce6e991b752b90d330e767e7939cd4bf7d7","2006-09-09 09:09:19+00:00","Fixed compilation

svn-id: r23836
"
"7efd027fed890a06830263e16fe943205bb186fc","2006-09-09 09:30:16+00:00","Fixed crashes on Zodiac and add support for this device

svn-id: r23837
"
"3ce0b182f6753556cb01ab0fe84b355f6d9c5f9e","2006-09-09 09:50:00+00:00","Initialise variable. Should fix Valgrind warning.

svn-id: r23838
"
"6ee4d1b317681a028ee9d00242a0d1cd10cf43be","2006-09-09 10:29:14+00:00","Fixed crashes on Zodiac and add support for this device

svn-id: r23840
"
"8116f167adf8376a3bf6c37cc6ea337790a03ae3","2006-09-09 10:47:08+00:00","This printf isnot supportedon PalmOS 68k, taken from an old port of Sarien

svn-id: r23841
"
"c51d6bb903e210ae485f6844b829112c0d4b371a","2006-09-09 10:47:32+00:00","Fixed compilation.

svn-id: r23842
"
"9f0149c5535ab29c63dfa0fefde13ca9d695d3a6","2006-09-09 12:21:49+00:00","Fixed a bug in loadPakFile(), and changed PAKFile constructor so that it doesn't load the entire file.

svn-id: r23843
"
"7bb8ca3ef69a1d0fe2c1d15b39e9d100186a7b73","2006-09-09 13:07:15+00:00","Fixed warning.

svn-id: r23844
"
"f34da528ebe095fe84e0f58424cf4ae941a6d4e5","2006-09-09 13:57:20+00:00","Fixed unaligned read (this fix a potential crash clicking on the Text option button)

svn-id: r23845
"
"e78a81fe45d5466b12fdce688f217f6c6e6f716d","2006-09-09 14:19:33+00:00","Fixed unaligned read on PalmOS

svn-id: r23846
"
"ab82dc3f9c18342eb4cd62d2a05c0845d2939eef","2006-09-09 14:54:41+00:00","Fix memory leak

svn-id: r23848
"
"2db1dc882b4024fff417644035ed3eeff6f08e1b","2006-09-09 16:10:11+00:00","Ignore mouselock count when switching the cursor graphics, fixing a bug salty-horse reported on irc.

svn-id: r23849
"
"bf0b82326f27a9b4035aa0f2bc95241f68b929f3","2006-09-09 16:48:35+00:00","cleanup

svn-id: r23851
"
"c7ab445755e94fd45192a3e2bcf3d0b2e704aed3","2006-09-09 17:10:09+00:00","Get rid of fsnode hack

svn-id: r23852
"
"cfc52b5654bf433f2fadaaa596adc7afbd850836","2006-09-09 17:14:47+00:00","Renamed Resource::fileHandle() to Resource::getFileHandle()

svn-id: r23853
"
"723ec240930c004a25fb56897e24cb29ad7c2fef","2006-09-09 17:21:19+00:00","Turned some sound conversion methods into static functions (cleanup)

svn-id: r23854
"
"b3ee442693d6947a99921055add45eea55d5471b","2006-09-09 17:31:44+00:00","Moved _heV7RoomIntOffsets initialization

svn-id: r23855
"
"94bd9ef05de9d14ab3fd8895a6fcf681b59646b4","2006-09-09 18:20:28+00:00","Moved allocResTypeData from ScummEngine to ResourceManager; removed friend declarations from ResourceManager, and performed other minor tweaks

svn-id: r23856
"
"bd38f5f4d315aa2bb1cd6f94d5d16d8d3277783e","2006-09-09 18:31:32+00:00","Renamed o6_getActorAnimCounter1 to o6_getActorAnimCounter

svn-id: r23857
"
"3825dde852589238549c988c22524730a67ea65e","2006-09-10 01:59:09+00:00","Add/Update Dutch and French versions of several HE games

svn-id: r23858
"
"4342d61448429de56543c25e16e83f4a96797474","2006-09-10 09:10:30+00:00","Added name() method.

svn-id: r23860
"
"8271f1f0dca0bbca24acfdf52faf596a43a2c6fd","2006-09-10 13:09:04+00:00","Makes lure compile with msvc8 again.

svn-id: r23861
"
"854eac7f9b99893150c63a91aeb55726b54ef8d0","2006-09-10 13:16:34+00:00","Simplifies PAK file loading a bit.

svn-id: r23862
"
"09f7e35196e5d07a04730b70cc81602be736cfaa","2006-09-10 13:26:00+00:00","Little bit cleanup.

svn-id: r23863
"
"65c0bdcaa0befc1f02502cb74945aa43669d8b76","2006-09-10 13:52:17+00:00","- Some little checks for shape usage.
- Less redrawing while loading a savegame.

svn-id: r23864
"
"a851fb353c81089bdb9e3c0e14407a23441a32ac","2006-09-10 16:29:06+00:00","Make Lure run again on PalmOS fixing unaligned read

svn-id: r23865
"
"632a1a3a2269b4c41a9ccb8bc077e803e3da1b46","2006-09-10 18:22:27+00:00","Clear _skipFlag at beginning of Kyra 2 intro. Otherwise, skipping it once will
automatically skip it if you try to watch it a second time. (Are there any
other flags that need to be cleared as well?)

svn-id: r23866
"
"c66ec787d26abdd37ef1fbca35fb43e6abca4e69","2006-09-10 18:44:53+00:00","Test _skipFlag a bit more often.

svn-id: r23867
"
"595a035bee92357850fba10ab9248b5364f2bf0f","2006-09-13 07:32:54+00:00","Implement file cache. needs some testing :)
Fix some bugs in memory management.

svn-id: r23870
"
"213e798bec8a6cf545c18374e0de99959e8a32a0","2006-09-14 01:36:16+00:00","Add French version of puttcircus

svn-id: r23873
"
"52dee3012ebd805a94a1a06347c3dda3a0514f1e","2006-09-14 22:57:08+00:00","Add/Update several French versions of HE games

svn-id: r23874
"
"0cd1f0fbf91589eab48b92bdb82d36c6646223a3","2006-09-15 10:59:38+00:00","Update French version of Pajama Sam 2

svn-id: r23877
"
"75fd84e85a166b5871c3a30677daadef18201e00","2006-09-15 16:04:32+00:00","- adds dirty rect handling to the kyra engine (needs some more tests before I commit it to branch though)
- initializes an uninitiliazied variable which caused crashes from time to time

svn-id: r23878
"
"394839951163852bc0aea538b5d5a3924ec743c8","2006-09-16 12:04:54+00:00","cleanup

svn-id: r23880
"
"e139d26be13127eaaf29cb8c10b61d17277d2477","2006-09-16 12:12:02+00:00","Replaces malloc with new in most cases.

svn-id: r23881
"
"d2af16a8173f669f5ec86f5cce4f9f5fbf389939","2006-09-16 12:29:55+00:00","Updated MD5 list

svn-id: r23882
"
"61626263236a4e3b9397bd3dfd9c467a4a9a0d31","2006-09-16 12:43:18+00:00","cleanup; remove check whether _costume is valid, as that is already done by getResourceAddress

svn-id: r23884
"
"b860f002b2f1f1a6cc67a9deb8360a8d421e2a4e","2006-09-16 13:38:43+00:00","Replaced checkRange by assertRange, which has (a) an (IMO) more logical order of parameters, and (b) removes lots of useless duplicate information in error messages

svn-id: r23885
"
"84c2a93db511a06fb82894dee596a268ae5323db","2006-09-16 13:40:28+00:00","Replaces all malloc/realloc usages with new.

svn-id: r23886
"
"250133baf0f665deca81d20631df1299ca571b81","2006-09-16 14:36:53+00:00","Simplifies resource handling for the CD version of Kyrandia.
(also less file loading at startup, but more on room change)

svn-id: r23887
"
"a2dc897fe58e5521361a07b1e39a8b4c84d0dacf","2006-09-16 15:01:14+00:00","Reduce code duplication

svn-id: r23888
"
"1add07becae0179e026a90924b419b74ffb1078f","2006-09-16 15:19:23+00:00","Renamed kLineWidth to kCharsPerLine, and moved some enum constants into class ConsoleDialog (to avoid name clashes with other code)

svn-id: r23889
"
"919092e5fcd0389b4cbd862e9e8cceab202e6741","2006-09-16 16:58:27+00:00","Overhaul of the debugger code
* Moved Common::Debuggger to GUI::Debugger (mainly to satisfy linker
restrictions)
* Change the base Debugger class to *not* be a template class anymore;
instead, a thin (template based) wrapper class is used to hook up
debugger commands
* Removed duplicate Cmd_Exit and Cmd_Help methods in favor of a single
version of each in GUI::Debugger
* New Cmd_Help doesn't word wrap after 39/78 chars, but rather queries
the console to determine when to wrap
* Debugger::preEnter and postEnter aren't pure virtual anymore

svn-id: r23890
"
"8df3ca9e6577c4aa337256616a5cfbef3aa19cd4","2006-09-16 17:26:40+00:00","cleanup

svn-id: r23891
"
"6c2671296060f445c30d8a553ee90e6f20b101db","2006-09-16 17:29:43+00:00","Added GUI::ConsoleDialoggetCharsPerLine() method, and added a big FIXME comment to gui/console.h

svn-id: r23892
"
"fd12695e59832265cae1ba62f8092fe182f2d7a2","2006-09-16 17:56:26+00:00","Patch #1559806: Fixes for AmigaOS 4 filesystem backend

svn-id: r23893
"
"651d22b873754cf4907a67f0f3c7e18eafdd7636","2006-09-16 19:31:23+00:00","* Added virtual Engine::getDebugger() method
* Removed code from errorString() methods that hooked the debugger(s)
into error(), in favor of using getDebugger() from within error()
* As a consequence, removed most custom errorString() methods

svn-id: r23894
"
"d0735a34a28e33e7f205ac034c4cdfac0b9aa540","2006-09-16 19:50:41+00:00","* Updated Symbian project files for new file structure

svn-id: r23895
"
"a8bc979364037e23398c4c3c6f466bb09bcf25a9","2006-09-16 20:51:05+00:00","- enables pseudo unloading of loaded pak files (which reduces the loading of pak files on room changes)
- uses Common::hashit_lower instead of scumm_stricmp for filename checking

svn-id: r23896
"
"27d39dabef68480316fcf84e4715887ed529618a","2006-09-16 21:03:04+00:00","Small adjustment for projectfiles source path

svn-id: r23897
"
"ff317afc644ca9d8195436a00a88b1b89ac6ccfb","2006-09-16 22:35:21+00:00","Fix bug #1559767 - SIMONWIN: Crashes on start-up

svn-id: r23898
"
"80bad5d0ffd5c585a0c02ee2eef4b71bacb1ab4e","2006-09-17 05:33:40+00:00","Changed version numbers to 0.100

svn-id: r23900
"
"1fe39e9b8007fadb270601a44ea0089cbfbe50aa","2006-09-17 09:27:33+00:00","Cleanup, no need to export twGlue addr when compiling standard OS5 version

svn-id: r23901
"
"fdab0733c7ed23d28a00312c229057a2c9b779be","2006-09-17 09:34:45+00:00","Cleanup, no need to export twGlue addr when compiling standard OS5 version

svn-id: r23902
"
"24f55e47e16c0660616cb9cb0bc8d0f0fd11f445","2006-09-17 09:40:53+00:00","This be_zodiac.h include is what was made standard OS5 to crash \!

svn-id: r23903
"
"42dd017faf6a34ad7747c9d4ab4985576aa50546","2006-09-17 09:46:06+00:00","Added option to trace memory allocation

svn-id: r23904
"
"5fa194e62b391b4dd346c4258893a033ba77ad64","2006-09-17 09:49:33+00:00","Added option to trace memory allocation
Fixed key auto repeat problem in some engines

svn-id: r23905
"
"bc8a755c67b733d974afc05af1dabec21c862e3b","2006-09-17 09:59:31+00:00","Fixed back mouse in GUI adding cursor palette support
Fixed cursor redraw in GUI
Fixed cursor glitches problem in BS because of too small buffer
Cleanup

svn-id: r23908
"
"1c0de6200262f8741a1a551f189e1f2a3cd335c3","2006-09-17 10:02:18+00:00","Mentions improved screen update handling of the Kyrandia engine in the NEWS file.

svn-id: r23910
"
"0a87306b1c7fddc3ac99e8043da51f00097ccb2a","2006-09-17 10:03:41+00:00","typo...

svn-id: r23911
"
"8922513d9f1e0e6911613dc92b41ef9efb0a7326","2006-09-17 10:08:16+00:00","Fixed compilation

svn-id: r23913
"
"8de5d496fa9a90e8fc3f0496668010fa7b9641ac","2006-09-17 10:14:11+00:00","Added more compilation options

svn-id: r23914
"
"f6daab19c5ba57fb68860aff4b56a6ee278cdfed","2006-09-17 10:16:52+00:00","Compiler seems to not use these operators when they are inlined

svn-id: r23915
"
"45035813402d95e9b151463ba11d92d8bb136ab7","2006-09-17 13:06:40+00:00","Const correctness

svn-id: r23916
"
"3e8380f2c6889c85e0e962631eaf9814c2f84963","2006-09-17 15:25:59+00:00","Only decompress the number of speech samples indicated by 'resSize'. This
prevents crashes in the demo, and is probably a good idea anyway.

svn-id: r23917
"
"b6a8e38726b55dec5a959ec914c6f9e6fda358d8","2006-09-17 20:21:40+00:00","- removes the kyra specific language flag system, and uses the language enum defined in Common for that now
- also reworks the game flag system in general

svn-id: r23920
"
"8c0b0c012007d938ab500c5ccc64f6e0cbcf13e0","2006-09-17 20:22:47+00:00","Changed ScummEngine::gdi to _gdi and allocate the Gdi object on the heap (i.e. _gdi is a pointer now)

svn-id: r23921
"
"51017cf1b21f450acad9c735e9364f5bb5d35f17","2006-09-17 20:36:48+00:00","Renamed ScummEngine::res to _res and allocate the ResourceManager on the heap (i.e. _res is a pointer now)

svn-id: r23922
"
"f4759feeab02a470c428be8ab4add26eb2255c41","2006-09-17 21:19:23+00:00","formatting

svn-id: r23923
"
"fab33bf6639d72776b1818131724af6d1a67ce58","2006-09-17 22:22:50+00:00","Moved stored flobjects to class ScummEngine_v70he

svn-id: r23924
"
"285aa5d0b2321760a8f5acd54dc2baaf98534774","2006-09-17 23:35:09+00:00","renamed ScummEngine::restoreBG to restoreBackground; renamed and moved Gdi::copyVirtScreenBuffers to ScummEngine_v70he::restoreBackgroundHE

svn-id: r23925
"
"ace4a021250da915444720ba2ee7eb92368f606f","2006-09-18 11:57:38+00:00","Fix typo, that caused FLAC compressed sound effects file to fail to load

svn-id: r23926
"
"99016886ba0d31f9ccb310c3974b409f884c294d","2006-09-18 12:01:18+00:00","Minor cleanup, to re-order functions

svn-id: r23928
"
"f9d1a82cc0011c4db8745d51af30ca8b73c2b1d1","2006-09-18 17:30:51+00:00","Fixes the Macintosh related problems Krest mentioned on the IRC channel.
(the user has to set the game platform to Macintosh though, since it's
atm detected as DOS version)

svn-id: r23929
"
"2906e8d2a3a0f13f362fcaf001c8ecdd031ca91c","2006-09-18 19:16:31+00:00","Moved some code from Gdi::drawBitmap to separate methods

svn-id: r23930
"
"d9f16b8a4ad24fdc6dfc9551cdb929814d26c1b6","2006-09-18 19:17:55+00:00","indention fix

svn-id: r23931
"
"06ddd876a5b1d76641740a0fadd4c1a5e88c3627","2006-09-18 19:22:40+00:00","Fix --disable-he

svn-id: r23932
"
"a0e1a986471436709cdafe7ef5af27ab3f9ab26e","2006-09-18 19:58:22+00:00","Oops, accidentally broke TMSK support for HE 72+ games

svn-id: r23933
"
"13246773955961d761f3e757da0888a0a203703c","2006-09-18 21:20:21+00:00","Moved NES specific code from class Gdi to GdiNES

svn-id: r23934
"
"3313685bfea0d911a8cfbf46cec2e75fb01690a0","2006-09-18 21:31:59+00:00","Split setBuiltinCursor into a V0-V2 and a V3-V5 part

svn-id: r23935
"
"2cd0544cb9fd5a53cdafde2584799c84b0160470","2006-09-18 21:46:44+00:00","Re-disable blit mask hack (oops)

svn-id: r23936
"
"60951b6f1a877a21eff7c9e555161127e9810928","2006-09-18 22:06:39+00:00","Moved some more code from class Gdi into new subclasses GdiV1 and GdiV2

svn-id: r23937
"
"fd85c13d8f5a8c58e056fe51658a5b83da323053","2006-09-18 22:22:35+00:00","Cleaned up Gdi::roomChanged

svn-id: r23938
"
"ab2cb0b30ad15c2cd33c82989461bdcf44644bd2","2006-09-19 11:59:13+00:00","Expand Simon engine

svn-id: r23939
"
"843397fd7b6745d0513ee6f8c3b25da52fe8d4d9","2006-09-19 12:46:34+00:00","Fix FF/Simon2 regression in last commit

svn-id: r23940
"
"68360e4ddedd8806d269320bac91ab6cace34a18","2006-09-20 02:43:28+00:00","Add details for French version of Pajama Sam 3

svn-id: r23942
"
"e63717a2eb4df76fb97736daebb40b72c2f888fa","2006-09-20 06:39:27+00:00","Fix crashes during WW startup

svn-id: r23944
"
"16ace099aa10712c93887925a236645f103a54cd","2006-09-20 11:54:15+00:00","Work around conflict between ISO C++ and POSIX, to allow ISO C++ compliant compilers like GCC 4.x to compile the plugin code again

svn-id: r23945
"
"4a1bd9b4be2b3bec77251f2801ec03f61e0cbb24","2006-09-20 13:56:18+00:00","Added _PLUGIN_copyright to list of symbols exported by plugins

svn-id: r23946
"
"a3ea44fd4844171fd990562f935cfb278c29b3a7","2006-09-20 17:16:58+00:00","Some updates (mostly guesswork) for the ALSA MIDI driver, mostly prompted by
Waxworks (Simon engine). See http://www.borg.com/~jglatt/tech/midispec.htm for
reference.

* Added case for Aftertouch (Key Pressure).

* Changed Channel Pressure to flush the event immediatley. The message could
apply to notes while they are playing.

* Downgraded the error for unknown MIDI messages to a warning, and clarified it
slightly.

svn-id: r23949
"
"693068034e4c7ad854eb25c7fad6275cca771e56","2006-09-20 20:19:43+00:00","Updating NEWS file in HEAD too.

svn-id: r23951
"
"f3ad70c1d435a220c37008e6fb1b66d99901bc67","2006-09-20 23:34:10+00:00","Add French version of Pajama Sam 1

svn-id: r23952
"
"efc3fb4a3a22f988f67d2c0c12a7ab5de5293143","2006-09-21 00:43:21+00:00","Correct HE version for Dutch version of putttime

svn-id: r23956
"
"d3b39c221bc55bff3425343f1c1f026ff77e09b7","2006-09-21 01:34:10+00:00","Re-enable warning for unknown MIDI events

svn-id: r23958
"
"9d7e5f6f85cd5a73d7db79cb98a0a11650cd74ef","2006-09-21 01:36:58+00:00","Remove excess newlines for errors/warnings

svn-id: r23959
"
"965cfe40086df3274e8228a526a624b96bfc5e03","2006-09-21 11:42:44+00:00","Fix bug #1562795: 'Bug with auto-generated game IDs'

svn-id: r23960
"
"25a6af2c93031b26d3a7c501b9546108f8aa0b43","2006-09-21 12:14:29+00:00","Fix bug #1536932: 'MANIACNES: Crash on click in speechtext-area'

svn-id: r23962
"
"6fdc053a6bb8ec64f5695302b7ea7ca374948a94","2006-09-21 12:18:36+00:00","Fix comment

svn-id: r23964
"
"0e244c9510f83a37c144a6aa57803805601c2118","2006-09-21 17:46:19+00:00","Fix bug #1550974: 'SMUSH: changing subtitle settings during SMUSH doesn't work'

svn-id: r23965
"
"a857bdeca3f1338fdfbb7e656550794d3767b387","2006-09-21 19:26:53+00:00","update .spec for themes

svn-id: r23968
"
"4e8df88c81d64ad61bcaefd4d7fd0bf2cd402924","2006-09-21 20:12:16+00:00","Fix bug #1501302: 'FF: Crackling Audio (Mac version)'

svn-id: r23970
"
"3a8537b6e3dbc934c32bab1782d412623ae54ce0","2006-09-21 20:17:32+00:00","Mention fix for bug #1501302

svn-id: r23972
"
"a3be69f4e4b1793c2ce1fe95d3d6db5ca3a7cf8b","2006-09-21 23:17:27+00:00","Fix regression in Amiga/Macintosh versions of FF

svn-id: r23973
"
"4c14cf6d1a77857e3683a1029b42ddb96e1bc80b","2006-09-23 00:42:35+00:00","Moved base/engine.cpp and .h to engines/ (main motivation: helps untangle the linker dependency graph). Porters will have to update project files

svn-id: r23974
"
"f0ac3d1c9e381a773cd4d50b770b4e44a1fa645b","2006-09-23 00:51:30+00:00","Moved error/warning/checkHeap from engines/engine.cpp to common/util.cpp

svn-id: r23975
"
"17d4f41a88023fbf4d1393e9a5fac454e98bee92","2006-09-23 01:05:30+00:00","Fix mingw compile

svn-id: r23976
"
"1e4dc7f5b6f38d088876699cdb8d3bab30dbc45e","2006-09-23 01:08:39+00:00","Remove duplicate and left over _WIN32_WCE checks

svn-id: r23977
"
"847c145810919e6670a6d67e29b9e53b39502ca8","2006-09-23 01:16:32+00:00","Whitepsace changes

svn-id: r23978
"
"d02e4d7f7c7affb4e6f52c0e5a9a8b5a0ca0c610","2006-09-23 11:29:32+00:00","Removed CHECK_HEAP

svn-id: r23979
"
"be4628ffca34a8232d44f5c8bb05ecea0e0c56fb","2006-09-23 11:37:05+00:00","Remove defines, which were only used by checkHeap()

svn-id: r23980
"
"a0e6154340e3b4b2e0be7ce5b45ae65592798e21","2006-09-23 11:44:05+00:00","Re-order platform order, to avoid exclusions

svn-id: r23981
"
"ab6d6056fe140468b5f36f02ed66eae58ef985e6","2006-09-23 11:55:52+00:00","Remove malloc include, which was only used by checkHeap()

svn-id: r23982
"
"03b3d596b66436f8b3768240a059cadca5dbf8cb","2006-09-23 23:46:06+00:00","Add French versions of puttzoo, spyfox, spyfox2 and spyozon

svn-id: r23983
"
"1c6cd9d2498e7d905aed1930ad2cde006a4b1f20","2006-09-28 23:22:07+00:00","Expand Simon engine more

svn-id: r23994
"
"11c9537e290fbab5d604037609fb40c70149b283","2006-09-29 00:50:22+00:00","Add speech support for PP and cleanup

svn-id: r23995
"
"e36f3cfe9b3b45aaffde060546791ce9482bf323","2006-09-29 01:00:11+00:00","Fix startup of PP games

svn-id: r23996
"
"0e2bdc7fa27edebe03cb2f225f385e811a3ed373","2006-09-29 02:18:48+00:00","Add md5s for Elvira 2

svn-id: r23997
"
"4dff848e6ec92f7616e68cbf45d5411ca8fc26b7","2006-09-29 03:25:08+00:00","Add more changes for PP

svn-id: r23998
"
"f1b3da2f18d426d5aff797ff55e50723e8343d48","2006-09-29 03:44:55+00:00","Fix display of game title

svn-id: r23999
"
"f073cc2d0520a2cc3d621eeea14bf85a2b2be158","2006-09-29 04:48:04+00:00","Correct title name for puzzle

svn-id: r24000
"
"5a8f3df4e8b131c3d393ebd0bea1b4ed08bd815e","2006-09-29 05:31:33+00:00","Added/stubbed some Puzzle Pack opcodes that are different compared to The
Feeble Files. Didn't make much difference.

svn-id: r24001
"
"8d0d856bd85b11998655608a3ca4d1e52e129c96","2006-09-29 05:33:22+00:00","Add last game (dimp) of PP

svn-id: r24002
"
"6b37e39904bfd0f9580725e314a4007d8877a559","2006-09-29 05:36:53+00:00","Correct size of opcode in dumpOpcode()

svn-id: r24003
"
"98e761a7201cfc1de20570dad5c872d725896818","2006-09-29 05:38:50+00:00","Fix mistake in dumpOpcode()

svn-id: r24004
"
"3e6c4d8582f3bcef87eb72d4926c45b0dedd3914","2006-09-29 06:16:28+00:00","Fix input in PP

svn-id: r24005
"
"2a6e1d26cf3516a6334215eecb61f4036a630575","2006-09-29 06:24:12+00:00","Add opcode stub for PP

svn-id: r24006
"
"3d71f16b47c8af0f69c1f25af0eaa69f67a9beba","2006-09-29 06:58:59+00:00","PP uses voice channel for looping music

svn-id: r24007
"
"8e2c703baba570b18aec9d871fdc8ee7efe49e57","2006-09-29 08:14:27+00:00","First pahse of renaming simon engine to agos. Internal renames. Compilation
is broken

svn-id: r24008
"
"798c7ee6822517601ef3c4096ad76a2fc0eefb50","2006-09-29 08:37:24+00:00","Phase 2 of Simon renaming. Simon directory renaming

svn-id: r24009
"
"d0177a2f30ad57ce06bb0e969fbe3fbb453989e4","2006-09-29 08:57:33+00:00","Phase 2a. Renaming other minor directories

svn-id: r24010
"
"59f737594e5e116079dda7e8a810fa89e6ae744d","2006-09-29 09:05:46+00:00","Phase 3 of Simon engine renaming. Files renaming.

svn-id: r24011
"
"abf4ede05ba070478cf942817140a6744015dfab","2006-09-29 09:25:35+00:00","Phase 4. Some more internal updates.,

svn-id: r24012
"
"bb1547ab1ce3eb0a586814949e59864888f99c83","2006-09-29 09:44:30+00:00","Phase 5 of Simon engine renaming. Renamed namespace Simon -> AGOS and
SimonEngine -> AGOSEngine.

Source is compilable and runnable again. I'm done.

svn-id: r24013
"
"c15d43be5a574f8ff7142438e69fd03586d304c8","2006-09-29 11:07:38+00:00","Update opcode table for PP

svn-id: r24014
"
"36551b480918245d58b97c30b8648d4fb4552d93","2006-09-29 11:19:12+00:00","Update credits

svn-id: r24015
"
"fa5c1db17035d9985f598787bca9772f4ae8ef70","2006-09-29 11:22:18+00:00","Update credits

svn-id: r24018
"
"907141c909fa69c9357cd3b115f52459e999c2a7","2006-09-29 17:18:12+00:00","Some minor formating changes.

svn-id: r24019
"
"6a1f9eee64f476fb801ce5cb5d5d3a656b454495","2006-09-29 18:20:44+00:00","When starting a game, make sure that it has the desired target name. The old
behaviour was to simply pick the first detected game, which made it necessary
to keep the Puzzle Pack data files in different directories. Now they can all
be in the same one. (Generally it's not a good idea to keep several games in
the same directory, of course, but in this case it's perfectly reasonable.)

svn-id: r24020
"
"d3d28dc89aebb696b12625458440f5470a0594f5","2006-09-29 22:22:43+00:00","Update opcode table for Elvira

svn-id: r24021
"
"bdfbd9b04906fb4b5e56420ee750d1d3d1f9764c","2006-09-29 22:24:03+00:00","Increase opcode array size for Elvira

svn-id: r24022
"
"702de78cdef025b2515341258863f28b517a9d64","2006-09-30 02:15:02+00:00","Add changes and stubs for Elvira 1

svn-id: r24023
"
"54d3405225694231eec986089f59e0b067631ca9","2006-09-30 02:52:35+00:00","Update md5 details for Elvira 1

svn-id: r24024
"
"f5c5a64d72dbe2d5017efcb8cca0aeb7326ddef8","2006-09-30 05:51:06+00:00","Add opcode table for Elvira 2 and cleanup

svn-id: r24025
"
"f1c4e30b4d85c078bb7c2a1200bbafc4a64f7290","2006-09-30 05:57:44+00:00","Move remaining script loading code to subroutine.cpp

svn-id: r24026
"
"c8689b29d891eaca26e80393b89e8a41e0f2dddf","2006-09-30 06:47:41+00:00","Add mouse cursor support for PP and minor cleanup

svn-id: r24027
"
"0baff357531f2c6b74a8a4da3282705776e20826","2006-09-30 07:00:42+00:00","Partially unstubbed the PP 'oops' opcodes.

svn-id: r24028
"
"3c093746bd04f3ca9cf00506546487ee01c90ddf","2006-09-30 07:06:55+00:00","Re-use FF's _variableArray2[] instead of creating a new one for PP. Free the
variable arrays on exit.

svn-id: r24029
"
"5c3f7e4d5de8792f047b3f7f24f1a81ad6415a0a","2006-09-30 07:15:19+00:00","Enable more code in oops functions of PP

svn-id: r24030
"
"b828f5e3bc6df098bf8a539fff9bea459becdba2","2006-09-30 07:24:30+00:00","Add code for isVgaQueueEmpty() in PP

svn-id: r24031
"
"46ed06fc274f20e0d64dc744921e1e153c97bd1f","2006-09-30 07:26:40+00:00","Ooops, increase count in isVgaQueueEmpty()

svn-id: r24032
"
"9b36168debda19e6f42f2e6f56d857e0862d4b0e","2006-09-30 07:29:23+00:00","Ooops, another mistake in isVgaQueueEmpty()

svn-id: r24033
"
"deaa9e1ca11a717a652a5c8885b858a778942090","2006-09-30 10:45:10+00:00","Add code to move pieces in jumble of PP

svn-id: r24034
"
"c60d3d73f4b05ab4ad6592fd86a7d0b7d8a2ce2c","2006-09-30 10:46:53+00:00","Ooops, fix type in vc76_setScaleXOffs()

svn-id: r24035
"
"d2a0c6bd524160601a0757652188b6d9abcb03a6","2006-09-30 11:36:50+00:00","Another slight PP difference.

svn-id: r24036
"
"79e07ad97bfbe58c46a294f2add7ac055b6eadd9","2006-09-30 11:52:24+00:00","Add debug output, to find triggers for PP functions

svn-id: r24037
"
"30ac033dc0783afc00473dd3cc34617f7371f5de","2006-09-30 11:55:50+00:00","Added a couple of functions which seem to define the rules for some kind of
'blocks' game. This looks like it could be cleaned up quite a bit.

svn-id: r24038
"
"16dec6dce6af6047be731404cb9985801048c617","2006-09-30 12:28:52+00:00","Add more small difference in PP code

svn-id: r24039
"
"23c1ba8cd64153a6390975faca63da0e36f8ca10","2006-09-30 12:39:34+00:00","Another PP opcode stub.

svn-id: r24040
"
"119ee3fb8b0f25f0408646c2a96ecb094251ce2e","2006-09-30 13:02:31+00:00","Add support for skipping swampy introduction

svn-id: r24041
"
"bf6a1cc734b2de04567a907591d8f39d9f70e420","2006-09-30 13:34:17+00:00","Fix compiler warning

svn-id: r24042
"
"a6c3257c5ebbdc81f721cb731b732cf02213f248","2006-09-30 18:55:38+00:00","Rewrote class String to use an internal (stack based) storage for small strings, thus avoiding a couple ten thousand heap allocations

svn-id: r24043
"
"5b22991f345cf4ea01144af8e23419de97f63f46","2006-09-30 18:57:36+00:00","Get rid of CharStar_BaseNode and consorts -- using a simple String is more efficient, now that it has optimizations for small strings. Also made various related changes, turning char pointers into String objects in several spots

svn-id: r24044
"
"a403a8e83b47df966aa8be099b76381a58df5d99","2006-09-30 18:58:09+00:00","Added some String tests, to verify copy-on-write works correctly

svn-id: r24045
"
"8f440983329d3a8143dc357adc893c995321b510","2006-09-30 19:33:43+00:00","Revert part of commit 23552 by agent-q. Apparently this slipped in by
mistake, as DS port sets FMOPL quality in ds/arm9/source/osystem_ds.cpp
void OSystem_DS::initBackend().

svn-id: r24046
"
"ff67752f54faa98ae7e3379bc791104c575fffb1","2006-10-01 07:17:34+00:00","When escaping a cutscene, stop its soundtrack as well. (I can't check if this
is a problem in 0.9.0 as well, but surely not...?)

svn-id: r24047
"
"2eb61bd1e31d967b46a60a784937743794f42f2d","2006-10-01 07:22:01+00:00","Split the seupOpcodes() function into several functions for - hopefully -
better readability, and to make it easier for Elvira to replace the entire
opcode table.

svn-id: r24048
"
"f59bc6f4a17d70c2fd704305cf7ead0d983110c6","2006-10-01 08:36:31+00:00","Some Elvira opcodes/stubs

svn-id: r24049
"
"53473f0498579d456131ec9edc0654ec6ab0dc8d","2006-10-01 10:04:23+00:00","Add debug opcode table for PP and other minor changes for PP

svn-id: r24050
"
"0e2d209ccee94c60a83175ab92927aa142497429","2006-10-01 10:07:57+00:00","Fix error in debug opcode table for PP

svn-id: r24051
"
"c7a2d1eb6b156ca439508c1a6d5e7d574df57bff","2006-10-01 10:48:06+00:00","Update vga timer code to match original PP

svn-id: r24052
"
"06dde0650fe0e9af350b6052f00a4b3d597e183f","2006-10-01 10:54:57+00:00","Fixed msvc8 build.

svn-id: r24053
"
"890a2ef93c32d50c3df822ded23360e8a1debe05","2006-10-01 10:56:12+00:00","Fixed msvc8 build.

svn-id: r24054
"
"5fbbc6ca4f267f0b9bd729998fcfb6ee3aaec058","2006-10-01 10:58:15+00:00","Updated msvc8 project files.

svn-id: r24055
"
"4eb8f3e07d7b1163918b7d3fb059fc3956e40dcc","2006-10-01 11:02:31+00:00","Updated mavc8 project files. (this time it should work...)

svn-id: r24056
"
"6b0cd7c841e91d8939a5500c1f1540bc2571bf81","2006-10-01 11:18:05+00:00","Fix cursor regression in FF

svn-id: r24057
"
"3fc8aec422f52c8d7743eb273566e0beeb764807","2006-10-02 01:09:50+00:00","Add more tiles code for Swampy

svn-id: r24058
"
"42cb69827eaab991912022c28be09f2addffe55e","2006-10-02 01:39:50+00:00","Add more tiles code for Swampy

svn-id: r24059
"
"d7b786ea41838b6c3fe950fe01c97b97daca711d","2006-10-02 04:46:50+00:00","Implemented 'iconify window' opcode. This, of course, needs support in the
backend to work, and so far it's only done in the SDL backend. See the new
kFeatureIconifyWindow flag. (This is patch #1568775.)

svn-id: r24060
"
"2cc1df6fddd01d5966d2bc5ce5cd89d85dd16524","2006-10-02 05:39:27+00:00","Add last tiles code and corrections for Swampy

svn-id: r24061
"
"97cf93d2757073312e738bfac0b3381aad9add2d","2006-10-02 06:11:05+00:00","Fix changing map areas in swampy

svn-id: r24062
"
"6bcd0183c0934e581b2f5e0f9bb5a26b27229a35","2006-10-02 06:22:05+00:00","Add more changes for swampy

svn-id: r24063
"
"ad9b7645318428f33fc5587aa49a87ab2eb034c6","2006-10-02 07:06:20+00:00","Fix arrows keys in swampy

svn-id: r24064
"
"f3831078b6ea85bb14f7947e4c55c0d25d6f5592","2006-10-02 08:35:15+00:00","Fix tile positions in swampy

svn-id: r24065
"
"425b243be1c3f90a6f6244fc08f6d02b08d46c70","2006-10-02 10:43:07+00:00","Increase struct sizes, to maximum required by games

svn-id: r24066
"
"62df08578bcaef2d36f5da533cc39aadbf3e8990","2006-10-02 10:54:06+00:00","Decrease window array size, to maximum required by games

svn-id: r24067
"
"6201707122c9f6d6af38909eec20ec35eacc000b","2006-10-02 11:31:11+00:00","Fix display and input in dimp

svn-id: r24068
"
"e8623fa477119e4b418200826e1bac372b9f8df4","2006-10-02 12:47:29+00:00","Added methods for push/pop cursors

svn-id: r24069
"
"1a96e26bf6bd9593da746e1cf3da98448df3a92d","2006-10-02 12:48:56+00:00","Added functionality to allow saving/loading the game state

svn-id: r24070
"
"99655b59d4bc1f052210a1b4c7cd4a1985e6eece","2006-10-02 12:49:57+00:00","Added a save/restore game dialog class

svn-id: r24071
"
"53cf7d65dade2cce26c7f92e94a4422ca2890467","2006-10-02 14:32:28+00:00","Add video opcodes differences in Elvira1 and cleanup

svn-id: r24072
"
"9118a731dce8d0118f28e9a5d96f1feae519cdbd","2006-10-02 16:18:48+00:00","Renamed setupAGOSOpcodes() to setupCommonOpcodes() for consistency.

svn-id: r24073
"
"22756edd6f148ea98e6e71eb375641c07fe91c25","2006-10-02 18:41:39+00:00","NDS : Naive C++ scanline 320*16 -> 256*16 rescaler code

svn-id: r24074
"
"51010bd038119dc98356b442c8f30b8e486aa5c2","2006-10-02 20:13:48+00:00","Remove BaseNodeType (it is not used anymore, we can readd it, should we ever have need for it again)

svn-id: r24079
"
"bcd4591da43f8d5f67142cbd8034910be7be0493","2006-10-02 21:38:39+00:00","Workaround for bug #1555938 ('MI2: Inventory object cloning'), as suggested by
Fingolfin.

svn-id: r24080
"
"e78e1c6987278e07583719ea857f680b1aeff63f","2006-10-02 21:41:18+00:00","Fix crashes in swampy when moving blocks

svn-id: r24081
"
"574665be4b98675016bbb6aefcc1a00b70ee025c","2006-10-02 21:47:45+00:00","Fix mistake in startAnOverlayAnim()

svn-id: r24082
"
"988ddf2b3664b37f20ddad46e65bc789145f1d80","2006-10-02 22:21:57+00:00","Unify SAGA/AGOS detection code so other engines could also reuse it
without further code duplication.

svn-id: r24083
"
"125d599acc0b7463cb008d99dac9d7e9c28a1ceb","2006-10-02 22:26:57+00:00","Improved the BASS detector a bit

svn-id: r24084
"
"d01420c344bbfe9ad982be178643c44fb5e6a2b0","2006-10-02 22:28:02+00:00","Add a somewhat hackish, uber-sekrit mass-add-game-feature (shift-click 'Add...' button to use at your own risk)

svn-id: r24085
"
"af21ec036ffc4f41bea1b8c4bf14ae716e8b545a","2006-10-02 22:33:38+00:00","Add basic single slot load/save support for dimp/swampy for now

svn-id: r24086
"
"756ede94aa24bbf079e4fafdacb450ba805b3786","2006-10-02 22:34:39+00:00","Doxygen compliance fix

svn-id: r24087
"
"1ee0c4f1cec55b90813688f6d135d2ace916c67e","2006-10-02 23:01:32+00:00","The name isn't stored in saved games for PP

svn-id: r24088
"
"60aee54bfefc492b19f6c50a2040f182bab3bdda","2006-10-02 23:07:43+00:00","Fixed bug #1569594 ('BS2 DXA Movie Exit/Crash'). That's what I get for only
testing with subtitles enabled... :-)

svn-id: r24089
"
"107a9f3bef2265415df0d6c1e1d255161eeca193","2006-10-02 23:31:14+00:00","Moved unrelated fields out of ADGameDescription structure.

svn-id: r24090
"
"9e097f60abec89ca38663da488be0ba1a6559573","2006-10-03 00:31:24+00:00","Add changes and enable music for Elvira1

svn-id: r24091
"
"af5c8eb1c3bb76df86a3506f006135577c0ac476","2006-10-03 10:01:08+00:00","Remove blocks/tiles related code for PP, which was only required by unreleased game

svn-id: r24092
"
"20d46ab409dfa77241f7d6c2d8cbefc243a25781","2006-10-03 11:33:06+00:00","typo

svn-id: r24093
"
"09f9cf7b6419abafe5969b08989e51e8794e097e","2006-10-03 12:15:01+00:00","Add Dutch versions of freddi4 and freddicove for Macintosh

svn-id: r24095
"
"1dc5670022ba328cdeb202838bf91ac73cd88432","2006-10-03 13:20:23+00:00","Fix bugs in VGA resource manager and cleanup

svn-id: r24097
"
"ab573e0c62c38c70eebcfa42f10321fbc7ab5e09","2006-10-03 14:02:14+00:00","Cleanup

svn-id: r24099
"
"1f5a69ea118931f4253ad09e5bb823eda9de9c1e","2006-10-03 14:18:17+00:00","Fix sound effects regression in simon1dos and remove excess game ids

svn-id: r24100
"
"baac2939118a3cb6ca0d8f8ddd0d7b8edfe64109","2006-10-04 03:29:14+00:00","Add more code for WW

svn-id: r24103
"
"863bed3fd034ab9e7a93d5426aab5c00297f4340","2006-10-04 05:11:58+00:00","Change masking condition for codec1_genericDecode(), proc3() and proc3_ami() so
that X coordinates outside the designated area are explicitly masked. While the
functions are written to terminate when X moves outside, bug #1508942 ('FOA:
Glitch dring balloon flight') demonstrates that X may *start* outside. That's
the case we want to mask.

Note that proc3_ami() already masked these pixels (in a different way), so
there the change is purely cosmetical.

svn-id: r24104
"
"aab8b9b2a26b29f8fe5c582ec236b7329280fc15","2006-10-04 07:10:22+00:00","Fix initial resource loading in Elvira 2

svn-id: r24106
"
"4652cdd1ad15858d3797b2aa91c8cd434d06dbd5","2006-10-04 08:53:48+00:00","Add video opcode differences in Elvira 2

svn-id: r24107
"
"2d016704f89f99ffb40c8ad0c006f3eccad87c53","2006-10-04 11:12:59+00:00","Correct number of variables in Elvira 1/2

svn-id: r24108
"
"7cfbf8b3e4c032b60a48285d7ba5495e6d9360fd","2006-10-04 11:17:00+00:00","Add French version of Elvira 2

svn-id: r24109
"
"8e4ffa4b7ab9438ad097d0fcbb7179547a808ad6","2006-10-04 11:44:59+00:00","Fix palette regression

svn-id: r24110
"
"1dd23850ecc2f3b20f07b6ef0f2b94be4b9b0393","2006-10-04 12:29:37+00:00","Correct frame rate in earlier games

svn-id: r24111
"
"a66907e27605c6175b6e8a52623e796bb98fdcbe","2006-10-04 13:29:14+00:00","Fix dumping of complete video script output

svn-id: r24112
"
"03e70bf32b88abe157059ec9fa3b33c6242f749b","2006-10-04 17:13:48+00:00","Fix for bug #1570189 (GUI: crash when pressing 'delete' at the end of the name)

svn-id: r24113
"
"54790cc2170d07c6c5dd5256601eb5e436d6d2ed","2006-10-04 20:20:50+00:00","typo

svn-id: r24114
"
"f7eee205bb6133fb5a65d95c12caa31e1a26d272","2006-10-04 20:22:14+00:00","o2_animateActor is essentially identical to o5_animateActor -- removed in favor of the latter

svn-id: r24115
"
"98f62b9e65ad771cfa1993ac5da492650281f55f","2006-10-04 20:22:47+00:00","WORKAROUND bug #859513 (ZAK: 'Oxygene-bug' on Mars)

svn-id: r24116
"
"b18fdb4c0a146dada1f4e33ca8e7d285e794156d","2006-10-05 00:16:50+00:00","Remove sound hacks for DS port, which would cause no speech or subtitles in Simon 1 with speech

svn-id: r24117
"
"5fe35cbe9aa7f09bbf05c9d852b51537cdb39733","2006-10-05 01:17:59+00:00","Reduce memory required by each game, and add safety checks

svn-id: r24118
"
"73552266c6dd0db3e7ff0da92748a3bfcfb87e00","2006-10-05 02:08:51+00:00","Elvira 1 require more table memory for now

svn-id: r24119
"
"d7ac158813b0f7b5e9ce0453ce391c9c6af4741b","2006-10-05 03:43:40+00:00","Add Amiga versions of Elvira 1/2 and Waxworks

svn-id: r24120
"
"5074da16d33c0de24ec99e6773c66600f5c75962","2006-10-05 05:27:10+00:00","Add more code and stubs for WW

svn-id: r24121
"
"4dd72f0b3b6f92722e403eeb11f8227f6374f42c","2006-10-05 08:54:51+00:00","Fix loading position of initial items in Elvira 1/2

svn-id: r24122
"
"5af4438cd25c7678544d09f6c574d00af4a84625","2006-10-05 10:10:26+00:00","Fix opening credits of Elvira 2

svn-id: r24123
"
"dcbad3a1ab92b8c2c6e5ec9939a75d74ce7eb6b3","2006-10-05 13:46:48+00:00","Fix startup of Elvira 1

svn-id: r24124
"
"9ae7bab9f211f240f9c7f35cb909c24e278d9552","2006-10-05 16:43:11+00:00","I hope this is the right fix for an 'invalid opcode' message right after
SET_PATHFIND_ITEM when dumping scripts. If so, perhaps it should be on the 0.9
branch as well. On the other hand, it only happens when debugging...

svn-id: r24125
"
"0ea2ed4b1dcf9737f94c8c319c7bcca68d795230","2006-10-05 19:10:04+00:00","Updated msvc8 project files.

svn-id: r24126
"
"ac7651b273568eff89a6bcb7488c8801164dd13c","2006-10-05 19:11:09+00:00","Silenced warning of msvc8.

svn-id: r24127
"
"b01275d8c5eec2b4a868d681f2b89649f50d2325","2006-10-05 20:27:09+00:00","Path fixup in the zipreader (necessary with my adapter/zip/build combination?)

svn-id: r24128
"
"3dc7c88e067b4fcf8828523b465ab9d377368784","2006-10-05 22:44:11+00:00","DS CPU scaling prototype, in 16 bit mode (for menu), not plugged(switch cpuScaler to test)

svn-id: r24129
"
"c22289416fb20a603c83ca33724e1198c39706bb","2006-10-06 00:36:13+00:00","Add more code for Elvira 1/2

svn-id: r24130
"
"7f99566784fd03339b1af43609c7572748213a9f","2006-10-06 04:51:22+00:00","Add support for skipping introduction in Elivra 1/2/WW

svn-id: r24131
"
"7ac1f00f0b688dfe5a2bfaf466b0cd467edbbba4","2006-10-06 04:56:25+00:00","Ooops, restrict o_loadZone() changes to older games only

svn-id: r24132
"
"3183f364225617252f3ac4f74b4056ac5238a610","2006-10-06 05:13:09+00:00","Add Amiga demo of Elvira, and switch to elvira1 for Elvira

svn-id: r24133
"
"81cbb8f71826eb8c8df85aecebfec489ffe5caec","2006-10-06 05:17:54+00:00","Correct game titles for Elvira 1/2

svn-id: r24134
"
"f1475e24f56fd823fbeef9b2aaffae8ac49160c2","2006-10-06 06:12:57+00:00","Add debug video opcodes table for Elvira 1

svn-id: r24135
"
"85c9bb032995e7372355f10455b5504e75b4a8d4","2006-10-06 07:44:03+00:00","Add initial debug opcode table for Elvira1

svn-id: r24136
"
"86378039412c7f59fcda3cf2191584449f417bee","2006-10-06 08:00:41+00:00","Update ebug opcode table for Elvira1

svn-id: r24137
"
"d16c635a12ee3fc7936c00a6204815e057997f52","2006-10-06 08:30:07+00:00","Alwats report invalid opcodes when debug output is enabled

svn-id: r24138
"
"e0b76855d31917c70a4d7db44555acbcdd12fdc5","2006-10-06 09:21:34+00:00","Correct typo in game title for Elvira 2

svn-id: r24139
"
"1d310debd93a8fe1dbe06b3897e45ac120fe5e3e","2006-10-06 12:58:11+00:00","Fix dectection of hit areas in earlier games

svn-id: r24140
"
"38195077d4b9fa8a3a0a73c8e60d193dc7f87f6b","2006-10-06 14:44:39+00:00","Add more code for Elvira 1

svn-id: r24141
"
"4b900edfeb984518d910bd46d85db4adc2061921","2006-10-06 15:16:56+00:00","Add more code for Elvira 2

svn-id: r24142
"
"e75bea0c8f454bbeac842414a7ab8c4c77321801","2006-10-06 15:59:59+00:00","Add more code for Elvira 2

svn-id: r24143
"
"3d84f1104688db0b23b6fe9ccc86b587ac597837","2006-10-06 19:01:39+00:00","Patch #1432376: 'Very basic GP2X Backend'

svn-id: r24144
"
"1373686c348f33634bc284c993cb0d5c2b6f0ff6","2006-10-06 19:08:55+00:00","Added DJWillis as official GP2X porter.

svn-id: r24145
"
"26e4e1680050448ad85693d7be5cb07abdeab89c","2006-10-07 00:22:48+00:00","Started to refactor the plugin code (moving backend specific stuff into backends/plugins/)

svn-id: r24148
"
"8d82ffd31b1b85f94f5ef3a17a5a51ae5855990d","2006-10-07 00:31:33+00:00","Added plugin providers for Win32 and DC

svn-id: r24149
"
"d88288120bbe3f710a264f9ff675f9c3ee2d6da9","2006-10-07 00:35:05+00:00","Fixed mixup in win32 plugin provider code, and added win32 & dc plugin providers to the build system

svn-id: r24150
"
"28ef091808a0a640b50606735f791f3269c39ee7","2006-10-07 00:48:28+00:00","Modified configure to #define SDL_BACKEND when using the SDL backend (akin to X11_BACKEND)

svn-id: r24151
"
"c8a21d19d164d40fc543d3a908789ee249a292fc","2006-10-07 00:51:16+00:00","Added SDL plugin provider

svn-id: r24152
"
"df5be194098e188f9cd3234af2bea34b67d19da2","2006-10-07 01:05:12+00:00","Instantiate and hook up the plugin providers in the main() function of the corresponding backends (porters may have to update their ports if they were using the POSIX or Win32 module loading code implicitly); some cleanup

svn-id: r24153
"
"e4c9d0a4e3f3e57ac441eb8a21f1ea1ac142a5cd","2006-10-07 01:10:32+00:00","Add more script opcodes for Elvira 1/2/WW

svn-id: r24154
"
"f11c3d1f26a1085cb37591da31aa58d2b0a3b076","2006-10-07 01:56:31+00:00","Removed some left-over (I think!) code from unloadPluginsExcept() that was
causing ScummVM to crash for me.

svn-id: r24155
"
"8afacd96b9cc22edcd8e2df937667b7e0f131e5a","2006-10-07 03:02:56+00:00","Add code for printing to boxes in Waxworks

svn-id: r24156
"
"60f7d9766539f3f389673475aa48c2bc4ef142a5","2006-10-07 03:24:40+00:00","Whitespace changes

svn-id: r24157
"
"f6a6818c5a486cc84b04862fefb75456797aa2fb","2006-10-07 03:31:17+00:00","Minor cleanup

svn-id: r24158
"
"22a14014b3fee7bdd4220f6b21d065f3a10763bb","2006-10-07 03:43:51+00:00","Minor cleanup

svn-id: r24159
"
"d961722cb0a4af2d801027779928946ce5c34ea1","2006-10-07 06:09:24+00:00","Fix compilation. SDL.h is required for SDL_GetError()

svn-id: r24160
"
"1a785b85b3255ac1d5e2f6ba9461922020f8c108","2006-10-07 08:28:06+00:00","Add more code differences in Elvira 1

svn-id: r24161
"
"05e7423ed8edc62f6a0268c817711ab74eeee92d","2006-10-07 08:38:31+00:00","Fixed warning.

svn-id: r24162
"
"ef30cdf78bcb685fea823c6e95b6490ffd66823f","2006-10-07 11:54:50+00:00","some HE related cleanup

svn-id: r24163
"
"f13e4baaf987cb65045c3ffeb01fb9d5e530e1da","2006-10-07 12:19:28+00:00","Renemaed ScummEngine::processKbd to processInput (as it also deals with the mouse)

svn-id: r24164
"
"c3fb1fbcd44afbc7b66d6973d194246e0ff7352e","2006-10-07 12:33:22+00:00","Moved SCUMM keyboard handling code from processInput() to the new (sub)method processKeyboard

svn-id: r24165
"
"f3e410a2acd1f1b39f5236ed92170ac05a00629e","2006-10-07 13:11:51+00:00","Further split processKeyboard code, moving stuff specific to some SCUMM version into the resp. subclass of ScummEngine

svn-id: r24166
"
"5f0874ef6380ac6a657c3f769bf7d5caeddc63df","2006-10-07 13:31:27+00:00","Some more processKeyboard splitting

svn-id: r24167
"
"f6407f01f88633266b92b2f8950a072e49b2a17c","2006-10-07 13:33:41+00:00","Partial fix for Elvira 1 palette problems.

svn-id: r24168
"
"4973c657b81344409544dd340cf498e6a745b2b7","2006-10-07 13:57:06+00:00","Moved all INSANE and SMUSH related code into ScummEngine_v7 (resp. ScummEngine_v6 in a few cases)

svn-id: r24169
"
"e31ae8edc7a667d853c87cc17836a47bef12a90c","2006-10-07 15:37:03+00:00","Moved calls to addDefaultDirectory, and creation of the master file handle, from the ScummEngine constructor to ScummEngine::init() (this makes it easier to implement more graceful error handling, for example)

svn-id: r24173
"
"71bea97de7f4127cf45a4df5d824e9c7db32cc5c","2006-10-07 15:46:38+00:00","Clarified comment

svn-id: r24174
"
"ff6731e00a86d81bcc392c57586670a94497ded0","2006-10-07 17:42:32+00:00","Removed 'smushMode' param from processInput and processKeyboard in favor of a new member _smushActive of ScummEngine_v7

svn-id: r24175
"
"9cba1436996ae8f8c2e06b9daffaca3f0a9ff6cf","2006-10-07 17:49:05+00:00","Removed _lastKeyHit, instead pass the key code as a parameter to processKeyboard()

svn-id: r24176
"
"f09123a1b45a093e3fab74dbdec2d19197276c53","2006-10-07 19:15:19+00:00","Fixed compilation.

svn-id: r24177
"
"e93787490b00e848c209dac5da1814df8127d35c","2006-10-07 21:05:31+00:00","#include <base/engine.h> -> #include <engines/engine.h (Though I don't like
those angle brackets)

svn-id: r24178
"
"7212dfaa2222283800352043989802837dd90c7f","2006-10-07 21:22:32+00:00","Whitespaces.

svn-id: r24179
"
"fbbc6096104a588204a3aa75f2eb72afeca74f59","2006-10-08 00:00:58+00:00","A few corrections for Elvira 1 game details

svn-id: r24180
"
"dca237598b7389745fe4d545e1fd942e4a38ca3c","2006-10-08 00:20:44+00:00","Added a const qualifier inside struct ADGameDescription (rule of thumb: Make as many pointers and members const as possible, it helps prevent bugs, and potentially helps the optimizer)

svn-id: r24181
"
"d280234ae7ee3a336d87e8ef61c1af321926c02d","2006-10-08 00:21:40+00:00","Added more const qualifiers

svn-id: r24182
"
"e3797919fcd518f9b8ac640c7b6b427b1d6c891d","2006-10-08 00:41:29+00:00","Replaced evil usage of static globals inside function by proper member variables

svn-id: r24183
"
"25cfb5feb1128318016a215575874964b70d47b9","2006-10-08 00:42:31+00:00","Added a FIXME comment

svn-id: r24184
"
"c9245a0ffea03f33b3b4bed09068af915c30d2d7","2006-10-08 01:05:10+00:00","Uses the slider background settings instead of the edit text widget settings for the slider background.

svn-id: r24187
"
"56153086e5be87cd0542c620cd5417b1d4779f41","2006-10-08 01:46:38+00:00","Add code for displaying stastics in Elvira 1

svn-id: r24188
"
"07183595e79ddbe2bdc2c07da461d2baf60b6cb1","2006-10-08 07:42:34+00:00","Add a few palette differences and fix input in Elvira 1

svn-id: r24190
"
"9142322cb0f7a4270b910a6c5573ba5645812029","2006-10-08 07:48:19+00:00","More const madness.

svn-id: r24191
"
"de280a5a5c68bd12ecbbf22e7cc522963a0bc423","2006-10-08 08:18:33+00:00","The extra Elvira 1 colours have to be 're-scaled' to 8 bits. Cleaned up the
code a bit to make that more obvious.

svn-id: r24192
"
"245a40963ad8e5fe1779d872f2127573e1eb918a","2006-10-08 08:35:25+00:00","Add opcode for Elvira 1 and remove errors that don't occur in original games

svn-id: r24193
"
"ed4f078fc83c9a93723c4edf517cc47723471973","2006-10-08 08:47:33+00:00","Add invert box difference in Elvira 1

svn-id: r24194
"
"4188e40c5d83b402e3cdc07cf5f0fbd8356b6ace","2006-10-08 08:57:26+00:00","Add invert box difference in Elvira 2

svn-id: r24195
"
"bc4e7d4f82ce15e8fe6cd2a79db6a3a7a7257055","2006-10-08 09:02:31+00:00","Whitespace.

svn-id: r24196
"
"0317b11460349d89e2cfb7d7aecc79eb54e5ca64","2006-10-08 09:44:06+00:00","Fixed regression in non-Elvira games.

svn-id: r24197
"
"9aee6f3ff6c90977d9af8203b4f331243033ecca","2006-10-08 10:43:49+00:00","Correct x position, when printing stasticsin Elvira 1

svn-id: r24198
"
"5e5a221b0eba9dac64b81dbabfb613c19ddb7045","2006-10-08 10:57:48+00:00","- added config file support for the classic theme
- added a sample config file (called 'classic.ini', which is based on Theme::_defaultConfigINI)
- added check for the type of the theme config file ('modern' and 'classic' for the respective Theme classes)
- bumped theme config version for the modern theme

svn-id: r24199
"
"9c88c9d9edde324f7ff1e7792447cb667df78d4e","2006-10-08 11:03:46+00:00","Ooops. making the classic theme working without a config again.

svn-id: r24200
"
"25486c789e1fdfb46e8aeff31252f6590a8d3066","2006-10-08 12:00:19+00:00","- added auto detection of the Theme style to use
- fixed a bug which would lead to a crash when loading the modern theme config with the classic theme

svn-id: r24201
"
"bf6ba21d83853a5fb2f951a94e0629ffb861577c","2006-10-08 12:31:05+00:00","commit 'fixed regression in BASS adlib music.' from 0-9-0 branch to trunk

svn-id: r24204
"
"66cf5f0eefa0c3a4810f723246b0a02de8477413","2006-10-08 12:50:53+00:00","Patch #1573141: Attempt to fix AmigaOS 4 / Broken Sword 2 problems

svn-id: r24206
"
"ea464507ea224c5cbce3bdff3054485783d422ff","2006-10-08 15:25:02+00:00","Mention 0.9.1 PS2 changes in trunk too.

svn-id: r24207
"
"723e3224f970bcf8372298caa4658bbb2b0f3a98","2006-10-08 15:35:20+00:00","update project files

svn-id: r24208
"
"0f177137637301274185a12053229f7e62caa200","2006-10-08 15:46:23+00:00","fixed potentially uninitialized local variable 'x'

svn-id: r24209
"
"1307f597a69ac913b6045a9dfa8e07221e021cde","2006-10-08 15:55:09+00:00","fixed assert in isspace function because wrong variable type for chars when they value is greater then 128. isspace take as 'int' type param (at least in ms sdk)

svn-id: r24210
"
"4524b49872b238db92922dbe961a8f1aa8430178","2006-10-08 18:15:18+00:00","Initial commit of the wince-gcc re-port

svn-id: r24212
"
"3a81941981a6ca5fab229ff9aeb6b05b94a444bc","2006-10-08 18:22:28+00:00","- Added dialog for selecting the theme to use
- Added runtime theme switching

svn-id: r24213
"
"ce100c8e930fde6d9cb9d70fcae201dfee10f407","2006-10-08 18:22:51+00:00","small unify handleIACT function

svn-id: r24214
"
"0b75c747177fdba2910dd92ae427ee03d10f6a53","2006-10-08 18:30:33+00:00","Kill evc project files

svn-id: r24215
"
"1ced1777f8baca3e93bd7adfeea3a9a1e66a8cb4","2006-10-08 18:49:25+00:00","- Forcing 'classic' as the builtin classic theme (which means it ignores the classic.ini atm)

svn-id: r24216
"
"a972fc57cd298afa43c9ea735ea7da0d6ff0a634","2006-10-08 18:53:10+00:00","Added a comment about how the theme browser finds the themes.

svn-id: r24218
"
"384ef282ba0b39ac053421c6e10a3198d8fc6f79","2006-10-08 18:59:58+00:00","Update NEWS with new GP2X port added comment.

svn-id: r24219
"
"d6665bc92933a9bbe4481c0222be943e205c7576","2006-10-08 19:07:43+00:00","Announce the wince-gcc re-port

svn-id: r24220
"
"4e22b8262a7db51a3926682f36c45b850a387670","2006-10-08 19:23:08+00:00","remove handleSkip code, SKIP chunk is only used by INSANE code and exist only in 4 SAN files: minedriv, toranch, tovista1, tovista2

svn-id: r24221
"
"e11bfe5f495176156f9b3d2c855ce87cd35e9a3e","2006-10-08 19:24:31+00:00","- reworked my commit for r24216, not 'Classic (Builtin)' uses the builtin classic theme and classic uses the classic.ini file
- save the chosen theme now

svn-id: r24222
"
"fa668d275fa091e3dbc749139d721e2d6d7add40","2006-10-08 19:28:15+00:00","Display the correct theme name if it's specified with --gui-theme

svn-id: r24223
"
"ff4d0d79696d3ca3c7ef8837decbc03e2c0b1ad8","2006-10-08 19:31:57+00:00","Mention new GUI theme switching dialog in the NEWS.

svn-id: r24224
"
"f73861c94357919fef8173463b879ef3fa241c7f","2006-10-08 19:35:13+00:00","re-add missing break; removed by mistake

svn-id: r24225
"
"430317dc92b58470d0b66987717ba33cf71f0930","2006-10-08 19:39:46+00:00","removed not needed anymore time measures in smush code

svn-id: r24226
"
"7f1ddf9ccede2cf0ecb0e2288d6360371b926c57","2006-10-08 19:45:27+00:00","Fixed compile.

svn-id: r24227
"
"51edc30e7125308f2aa7404c4202833b195c2d2f","2006-10-08 19:47:55+00:00","Renaming classic.ini to classic080.ini.

svn-id: r24228
"
"97d9293476b4df337e1e25e68ca81ffd36002683","2006-10-08 19:51:20+00:00","Adding a 'name' field to the theme config which is used for nice theme names in the theme browser.

svn-id: r24229
"
"d24f0a7fbd9106b1fd3190d60f838fcfdf2f8309","2006-10-08 19:54:52+00:00","Now the 'gui_theme' setting saving works...

svn-id: r24230
"
"3e59682e34e96a9bc41c502ada4b9d0948b46aa3","2006-10-08 20:08:00+00:00","Displaying the theme name instead of the theme config file name in the 'Misc' section of the Options dialog.

svn-id: r24231
"
"cfe6d9725cfbba51fa5593b805cb617cb20f3b03","2006-10-08 20:19:23+00:00","Making engines working again.

svn-id: r24232
"
"ab7bced4fd3233ee3d347712789ac4921dda1af2","2006-10-08 20:37:39+00:00","Final fix for wrong cursor palettes in SCUMM games after using the GUI.

svn-id: r24233
"
"16276155b68a9a7978199edc86be8fa01a32f0c0","2006-10-08 20:46:09+00:00","Adding option to enable/disable blending for the classic theme.

svn-id: r24234
"
"7721c0d0392c1d47c7f36cd26fa5d2ea485e6e2e","2006-10-08 21:03:19+00:00","Make modern and classic theme config files use the same version number.

svn-id: r24236
"
"cb0e8b577dd06a57c4f3fac298523cf169f9f9a9","2006-10-08 21:15:38+00:00","Fixed disabled blending for classic theme.

svn-id: r24237
"
"6474c8cabf245e8e48a9ac721688a8e6c14cfac4","2006-10-08 21:23:48+00:00","Oops...

svn-id: r24238
"
"52ddda5a85bc45606b7a98973ab537c149469b82","2006-10-08 21:24:56+00:00","Updates to the GP2X backend specific README-GP2X (and HTML ver)

svn-id: r24239
"
"7e731d7b4cdeff18e2e9c647e3945015046c593e","2006-10-08 21:25:06+00:00","Cleanup.

svn-id: r24240
"
"9fbe8481d8590ee61cc07a28e9bded3b440c3a3e","2006-10-09 01:56:51+00:00","Add conversion for planar graphics in Amiga version of Elvira 1/2 and Waxworks

svn-id: r24242
"
"5b048de879a8bcf8eaad422d6f8cf741630d9256","2006-10-09 01:58:48+00:00","Add conversion for planar graphics in Amiga version of Elvira 1/2 and Waxworks

svn-id: r24243
"
"5e827e1e5dfd1378a2baca5decde7fd61a01bab4","2006-10-09 02:01:37+00:00","Update comment

svn-id: r24244
"
"aac87e10c25c1fc4999fdd303a2e0b9e30d8d4b8","2006-10-09 02:12:24+00:00","Minor cleanup

svn-id: r24245
"
"20a0bc67004b556b5bbf82babdba0c24cf77dafb","2006-10-09 02:59:40+00:00","Fix invalid reads during conversion

svn-id: r24246
"
"5dc2183939fd2a554ea4e181e4c514869a6f8f95","2006-10-09 06:11:51+00:00","Fix the display of backgrounds in Amiga disk versions of Simon1

svn-id: r24247
"
"05dfe432affda2a9f35712b20257d1b07f83abde","2006-10-09 06:53:55+00:00","NDS and GP2X ports will go to 0.9.1

svn-id: r24248
"
"b2d4d36e8bf954aaa82cb6cadeb07fbc17d569f0","2006-10-09 10:26:27+00:00","Add Amiga ECS verison of Simon the Sorcerer 1

svn-id: r24250
"
"757fc9467626d548250a9c1fae0b05e54f8bc407","2006-10-09 11:06:56+00:00","Enable convert code for Amiga CD32 version of Simon1 too

svn-id: r24251
"
"a2fb2e47cbbdba4ed6b037f22032dd700cd9f947","2006-10-09 11:42:12+00:00","Implement stdout/stderr redirection

svn-id: r24252
"
"82775ed89006f4913fe985c6b6069341ef11634e","2006-10-09 13:00:25+00:00","Use correct video window values for each game and minor cleanup

svn-id: r24253
"
"651f9f2ad7367ab1e57d51ea179dacf3025bcf3c","2006-10-09 15:42:55+00:00","Casting 'buffer' to uint32 makes absolutely no sense to me. As far as I can
tell, we just want to add an offset to a byte pointer.

svn-id: r24254
"
"9aa0984702d4b91bd4839acfc1ae68cfabf5b84f","2006-10-09 20:38:59+00:00","Fix GP2X ifdef error in initial patch. Sorry.

svn-id: r24257
"
"043fe970c55ec9063b268593f44973f4f45d6d07","2006-10-09 20:48:30+00:00","Update GP2X backend with overloads for default config file stuff (including save location).

svn-id: r24258
"
"c5044d67c90c2886d88b3bb82df737ac93d945b5","2006-10-10 11:25:45+00:00","Fix movement in Elvira 1

svn-id: r24260
"
"99df94503818613b4ae799a2b1742b3b2318dbd4","2006-10-10 11:44:58+00:00","Fix guard response in Elvira 1

svn-id: r24261
"
"89f79acb84071d56c3758281287d9c3b0c0ed545","2006-10-10 12:13:47+00:00","Fix and remove duplicate opcode for Elvira 1

svn-id: r24262
"
"e85ab4b10fedf9660efffb386512ed6a36956422","2006-10-10 12:16:21+00:00","now SmushPlayer is class created once same as SmushMixer while scumm engine creation. this allow finish play smush audio track finished to the end instead immediately stopped as it was happen before

svn-id: r24263
"
"1ba6288a9606547d7944a39e8ad41a859e1f3c6f","2006-10-10 12:33:59+00:00","update project files

svn-id: r24264
"
"a025cf49b4d35828bcb11a5b8edfc249f14515eb","2006-10-10 13:08:27+00:00","Ooops, remove debug left overs

svn-id: r24265
"
"82590155eb0ada32dda8706ed1ce41432fca7e46","2006-10-10 15:15:00+00:00","Merge ozone header

svn-id: r24266
"
"8bb7a5155e5b2c42a6bd0b2596154fa2ff67a532","2006-10-10 15:30:46+00:00","newres.h is not needed anymore

svn-id: r24267
"
"5aeb4bf8ce352a67b87019ddd513f200258b28cd","2006-10-10 15:51:11+00:00","Merge dirs

svn-id: r24268
"
"88bb217801a9e1cbb580207a3df26abfee59bcd2","2006-10-10 20:35:58+00:00","Using the correct factor for the slider background now.

svn-id: r24269
"
"08a2365695aafd9b21bb8304de7ac711f4dc697e","2006-10-11 01:51:10+00:00","Increase buffer size for Elvira 1

svn-id: r24270
"
"a8df97ede86e2d7bb87cbd8d5af109a7e878c3d0","2006-10-11 09:21:59+00:00","Fix palette display of lower part of screne in Elvira 1

svn-id: r24271
"
"2a876e11b52cdf80b697b9d4bf973ec02fb284c9","2006-10-11 12:03:47+00:00","Add support for clearWindow and cleanup

svn-id: r24272
"
"b0753738a3f0bbf543441b8c4af83f0cc2e51404","2006-10-11 13:53:30+00:00","Fix file caching

svn-id: r24273
"
"2fbafbf7494ffab7df3e840a144f1c2243ec01ef","2006-10-11 14:03:40+00:00","Add opcode for Elvira 1

svn-id: r24277
"
"39613c7eec25450f018eecfae02a0d0618d0a0b0","2006-10-11 14:12:51+00:00","Avoid possible regressions

svn-id: r24278
"
"4311c3a04c50795cdbf9fdc550a5248ac901bd2e","2006-10-11 14:59:16+00:00","Add AtariST version of Elvira 1 and cleanup

svn-id: r24280
"
"6c66570726dba50397ab182e933774035275f149","2006-10-11 15:01:35+00:00","Minor cleanup

svn-id: r24281
"
"71b0add6017fc3d9a29a27d8e29d7492a2c7510d","2006-10-11 15:10:59+00:00","Cleanup

svn-id: r24282
"
"929375ae21f92ef1b56908aba92ac6ca4563526f","2006-10-12 05:54:18+00:00","Fix mistake in debug opcode table for Elvira 1

svn-id: r24283
"
"1ab09fd79becbdc07ee0313a6e82c3d5124a3c83","2006-10-13 02:22:33+00:00","Fix display of icons in Elvira 1

svn-id: r24284
"
"bddfa4fb7da9373d4f604626de555cda0af91d8f","2006-10-13 04:49:27+00:00","Fix room item loading in WW

svn-id: r24285
"
"71c33847933c8106096fc677b6dd609c7b2ec5e3","2006-10-13 04:57:07+00:00","Limit clearWindow to early games only, to avoid regressions

svn-id: r24286
"
"9d96bdfe9ae98593116474dc11c917bb0e7f51ed","2006-10-13 05:00:19+00:00","Fix regressions when drawing icons in FF

svn-id: r24287
"
"02fb079d0b511d06c8689e0712d7f3779657075b","2006-10-13 05:06:53+00:00","Added support for playing looped compressed sounds, so that Puzzle Pack can
play music properly, even if the music file has been compressed. I've only
actually tested this with Ogg Vorbis sounds, but I've deliberately written it
so that it should work identically for all the compression types. (Famous last
words.)

svn-id: r24288
"
"1564b76e1e79e86010b1828d58dcb7626ecbc145","2006-10-13 07:23:34+00:00","Fix position of descriptions in WW

svn-id: r24289
"
"053bbaf9bbb165a89bc800583f8b7066d97e2c4e","2006-10-13 08:51:26+00:00","Reenable incorrectly compressed files warning

svn-id: r24290
"
"a77a95516970766b945847297e8235ab70e46183","2006-10-13 09:14:43+00:00","Oops. rv last commit.

svn-id: r24291
"
"0385a4d2bbcde1fac41452f5f75f091c3e84e533","2006-10-13 09:16:09+00:00","Fix potentioal bug when all subsequent SMUSH scenes were considered INSANE

svn-id: r24292
"
"f46fb07f277cef1828c3807a38230db604df58d6","2006-10-13 11:38:41+00:00","Add differences in opcode table for Elvira 2 and cleanup

svn-id: r24294
"
"1f7ecda3d0506a24d537ffb30f5e8e992b6a10af","2006-10-13 12:55:53+00:00","Cleanup

svn-id: r24295
"
"802a7cfaccfecd34e29a8d92a45e7974e06118b9","2006-10-13 13:16:15+00:00","Cleanup

svn-id: r24296
"
"429cdfb131726036ba45148e120e075425873c40","2006-10-13 13:32:15+00:00","Ooops, add back lost code

svn-id: r24297
"
"d65e7826fd0c374757d8f897d2ffa4385b49eb62","2006-10-13 20:18:27+00:00","Fixes compiling for me with g++ (GCC) 4.1.2 20061007 (prerelease) (Debian 4.1.1-16) on amd64.

svn-id: r24298
"
"e87ff48e053b621dc5df63d42b561d69d0643bce","2006-10-13 23:19:07+00:00","Fix palette issues in Elvira 2/WW

svn-id: r24299
"
"ca620f02f327b95f8764d2b093c147a61b7c0814","2006-10-14 01:15:28+00:00","Add sound effects support for early games

svn-id: r24300
"
"49de64b3ccb7e6370218a206a1bfbb0ce669710f","2006-10-14 01:18:49+00:00","Ooops, correct dst pointer

svn-id: r24301
"
"05baf18ad619128777c81398e56cd83e70a9790d","2006-10-14 03:14:47+00:00","Fix introduction of WW

svn-id: r24302
"
"3559fcba43e359839a72dc9174b28c6fa0aa14cb","2006-10-14 03:15:35+00:00","Revert

svn-id: r24303
"
"996a1adf803d23636f6e8955e9fdaa358e460157","2006-10-14 05:47:18+00:00","Fix stopping of music in PP

svn-id: r24304
"
"9fb68c989f971cbed7a51432e3192bd418fefdf6","2006-10-14 06:12:12+00:00","Fix glitch in introduction of WW

svn-id: r24305
"
"d9dfca2fe9b47bfe74656ea266b89f37e2cf69f1","2006-10-14 06:23:19+00:00","Fix charset palette in Elvira 2/WW

svn-id: r24306
"
"26cbbb2ad33b6dabb360a576056749f7e09f66c2","2006-10-14 11:38:00+00:00","Correct cut and paste error in gameid

svn-id: r24307
"
"34b493daf8d922542db93cf621894ed8c80190fc","2006-10-14 12:10:12+00:00","Fix stub for Amiga demo of Elvira 1

svn-id: r24308
"
"93600ae194cf825d2f01d228d2501f2911941fc5","2006-10-14 12:31:08+00:00","Reenable INSANE warning. No check is required.

svn-id: r24309
"
"2c011da3c1361147b88ff8ac009ba34e570ad16c","2006-10-14 13:11:22+00:00","Fixed bug #1573366 ('SMUSH: unpausing the game causes cursor to show').

svn-id: r24310
"
"1e0f2f6d1b6ede9f68424b10bb5dff53262cb074","2006-10-14 13:22:47+00:00","Remove unneeded #includes.

svn-id: r24311
"
"12a8077c0d778bd6540e425e8dcf3a0fdbd5275f","2006-10-14 13:23:54+00:00","Remove unneeded #includes.

svn-id: r24312
"
"2534fbe04c9a1990655288dcf703025593665190","2006-10-14 13:51:01+00:00","Add more filename differences in Amiga demo of Elvira 1

svn-id: r24313
"
"b4fcc3b17af8cf7f58b4ea02331602c92e906a4e","2006-10-14 14:16:16+00:00","Update the screen immediately after restoring the cursor on running a dialog.
This is a bit of a hack, but makes it less likely that the player will see a
brief cursor palette glitch when the GUI is disabled.

svn-id: r24314
"
"c028323a29dea12901d70c7a4f6de97a231728aa","2006-10-14 14:29:14+00:00","Add extra video opcodes for Elvira 1 demo

svn-id: r24315
"
"ac482cb21741efe25423b122af0052017c846943","2006-10-14 14:38:25+00:00","Remove excess stopVoice code for PP, which isn't required under ScummVM

svn-id: r24316
"
"8bc0b11cda89d1b4f44043c2620230193b0c4b5a","2006-10-14 14:51:15+00:00","Add game details for menu file used by early games

svn-id: r24317
"
"9def30e30203da4f039d1bc3320983482c54940a","2006-10-15 00:49:36+00:00","Patch #1574436: Cosmetic changes to configure

svn-id: r24318
"
"84874caf0647976fceb16bf59cfcac77f4055770","2006-10-15 00:50:22+00:00","Got rid of ScummEngine::_confirmExit, and some other minor cleanup

svn-id: r24319
"
"95749148cfe40c476e7bbf35075c962a660ced04","2006-10-15 01:06:44+00:00","Add proper game detection to CinE engine.

svn-id: r24320
"
"018d5e350c396cadb2abff39acbf9ba47a3d4010","2006-10-15 01:13:43+00:00","Since proper detection is added to CinE, build it by default and
announce as supported. Future Wars is completable.

svn-id: r24321
"
"2888110b3ccea294bed469aa2a3dbb522ddc909b","2006-10-15 01:24:17+00:00","Turning various static tables into static const

svn-id: r24323
"
"1ee9304012a162a418d5f030ee32dae82b80d2d7","2006-10-15 01:26:23+00:00","Replaced function level static variable (YUCK) called 'sentence' by ScummEngine_v2:_sentenceBuf

svn-id: r24324
"
"ad3723ac43d0ab2c043be83c83d7eb13c87ad3ab","2006-10-15 01:27:38+00:00","Replaced Chunk::ChunkString by tag2str

svn-id: r24325
"
"65e923480eec9e73ca6eaca5a3ad2ab62089d92f","2006-10-15 01:44:58+00:00","oops

svn-id: r24326
"
"548cb2fbadece7d45a6b4a606385d953f46ffb6a","2006-10-15 01:51:02+00:00","Added FIXME comment about 'static' abuse in imuse_part.cpp

svn-id: r24327
"
"a9b0a055c82ca7f8afd510f8719c3418f336c976","2006-10-15 02:00:37+00:00","Moved get_resource_id_quoted around a bit and added another FIXME comment

svn-id: r24328
"
"27b73e4960876c8d5efaee27e0365beeba544b7f","2006-10-15 02:00:48+00:00","Turned some more static vars into static const

svn-id: r24329
"
"b5cbbd705a27bba26dd2a312c37578a63233ff27","2006-10-15 02:15:38+00:00","Added some more const keywords

svn-id: r24330
"
"2f639ab4d78862be3c4ba0bfe1b951f1245f0b22","2006-10-15 03:58:31+00:00","Add AtariST version of Elvira 2

svn-id: r24331
"
"ed897780369cd866e6656ad22942a9984dcdbdcc","2006-10-15 04:15:48+00:00","Add menu support for Amiga demo of Elvira 1

svn-id: r24332
"
"8925e814a75ea7a2464784c6587377ab054e6ad2","2006-10-15 05:59:22+00:00","Minor cleanup

svn-id: r24333
"
"707b733f431edaad0dba91e4d66b5cf21b2b2355","2006-10-15 07:51:27+00:00","Add another filename difference in Amiga versions

svn-id: r24334
"
"2381b229ffc420ac492c467f1fd5c9fc20b9e80c","2006-10-15 08:08:50+00:00","Only stop the required sound channel, when switching sound files

svn-id: r24335
"
"ea1cbea9f66867d6ad4ab1f7744d629735285fd1","2006-10-15 09:08:51+00:00","Rename items.cpp to script.cpp

svn-id: r24336
"
"b9ed8359629970d1390c4fe99841cc92d1eca1ad","2006-10-15 13:13:33+00:00","Amiga sound files aren't compressed

svn-id: r24338
"
"ab90fd086e12ee7e0ac91f252b3b9fe942029aa6","2006-10-15 21:11:27+00:00","Reanmed CD -> '256 colors'

svn-id: r24339
"
"6ee478369a47d57343f87a2757f811fa9704848a","2006-10-15 21:21:17+00:00","Reflect Simon engine rename in credits too.

svn-id: r24340
"
"b2ce8001cd2d683bceacea2496db5606e8c4032b","2006-10-15 21:50:34+00:00","Added MD5 for Future Wars included in the UK 'Classic Collection'.

svn-id: r24343
"
"0c761c26ab953323192bc1772c389e712af91a63","2006-10-16 04:31:09+00:00","Auto decrunch the gamexx file when required

svn-id: r24344
"
"087331e102e44650903660446d3f3490a692777b","2006-10-16 04:40:50+00:00","Add work around for converter crash in Amiga version of WW for now

svn-id: r24345
"
"6388455615f313190bdcc2d5e93fd7fc74786775","2006-10-16 04:51:33+00:00","Disable mouse cursor in Amiga demo of Elvira 1

svn-id: r24346
"
"45400860f0d7cc54a6dd36e533f74951dc617a77","2006-10-16 08:41:50+00:00","Enable menus in WW, allows more progress

svn-id: r24347
"
"a965e8140c166940f691b85d62c69272a6efefe2","2006-10-16 09:44:47+00:00","Add more opcode differences for WW

svn-id: r24348
"
"a833a2fb8e68e994d35f37317ac74da0dd931656","2006-10-16 11:20:20+00:00","Enable menus in Elvira 2

svn-id: r24349
"
"0a51fbb326afe2604a457eef907a6901b06b7152","2006-10-16 11:23:47+00:00","Add Elvira 2 difference in clearMenuStrip

svn-id: r24350
"
"7282e24d3bec5aaa598c6602da18f05783b5abaa","2006-10-16 22:20:46+00:00","Add WIP (not yet plugged in) Protracker modules player

svn-id: r24351
"
"04a52f664be170a0dcc27b31d70b29ec87a06b2c","2006-10-16 23:17:53+00:00","Add patch #1578573 - ELVIRA: More game versions

svn-id: r24354
"
"e2814e0368d159379c3b25170a75ea09b8d9d838","2006-10-17 00:38:04+00:00","Add more icons code differences for Elvira 1/2/WW

svn-id: r24355
"
"d41192d4fcc23e058a45565c8e637225cfe19ae8","2006-10-17 01:04:14+00:00","Add minor differences in windows code of Elvira 1/2/WW

svn-id: r24356
"
"b785cf3601a693dfc696f681a3532b4c27c23c4f","2006-10-17 01:17:48+00:00","Fix clearing window, when removing icons in earlier games

svn-id: r24357
"
"dc65aecb7dbcff530bc434dedd760071fd20d326","2006-10-17 01:45:48+00:00","Whitespace changes

svn-id: r24358
"
"8e50367bff8b6920956af36c224b9f75eafaf205","2006-10-17 07:29:31+00:00","The Amiga demo of Elvira 1 includes several VGA sound files, with a file size of zero

svn-id: r24359
"
"b0ddc9fde5b7d06125346f433946bb2bc8a40f2b","2006-10-17 11:02:42+00:00","Remove duplicate opcode in WW

svn-id: r24360
"
"f4c27c212738d538d1bee44c514d41e937303fdd","2006-10-18 11:52:55+00:00","Add mouse cursors for WW

svn-id: r24361
"
"744cfc14af4926268820a543bff9c140ca2cc1fd","2006-10-18 12:23:43+00:00","Fix display of sword cursor in WW

svn-id: r24362
"
"ef4e68a8f5dad68abb22fdc174ff47b7ae7e7b7f","2006-10-18 12:37:22+00:00","Fix assignment-instead-of-compare bug in AGOSEngine::menuFor_e2

svn-id: r24363
"
"dd7e4ff3e79f3d1cc48637d4da96e27fd12fa2de","2006-10-18 13:33:42+00:00","SCUMM: walbox related cleanup

svn-id: r24365
"
"f51e01a0aa1fa89e381044f04dd7b1e3483b35f5","2006-10-18 14:01:06+00:00","SCUMM: Yet another minox walkbox cleanup

svn-id: r24366
"
"92adf6a65c9432a2e177b8f7bcbcf235110345b8","2006-10-18 14:01:28+00:00","SCUMM: reordered contents of actor.cpp, grouping methods in a hopefully somewhat more logical fashion

svn-id: r24367
"
"5e46a45aa544e4b536a2656102369de848959dc8","2006-10-18 14:21:44+00:00","SCUMM: Moved getDistanceBetween to clas ScummEngine_v6; grouped inventory related stuff in object.cpp

svn-id: r24368
"
"74c5d457e4e602ecf82d4c836e991fc288c3b6fa","2006-10-18 14:30:29+00:00","SCUMM: Be less generous to code invoking checkXYInBoxBounds with a bad box param: we now abort instead of ignoring it silently. May cause some trivial-to-fix regressions

svn-id: r24369
"
"1a086279b25b802f5b4c905afdd4fec4509002cd","2006-10-18 14:48:51+00:00","Added Point::sqrDist method to (safely) compute the square of the distance between two points

svn-id: r24370
"
"3467a6f19b5ddd2266a0133a66c0c0b7c874b208","2006-10-18 15:08:43+00:00","SCUMM: Got rid of BompHeader

svn-id: r24371
"
"865e7b7c027d180c917cb0ba8b25a42a3faf3319","2006-10-18 15:09:11+00:00","cleanup

svn-id: r24372
"
"169bc3880df8951f6ce8bbcb335ce6da8ad892e3","2006-10-18 15:55:10+00:00","cleanup

svn-id: r24373
"
"cf60ba63e9a6d2656e3b64378bc8ceee5e5238bc","2006-10-18 18:34:40+00:00","some cleanup.

svn-id: r24374
"
"38d6a4d8d437a7049fe3b5a3cf838d594a49e3e5","2006-10-18 18:57:22+00:00","Credit madmoose for his MOD player.

svn-id: r24375
"
"5148dbb3fb30303a562cd36e87d3ac805c69673e","2006-10-19 00:06:59+00:00","cleanup

svn-id: r24383
"
"a0b9f78bd374c1844472c4b8de1b721c2745bc44","2006-10-19 00:26:55+00:00","SCUMM: Introduced V12_X_MULTIPLIER and V12_Y_MULTIPLIER to make it a bit easier to find spots where we convert between C64-style coordinates and pixel coordinates (but beware, this probably doesnt't cover all relevant instances)

svn-id: r24384
"
"6e872547c30d8de61c6e1353ec9f74c693b75b29","2006-10-19 05:21:07+00:00","Add support for arrows keys in WW

svn-id: r24385
"
"ed3c6871f967ab15321df14ca6a026e08d96fae1","2006-10-19 05:28:05+00:00","Ooops, disable code for loading modules

svn-id: r24386
"
"8c72861de463e0db36b234750fb19904e5f04d3b","2006-10-19 05:37:22+00:00","Add option to load a module via stream

svn-id: r24387
"
"26765932ccde8469f8521e11efd2a0068c32ff91","2006-10-19 11:13:28+00:00","Add support for sound effects in PC version of Elvira 1

svn-id: r24388
"
"d75901b832d8d5573928c5e2557734968373cfd5","2006-10-19 11:40:26+00:00","Split game specific script opcodes into separate files

svn-id: r24389
"
"75ee62d948b3593663155779129f81bfe47e3e27","2006-10-19 12:14:53+00:00","Split md5 details for game detection into separate file

svn-id: r24391
"
"e26954bcdb0a0277b5c6df4e785d1909d9865c7f","2006-10-19 23:57:54+00:00","Split script opcode tables up into more specifics

svn-id: r24393
"
"ff574a63ee368cdb4889dd0e17966b4a1ae1f117","2006-10-20 02:10:51+00:00","Split code into more specific files and cleanup

svn-id: r24394
"
"5e9041b1b558f8891435204b15e1db41f0686ad9","2006-10-20 19:44:27+00:00","SCUMM: ArrayHeader related cleanup

svn-id: r24395
"
"4e859bb26ea6b75f954f3b5b155eea74104dbfa1","2006-10-21 00:51:32+00:00","Cleanup

svn-id: r24396
"
"399f8381a970133a6a6247d49eaf57b7a811d902","2006-10-21 01:51:59+00:00","Cleanup

svn-id: r24397
"
"59103e6eb10ff581678d552a63eb764a0d0ea0f3","2006-10-21 09:42:25+00:00","Add Czech version of Simon the Sorcerer 2 (Windows CD)

svn-id: r24399
"
"8b75b8f2ee27a26ec30cb3ace23c54d58746bcc4","2006-10-21 10:05:11+00:00","Sync. names of filesDescriptions

svn-id: r24400
"
"10f2c7cc57708dca04b8e9d434440fc28f9177de","2006-10-21 10:50:19+00:00","Fix regression, due to lost code

svn-id: r24401
"
"a15885656db00a5013c01381f4f61cc8a442977b","2006-10-21 11:12:46+00:00","Fix multiple simulated mouse key events bug (sync).

svn-id: r24403
"
"772affc7dbb75faad85b69c00b381d12340f809d","2006-10-21 11:14:41+00:00","Yuck, mark abuse of OSystem::setSoundCallback

svn-id: r24404
"
"f95f5ed13356233b1f1976c6a793b6e104373a4d","2006-10-21 12:03:43+00:00","Added OSystem::getTimerManager and OSystem::getMixer methods (wip)

svn-id: r24405
"
"86d3f30347d5ee7ee67a4f16d5043b9bef0539db","2006-10-21 12:22:30+00:00","Dummy handler for music commands 0xA and 0xB to keep Elvira1 from crashing. It
also seems to restore the missing first note of the intro music.

svn-id: r24406
"
"9edf1e6a1a95f45b9883e298edc7e578ff9495d1","2006-10-21 12:44:10+00:00","cleanup

svn-id: r24407
"
"4913db71689a5c4077e54525471677a0ca3eda13","2006-10-21 12:59:23+00:00","Add extra events, which are triggered by Elvira 1/2 and WW

svn-id: r24408
"
"7ca5752fbc6e54abcc1b2529edb5dbee71f4d22f","2006-10-21 20:41:49+00:00","Adding CXXFLAGS usage for various configure script tests, needed to properly crosscompile for OS X 10.2 on Intel Macs

svn-id: r24421
"
"bce0a11065570c7bb2373c6330071143f0489815","2006-10-22 00:55:17+00:00","Add extra picture opcode code for ELvira 1/2

svn-id: r24426
"
"91f7477d74f7067bd51dedd3bc3bbd9bc22ce243","2006-10-22 00:58:55+00:00","Ooops, correct typo

svn-id: r24427
"
"872a708c4ea66a6e9963ec059b62b94d9b6bee71","2006-10-22 01:05:14+00:00","Add system includes

svn-id: r24428
"
"196c2bf2545ac1a95c09c02078c29b0db7125ba5","2006-10-22 05:11:27+00:00","Fix regression is WW, caused by functions merge

svn-id: r24429
"
"16005872a2ac17992cb941650ff018513da10986","2006-10-22 07:43:11+00:00","Cleanup

svn-id: r24430
"
"17647335908317c855fb2b084d48428d928e6da8","2006-10-22 09:53:56+00:00","Add more opcodes for Elivra 2 and WW

svn-id: r24431
"
"af17835dd9a8e1ab4a23fc53be88280e4fcaa402","2006-10-22 10:14:58+00:00","Add print object opcode difference in Elivra 2 and WW

svn-id: r24432
"
"16ee6236078a07cfc3326e13a1ad9880c703386f","2006-10-22 11:13:42+00:00","Specify 0.9.1 release date

svn-id: r24435
"
"25c38db499c34807f6b277b8f9a8f1b3d32dbc6d","2006-10-22 13:04:34+00:00","Add drag support for items in Elvira 1/2 and WW

svn-id: r24436
"
"2e5210a18c798d611d340e581a51b5a96a5354c7","2006-10-22 13:20:11+00:00","Add extra opcode for Elvira 2

svn-id: r24438
"
"df24f1ef4ed2b8d0e6c5df6e1bfbbcb2fc86d2a8","2006-10-22 14:53:30+00:00","don't set CFLAGS, as we don't need them and they're now used for building the 'tools' with the native C compiler

svn-id: r24440
"
"07f7761479eba5defdcfe0bd300bc438d9245551","2006-10-22 15:42:29+00:00","Backend modularization: Create timer manager, savefile manager and audio mixer in the backends for increased flexibility

svn-id: r24443
"
"23ed856a38f20732c4b04ffd4bf2f42bb696d18f","2006-10-22 15:47:57+00:00","Tweaked the NULL backend to match my recent backend changes

svn-id: r24444
"
"b635a2fb842ab4d5d9a048dfe52b731469e0c28d","2006-10-22 16:04:14+00:00","Only instantiate ProtrackerPlayer if it is actually needed

svn-id: r24445
"
"f4d8920f2bb14bb56d4a1120c3c7e5a71178992c","2006-10-22 16:05:07+00:00","SDL backend: got rid of setTimerCallback and clearSoundCallback

svn-id: r24446
"
"e767681dcf2bb19751bc4b32df55d12f36fe8e1b","2006-10-22 16:05:59+00:00","Removed unused return value & param from DefaultTimerManager::handler()

svn-id: r24447
"
"9cad1d4ae873a6ed5cceb7d282ee13f453fe9187","2006-10-22 16:32:09+00:00","Add ce port news (0.9.1 sync)

svn-id: r24449
"
"43fac9ab3da947e502e7abfeff74b5e4d536c219","2006-10-22 17:32:04+00:00","Check for degenerated rect in copyRectTo*.

svn-id: r24452
"
"fbb5a2d7730ff34bd558b8e4a8aa0b68d41318b5","2006-10-22 17:58:38+00:00","Modularization.

svn-id: r24453
"
"dde7244f2da4bca4da095f22be5fe2840257b859","2006-10-22 18:35:49+00:00","Removed timerproc and soundproc.

svn-id: r24455
"
"17afeaa80ee66836680953da0827fc47b0f00767","2006-10-22 18:54:55+00:00","delayMillis() should now cope with delays over 20 minutes without overflowing.

svn-id: r24456
"
"e58da07488a7067a6b0dc9351a1eac85345220fe","2006-10-22 20:04:45+00:00","Don't output warning about unsupported language more than one time.

svn-id: r24459
"
"a853696a5e075442aa8b74b4e04d45129fda02b1","2006-10-22 20:08:23+00:00","Some AMIGA resource loading code (of course it's still not supported).

svn-id: r24461
"
"f0a162e8bbfd06340ec63348f5fcfdaca7349bc1","2006-10-22 20:12:27+00:00","Fix for bug #1582149 ('KYRA1: Crash when meeting Malcolm').

svn-id: r24462
"
"99d6e6db5ce2c0fcb8c3884d7b834ab6728daa66","2006-10-23 01:37:59+00:00","Add patch to make ProTracker a subclass of AudioStream, from madmoose

svn-id: r24465
"
"f766e01112baa93e9aec701cfaacaad955416e3d","2006-10-23 01:52:19+00:00","Ooops, correct that accidental commit of code

svn-id: r24466
"
"45965e35766bf2ede011e0f0775754363699937f","2006-10-23 05:32:54+00:00","Add opcode used by lift in Elvira 2

svn-id: r24467
"
"80048e232787d247381ba718e68ca3aa7e5200cd","2006-10-23 05:58:53+00:00","Add hasIcon difference in Elvira 1

svn-id: r24468
"
"8f44ef3209f6775624d4d8ce131b13ae355d35a5","2006-10-23 07:07:03+00:00","Add a few opcode stubs for Elvira 2

svn-id: r24469
"
"4c9fc74964a9b786982ecc5880b6e54be41c96ca","2006-10-23 10:06:32+00:00","Add printStats code for Elvira 2 and cleanup

svn-id: r24470
"
"7a5b0c1870ab60f901be689d9b0cc89fde550fb2","2006-10-23 11:13:51+00:00","Add minor icon code differences in Elvira 2

svn-id: r24471
"
"cff9d1ab810adb66633a7593dc48ea07e66b6766","2006-10-23 11:17:25+00:00","Re-enable verb code

svn-id: r24472
"
"38e709beb22febf691236de6d6c8d313f8dc5cb6","2006-10-23 13:40:23+00:00","Add missing code for enableInput opcode

svn-id: r24473
"
"67041f96a905c27e2f744cc88dfb57e12f93d6af","2006-10-23 13:42:50+00:00","Add missing reset of _lastClickRem variable

svn-id: r24474
"
"8fb07286cc5a6aaa508bcff5e8c91791e7303704","2006-10-23 23:12:12+00:00","Fix for bug #1582726 ('KYRA1: Crash when entering Castle screen').

svn-id: r24475
"
"56d44a5be2b7dbbe548f8cee95127697e645333d","2006-10-24 00:09:15+00:00","Add back football2002 target

svn-id: r24478
"
"0d357aab4d7add6011ee1fbc99c502820daf0278","2006-10-24 00:30:48+00:00","Fix for (reopened) bug #1582149 ('KYRA1: Crash when meeting Malcolm').

svn-id: r24480
"
"3197cb6a2389000ec47bf9d27056403b98ceb0b8","2006-10-24 00:56:10+00:00","Never unload files loat on startup like 'CAVE.APK' and 'LAGOON.APK'.

svn-id: r24485
"
"6810993828452e3af46839a84cb8b80fe3d1fc38","2006-10-24 07:44:37+00:00","Add more menu code for Elvira 1

svn-id: r24486
"
"920a5ac5f43dfe76283d55e3eb285a87c2c44b2a","2006-10-24 08:11:43+00:00","Rename variable

svn-id: r24487
"
"7889783cac08bf24ac6daa835bab7120033d88cd","2006-10-24 09:44:20+00:00","const correctness

svn-id: r24488
"
"6c164027442cbe285cb3d8d09e33a969851f48ea","2006-10-24 16:03:05+00:00","Broken Sword 2 does not need cd.bin, and startup.inf is optional. (In fact,
there have been reports that the BS1/BS2 double pack ships with the wrong
startup.inf, but let's not confuse the readers with that little tidbit.)

svn-id: r24489
"
"8b0f34e193f571f10d990efba1a5a8e229bc0957","2006-10-25 01:53:07+00:00","Add Macintosh version of Backyard Football 2002

svn-id: r24490
"
"869243142ad4e42c23c52617414fe737c3eead86","2006-10-25 05:32:15+00:00","Add class code used by scripts in Elvira 1

svn-id: r24491
"
"7dd6b31aef45b4cef6009f1968491ba46507c2c8","2006-10-25 08:12:05+00:00","Add more opcodes for Elvira 1/2

svn-id: r24492
"
"dc405fa4538df8f28507a460254ac1161412c329","2006-10-25 10:00:29+00:00","Corrections to script opcode table for PP

svn-id: r24493
"
"a4be70e47b93a33ca114bc6309c1349605f8aebd","2006-10-25 10:08:38+00:00","Correction to script opcode table for FF

svn-id: r24494
"
"15915e805d799d5e3039ac0065a03d9ec010a941","2006-10-25 10:20:17+00:00","Remove unused script opcodes

svn-id: r24495
"
"588c3e0bf1412b883dd79a2ca928234b315bf1a0","2006-10-25 10:21:57+00:00","Revert debug changes

svn-id: r24496
"
"64e46134e95f941c417f3c7277c994c808fbc8ba","2006-10-25 10:30:21+00:00","DS : 320*PAL8 to 256*1555 line scaler

svn-id: r24497
"
"ab0eb7439549c8903410a673e69cbe1f7a3f5b33","2006-10-25 11:02:08+00:00","Add extra opcodes used by dumped scripts of Amiga demo of Elvira 1

svn-id: r24498
"
"2f422f56cd706dd4fd14fa592f5a310eb3ac7b2e","2006-10-25 11:41:36+00:00","Remove unused script code

svn-id: r24499
"
"fc04b2e45adbdc617fb6e20b3de81c88f5f10eff","2006-10-25 11:43:20+00:00","Add back delay between script restarts

svn-id: r24500
"
"05fd51d03611fc88041a68da384eac58f3049024","2006-10-25 13:38:35+00:00","Cleanup

svn-id: r24501
"
"227157ccdc6c922d4265e05584352214ee9541e6","2006-10-25 13:45:57+00:00","Update comments

svn-id: r24502
"
"6eb7be9e377ce745695227d17e6b343b842f2eb3","2006-10-25 19:01:34+00:00","Compile fix

svn-id: r24503
"
"24b0d4800ae5e94a03232def0788d045d837499f","2006-10-25 19:18:38+00:00","DS backend : Compile fixes for the new backends system, still needs plugging the old callbacks

svn-id: r24504
"
"05aca1c928c4b65a9fb31c7f6d2acee6e4c3309f","2006-10-25 19:32:01+00:00","DS : Yet another scaling helpers

svn-id: r24505
"
"aada1329a8119715c12455790f8c093c5e67fc39","2006-10-25 19:37:43+00:00","DS : Blind backends changes to comply to fingolfin's changes

svn-id: r24506
"
"77f9f9c6cfc0834492b6e2afd428e87cdff35349","2006-10-25 19:51:47+00:00","Update GP2X port to support Fingolfin's ongoing implementation of the Modular Backends ideas :). Also add a few updates from my local tree (Batt level checking and STDOUT/STDERR file  mapping code stolen from the Symbian backend (thanks)).

svn-id: r24507
"
"4047798196e916631d1b121a1582a8fc4dd064c4","2006-10-25 20:07:32+00:00","Missing include file (for ScummEngine_v6 symbol)

svn-id: r24508
"
"018c2c6949f67f4f5937822751adb68079c3fb78","2006-10-25 20:12:52+00:00","#ifndef DISABLE_SCUMM_7_8 missing

svn-id: r24509
"
"312f4747d5967259a428b5a7e9b89f1681bb0dd7","2006-10-25 20:18:16+00:00","Compile fix when DISABLE_FANCY_THEMES is #defined

svn-id: r24510
"
"055d80c4dcb914ef3fd95e7cdadb9a5a4142a6c8","2006-10-25 21:06:49+00:00","Formatting.

svn-id: r24511
"
"6e16df7891474cc305850c7e4ea29f037a44dddd","2006-10-25 21:20:31+00:00","- renamed GUI::ThemeNew to GUI::ThemeModern
- renamed ThemeNew.cpp to ThemeModern.cpp

svn-id: r24512
"
"77e40457a89409e12e4cea864d17d6f1da77116f","2006-10-25 21:49:33+00:00","- Fix crash if theme_logo.visible is set to true in a classic theme config file

svn-id: r24513
"
"9760469373be82e467fe94847eab36942ca56bcb","2006-10-25 23:12:34+00:00","cleanup

svn-id: r24514
"
"0dbfacaf12c2566322182483452f72d72449be0c","2006-10-25 23:25:19+00:00","Rewrote the DefaultTimerManager to use a priority queue instead of a fixed size slot array (semantics of timers changed slightly due to this in lag situations)

svn-id: r24515
"
"304c10261361a26a11d24e8c2bc9ca6d9b36a8ef","2006-10-25 23:48:47+00:00","Switch error to warning, since code is compatbile with football2002 too

svn-id: r24516
"
"28266579320d27acf192bab1cb22c76d67b33566","2006-10-26 07:25:25+00:00","Increase timer accuracy again

svn-id: r24518
"
"d14059fccc172b8156ebcd90de83e683a72cac63","2006-10-26 12:56:27+00:00","Add font table for Czech version of Simon 2

svn-id: r24519
"
"aed395aeb261d958ebac0b76ab4108682fed439a","2006-10-27 01:36:15+00:00","Limit subtitle speed keys to Simon 1/2

svn-id: r24522
"
"956d003fcffbfd8da58257f8f0fa688317316440","2006-10-27 01:55:06+00:00","Limit game specific code

svn-id: r24523
"
"5ab37ca91d62db9cf5540600bb8c1147bd6fc69c","2006-10-27 03:07:18+00:00","Add code for look opcode in elvira 1

svn-id: r24524
"
"adb626c783efe2ed9aad0fd554463d3af60b04a7","2006-10-27 10:36:38+00:00","Ooops, fix Elvira 1 regression

svn-id: r24525
"
"9bab66a53a2c6403a170091500bf810c94fe38a4","2006-10-27 10:43:48+00:00","Script 160 is only used when clearing timers in Simon 1/2

svn-id: r24526
"
"7d71b6d1090316cfc34e3165d41a568c711871e4","2006-10-27 11:04:05+00:00","Cleanup

svn-id: r24527
"
"5eaef92728fb6350fa52d06f7b3fd459fbea1c8d","2006-10-27 11:19:11+00:00","Update names in opcode tables

svn-id: r24528
"
"162f8e16b0abce36eed96b0abdbc6e05f3b63a91","2006-10-27 11:39:04+00:00","Update dump code for additional games

svn-id: r24529
"
"231d6064de45ffc589e5b913194065488579fbcf","2006-10-27 11:43:17+00:00","Update comment

svn-id: r24530
"
"f1accee70239fe3ca0d83007099bf45f27e700c2","2006-10-27 12:55:48+00:00","Cleanup

svn-id: r24531
"
"f07fc242b30f781d197fe19005e3a9cbff922c44","2006-10-27 13:08:25+00:00","Var 254 is only reset, when reseting animations in later games

svn-id: r24532
"
"9f85511537f460d70bf8b3b22ff77327554e752d","2006-10-27 13:28:32+00:00","Cleanup

svn-id: r24533
"
"ec653efc8bee4068046889456b1f25433dffe30f","2006-10-27 22:26:33+00:00","SCUMM: Unified some SMUSH audio channel code

svn-id: r24536
"
"a4a83df8a1ab78cd964e6b1004cfe0425fbeadf5","2006-10-27 22:47:53+00:00","cleanup

svn-id: r24537
"
"2b2be1a18d595f4b4697b4ff577f182a3926e12e","2006-10-27 22:49:31+00:00","SCUMM: Unified some more SMUSH audio channel code

svn-id: r24538
"
"2a314fa8a7a66df7e4bb394acf51e717e5078ab6","2006-10-27 22:58:48+00:00","Oops, forgot to check in engines/scumm/module.mk

svn-id: r24539
"
"a6fee09adf6687d434d566b292f23fa9ca064c21","2006-10-27 23:00:28+00:00","const and static, static and const, const and static, static and const... now everybody repeat it with me... 8-)

svn-id: r24540
"
"d90762c430d9ee20ca4137d324aac5dc8308fdd6","2006-10-28 00:04:50+00:00","SCUMM: Changed SaudChannel to return 8bit mono data (the mixer will do any necessary conversions for us, no need to waste memory like this); fix SmushMixer to not allocate buffers twice as big as necessary

svn-id: r24541
"
"48e5ec67ffcc3f45816507d53d7b276414a31867","2006-10-28 00:18:13+00:00","SCUMM: Further SMUSH audio channel cleanup; this time unified some code, and got rid of one set of memory buffers

svn-id: r24542
"
"3652229147389477fe72a530cfeab9130761b35e","2006-10-28 00:45:58+00:00","SCUMM: Got rid of smush/chunk_type.h

svn-id: r24543
"
"9698d133a6b4559b7dbc1b1ec5cd8b6198e22466","2006-10-28 01:20:19+00:00","SCUMM: Changed class Chunk (and subclasses) to inherit from Common::SeekableReadStream

svn-id: r24544
"
"a3bc66bcbd15fa6532b6f502cde42e06fbbb1a6a","2006-10-28 01:21:13+00:00","SCUMM: Fix what I believe is a long-standing bug in FileChunk::reseek()

svn-id: r24545
"
"10478617c699ad1e6fa272c5609cc743efd98fab","2006-10-28 01:28:41+00:00","SCUMM: Take advantage of the fact that Chunk now is a ReadStream subclass

svn-id: r24546
"
"4b46821ffbd7e617abc88a3f3f566a31cb59d340","2006-10-28 03:29:58+00:00","Add more fixes for Elvira 1

svn-id: r24547
"
"31a44154f091d054ae7a44080bb4911c10505b6c","2006-10-28 04:44:10+00:00","Add code for vc37_pokePalette

svn-id: r24548
"
"d5f47e220340b4af79f48f789c9352c2bf36c97c","2006-10-28 05:34:40+00:00","Update debug tables

svn-id: r24549
"
"847956af4069454516563b2da1640704a5e52e08","2006-10-28 06:30:08+00:00","Fix the heart beat in Elvira 2

svn-id: r24550
"
"aa6a92ac6d5e5bd8e67e1aa28ef5d4cf0406e68d","2006-10-28 11:29:13+00:00","Add shield cursor for Elvira 1

svn-id: r24551
"
"c85c37561d224de6740dca6afb982e359bc91425","2006-10-28 11:34:56+00:00","Fix cursor palette in Elvira 1

svn-id: r24552
"
"dfd57406ff08deff0f15c9c6964c17d58d5a33f0","2006-10-28 12:33:49+00:00","Fix sign issues, that caused combat issues in Elvira 1

svn-id: r24553
"
"71763c3630523952f5e70ef72ac6bc7f1291cada","2006-10-28 13:21:43+00:00","Modified version of patch #1584720 (add support for FLAC-1.1.3)

svn-id: r24554
"
"2714741606eceefbc811c595852d15b58486d08d","2006-10-28 13:31:30+00:00","Correct dump of VGA file in FF

svn-id: r24555
"
"30e6ce658b4053e41fcdf5ba1889d0003335bd2d","2006-10-28 13:47:16+00:00","Update debug tables

svn-id: r24556
"
"bd0a327a3910b96e260952b7a812c02aba0d1619","2006-10-28 14:08:35+00:00","Remove vga opcodes which are never used by games

svn-id: r24557
"
"9d7920e017231c8013726f5d0ef6052326e7814d","2006-10-28 14:11:27+00:00","White space changes

svn-id: r24558
"
"0d62e964ecfc9e518a7dea0517c1ae2f5e2861d9","2006-10-28 14:30:42+00:00","New modular backend implementation

svn-id: r24559
"
"2457d0b495b29d8cf5a9be5149309fbfb5cefd94","2006-10-28 14:35:00+00:00","Simon -> AGOS

svn-id: r24560
"
"8ad806535a4a57ba9e920f9b79c9a7a16289cb8c","2006-10-28 14:40:43+00:00","Not required anymore

svn-id: r24561
"
"de7f2504760c31ff5212bd0763146a5774e2d906","2006-10-29 07:01:55+00:00","Add opcode and opcode stub for Elvira 2. Remove unused opcode code

svn-id: r24562
"
"e7195372e5e8c8703c4c844d29be8a407c513bef","2006-10-29 07:09:49+00:00","Update variable range, when using debugger

svn-id: r24563
"
"25069065f39c2289992ebe7be20417d6451f3a21","2006-10-29 07:30:31+00:00","Increase delay for dragging items, to match original

svn-id: r24564
"
"41b4a34b5b7f9f91f25204503ea9b951cbfc5c26","2006-10-29 13:30:20+00:00","cleanup

svn-id: r24565
"
"46dc61163aa404b1ccc98c0c7c88902518387955","2006-10-29 14:45:31+00:00","Named / documented the V0-V2 object states (we should probably rename the corresponding opcodes here and in descumm to make reading script dumps easier)

svn-id: r24566
"
"3d38ec1dde40608f27fde8e1faa54cf22b39b083","2006-10-29 15:18:34+00:00","Changed some single quotes to double quotes; fixed 'Solaris Spark' -> 'Solaris SPARC'; added vinterstum as Mac OS X packager -- he did the last couple release binaries, not me, so he should get all the fame and blame ;-)

svn-id: r24567
"
"7ad775fe112cc77846f4a4225d4e639a51121702","2006-10-29 15:27:03+00:00","Always stop the audio handle in Sound::voicePlay.

svn-id: r24569
"
"083a7c2549627451fd7ca4965eecdc2d09666f6e","2006-10-29 18:42:28+00:00","SCUMM: The didexec flag did not exist in V0-V2; minor cleanup

svn-id: r24571
"
"32f891f724834364666c1dc91f12cebbf608071b","2006-10-29 18:43:16+00:00","SCUMM: Avoid crash in debugger when omitting the state value in 'object state VALUE'

svn-id: r24572
"
"5d4543a59cc8b99a52bc7e3d7d5d217dd43c67c7","2006-10-30 01:53:19+00:00","Fix bug #771499 - ZAK: Lotto numbers never picked. The freezeCount isn't checked in runScriptNested(), when restarting script in SCUMM 1/2.

svn-id: r24575
"
"79b9397f3e161ce6b9c06e38f18758b34ede379e","2006-10-30 02:50:09+00:00","HACK no longer required for MM demo mode

svn-id: r24576
"
"69fa6abb37a6f405147902cbbbb73404040b7a3a","2006-11-01 17:46:00+00:00","Removed unnecessary newline from warning message. (But why did I get this
message in the first place?)

svn-id: r24581
"
"e7dc2c0d0cabd2e9890903800aab7559115a0d9f","2006-11-01 21:09:25+00:00","Workaround for bug #1586894

svn-id: r24582
"
"c718463a24b1f49745b3f4201f11bb7dc5697b87","2006-11-01 21:28:14+00:00","Added Audio::Mixer::setReady method to work around bug #1588848

svn-id: r24583
"
"c3f6c576806cfba9c46ddf0eedaf6cd9cef4cc06","2006-11-01 23:39:55+00:00","Enable Bink video playback in HE100 games

svn-id: r24584
"
"a448ed320f8dc9cedba6681b976eb61c8217b2ea","2006-11-01 23:42:21+00:00","Ooops, move code to correct function

svn-id: r24585
"
"6b425f03f454fee55013ce7c0455315de2819aef","2006-11-02 10:01:32+00:00","Add video code for HE100 games

svn-id: r24586
"
"e57316c7965ee6518c167328523ceb8e50dfe6e3","2006-11-03 06:16:11+00:00","Fixed bad namespace comments spotted by clone2727.

svn-id: r24588
"
"f9cf368a670ee58b579da8affca914e0b5634d8c","2006-11-03 21:01:49+00:00","got rid of two memory leaks

svn-id: r24589
"
"a8d7265c5eae16b18bb336b3f3f70f6eb5552374","2006-11-03 21:03:12+00:00","added basic handler for VOC block 9

svn-id: r24590
"
"c71e6599bc160329319c0c05ca453184a45fb0f7","2006-11-03 21:04:10+00:00","added translation method to Common::Rect

svn-id: r24591
"
"13d9cdbd26b1c07edf47b9e4731b9d652a294ba5","2006-11-03 21:23:07+00:00","added 'touche' engine for the game 'Touche: The Adventures of the 5th Musketeer'

svn-id: r24592
"
"b9019637f861d88653c471403d6ed73a4173c13c","2006-11-03 21:54:08+00:00","Fix compilation in Linux (itoa() isn't available here, it's non-standard)

svn-id: r24594
"
"d5608e82edb4a73f6ab30a8db9a79dc16ed2ed9f","2006-11-03 22:36:05+00:00","cleanup (got rid of the custom Language enum, re-used the one in the Common namespace)

svn-id: r24595
"
"ea6663fdfa5f2b9d8351f9b06219d0dae1494a6c","2006-11-03 23:16:29+00:00","Merging in changes made in branch for 0.9.1 release into trunk

svn-id: r24596
"
"b8ed3bc87f5ddf397959d9ccc266a825f69cc059","2006-11-03 23:22:55+00:00","Adding M3 file missing from last commit.

svn-id: r24597
"
"5a902f8f7a40f2f2182a0b2149959f8889c468ef","2006-11-04 12:00:31+00:00","rewrote FOTAQ game version detection code in a - if I didn't break anything - better way (no more duplicated code, more accurate game description in the launcher...)

svn-id: r24598
"
"6f0c12fe8665dc9d494226edc375559356e299e3","2006-11-04 15:09:20+00:00","Fixed zero filled _opcodeTable[] with PalmOS ARM compiler

svn-id: r24599
"
"4e63968994aec8d402f41733686002e77d906647","2006-11-04 16:22:58+00:00","Fixed and updated Palm save manager

svn-id: r24602
"
"67f6ea16fde8be3d38aec7c8feae8e28913c8d9b","2006-11-04 17:44:11+00:00","Fixed zero filled Rect with PalmOS compiler

svn-id: r24606
"
"e57422c08c016441a80279fee3a13848a5bb9d5b","2006-11-04 17:45:14+00:00","Added Touche engine support

svn-id: r24607
"
"db1fc75012ae1d6b2864ceae9c7900bd80d06508","2006-11-04 22:59:56+00:00","SCUMM cleanup

svn-id: r24612
"
"6fb623284cf7453f80b1688b1fe38d97d74daff4","2006-11-05 00:20:36+00:00","cleanup

svn-id: r24614
"
"bccec3c3e75cef9f3c9c3081670a3902df100444","2006-11-05 00:22:46+00:00","SO_ROOM_INTENSITY isn't used by SCUMM V1 - 4 games

svn-id: r24616
"
"102969f8209ba1d75d5d9d51837a0e311eedcf90","2006-11-05 00:29:34+00:00","added basic MIDI playback

svn-id: r24617
"
"4f4be11631f42fb42c3153871a769f2e4eb1252a","2006-11-05 00:40:35+00:00","removed unneeded opcodes

svn-id: r24618
"
"94f1aab61a3b6466759b3ae13574079028c22956","2006-11-05 01:43:29+00:00","Music is disabled when under water in Elvira 1

svn-id: r24619
"
"4578f9afa56fb92434206d817b67591fbe0186c6","2006-11-05 01:52:56+00:00","Typo

svn-id: r24620
"
"ea9baa0347f68a3eca4953e3daf828650d4e4190","2006-11-05 06:10:41+00:00","Improve debug output of video script

svn-id: r24621
"
"a2abbf919df8a07df872d69f75d372579bbe271a","2006-11-05 06:26:45+00:00","Add inital load/save code changes for earlier games and cleanup

svn-id: r24622
"
"64817e38872684bd4133e4459a40c54dacedd612","2006-11-05 06:56:58+00:00","Added display of the two special between room animations: falling down the chute and hiding in the barrel

svn-id: r24623
"
"493af8f40b7b4c16ab4d74ea6a5d0b7d97dac767","2006-11-05 07:42:23+00:00","Only read a single item, in doTable opcode

svn-id: r24624
"
"5c72acb536c967454be352288afc6c491ab77cb7","2006-11-05 08:22:33+00:00","Set ROOM_EXIT_ANIMATION constant, to fix compile for now. Not sure if value is correct

svn-id: r24625
"
"05dcf9c11db19f0b4da7892cfdc052b0df5f3ab6","2006-11-05 08:27:15+00:00","Cleanup

svn-id: r24626
"
"424e9e362e55b32406af950cc5e551b9a378f45c","2006-11-05 13:00:20+00:00","enabled MIDI volume changes

svn-id: r24627
"
"ec177bc6ce7cc7633c1551a7d1ee962d40664f0c","2006-11-05 22:24:15+00:00","various fixes

svn-id: r24628
"
"3ebba5fab9b549d97443ebc058613892e7b15583","2006-11-05 23:58:37+00:00","Fix mouse glitch regression, due to code re-arrange

svn-id: r24629
"
"a1a5c9b38a6d5cdd4dbed026cc6ea6b17234243c","2006-11-06 01:14:26+00:00","The clear timers script only exists in Simon1

svn-id: r24630
"
"f2318ed1fd2204e780776a215b50da80d0adfbf1","2006-11-06 01:32:20+00:00","Fix mouse palette in WW

svn-id: r24631
"
"8c95ca18e5ce6d4e2df3d5b9e21e5303c4427879","2006-11-06 07:58:37+00:00","System mouse code no longer required

svn-id: r24632
"
"5a404025284adde4dc9f35848385c1ab8ecf1dbd","2006-11-06 08:07:47+00:00","Split draw code for earlier games, to prevent regressions for now

svn-id: r24633
"
"c13380e76e35ae45d3550a4ac97e7620537bbc0f","2006-11-06 12:02:28+00:00","Add contain code differences between earlier games

svn-id: r24634
"
"da3e724a990e1d7482c1654623e01723ba890534","2006-11-06 13:19:12+00:00","Predictive input for AGI engine. To Do:
- Multitap
- scummvm.ini-based dictionary path
- speedup dictionary loading

svn-id: r24635
"
"8ef5e88323972fa8d2fe5e376c78a1903535f50a","2006-11-06 13:40:24+00:00","Add support for HE CUP demos based on cyx's standalone player.

svn-id: r24636
"
"415ec670564a328a67648ddae7c42a7142a2f053","2006-11-06 13:59:11+00:00","Cleanup

svn-id: r24639
"
"1b926fee107cef0e1bc525a7a082121f1d000881","2006-11-06 14:28:19+00:00","Add inherit code for earlier games

svn-id: r24640
"
"90e20121b80383f23cc8641d463a8609837dab8c","2006-11-06 18:21:07+00:00","Portability fix for some platforms.

svn-id: r24641
"
"68c603631b1be33965e077b31c16769da4c2195e","2006-11-06 22:06:32+00:00","cleanup

svn-id: r24642
"
"6c8af67b605f3bac9680b77da8999d5cc5ca5987","2006-11-06 23:28:40+00:00","added SRLE handler, cleanup

svn-id: r24643
"
"c9cb98291db28b7f2a041e2ed5e90ba5f40764a9","2006-11-06 23:32:37+00:00","some fixes, some cleanup

svn-id: r24644
"
"fe33cd84d69a1a0c7cf55498895e65f5e4ba6f42","2006-11-06 23:58:15+00:00","Fix restarting game in Elvira 1

svn-id: r24645
"
"09d35a38a81dd604d0e0ecfd6a396540f8bdb535","2006-11-07 01:02:24+00:00","Fix restarting game in Elvira 2

svn-id: r24646
"
"c38ee89a159b09cde9af9b09cf7ef28da86e031e","2006-11-07 19:08:06+00:00","The modern theme sets its own cursor, which makes it responsible for restoring
the old one afterwards.

svn-id: r24647
"
"4c7eaf5c55c9f762fd8ebd64d174cc6e11c70d46","2006-11-07 19:58:48+00:00","Only set up / tear down the custom cursor if _useCursor is true.

svn-id: r24648
"
"b1434f2632f0218147d7cb6dc9408cb8abbfc542","2006-11-07 20:30:39+00:00","Fixed regression caused by recent debug console cleanup. The key stroke that
invoked the debug console would repeat after the console was closed. Another
example why keyboard repeat should be centralized, I guess...

svn-id: r24649
"
"0cf2d2ffd9b4cc7bc98e4b4ade87e43f63a73274","2006-11-07 20:55:05+00:00","cleanup

svn-id: r24650
"
"98e7abcbfcbac8403e9b867b37996e642de16a85","2006-11-07 21:09:18+00:00","fix (un)signedness warnings

svn-id: r24651
"
"c1e16d61682f0489d8bf695cc59daf0dec07e19e","2006-11-07 21:14:15+00:00","Disabled an undocumented workaround for a supposed bug in FOA

svn-id: r24652
"
"e1efdfc7f6553250840f910764ca3a70590be82d","2006-11-07 22:22:23+00:00","simplified SRLE decoding, cleanup

svn-id: r24653
"
"f6f1dac199a972339b30f14f5d7630fd0807f670","2006-11-07 22:24:48+00:00","cleanup

svn-id: r24654
"
"efd5e8bfb6245925552e909c2d7a409098bf4a29","2006-11-08 10:05:21+00:00","Fix bug #1592006: 'IMUSE: Typo in sysex_scumm.cpp ?'

svn-id: r24655
"
"3be9c44dc40d5fa8af3bed4c64aa1a717fd44e52","2006-11-08 10:06:42+00:00","Fix bug #1590596: 'HE: When 3x graphics are choosen, F5 crashes game'

svn-id: r24656
"
"a7950182f50ea16642f437e25b3ed591753edf95","2006-11-08 18:47:33+00:00","Changed the default instrument from 'no instrument at all' to 'the first
instrument in the instrument bank'. It looks like Elvira 1 and 2 play music
without selecting any instruments first on some channels. This should fix bug
#1582389.

svn-id: r24657
"
"ff14e19552e7fb1406071c785dbe3fd4cd40b95e","2006-11-08 21:31:47+00:00","The theme browser will now search through the bundle resource directory on OS X, fixing bug [ 1592294 ] MACOSX: Cannot Switch Back to Modern Theme

svn-id: r24658
"
"5e5bba4397c7440dd04b559e00328e1732f1b971","2006-11-08 21:46:57+00:00","Fix bug #1579776: 'FW: Save does not work properly'

svn-id: r24659
"
"cfabc8a203ea77cb2fd53c17e3e4a51ef59e63f1","2006-11-08 21:50:15+00:00","Fix crashes with new BG incrustation code.

svn-id: r24660
"
"8e4309b7c12bb9d83cf4c15b5a628e6459611f08","2006-11-08 21:54:03+00:00","Remove slipped in debug output

svn-id: r24661
"
"3213bc322bd0790b8bbeddbb6ef76e7091ba8730","2006-11-09 05:28:36+00:00","Fix bug #1592914 - SIMON1: Crash in Dwarf Cave

svn-id: r24662
"
"f334797caa7ab377b2b9be0d6b9115ae263facdc","2006-11-09 10:41:29+00:00","Add debugger command, to allow object flag vlaues to be altered.

svn-id: r24663
"
"9b28b7473ceba16bfa6dea7aec74a58d99e21257","2006-11-09 13:19:23+00:00","Workaround for bug #1259608: 'ITE: Riff ignores command in Ferret merchant
center'

svn-id: r24664
"
"7b74adf98d8fbc10c0aea0e1a0171886316e9d4e","2006-11-09 14:38:16+00:00","- switches to Common::AdvancedDetector
- non md5 based detector removed (for now)

svn-id: r24665
"
"53ba30a3d4764330f36fe30fc2a1ba7ead70de13","2006-11-09 14:42:15+00:00","oops add comment about german floppy version details again

svn-id: r24666
"
"195a46477f1f74caed31519d3c0a723b390c1e32","2006-11-09 22:05:57+00:00","Closing bug #1593768 (Logical and should probably be bitwise and)

svn-id: r24667
"
"4e8d042e5cbe6a01cf0f32c692d99e0644559c1a","2006-11-10 20:48:52+00:00","new menu code
workaround a possible scripting bug in introduction screen

svn-id: r24668
"
"588a6842c818ef98e2b29b82991d9727a3e4a73e","2006-11-10 20:57:26+00:00","font char width is always equal 16 pixels, removed unneeded parameter

svn-id: r24669
"
"a977988058676dbf878637f41982d85db2fbd720","2006-11-10 22:43:10+00:00","Next step in AdvancedDetector unification. Moved all common functions to
macroses. Now typical usage is just list of macros with parameters and
array of game details.

svn-id: r24670
"
"3c7cb08db5c828b4628f3c9adceeb11a43fb450b","2006-11-10 23:16:23+00:00","Fix regression in AGOS engine detector

svn-id: r24671
"
"c305f6f12c9f44a35047cd11578ba25188223bc2","2006-11-11 04:42:36+00:00","various fixes, Touche should now be completable without any major glitches

svn-id: r24672
"
"c7fa8667d013bd2f9aaa6a4c5108adebc51b109d","2006-11-11 04:46:32+00:00","enabled Touche engine, since game is completable with it

svn-id: r24673
"
"90aa1d18520615750f459383ce850103f5769a0f","2006-11-11 07:49:05+00:00","Fix valgrind warning on unitialized variable.

svn-id: r24675
"
"050c9e5bfba6d7fc5e32b28b9e4fa9d7628d145a","2006-11-11 09:37:36+00:00","Fix valgrind warning on unitialized variable.

svn-id: r24676
"
"7dc85a36accaa2b76324a4ad1829b9e1b5215a32","2006-11-11 11:54:51+00:00","Limit Evlira 1 mouse hack to full version

svn-id: r24677
"
"84660f620bc06c79f88ceabc3000a9168513e5a1","2006-11-11 15:37:03+00:00","Improve international support in CINE engine.

svn-id: r24678
"
"c5fca7b9ce82086772a56876212ca70650090446","2006-11-12 02:24:25+00:00","Whitespace

svn-id: r24680
"
"7e0d08f52aaf4840d41720fe2eaf48b5404d3f59","2006-11-12 02:27:20+00:00","Replaced cryptic error() with an assertion.

svn-id: r24681
"
"e61526555c7e1a6cca20d8824b0ae5c0fb12f184","2006-11-12 02:34:09+00:00","More whitespace.

svn-id: r24682
"
"196c8a37718052c3b465af53f0b3324d0ee77533","2006-11-12 03:02:20+00:00","cleanup

svn-id: r24683
"
"c7b2f4d3325942330188f04d23d4a60797c7d2c2","2006-11-12 03:21:44+00:00","Print sensible messages if engine instantiation failed

svn-id: r24684
"
"1f26cb89652a5804ccace15587426ca2b9e1387d","2006-11-12 03:23:29+00:00","Reworked code in the advanced game detector (getting rid of much of the evil #define hell it consisted of previously)

svn-id: r24685
"
"8d37c135c07223772b2e4395b2655cbee239ddf0","2006-11-12 03:26:44+00:00","Since we now generate warnings/messages for engine instantiation failures in a central place, get rid of such messages printed by engines

svn-id: r24686
"
"0a5b86736cc0ab55ec3fa39394a5e4069ddcfa01","2006-11-12 04:39:10+00:00","Bugfix to prevent pathfinder failure after making a small step

svn-id: r24687
"
"b648aaf64b167ad9fe290b7ee632afee3ca4f5d4","2006-11-12 04:42:37+00:00","Bugfix to prevent player freezing in place after bumping into another character

svn-id: r24688
"
"fb795dabd04392fe87a24da6bb5fb28ab4fc6c2c","2006-11-12 11:43:46+00:00","Patch #1594533: morphos fs backend

svn-id: r24690
"
"cc42cb83093c71f966b61abba894e5a5fe33ae42","2006-11-12 11:47:43+00:00","Implement Fingolfin's modular backend timer, savefile and mixer managers

svn-id: r24691
"
"f527da0953ee0887967b4154391b86880a978d9f","2006-11-12 17:39:47+00:00","fixed valgrind warnings (unitialized data)

svn-id: r24692
"
"701b803aff0bf29a2f1be72dbcfe7ad3054cba82","2006-11-12 17:47:16+00:00","cleanup

svn-id: r24693
"
"d992c66b29779d2005dc78b6cc65396efa632916","2006-11-12 17:51:39+00:00","once parsed, queen2.jas buffer can be free'd.

svn-id: r24694
"
"f89dad5daa4530b5fc36751959ecbf6df4468850","2006-11-12 18:15:53+00:00","byte -> bool

svn-id: r24695
"
"6e66bf505128a276abede415c94213271e0c3f30","2006-11-12 18:51:38+00:00","Patch #1595145: 'Updated MSVC7.1 (.NET 2003) project files'

svn-id: r24696
"
"3e6414a55fb05fa733248574f8305c0f716415d8","2006-11-12 19:05:51+00:00","Slighty modified Patch #1571787: 'Support for Mac Broken Sword 1'. sword1macdemo
target was commented out until existence of the demo is confirmed.

svn-id: r24697
"
"ae39374c831d678d2d180319ecb415ba6a4d0cec","2006-11-12 19:46:40+00:00","Credit criezy for BS1 Mac and mention it in NEWS.

svn-id: r24698
"
"1ea08bd0d520d05ec8cc76bb853e3df5636a096e","2006-11-12 19:55:18+00:00","Mention cine changes.

svn-id: r24701
"
"47d26c2cb3102651bb03b910e56399805e649d6e","2006-11-12 21:06:56+00:00","Cleanup

svn-id: r24702
"
"5563013c1d31d8dbcc451d5f37bc21c8ae55848b","2006-11-12 21:08:55+00:00","Don't delete the savefile manager in the Engine destructor

svn-id: r24703
"
"88fabf4a5380f2be941f3dc4b3d9f72aae5455ae","2006-11-13 12:00:36+00:00","Move addSpecialDebugLevel calls to engine constructor, as stated in our
HOWTO Engines.

svn-id: r24704
"
"4d840e52953a7b297f67fe289c8476c874d6ca35","2006-11-13 12:03:08+00:00","Patch #1595319: 'Enable the command line --debugflags before engine.init()'

svn-id: r24705
"
"75b062b89f30940b51f32e4369e30b2a0b01ab13","2006-11-13 13:53:14+00:00","Implement FR #1595534: 'Touche: Aspect Ratio Correction'

svn-id: r24706
"
"4f32bdba6c10fca069e462d2eca97e77e8680c20","2006-11-13 16:29:14+00:00","Patch #1595705: 'Select last game when removing the last game of the list'

svn-id: r24707
"
"9f74b031828b2a309b8194a0da9fdee85dec0cd7","2006-11-13 16:42:34+00:00","Protection should not be bypassed for OS (and it didn't work well anyway)

svn-id: r24708
"
"1a2853f7e0786e0ae1d072f5ce97391ad5d67978","2006-11-13 19:46:52+00:00","Patch from bug #1584888 (SMUSH: Too dependent on accurate timers). Watch out for regressions in SMUSH movie playback / syncing

svn-id: r24709
"
"12fb12caf5d25725a706b7c3900a48d4eea2c103","2006-11-13 20:12:52+00:00","Moved more SMUSH/Insane code from ScummEngine_v6 to ScummEngine_v7

svn-id: r24710
"
"df2ccb78c2bb48c2b12027063770f3e0dce8eb6d","2006-11-13 20:20:01+00:00","cleanup

svn-id: r24711
"
"86d988132c8e422d34fd5732e18277253865791b","2006-11-13 20:56:11+00:00","Prepend the Engine::errorString to debug messages, too (it should probably be renamed to reflect this...)

svn-id: r24712
"
"cce7cba3b4d9efd123192aebdbbdb8dad7531509","2006-11-13 20:58:21+00:00","Patch #1583931: (Seekable)SubReadStream

svn-id: r24713
"
"aba00bd320418b42668bdb5371c4e86bd0ef0bbc","2006-11-13 21:16:50+00:00","Implement reading font data from external files for OS.

svn-id: r24714
"
"a750e6f4f5b45cb63d0ddf04477b53ab6035d878","2006-11-13 22:06:27+00:00","Patch #1583931: (Seekable)SubReadStream (the unit tests were missing, as I accidentally commited from the wrong directory)

svn-id: r24715
"
"cc8653604ed9255132fe1404c6a2ef59d81c54f2","2006-11-13 22:42:24+00:00","Fix compile

svn-id: r24716
"
"2d8bd1add37835d7e0f6ebd71a57852748f3890d","2006-11-13 23:38:44+00:00","Reverted previous commit to keep FotAQ from crashing. The LineReader class
already frees the buffer when it's done with it.

svn-id: r24717
"
"53faadfdb6cc98e07cdd291c68140ed36bb8f79b","2006-11-14 09:29:41+00:00","Added per game target saves.

svn-id: r24718
"
"3f0ebaaa1846175fa18dda340a06bd70f0e6cc59","2006-11-14 14:58:41+00:00","Fixed the lock when leaving the menu

svn-id: r24719
"
"7b0e6f1489878a4a45b1327f2d1733f561757c0b","2006-11-14 15:39:11+00:00","formatting.

svn-id: r24720
"
"f55320f988a481ee7d92bcce39dfcbbf31d4151a","2006-11-15 13:11:53+00:00","Add inital pause code for Elvira 1/2 & WW, and cleanup

svn-id: r24723
"
"24df07d29dfeae8df28b74744f71962eb34686fc","2006-11-15 22:35:45+00:00","added handler for flag 618 (cursor display on/off) and workaround a palette glitch

svn-id: r24724
"
"f93c693ab9d45f55ed047e3a566a2fc1e11f70f3","2006-11-15 23:00:41+00:00","added dirty rects handling

svn-id: r24725
"
"dfe8d777c122fb1054d27747bb2d6810e4cca84a","2006-11-16 17:08:31+00:00","Applied my own patch #1594924 to work around bug #1324106 ('MI2 VGA: Music as
Rapp is instantiating isn't synchronized'). I don't know if our timing is off,
or if it's just a case of overly optimistic scripting, but the pause / unpause
music instructions are issued in the wrong order.

svn-id: r24726
"
"51a964d05683f8a96d57aa747249650351925879","2006-11-16 21:20:24+00:00","Applied patch #1597800 to better support the Spanish end credits.

svn-id: r24727
"
"dd075b312f161b3f3f6f89355a05b7bc05e3f52d","2006-11-18 01:20:41+00:00","fixed palette glitches during introduction/on restart, cleanup

svn-id: r24728
"
"318c50913d7e71a2075e35c54bf91c1d90eb333e","2006-11-18 11:53:36+00:00","added font data for french version (and probably all other localized versions)

svn-id: r24729
"
"e28a1ca46ddef13b896ea0097c0f04059da8b88b","2006-11-18 11:57:25+00:00","added game details for german version of Touche

svn-id: r24730
"
"53c4684bbeb9bde65d80709f94d9c036b4415aef","2006-11-18 15:16:44+00:00","Implement naming save games in cinE. See also FR #1579780: 'FW: naming save
games'

svn-id: r24731
"
"785d86b63e0151ab002ab49af4f481b7a564a6c9","2006-11-18 16:26:51+00:00","Make input string truly editable

svn-id: r24732
"
"a098de81c2166ea9f7059266d5c5fc4b59b5ca7f","2006-11-18 19:20:35+00:00","Add touche engine to credits since it is supported.

svn-id: r24733
"
"7bf52b07bfc00259834a58dc4af3f38ac2b59f08","2006-11-18 19:28:38+00:00","Oops, proper spelling.

svn-id: r24734
"
"c5bed9ebb72233072197f0bd0e2bf8bdfb8499b9","2006-11-18 19:58:17+00:00","Specify proper copyright line for AGI engine.

svn-id: r24737
"
"c558018bd97858d2ca52afd9995a70f83ee34bd6","2006-11-18 20:57:37+00:00","Implement o1_fadeToBlack()

svn-id: r24738
"
"378982899382e139a12ff4bc1a8e29c74abafca9","2006-11-19 00:38:37+00:00","The script freezeCount isn't used by SCUMM 1/2 games at all

svn-id: r24741
"
"c210aff40cd832a1216f22a123b962856f7a9898","2006-11-19 00:39:48+00:00","* Made Actor::_pos protected, added public Actor::getPos() method
* Added default params to Actor::putActor()
* Removed Actor::getActorXYPos

svn-id: r24742
"
"55da3104cc4a9331ac9db2f525e296641fc8f84b","2006-11-19 02:02:41+00:00","workaround bug #1599009

svn-id: r24743
"
"2454f78589a6ee1d320d9b3f62b8f43106db1a48","2006-11-19 17:52:52+00:00","Implemented (currently still endian-unsafe) save/load

svn-id: r24745
"
"39b27ed3bb3f8d54d988afd6de147ede518ca4bd","2006-11-19 18:32:00+00:00","Added keyboard shortcuts for left and right mouse button.

svn-id: r24746
"
"50e2cf9caa0d6568ac0eac2ffb1cb0f637c13220","2006-11-19 18:54:06+00:00","Don't allow the F9 and F10 keys to open menus if a menu is already open. (Might
need more testing.)

svn-id: r24747
"
"920c9f1f4fe73dd990ee81fbefd2a9d1e71d33fa","2006-11-19 20:10:52+00:00","DS : Compilation fix when USE_DEBUGGER is not defined

svn-id: r24748
"
"d6e67af24713a0625f664941e1a9378938b31efc","2006-11-19 22:32:35+00:00","Fixed excessive indentation and removed leftover printf.

svn-id: r24749
"
"315c286bea55877b42d78451cbd7c4e9a4bfec58","2006-11-19 23:02:26+00:00","Proper implementation of o1_allowSystemMenu()

svn-id: r24750
"
"d64d6bcb7e56404dc585c62edcf39861f102f05b","2006-11-20 03:21:09+00:00","Add stopObjectCode() differences in SCUMM 1 - 5 games. The nested script stack wasn't been checked.

svn-id: r24751
"
"c22920484a23210c47a6786d86b0eeca7f5859f2","2006-11-20 13:03:30+00:00","Changed the way sprites-freeing is handled, now the menu sprites and window decorations are drawn

svn-id: r24752
"
"3799a91315dcd19391ea4eded39ce669fb461d21","2006-11-20 20:27:30+00:00","Fix regression which did not allow to enter save name.

svn-id: r24753
"
"e4c471b9d7f5f3aec4d1ee1d8bc9edf706b6adb9","2006-11-20 20:40:27+00:00","Fix for bug #1599113: SCUMM: Failed assertion in getBoxCoordinates()

svn-id: r24754
"
"fada662a1f01a18dc020b5af02798d47650f7a4a","2006-11-20 22:15:19+00:00","Removing bad default implementation of grabRawScreen in the PalmOS port (it was likely causing crashes for users of the 0.9.x series)

svn-id: r24755
"
"2768fa24fc809168784d3cde79fcb4ac6ad513c0","2006-11-21 13:28:45+00:00","- Fixed the crashes in Gob1 EGA and Gob2 Demo
- Fixed the compile error in GobEngine::saveGame on some systems

svn-id: r24756
"
"cad15161a5bc4cc45be40728ea1189220d502724","2006-11-22 13:40:32+00:00","Disable yet another MSVC warning

svn-id: r24758
"
"1076ae02ea84fa4795871e10e366ec6fbeed4d83","2006-11-22 15:48:16+00:00","Update MSVC2005 project files

svn-id: r24759
"
"cfb29dcb5199922e40e08b7cdc6502478782006c","2006-11-22 15:50:30+00:00","Fix MSVC2005 warnings. Please, review the changes.

svn-id: r24760
"
"5c9d5199f8139aa85203343efad54be4e80a6132","2006-11-22 18:25:16+00:00","Don't crash in loadDict() if pred.txt is missing.

svn-id: r24761
"
"7d3aa0b65378ba9d8b4b7838a0986bdc7734a252","2006-11-22 22:52:57+00:00","Add Hevrew version of Freddi Fish 1 for Windows

svn-id: r24763
"
"e7db7aff4db96bc36a29829009159b6047c1f94a","2006-11-23 05:37:37+00:00","Avoid compiler warnings

svn-id: r24764
"
"e09eaa074e5626e1d8004e8c13262136c1793dce","2006-11-23 06:43:18+00:00","Fix bug #1599267: 'FW: Ungraceful exit from copy protection screen'

svn-id: r24765
"
"207ef00754e3c7363d3489a0e1957a392c4343e2","2006-11-23 06:45:21+00:00","et up cursor palette. This fixes Amiga/Atari versions and makes cursor more
visible in most cases.

svn-id: r24766
"
"51a621fe98f1aaccbe3a35f96336824df9e27ac9","2006-11-23 06:47:41+00:00","Dump global scripts too.

svn-id: r24767
"
"57ba5fc233e29909fa9f5d8bf5d298b7a49cc685","2006-11-23 06:49:23+00:00","Fix Amiga/Atari-specific copy protection.

svn-id: r24768
"
"8476b767f92dcd9b3a04a236ed4c8ec5efaa8a16","2006-11-23 06:50:44+00:00","Fix crashes on unimplemented music/sfx in Amiga/Atari versions.

svn-id: r24769
"
"45c645159f1685a0f5e0300ceb0d4e84b237b1f4","2006-11-23 06:52:03+00:00","Add missing dump script cases.

svn-id: r24770
"
"a2b240c0e227ad173edde751b6f8a5b0426a0077","2006-11-23 06:57:06+00:00","Fix regression in OS Amiga demo.

svn-id: r24771
"
"4ac350407f2c61c50eb1e8125e6b5db1ebaf1939","2006-11-23 08:48:53+00:00","Remove left over debug code

svn-id: r24772
"
"1950e9cc50afa1b779bcf6de28fdb492a5f88912","2006-11-23 08:54:34+00:00","Add German demo of Simon the Sorcerer 2 (DOS CC)

svn-id: r24773
"
"1114480ece2c96b694ce0860c9f7af5fecf15ffa","2006-11-23 18:14:16+00:00","Only bring up the predictive dialog on left clicks, not just any event. (I.e.
now we can still type commands, even if the mouse cursor is hovering over the
text input area.) I hope this is the desired behaviour.

svn-id: r24774
"
"d47d545631fb37528ccad4c993d599c799591dc4","2006-11-23 22:10:25+00:00","Fix for bug #1599393 - FOTAQ: clicks at the beginning of speech. English talkie version (and probably others) has 2 different .SB file formats, with a different size for the header data. Added code to detect that.

svn-id: r24775
"
"b373ab1a38bf4de8da1eda5af4d7abea50e1ea80","2006-11-23 22:25:04+00:00","minor cleanup, _spritesTable is no more static

svn-id: r24777
"
"c7c6eb7fb9433cc5ccd49d5c256beb1946403f6a","2006-11-23 22:55:05+00:00","added details for another Touche version as reported in tracker item #1601818.

svn-id: r24778
"
"a77ae86c43cac920fdec2a43b254420b924d44f8","2006-11-24 00:00:27+00:00","fixed bug #1602037 - TOUCHE: Map not shown correctly in Intro.

svn-id: r24779
"
"d1eb83a4703035510acd765b05f3c9786934f5bf","2006-11-24 09:27:50+00:00","Add findBox opcode for Hebrew version of Freddi Fish 1

svn-id: r24780
"
"82601174f3f540d2a939c946bb2170819562cddb","2006-11-24 18:18:48+00:00","update the screen at the end of each engine cycle, it should make the mouse cursor more responsive

svn-id: r24781
"
"d4f61e6ee91bc705fd781f0b5c2a7f9e55af80e4","2006-11-24 18:24:45+00:00","loadFile isn't called with useMalloc=true anymore, got rid of it

svn-id: r24782
"
"28be8164ac396417602594b3362f0b1d04a195a4","2006-11-24 18:37:43+00:00","simplification, removed some duplicated code

svn-id: r24783
"
"35b712e1eaf950c6167ff508b512d479910577bb","2006-11-24 18:50:21+00:00","Fixed compile error in FLAC sound support. I haven't tested this.

svn-id: r24784
"
"c89dcb6e79ef9cf76eff164095b5efe4bd52ceb6","2006-11-24 20:25:55+00:00","Let F10 work in all expected cases.

svn-id: r24785
"
"8b00f19f3112af7a73bb2fcf9f483f6ccf49c4cd","2006-11-25 00:31:51+00:00","added a few comments and details for another Touche version (tracker item #1602360)

svn-id: r24786
"
"8fddc1258118ff5b32fc594dc9892f76244af474","2006-11-25 09:28:00+00:00","Support loading saves from command line.

svn-id: r24787
"
"6c3672508be9de1b0c04999790fba7e88d720ea1","2006-11-25 20:35:34+00:00","DS : High quality scaling.
Doesn't work on the second screen yet.
(switch cpuScaler in dsmain.cpp to test)

svn-id: r24788
"
"360da37d2e888a7672ace778e9d7c740d154d4ab","2006-11-25 22:03:34+00:00","DS : The hi-quality scaler works on the secondary screen

svn-id: r24790
"
"5c8de9b3b0411f6f7b84a4209279a42f69fe19ac","2006-11-26 22:39:34+00:00","Replaced #ifdef hack in the HashMap code by a much nicer and cleaner 'friend class' statement (a similar change might be possible in class List)

svn-id: r24791
"
"fcef47947ec208b560523f26be237e475bb00b4f","2006-11-27 00:49:59+00:00","Got rid of an 'unused variable' warning

svn-id: r24792
"
"b2fb23a134d7f6486bef0922159fa747411d9f14","2006-11-27 00:51:14+00:00","Changed the way String::_storage is initialised, to help GCC 2.95 (see tracker item #1602879)

svn-id: r24793
"
"9afb08341c89d20f54de4b6c9efec69ab60fc79d","2006-11-27 14:19:30+00:00","- Properly implemented o2_getCDTrackPos()
- Each save has now its own file (.s??). They also should be endian-safe now
(Can be disabled for testing by uncommenting #define GOB_ORIGSAVES in gob.cpp)
- General endianness-fixes

svn-id: r24794
"
"1e27dd5694bf5f853eeccbbdb2718773c70e0ec8","2006-11-27 20:56:41+00:00","Removed the '#ifdef SCUMM_BIG_ENDIAN's

svn-id: r24795
"
"c18f01d609fd5fb57810ee1a6b8fa1ecead83797","2006-11-30 13:09:01+00:00","Adding new Gob2 MD5 (closing bug #1605235)

svn-id: r24796
"
"3f627e73e4375af62db297f47befc6a38a868abc","2006-11-30 13:13:35+00:00","The music in the Mac version of Gob1 seems to be selected randomly for each scene

svn-id: r24797
"
"9c13f12cddb13a92acc3c671ed3547e5f7a6c8f5","2006-12-01 22:36:16+00:00","Adding new M3SD driver

svn-id: r24798
"
"40d10a5436dcefefb78a7d563f6808b91babf4ab","2006-12-01 22:36:54+00:00","svn-id: r24799
"
"9c12f89fc73e9090582b6b8e38d62e304cef1743","2006-12-01 22:44:19+00:00","Changed size of sine table so it take less memory in cache RAM on DS port

svn-id: r24800
"
"36396a4aa6db0b7868df3308eab73752f24f1f0f","2006-12-02 14:51:11+00:00","NDS : Micro-optimizations for the software blitter

svn-id: r24801
"
"21f49b5229dad018b9d1f593fc34311e665e70a9","2006-12-02 15:02:15+00:00","NDS : Micro-optimizations for the software blitter

svn-id: r24802
"
"352ed7299fe87d08273609c8527a7580a7851199","2006-12-03 15:42:41+00:00","Patch #1605290: Change quit shortcut for Amiga to match style guide

svn-id: r24803
"
"0b110b42daabfa8c06d97edab3ad844f24f0a034","2006-12-03 16:09:26+00:00","NDS : Micro-optimizations for the software blitter

svn-id: r24804
"
"2564d954de9e92e1f9a2f23336a45b369a5d8504","2006-12-03 17:08:37+00:00","Fixed indentation. (Oh, ok, I actually just wanted to test the new SVN access
path.)

svn-id: r24805
"
"f36beed55d39692ed84a3e7929c8b09429c1b471","2006-12-03 18:29:58+00:00","Changed CINE_*_H_ to CINE_*_H for consistency with other engines. (Oh, who am I
kidding, I'm still testing the SVN change.)

svn-id: r24806
"
"1a85adfa833e78d4460e89ff5db1c6bc8688b048","2006-12-06 15:31:35+00:00","Enable yet unfinished IIgs sound, but this prevents IIgs games from crashing.

svn-id: r24807
"
"1d3ca2e40908ababd16fe8b1c9070198f9b75c82","2006-12-06 19:27:02+00:00","first phase of objectisation of agi engine

svn-id: r24808
"
"efb38a5d60548792cfaffd83ccd4ba5766b8f13a","2006-12-06 19:44:27+00:00","Fixed compile errors (for me at least). Still plenty of warnings, though.

svn-id: r24809
"
"8b68cfdb93a211d70e70a583457a0b7c7a8f047f","2006-12-06 20:17:21+00:00","NDS : CPU scaler profiling (currently 50ms ouch)

svn-id: r24810
"
"9efed0388f66ddcd8f60e1f2d33458b0f4f95f0c","2006-12-06 20:36:14+00:00","NDS : Micro-optimizations for the software blitter

svn-id: r24811
"
"d1b570d9e503b0305229808342ad400c237b7862","2006-12-06 21:23:01+00:00","Fixing some compiler warnings

svn-id: r24812
"
"6eb8b98adc18ba97096e37be23237c235370ecc6","2006-12-07 00:32:32+00:00","Remove unneeded #include

svn-id: r24813
"
"6fd07f64d4ca02905e68d2772b64e812ed6e2bd3","2006-12-07 01:00:26+00:00","Fixed button rendering

svn-id: r24814
"
"c4a9ac221c4dd4590440cd584b250579997c41c8","2006-12-07 11:31:53+00:00","some files in the dist list are not any longer in root dir

svn-id: r24815
"
"f05cd64dc156c6085f496330b7a8d3d7c2c2981b","2006-12-07 12:45:49+00:00","update project files

svn-id: r24816
"
"8fb811bb0a8982c177b7bcac990c80c3d396f92d","2006-12-07 22:10:26+00:00","NDS : Micro-optimizations for the software blitter (table lookup for div by 5 : 51ms -> 43ms)

svn-id: r24817
"
"12f6bd37eaf6812fede3843b2110ea066fc90e49","2006-12-09 13:20:11+00:00","NDS : More blitters stuff

svn-id: r24818
"
"4f79f3c7f06438d09085e6422a14247b5c754903","2006-12-09 13:27:20+00:00","NDS : Scaler optimization 43 -> 33 ms

svn-id: r24819
"
"308f46aa9e28e14a759b1f478f1e40c6696650df","2006-12-09 13:42:00+00:00","NDS : Scaler cleaning

svn-id: r24820
"
"dfb325b88b3e13e2e6d157371a1b83b9c5bc51fa","2006-12-09 14:14:58+00:00","NDS : Scaler cleaning

svn-id: r24821
"
"993b004b22431c7fa61a07ff5d28bd66ac3fe07c","2006-12-09 17:51:05+00:00","added missing opcode (bug report #1612252)

svn-id: r24823
"
"066149b04abf471d5de389ce61eb5aaa8c9520c6","2006-12-09 18:30:34+00:00","Better implementation of op_sleep() which doesn't freeze mouse.

svn-id: r24824
"
"60bac003140a116e863f2fb916b3824b97274505","2006-12-09 18:57:27+00:00","cleanup

svn-id: r24825
"
"f6ed99aceec14512967717806ee48531281de3ce","2006-12-09 19:07:40+00:00","force mouse cursor display if first script is different from 90 (startup script number)

svn-id: r24826
"
"56d63740e8aa9a44c096ebccfa88fb5e402a04d1","2006-12-09 19:22:56+00:00","Updated credits: Benjamin Haisch = John Doe

svn-id: r24827
"
"80dfce00a599824a257d32de99c0b0633a6827bb","2006-12-10 00:41:45+00:00","cleanup (added a few more constants, renamed some opcodes) and reverted my previous change to op_sleep.

svn-id: r24830
"
"08c261a5a639c249d482112eb4a0118cff98a25f","2006-12-10 00:44:40+00:00","made CUP_Player only update the modified screen areas.

svn-id: r24831
"
"8a32720213097be7658bf19e04f166bcfb9b63e8","2006-12-10 14:28:37+00:00","Patch #1296058: Showing the original save/load dialog (see also RFE #832460)

svn-id: r24832
"
"97e2c59dbbae9728f081f6d781c9b7de6a17f060","2006-12-11 00:40:10+00:00","Fix error when exiting original options screen of COMI. BlastObjects are removed, right after checking for load/save game, in original COMI.

svn-id: r24833
"
"d8cb3dc42dac35e93a32c9e7afbf37694850927a","2006-12-11 05:19:57+00:00","Use VAR_GAME_LOADED values from original COMI, when loading or saving temporary game

svn-id: r24834
"
"5424198c825bddd5f7410b8649c8d2b8aa38509b","2006-12-11 06:12:12+00:00","Allow load of saved game from original COMI load/save screens

svn-id: r24835
"
"d704d644e87c93618db94c5eff4fcbe11be3dfba","2006-12-11 06:20:17+00:00","Disable saving game in original load/save screen of maniac/zak, since it doesn't function correctly

svn-id: r24836
"
"b00e143d74a1f0685f95438b0b8f263cd28951d4","2006-12-11 06:53:46+00:00","Add patch #1611503 - DXA: Improved encoder (filesize and speed)

svn-id: r24838
"
"983954821c60847c5382aa87df631b1aa135938d","2006-12-11 08:31:32+00:00","Fix typo in initial _scaleBuffer check

svn-id: r24840
"
"1ba6947440a4e3f98d946ac2a784ea2a4adcc947","2006-12-11 09:26:54+00:00","Adjust DXA scaling code for Broken Sword 1

svn-id: r24841
"
"a4b835838d583cddc7e6682a3a3329a73a546668","2006-12-11 22:35:50+00:00","Whitespace changes

svn-id: r24843
"
"42228fdc361b7c68d6326c2a89131b3bda966a90","2006-12-11 22:48:57+00:00","Add cyx's patch for endian issues in DXA player

svn-id: r24844
"
"45886ec8ed7ef2244523b05e10a852d9851d772d","2006-12-14 05:21:19+00:00","When drawing an interlaced frame, only clear every other line instead of the
entire buffer.

Introduced a _drawBuffer pointer which points either to _scaledBuffer or
_frameBuffer1. That way, we don't need to copy _frameBuffer1 every time we
draw an unscaled frame. (Probably the most common case by far.)

Adjusted the Broken Sword 1 DXA player for the second change. (It sneakily
avoids copying each frame by using _drawBuffer directly.)

svn-id: r24846
"
"488873353b0acea39d500e4732985603d03b812b","2006-12-14 05:32:16+00:00","Only allocate _scaleBuffer when required.

svn-id: r24847
"
"cf30537765750ac3d9372f4fe396bb12f33686c7","2006-12-14 12:41:55+00:00","added details for demo version of touche

svn-id: r24848
"
"eb012d811072b43a4af475b4e7f069924e2eca10","2006-12-14 19:07:43+00:00","Smashed the wizard's house bug

svn-id: r24850
"
"3244d20ee2aefef95f53c7198105c37176342f02","2006-12-14 21:23:24+00:00","Add proper detection of BS1 Mac demo. Game crashes at attempt to play speech.

svn-id: r24851
"
"0141cbd1dfd91c4aaeb4ed18b55e798170b17393","2006-12-15 00:59:11+00:00","GF_DEMO is only required by the PC version of Broken Sword 1 demo

svn-id: r24853
"
"d99760549a0698db35f85ede5c1b0ed672a52960","2006-12-15 14:36:04+00:00","Fix regression. It crashed with orignial DXA files.

svn-id: r24856
"
"10a9989a5896c32b6c495748a76ff3d94553ab83","2006-12-15 23:48:38+00:00","added basic handlers for SFXB and SNDE tags in .CUP player

svn-id: r24857
"
"eb86007b317d01d81796e7966ef861b95f2dde1d","2006-12-15 23:54:42+00:00","Add code for stopping video playback in HE100 games

svn-id: r24858
"
"c680f79eef653c2923d0de1c344b6b0c85c63e56","2006-12-17 10:17:13+00:00","Add cyx's patch for horizontal and vertical flipping of wiz images type 1, in HE games.

svn-id: r24860
"
"4ca90ab14856fd8fcf2c18a65f19e6eaa15bdbe8","2006-12-17 10:35:32+00:00","Update known issues

svn-id: r24862
"
"d39da605a23a9ec54caf4ae56ad212e7d4c915e1","2006-12-17 19:39:15+00:00","sync OFFS define in tests with scumm/saveload.h (64 bit fix for make test)

svn-id: r24864
"
"9543231685d1ffb459fbc70e4679c4ac459abbd8","2006-12-17 19:41:41+00:00","replace ensureCapacity(_len-1) by ensureCapacity(_len) (fixes bug #1617410)

svn-id: r24865
"
"a2e9bc706c3792a5430fefe3cb040dd5ccc39b88","2006-12-17 21:20:51+00:00","Added a range check in Draw_v2::printText(), fixing invalid reads. It *shouldn't* pose any problem
s

svn-id: r24866
"
"17700e2b52df347cb5a8d12b01f380846c872a87","2006-12-17 21:21:26+00:00","Fixed a walking animations related mistake

svn-id: r24867
"
"0d65cb426074581986526c44b74e0d5ed02b6216","2006-12-18 07:24:36+00:00","Check _scaleMode when decoding a NULL frame. Otherwise we will draw the
unscaled frame when playing a scaled movie. (The Broken Sword 1 intro is a
good example of this since it is scaled and uses NULL frames early on.)

svn-id: r24870
"
"534a2fd5d733c5ef5fba3b0610f217377f3751a9","2006-12-18 07:51:02+00:00","Change position of scale code, Scale code shouldn't have been FRAM specific

svn-id: r24871
"
"4c46f4a8789894b30a7ffef58c8c218a2bf74b96","2006-12-18 07:55:31+00:00","The MPEG player no longer handles frame syncing/dropping, so this comment is
obsolete now.

svn-id: r24872
"
"fc6f8a47f1123661f92be4350c94d9a967559e62","2006-12-18 14:33:37+00:00","Added a waitRetrace in Game_v2::CheckCollisions() and rearranged the delay in o1_keyFunc(), so that the save name dialog is shown and the 'Empty Inventory' message is displayed properly as well.

svn-id: r24874
"
"2e6ad11d6d65d4f02e6b8283b47fa31a9abbc4f3","2006-12-18 20:38:31+00:00","Fixed the note-pad, font changing and date/time-display

svn-id: r24875
"
"6c46f3ba26b5cbfe2aa00b9de345ee360dd1af82","2006-12-19 01:06:45+00:00","Added Apple IIgs as machine type for AGI engine

svn-id: r24876
"
"374f87d7cbf8ec69dc35ff9e22084c450df86762","2006-12-19 01:11:41+00:00","Added AdvancedDetection to AGI engine. Only added KQ1 for testing

svn-id: r24877
"
"d73a3f26ed0c99e0c86f6012ba56ac8cae685832","2006-12-19 01:45:12+00:00","Update makefile

svn-id: r24878
"
"66910854c936a2ffccfb1ca06b030f1ca8e1002a","2006-12-19 01:47:28+00:00","oops

svn-id: r24879
"
"bdf98587c8b6a6ee773680cecb8a63219dcea7c6","2006-12-19 01:57:30+00:00","Changed game id's back to agi. Added some KQ2 entries

svn-id: r24880
"
"18ce3810609ada7d1aded6a6ba551991bc556ba6","2006-12-19 03:52:04+00:00","Got rid of ARRAYSIZE in advanceDetector calls

svn-id: r24881
"
"457ebfea3c3e630b50f8e2ccf38ec340036c0010","2006-12-19 04:35:08+00:00","Get rif od ARRAYSIZE in ADGameDescription

svn-id: r24882
"
"4446f2c851f5b918daeda837905a884a70dfac0f","2006-12-19 07:38:33+00:00","Fixed backspace and delete in the note-pad

svn-id: r24883
"
"a6cb2df4c24de391a22f0546ae3098e8e21ed557","2006-12-19 09:12:52+00:00","Stomped the well/diving-bug

svn-id: r24884
"
"0d1f78e4beced8191ae03e84073b6297d8167a9d","2006-12-19 12:21:23+00:00","Fix compiler warning (in general, NULL is deprecated in C++ -- just use 0 instead)

svn-id: r24885
"
"d82d2c4513a31d46674f0b6cd66c1a2e728c6af7","2006-12-19 12:24:41+00:00","Fix warning about a const cast

svn-id: r24886
"
"d8d32812c8c1d4045622e63eaecb5805c7504004","2006-12-19 13:50:34+00:00","Merged SagaEngine::postInitGame() into SagaEngine::initGame()

svn-id: r24887
"
"3e5240d7022b9625f96ab24aeed6028e8acb84fb","2006-12-19 14:34:03+00:00","fixed bug #1618695

svn-id: r24888
"
"cd46b0d57d709956b34a4ae37a87ee4767a7986f","2006-12-19 21:52:29+00:00","Added a comment to ScummEngine_v5::saveVars (we need to implement it for IQ support in Indy3), and fixed a memory leak in o5_saveLoadGame

svn-id: r24892
"
"865d8717a3270f3b913a3fbfa64bcfc5ca746db4","2006-12-19 22:43:15+00:00","* Change the GameList typedef to a proper class with an additional
constructor which takes a PlainGameDescriptor 'list'
* Replaced real_ADVANCED_DETECTOR_GAMEID_LIST by this new constructor
* Removed ADVANCED_DETECTOR_GAMEID_LIST and ADVANCED_DETECTOR_FIND_GAMEID
* Some minor cleanup

svn-id: r24893
"
"296914412064931ce13d502a20ef521fbed3197c","2006-12-19 23:14:15+00:00","* Simplified code in AdvancedDetector::detectGame
* Removed AdvancedDetector::setFileMD5Bytes, now AdvancedDetector::detectGame
simply takes the MD5 byte limit as an extra parameter

svn-id: r24894
"
"07c6fa980f90946baa779716da2664d231176808","2006-12-19 23:37:03+00:00","Further AdvancedDetector cleanup (in particular, renamed ADGameDescription::name to the more suitable ADGameDescription::gameid)

svn-id: r24895
"
"559f2b62ebfa57ce316825aee2da4664e244877d","2006-12-19 23:57:04+00:00","Renamed real_ADVANCED_DETECTOR_DETECT_GAMES_FUNCTION to ADVANCED_DETECTOR_DETECT_GAMES_FUNCTION, and real_ADVANCED_DETECTOR_DETECT_INIT_GAME to ADVANCED_DETECTOR_DETECT_INIT_GAME

svn-id: r24896
"
"e0ee3fd06d9d547715139d89f896dda96561df12","2006-12-19 23:58:45+00:00","Properly walk through lists of (extended) ADGameDescriptions -- we previously only checked the first byte, which 'often' worked fine on little endian machines, but almost never worked correct on big endian ones

svn-id: r24897
"
"dc30c2304c808dd25920e5f9a179533eb7a45555","2006-12-19 23:59:26+00:00","Changed Engine_KYRA_detectGames to use ADVANCED_DETECTOR_DETECT_GAMES_FUNCTION, and removed the ADGameDescription::gameid abuse

svn-id: r24898
"
"6eef02245cb5cf59d89eef8e020ae90b98109483","2006-12-20 00:08:51+00:00","Stripped some more real_ prefixes from function names; also added a new FIXME comment to Kyra's setupGameFlags, and did some more cleanup

svn-id: r24899
"
"cfc50e7850caded716f81db32d09fe47fc5662e1","2006-12-20 01:52:46+00:00","workaround a scripting bug (see tracker item #1618700) and renamed an opcode

svn-id: r24900
"
"aa60d372b915bb199ea073380e3cca16df77ba46","2006-12-20 11:51:01+00:00","Mention gob2 support

svn-id: r24901
"
"c51d89061f8a9703468bf42652cb0979dda3a576","2006-12-20 12:21:48+00:00","Add Simon the Sorcerer's Puzzle Pack to documentation

svn-id: r24902
"
"97ad57e9bbbbbdbca4478a9a38ffebbdbfc4c467","2006-12-20 15:50:13+00:00","Changed CD playing a bit, now playing directly from the CD should be possible again. Playing without an audio track at all works now, too

svn-id: r24903
"
"2846a9ba556bdeb9dfb49d9a6aac7afc743e542c","2006-12-20 16:00:15+00:00","Added Gob2 to the supported games + blurb about the CD versions speech/music volume identity

svn-id: r24904
"
"12a936aee5e1d02616c566a10cabf3ff148f7fc4","2006-12-20 16:12:09+00:00","Sync

svn-id: r24905
"
"d5b72bae5068e2b33e02faa56b2ba88765f27626","2006-12-20 16:24:28+00:00","Add missing closing statement.

svn-id: r24906
"
"3f0f9045aad6255f73457f03e7d0282e43c2e91d","2006-12-20 20:10:37+00:00","Tiny whitespace changes.

svn-id: r24907
"
"b9cd2ae97fedeca91b02d0c6bf685a65bac31a31","2006-12-20 23:59:09+00:00","Added some extra game versions, KQ2, KQ3, KQ4, Groza, DDP

svn-id: r24908
"
"e6f95af215f226280ff7dca27c52181e604ce09a","2006-12-21 02:08:53+00:00","Fix copyright and svn properties.

svn-id: r24909
"
"cfd4ffb321112a311eb800077c4483d76a6d63d6","2006-12-21 15:09:13+00:00","fixed bug #1620023 (script calls putActorAtXY with y == -1)

svn-id: r24910
"
"487391edef421fb86e7ad853572eb1606d7776c7","2006-12-21 15:18:26+00:00","passing the room as an argument to putActor is optionnal here

svn-id: r24911
"
"d1f0ca423c600f213e9d67d425880ca9436bf6a0","2006-12-24 19:56:13+00:00","Add md5 for interactive gob2 demo.

svn-id: r24921
"
"4ce7b7408584bd12989e4d309f9280bf4222c44f","2006-12-25 15:03:36+00:00","Changed ScummEngine::_actors from an Actor array to a an array of Actor points (i.e. indirection)

svn-id: r24922
"
"ba991e3b3ac520dad1d2eeed05c890bfe058c506","2006-12-25 15:37:20+00:00","SCUMM: Added ActorC64 subclass of Actor, and added a note stating that _miscflags isn't currently stored (possibly breaking C64 save states). Also reordered some HE specific code

svn-id: r24923
"
"ae4ea4d98944b9add05fac5f0efb053657fe82c3","2006-12-25 17:21:54+00:00","Introduced ActorOldWalk subclass of Actor (for V1-V3 walk code)

svn-id: r24924
"
"f54b9355002ea9e5c66e4f2c3b036fde044be163","2006-12-25 23:13:13+00:00","Tweaked the FixedStack class a bit

svn-id: r24926
"
"352549c6e65ffdbb434583fa27dcb8fbcb95993b","2006-12-25 23:25:28+00:00","Set maximum saved game file to 998, since 999 is used for as restart state in FF

svn-id: r24927
"
"83ba0cfc8eddf22c302747fc8a7ab4038a569587","2006-12-26 20:16:48+00:00","Update MSVC8 project

svn-id: r24930
"
"a0f5e6f0b17367ae80dfc0e95c24c96bd9caf3bd","2006-12-26 20:57:29+00:00","Patch #1622564: 'Enhanced PopUp behaviour'

svn-id: r24931
"
"4e52f4438f9ced523441e7bda2e168ac77688a2e","2006-12-27 00:47:57+00:00","Fix bug #1595627: 'SCUMM: F5 crashes game (640x480)'. This partially
reverts commit r24656 for fixing bug #1590596 and effectively fixes both.

svn-id: r24933
"
"f01f4eea980924df60b8301eda02fb4acbb71c94","2006-12-27 22:51:14+00:00","Added NewGui::getTopDialog method

svn-id: r24938
"
"8acfe5f557e1cfed4632a796d9003f846483ed13","2006-12-28 09:12:58+00:00","Updated quit handling

svn-id: r24939
"
"9cc4b3d4c957bc1c04f3903f1a19527c9324de75","2006-12-28 11:52:24+00:00","Add a few AGI md5sums (sq1, pq1, lsl1)

svn-id: r24940
"
"203b93e49dadf43fe4483163b44d3fe8fd4e3350","2006-12-28 12:14:58+00:00","Updated makefiles to support touche and agos naming properly

svn-id: r24941
"
"fb1cb33324e3cb728cc5de2d24f279ea7bc563d9","2006-12-28 12:29:18+00:00","Fix previous commit by anotherguest

svn-id: r24942
"
"291859eccd02be5f728cc412760148995492caff","2006-12-28 21:54:48+00:00","Credit clone2727 for his significant contributions to our Wiki.

svn-id: r24944
"
"c01839bbe98f62b242d7f3bbc72a8095ae28d94c","2006-12-29 00:03:03+00:00","Make ADGameFileDescription is built in directly into ADGameDescription.

svn-id: r24947
"
"c553807bfcbab50ff9c5fe063e0bdb6e6088d950","2006-12-29 23:43:36+00:00","minor simplification

svn-id: r24948
"
"7f01700ac53c5d1afe74cd4a289b18cdc2540dce","2006-12-29 23:44:08+00:00","workaround a scripting bug (see tracker item #1622114)

svn-id: r24949
"
"2e5b25e15df4d820ba88d50917005720280e871c","2006-12-29 23:50:54+00:00","added explicit call to parent method

svn-id: r24950
"
"b0cd34a28b055199b66d36664d943671d44fbc93","2006-12-30 01:20:19+00:00","Add German version of PP - Swampy Adventures

svn-id: r24951
"
"c0ccf07010c0aca05b03dae30b832e7a7aa03b45","2006-12-30 04:50:55+00:00","Fixed warning.

svn-id: r24952
"
"95a7b6507a51a498519f74ce965be9d8bc03465f","2006-12-30 05:14:54+00:00","Cleanup

svn-id: r24953
"
"84bc1e62cacebec3e953a06897adedf28338bf45","2006-12-31 15:25:59+00:00","Added loads of Sierra titles (mac/pc/amiga/2gs/st/coco)

svn-id: r24959
"
"590bd33a9eca63118cdf71b907a9576bedbce4ba","2007-01-01 04:35:27+00:00","Fix bug #1624767 - FF: save games will not load.

svn-id: r24960
"
"9b6c3f3a87d3b7323e520e2a2ef2a44a7d517f88","2007-01-01 04:49:10+00:00","Add dxa file extension for short version of filenames too.

svn-id: r24961
"
"afcfc95e8ac5a3f52817128c1a8e359bf46c4e5d","2007-01-01 04:58:25+00:00","Always reset _scaledBuffer to zero when playing video, to prevent double free.

svn-id: r24962
"
"cbe3cb850caae223dedb42192b02e8533ca55790","2007-01-01 05:44:34+00:00","Cleanup

svn-id: r24963
"
"6944797891cb80cb465d0d06ab824f498e7459d8","2007-01-01 07:37:07+00:00","At Kirben's request, I've applied my old keyboard repeat patch for the AGOS
engine. Swampy's Adventures really needs it, and the more generic solution to
keyboard repeat is apparently stalled.

svn-id: r24964
"
"66249c651ee5fcd9913adda535d4e5ad92f7af95","2007-01-01 09:58:00+00:00","Add eriktorbjorn's patch for secondary sound looping in swampy, with minor changes for uncompressed sounds.

svn-id: r24965
"
"ea9ae8af0de0972669e5b23187d51d246dc99fe9","2007-01-01 11:29:20+00:00","Add volume support for music in swampy

svn-id: r24966
"
"7db298ecd15c40aad2daffb5c046c67d045bef51","2007-01-02 02:46:53+00:00","workaround a scripting bug (see tracker item #1623356)

svn-id: r24968
"
"bca2bacf23c54f1141ffc763b0f9b3b4a652212c","2007-01-03 01:41:34+00:00","The arrows keys aren't monitored in DIMP

svn-id: r24969
"
"6496482de5884b71fa3d263725c4f0ab41ef32d3","2007-01-03 07:36:44+00:00","Added experimental 'fast mode' for Broken Sword 2. (Use Ctrl-f to toggle.)

svn-id: r24970
"
"85b780baf1ffbb1a3b77b8a6b7916a45364a74c4","2007-01-03 07:56:24+00:00","Use FRAMES_PER_SECOND, not getFramesPerSecond(), to calculate the number of
frames before a sound effect is triggered. This is not dependent on _gameSpeed.

svn-id: r24971
"
"25141dd90139ea009d3fb94e1fa8c8bd90ce84ea","2007-01-03 11:40:39+00:00","Limit keyboard specific verb code to arrow keys only in PP/WW

svn-id: r24972
"
"c653a2cba56b9fe05524bf588d02f817f8859532","2007-01-04 02:15:20+00:00","Add the Amiga version of Gobiins 2 demo

svn-id: r24985
"
"250760ba80c08843349fa9ba600d9d6e9a02ddc4","2007-01-04 02:26:46+00:00","Make sure warning is shown for CD versions of Gobliins 2, when playing from CD under Windows

svn-id: r24986
"
"9defd81ffa7a44f0bf2b61f00da1d490e2c5f72d","2007-01-04 17:01:10+00:00","Various correction, enhancements, tweaks and other modifications of the README (note the added TODOs, which must be resolved before the next release)

svn-id: r24993
"
"9d821cb05ea80f7adf1d8ccaefcfbf3a66b100d6","2007-01-04 17:12:40+00:00","Some more tweaks

svn-id: r24994
"
"dd2260557e84665eb145501dae636a0549a4873b","2007-01-04 17:14:06+00:00","Using SCUMMVM_SAVEPATH hasn't been recommend for a long time now (essentially since we added support for a config file), so let's deprecate it by removing it from the README (we can still support it, just no need to advertise it)

svn-id: r24995
"
"86dd05870ce2b945b67a1bf69dbc14fc04709e43","2007-01-04 17:33:09+00:00","Some more README tweaks and yet another TODO

svn-id: r24996
"
"a9f62e75514b051171c88650ccdc02244812e71b","2007-01-05 11:27:58+00:00","Playstation -> PlayStation

svn-id: r25003
"
"b30c615165e7885df3e34e71db8d65b45558deb7","2007-01-05 18:16:05+00:00","Fixed the loading delay bug I introduced with the playing from CD fix (#1626308)

svn-id: r25006
"
"d1ecb0122c0647dcafc75dbf8ba699ee9c071b79","2007-01-05 22:45:29+00:00","got rid of an assertion triggered when trying to play a speech file after switching from silent mode to talk mode. Minor cleanup.

svn-id: r25010
"
"2cc2b09e82ab2939df3b4cdefdfb17508d58d2d0","2007-01-05 22:48:06+00:00","Add filename prefix used by German version of Freddi Fish 3

svn-id: r25011
"
"cd79d127fadbdff767e59ffab0eff734efe7b23f","2007-01-05 23:33:13+00:00","Since Actor::initActor is now virtual, it shouldn't be called directly from the base constructor (ActorC64::initActor won't get called as vtable hasn't yet been setup).

svn-id: r25015
"
"ef2d914742ae61b5f1cb0b39349d6bc14a19b495","2007-01-05 23:51:50+00:00","Enabled exit from in-game options

svn-id: r25017
"
"a16a3f258dd3e4634160ead2039ee0afec5df53b","2007-01-06 04:19:28+00:00","Menus should wrap around at top and bottom.

svn-id: r25023
"
"61d741514e72d12d62248d6523cb149c37f7d51e","2007-01-06 05:11:41+00:00","Extended text rendering code to allow 'checkerboarding', and switch menu code
to using this checkerboard effect for disabled menu items (this is how Sierra's
interpreter works).

svn-id: r25024
"
"6e0835da114d23673ce456f18db5995b22a35da7","2007-01-06 11:17:20+00:00","- Fixed cut off and missing sounds
- Fixed a crash/static reported in the forums (sending Winkle to the vulture)
- (Hopefully) fixed the immediately-closing notepad heisenbug (#1621089)
- Fixed using unitialised values after allocating the variables

svn-id: r25025
"
"4fa852b7eee20196a87416353fdc528865347e7d","2007-01-06 12:10:20+00:00","Add another German version of Freddi Fish 3

svn-id: r25026
"
"f6c87460de64f5b84e3d870018f04421d6a232f8","2007-01-06 12:16:08+00:00","Remove excess space

svn-id: r25028
"
"c8b46e026faf144a4c9db8dd1c9a66131b0e53c0","2007-01-06 16:33:19+00:00","Add myself to the necessary credit sections.

svn-id: r25030
"
"5e2bd94f7a22d826be0606baceef10d522aec4d3","2007-01-06 17:07:13+00:00","Start removing hires code from AGI engine.

svn-id: r25033
"
"8fbf9a1e238ca0a341b1a79ef9362e0d6eb2bd29","2007-01-06 17:11:08+00:00","A few minor fixes and optimizations (biggest one is splitting decodeFrameDeltaPage() into two functions to avoid a high amount of conditional jumps per decided animation frame

svn-id: r25034
"
"e2ff69d230ffe8db5d3af98af9a95f1578296b3e","2007-01-06 17:17:27+00:00","More hires removal, this time from sprites.

svn-id: r25035
"
"fc2454556afda5bcd32581e75daff6e0a23bad41","2007-01-06 17:21:33+00:00","Another set of unused hires code bites the dust.

svn-id: r25036
"
"ee1d36b91589c9904ce7ef0b7f7f309cd299b661","2007-01-06 17:53:15+00:00","Removed almost all the remaining hires code.

svn-id: r25037
"
"46271f214558ea0687b69c57d1a4d5db8dd8eb78","2007-01-06 18:45:43+00:00","formatting

svn-id: r25038
"
"ee221cc5df30ae2b14007e0bb57bffd95c3aa837","2007-01-06 18:52:30+00:00","Merging decodeFrameDeltaPage() again and using Fingolfin's template trickery instead

svn-id: r25039
"
"7f0156322fcc13e1a718e1d5544017be672bfc2b","2007-01-06 19:09:39+00:00","Updated POD explanation link

svn-id: r25040
"
"9686d2cf40084c8f19233c0696e8e37f95bbda0b","2007-01-06 19:22:05+00:00","ShowCursor() and HideCursor() are deprecated in Mac OS X, replacing the calls.

svn-id: r25041
"
"e2de7d670dc9387aa6838c1476c84a3e4a02a50d","2007-01-07 09:08:45+00:00","Enable AGI engine by default

svn-id: r25043
"
"05ab06ca3d14eba4cfdac400b874ac3e41e43871","2007-01-07 12:18:44+00:00","Add a PQ1 (2.0G) detection entry.

svn-id: r25044
"
"70f323e0911cc21a6c6a5e3e1c4c2180e618b88a","2007-01-07 12:33:38+00:00","Add KQ2 2.1 (PC version) to AGI detection list.

svn-id: r25045
"
"f1e5f0428718d9b96419dc2a24442f707170335b","2007-01-07 13:00:54+00:00","Fix interpretation of enable.item() and disable.item() AGI functions; they affect *all* menu items with the given event code. This is most relevant to menu separators which are normally disabled, and often all share the same event code.

svn-id: r25046
"
"29f59fc4681274d277d6ade9cb41d4eb313a9291","2007-01-07 18:02:54+00:00","Renamed amiga -> amigaMode and agds -> agdsMode; also some minor cleanup

svn-id: r25047
"
"ab180132c13e3e67a01ec02cce95e617cf7a6fc8","2007-01-07 22:27:57+00:00","Some README tweaks

svn-id: r25050
"
"216bcae2111156cd82791f2919d438b1f548cfe3","2007-01-07 23:18:18+00:00","possible fix for bug #1193185

svn-id: r25051
"
"4f9f4641b6203dea834546f289ce8e2c94d08eba","2007-01-08 04:45:09+00:00","Disable duplicate detection entry for AGI game MUMG.

svn-id: r25052
"
"8863ad6279686af60765b6cef904344384258a29","2007-01-08 12:32:26+00:00","added arrow keys mapping to match behavior of original interpreter (dialogue choices can still be selected using the mouse wheel)

svn-id: r25053
"
"8668200a64b0ed411e6b2473bc27d27137ec1b7c","2007-01-08 12:34:53+00:00","added missing reference to tracker item, indentation

svn-id: r25054
"
"53d842f37700a4e7bb5dd8f7327f4b4b68d9174b","2007-01-08 12:39:31+00:00","renamed an opcode, fixed an assert condition

svn-id: r25056
"
"965d82ea4673d560886e615934519fd61ab26a0c","2007-01-08 23:55:14+00:00","Fix for bug #1586735 ('KYRA1: Sprite not redrawn')

svn-id: r25057
"
"49f773d2f853f36c724eecb0c4bf383e315f0b26","2007-01-09 00:33:23+00:00","Little fix.

svn-id: r25058
"
"d61a84e0ab125c6a0208f8d19e91b6b410d0f4f8","2007-01-09 11:50:22+00:00","Fix for bug #1631352 ('KYRA1: Graphics heavily broken and ScummVM crash'), I tried memmove here, but it also crashed on Win32 with memmove, so I reverted it back to how it was.

svn-id: r25059
"
"ee4971f95757a93132865220dd59c5c330c06400","2007-01-09 18:39:55+00:00","Add... ahem... 188 AGI fanmade games to detector.

svn-id: r25060
"
"835d5997ccc571bb86b5a11ba2ef1b8d38fdea18","2007-01-09 19:02:49+00:00","Specify language for some fan made games.

svn-id: r25061
"
"5287a1c11d3045551ec604384b42d935702c5151","2007-01-10 22:14:13+00:00","Add German version of Putt-Putt Joins the Circus.

svn-id: r25062
"
"4c964d58baade388485e94cc59c1bad4a4291a01","2007-01-10 22:20:53+00:00","Add German version of SPY Fox 3.

svn-id: r25063
"
"1638cf2f0ba3a99542ef52feb43a85ee50f0cee4","2007-01-10 23:17:17+00:00","Add Spanish version of Elvira 2

svn-id: r25066
"
"9b3025deee353f33252780aa28f2ee2e0861c73b","2007-01-11 21:53:30+00:00","Fix backend timer problems. Also fix wrong sound mix rate in bass

svn-id: r25067
"
"5e29ed6e6ed2c6e49464d1c1b6dc7f9269f122b8","2007-01-12 02:11:53+00:00","Patch #1632505: 'AGI: Typo in detection code'

svn-id: r25068
"
"1403c8e6b020c0e934a2ab2115da1ba37ca828cd","2007-01-12 02:29:20+00:00","Slighty modified patch #1631229: 'Revamp of AGI savegame system'

svn-id: r25069
"
"baf9d63f5b9704afc6894bbda3dd7373e8fef45b","2007-01-12 02:31:04+00:00","Fixed version number printing in alt-d dialogue box

svn-id: r25070
"
"3efe809e830f4a8563bef7bca761a53f4a95e110","2007-01-13 10:24:26+00:00","Fix for language selection.

svn-id: r25071
"
"bad2b283c12e09eaa3c72f9ca67913b2a14afd03","2007-01-13 13:55:30+00:00","Patch #1610370: Configure patch for cross compiling Atari Version

svn-id: r25072
"
"24c9735588ac8d914b8f058cf68373b4e9a67071","2007-01-13 15:35:02+00:00","Rename special debug levels to conform our suggested naming scheme.

svn-id: r25073
"
"bc041f4b2546034f34cd656dcdd6333f61dd3734","2007-01-13 23:23:45+00:00","Add French versions of several HE game demos

svn-id: r25074
"
"b500f02e617f2f7758783ea671a5d9a83c149db4","2007-01-14 11:02:24+00:00","Added static initializers to handle global objects allocation

svn-id: r25078
"
"efe466040a301e59e788dfb0560ee29cff8a4216","2007-01-14 11:06:34+00:00","Still doesn't work with PalmOS compiler

svn-id: r25079
"
"9e4502684cfdd0f447e25356388abb27872d2bc3","2007-01-14 17:05:43+00:00","Added:
- engines location auto-detection
- Apple IIgs platform

svn-id: r25080
"
"4714f64440b2182716fa4618fe16e140b273986c","2007-01-14 17:34:40+00:00","Added missing grabRawScreen to OS5 backend

svn-id: r25081
"
"549f818e3195136ee3fbd7cd7e474f5932deb529","2007-01-14 20:52:14+00:00","Add few more fanmade games. But they all will go away soon to an external
file.

svn-id: r25082
"
"e5c7ce83b8c7bb5f7d64c53fa8dcc378f667e902","2007-01-14 21:29:12+00:00","Initial import of Parallaction engine

svn-id: r25083
"
"d38d85b8bc19cc7e3ce3fd1fbc3c864c2ab4490a","2007-01-14 21:58:18+00:00","mark 64bit issues

svn-id: r25084
"
"ed62e97e1ee560941b67787f03400bf2e64f6aa0","2007-01-14 22:01:47+00:00","Oops. Parallaction should be disabled now.

svn-id: r25085
"
"90abeb5ae5e27cf14b40adb9d238deca5be9a267","2007-01-14 23:23:44+00:00","Be more flexible w.r.t. interpreter version being emulated.

svn-id: r25086
"
"3c537cb3c92e288e83c08b8b5eaed4e2a6241f5e","2007-01-14 23:48:11+00:00","Zone names get free'd, so don't assign a static string to it (it causes a const warning, too)

svn-id: r25087
"
"964b95ccf0271fc72080a85328c0bab5f479f90a","2007-01-15 08:21:20+00:00","keep warnings off like this ones:
- warning C4610: struct 'Agi::AGIGameDescription' can never be instantiated - user defined constructor required
- warning C4510: 'Saga::SAGAGameDescription' : default constructor could not be generated

Can someone help me how to fix this ?

svn-id: r25088
"
"13129f6eba3ffbf19fff020b445b20f3d19df0d4","2007-01-15 08:24:45+00:00","fix warning

svn-id: r25089
"
"8aaaa003797a47529c09cb7c2f6c74b47bcc5467","2007-01-15 08:29:30+00:00","update project files

svn-id: r25090
"
"1bde157987624fd8b91c7cfb8cad3ccd3bf9f265","2007-01-15 12:59:40+00:00","Made Nippon Safes start from the regular splash screen

svn-id: r25091
"
"48061b339297a363b87856b8cb7db95650e4befe","2007-01-15 19:56:27+00:00","Fixed warning.

svn-id: r25092
"
"3545af0275459b1bebd32dc1405fc3d3dd4395be","2007-01-15 20:11:49+00:00","fixed pointer casting in InputData management

svn-id: r25093
"
"a90529c3230ad609b2956aa46027619a7f7239fe","2007-01-15 20:46:06+00:00","enforced MemoryReadStream usage instead of custom byte swapping in background loading

svn-id: r25094
"
"abb7d49bcaf90ddeb0fb10a30d6bd83c8ac574d8","2007-01-15 21:14:34+00:00","Fixing const related warnings in the parallaction engine

svn-id: r25095
"
"79d98bf52ab6480ac01b44c927f609d6f43b832f","2007-01-15 21:58:51+00:00","made _glyphWidths only referenced into graphics.cpp

svn-id: r25096
"
"a3df05727ad65d96333fd116dd35302169c6094f","2007-01-15 21:59:56+00:00","removed definition of _glyphWidths

svn-id: r25097
"
"c99fda16f20129fe14a8c428a837f49a16ffddd9","2007-01-15 23:37:05+00:00","removed detection for two hacked titles (Gold Rush and Manhunter I)

svn-id: r25098
"
"f9857455aa11c6dcf1c8b82b19f4ed908a44026e","2007-01-16 09:23:22+00:00","Start restructuring font data header for const correctness.

svn-id: r25099
"
"994604527b15dbe129b5c91f26da8840f3519199","2007-01-16 09:24:13+00:00","Finish restructuring font data header for const correctness.

svn-id: r25100
"
"b47eb953160883221f02c7455cb55ca66f75198f","2007-01-16 12:40:51+00:00","Formating names in source code

svn-id: r25101
"
"e315441cb89b9b6e384a2f60782e9a1e68ed2549","2007-01-16 12:43:13+00:00","update project files

svn-id: r25102
"
"a2f49d31fbd06a2f6c58854970f9d7646504e195","2007-01-16 13:09:42+00:00","Remove #include 'agi/text.h'; fixes build. Pointyhat to aquadran.

svn-id: r25103
"
"810cc513f7ab1aadb76059f3da0dc34b7caeb54f","2007-01-16 13:11:08+00:00","Restore missing svn:keyword attributes.

svn-id: r25104
"
"080d7083d0d1073d7ee8e6c80e13a664fc9320de","2007-01-16 13:12:05+00:00","Fix a minor compiler warning.

svn-id: r25105
"
"0c9d01ad81f1397304774327868f075f85bb0344","2007-01-16 21:30:18+00:00","added first debug messages

svn-id: r25106
"
"cc0c0b0dd12873298dfe89b4130e16ff2845212e","2007-01-16 21:41:38+00:00","Update details for German version of Elvira 2

svn-id: r25107
"
"f9d66e96d4aa071197835bdabdda9941fafa720c","2007-01-16 22:15:05+00:00","Update details of several French HE demos.

svn-id: r25108
"
"ebec953012aa6604b762dcc5aafc3fb707204f16","2007-01-16 22:16:12+00:00","svn-id: r25110
"
"2541fcd82aea8542673e063c59ed99257f5e768f","2007-01-17 11:12:02+00:00","fixed broken tab widths

svn-id: r25111
"
"684a71cee065890fb8ee3df5a4fc821e2cec3638","2007-01-17 20:11:31+00:00","Fixed a warning.

svn-id: r25112
"
"7d8ddb9a5b89b9839cd82230699049f80960a358","2007-01-18 21:25:02+00:00","fixed walk bug: characters now walk along complex paths

svn-id: r25117
"
"fb95758b818cc41a9f125f809c7441da918dd552","2007-01-18 21:36:44+00:00","Patch #1596959 (SH and MIPS need memalign too)

svn-id: r25118
"
"2ac841f18bbffa8ce8f05ce19c78e1d27c7a2296","2007-01-18 21:48:23+00:00","Make use of Surface::getBasePtr

svn-id: r25119
"
"37f94f7cba8135a8ee28a0ce1fe18337f8b764b6","2007-01-18 22:08:02+00:00","Hopefully fixed the SAN seeking (used by Full Throttle's bike fighting) that I
accidentally broke when removing the timer callback from the SMUSH player.

svn-id: r25120
"
"bcef1cb04d326ffffe71ad3fab267520b872aa11","2007-01-19 21:36:47+00:00","Adding libcartreset to ARM7 binary

svn-id: r25122
"
"31abbc14aef7e3a8088b4c2ad11ee43e67bc5a92","2007-01-19 21:38:03+00:00","Changed to ARM7 for libcartreset

svn-id: r25123
"
"fe9682ac55a385242440ace28a16223bd67b5032","2007-01-19 21:47:10+00:00","Adding libcartreset, fixing CD audio bug, adding DLDI support (defined out all other fat drivers)

svn-id: r25124
"
"d1b97e6786677483d9b908446640230f34cf9c8d","2007-01-19 21:55:45+00:00","Added copy constructor and assignment operator to class HashMap

svn-id: r25125
"
"b6b75af524e7446c961801b11abe170400335bdd","2007-01-20 15:28:03+00:00","Completed implementation of o1_restoreAllObjectBackgrounds.

svn-id: r25127
"
"0c82694f4782ad913b4d482f533f1e05f7219dc1","2007-01-20 17:29:20+00:00","Ported changes from branch-0-9-0 to fix grabRawScreen(), and palette corruption.

svn-id: r25129
"
"ecf5b465bb3a742fdfad6941bfb0814408f1b2db","2007-01-20 18:11:27+00:00","Fixed mouse redraw with Touche

svn-id: r25130
"
"0e36e6b50097ffe89cae449e7098d0dbf4ce18d2","2007-01-20 18:20:36+00:00","Added support fir hi-res games to standard PalmOS 5 devices (BS, TOuche, ...)
Added aspect ratio selection too

svn-id: r25131
"
"163803809edf931c277ba2d9d5f9581d6363b57e","2007-01-20 18:24:55+00:00","Prepare Parallaction support (not working for now)

svn-id: r25132
"
"47b1321d1520eabcfa4d971bd945f4461eeada49","2007-01-20 18:27:22+00:00","Prepare Parallaction support (not working for now)

svn-id: r25133
"
"cd8a5f3a98287fe7366db100c2fb45ff986e2d1b","2007-01-20 21:27:57+00:00","First phase of detection-related plugins interface improvements. Now plugins
return StringMap instead of fixed list of parameters. This adds great
flexibility.

Current patch should not alter any functionality, i.e. if there are regressions,
submit a report. Phase 2 will benefit from these changes and will come later.

svn-id: r25134
"
"12476efb587097abb04657a1d601564718e99c97","2007-01-21 00:06:50+00:00","Added some new HashMap methods: lookupAndCreateIfMissing (internal only), setVal and getVal (which actually is just the old queryVal renamed for consistency)

svn-id: r25135
"
"0c148fc44e25516a06481ff62ba2c48428b48192","2007-01-21 00:11:45+00:00","Added non-const variant of HashMap::getVal

svn-id: r25136
"
"baaedb16510a1fef3d0f70b269ce0b8fd24996b1","2007-01-21 00:25:04+00:00","Added game.cpp file with some funcs/methods declared in game.h

svn-id: r25137
"
"f30f00aedc2a1be8c355192f5270c0af08d8cca6","2007-01-21 00:29:03+00:00","Make use of HashMap::getVal/setVal, and some cleanup

svn-id: r25138
"
"d707bfb61528958685fb702191d37bf1c3740d53","2007-01-21 08:43:28+00:00","When a user clicks on an editable string, use the correct font for calculating
the width. Should fix bug #1640622.

svn-id: r25139
"
"d17f18223e3ea75411b12e91324b62e634ad9bf0","2007-01-21 08:53:18+00:00","fixed out-of-bounds error causing premature crashes on some systems

svn-id: r25140
"
"e1eb9dde12ae9ac6ae41b89234472fffea7f9954","2007-01-21 09:10:56+00:00","Ooops, collapsible only

svn-id: r25141
"
"0e5871b0ae868cb9401ce307c425935c4ed5220d","2007-01-21 09:54:27+00:00","Ooops, ooops ooops, bad source directory

svn-id: r25142
"
"d9e866398d125692444b7812bd3cbb95d3ab9977","2007-01-21 09:55:44+00:00","Clenaup

svn-id: r25143
"
"0ea9f49d671cef87bdc26d939f19a3f9e087b9f2","2007-01-21 09:58:18+00:00","Clenaup

svn-id: r25144
"
"c12fe859222f3a1100890d57971595cf5417e0c2","2007-01-21 11:00:07+00:00","fixed occasional border issues in inventory

svn-id: r25145
"
"0147a831805d326d6d9b9db68925a19c46c26a2d","2007-01-21 11:05:22+00:00","fixed ordering of engine jobs: no more known graphics glitches

svn-id: r25146
"
"dd03b8f84b50fd466f4543cd6e9d54518d3c3f17","2007-01-21 14:15:35+00:00","Cleanup event code
Added key up for mouse buttons so that we can control Gobliiins and Touche properly

svn-id: r25147
"
"aed4ae10a78320d847542b18c10498ae1cd4567e","2007-01-21 14:18:24+00:00","Speed up mouse emulation with hires games

svn-id: r25148
"
"e0aa34bc514183761c80362a6cbf2978b899b8e1","2007-01-21 14:23:32+00:00","Fixes implementation of o1_updateSceneAnimations.

svn-id: r25149
"
"aaf706a43df127b4134c23313f02177525f86e78","2007-01-21 15:17:28+00:00","Don't mkdir the default savepath whenever we startup; rather, mkdir (on Unix/Symbian, at least) the savedir just before we need it, i.e. just before saving. Fixes bug #1504398

svn-id: r25150
"
"fef501c20509d7a74f4ee53abd2557be533c75e7","2007-01-21 15:19:30+00:00","openForSaving can fail, so it should be handled gracefully -- but better to assert out in a controlled manner than o invoke methods on a NULL pointer, right? :-)

svn-id: r25151
"
"0a9276092fbd946f82a2ea7440d68f2fdaf33cc3","2007-01-21 16:34:18+00:00","Fix crash in GameDescriptor::updateDesc

svn-id: r25153
"
"44cbf4996b7a26832e566bfada4d186643056234","2007-01-21 16:57:13+00:00","Removed common/advancedDetector.h from agos.h, thus reducing the number of build deps on base/plugins.h and base/game.h from about 155 to 113 (and also reducing the deps on advancedDetector.h, of course). The same should be done to all other engines using the advanced detector (AGI, CINE, SAGA, Parallaction)

svn-id: r25154
"
"01a5faa6a0ba89b7f774efe33839a077eeaa5f9d","2007-01-21 17:14:53+00:00","Applied my own patch #1635584 (after discussing with Fingolfin) to reduce the
memory usage and number of allocations made by the NUT font renderer.

svn-id: r25155
"
"d3b0ff8ade3a147aa3ce78399fd66fb340b07584","2007-01-21 20:24:38+00:00","Reduce dependency from common/advancedDetector.h

svn-id: r25156
"
"3341f494296ddab50aa81ab9d996154f321a421e","2007-01-21 22:06:54+00:00","cleanup

svn-id: r25157
"
"d2f15566d3dfc0f72e10a74198073f17540e598c","2007-01-21 22:08:02+00:00","added handler for sfx sync (abc-slideshow.cup, bda-slideshow.cup) and sfx looping, cleanup

svn-id: r25158
"
"ac6bb86c96a82a9a7e3b9fdc409228752c7af559","2007-01-21 22:08:46+00:00","update

svn-id: r25159
"
"a8c6b02a9c77364ed83159082f94bdd9dcd54547","2007-01-23 19:40:28+00:00","Added support for Infogrames/RobHubbard2 (amiga) music

svn-id: r25160
"
"853b00fba111fa682d75814922ee68df46c613a3","2007-01-24 00:07:23+00:00","Fix for bug #1586640: SDL: Joystick/Joypad doesnt work with 0.9.0

svn-id: r25161
"
"dc8dde1872e30182b178fb1a772d564a3fb696af","2007-01-24 00:11:22+00:00","Patch from bug report #1615417: SCUMM (v6): Cursor isn't updated after hotspot changes

svn-id: r25162
"
"edd2422a55caeb5a46ee240feaea70a5aa4a4da2","2007-01-24 22:24:52+00:00","Hide all AdvacedDetector parameters into a structure for easier maintenance
and extensibility

svn-id: r25163
"
"318210ad962ec294b5d74f8f1d81a9e845e2696f","2007-01-24 22:42:44+00:00","Add optional size parameter to ADGameFileDescription. Not used now.

svn-id: r25164
"
"768852d010db37edeba88e7e8b2ef31d4908e862","2007-01-24 22:56:57+00:00","Modified version of Torbjoern's patch from bug #1640420 (fixes an overflow in the default timer manager)

svn-id: r25165
"
"3a74dedb5717a7151979dc0a77b60cb8448f8e8e","2007-01-24 22:57:40+00:00","Corrected a comment

svn-id: r25166
"
"3d8e290f3ce0591f1cda00f9344a47e5ee9aad0c","2007-01-24 23:13:00+00:00","Sync with last AdvancedDetector changes

svn-id: r25167
"
"6a004d6b3cf3a128e4d0cbdac9f9eebd240a7bdb","2007-01-24 23:28:03+00:00","Correcting doc comment

svn-id: r25168
"
"1986fff67cf7f2f2a72befab82a5c83ecb288522","2007-01-25 00:07:48+00:00","Merged setupGameFlags into Engine_KYRA_create (removing some obsolete code in the process)

svn-id: r25169
"
"38ded04da9aa3f9d9d7bdf4237b0cdd06258ccfa","2007-01-25 00:32:49+00:00","Don't invoke AdvancedDetector directly, but rather use ADVANCED_DETECTOR_DETECT_INIT_GAME like the other AD based engines

svn-id: r25170
"
"30d517613ade7b36b326d3e801a350dd50a69e54","2007-01-25 00:36:48+00:00","Fix typos in some warnings

svn-id: r25171
"
"6eb9f41e68a2eda945f7361cd05baa84a973d4d0","2007-01-25 00:37:12+00:00","Use file sizes in detection too.

svn-id: r25172
"
"5f91f6d1e57522d45613865c8cb0d8398d3f7b07","2007-01-25 00:38:36+00:00","Mention that some fields in ADGameFileDescription are optional.
In fact we really need to write some documentation for it.

svn-id: r25173
"
"9dada67e5af879cd2556d43e33e521a9bd1b2ab4","2007-01-25 00:43:35+00:00","Removed class AdvancedDetector

svn-id: r25174
"
"c92f2ec2123c4639cc062a9b14e8babaa6674eb9","2007-01-25 00:47:35+00:00","Print out file size for unmatched files. Also alter output slighty.

svn-id: r25175
"
"521c7a0d09fd0cb8a6e30045c52fd4ca879b4243","2007-01-25 00:51:32+00:00","At this time, ADVANCED_DETECTOR_DEFINE_PLUGIN doesn't take a factory function, but rather only a simple class name (one of the reasons it can't be used by the Kyra code right now)

svn-id: r25176
"
"0314bfdb9487f6de5dd4514f98db39e981eafbdb","2007-01-25 01:01:01+00:00","Removed getDescription() function

svn-id: r25177
"
"bb3cc79bc695eb3210ce9a54fa55262a99d394c9","2007-01-25 01:05:25+00:00","Reduce #include dependencies

svn-id: r25178
"
"85dc27db2f15af8f4263b5f16448191dcba10b52","2007-01-25 01:07:59+00:00","cleanup

svn-id: r25179
"
"d3b4e89e8003351aafdf6202c00a5db5d407ae09","2007-01-25 09:54:47+00:00","Add Dutch version of Freddi Fish and Luther's Maze Madness for Mac.

svn-id: r25180
"
"d8a33123a805dd7479771289a0530d89e2e3a9e2","2007-01-25 10:24:04+00:00","Add another Dutch version of SPY FOX 1 for Windows.

svn-id: r25182
"
"67916d529560677652af2de81bef21ea5fd984ef","2007-01-25 11:26:13+00:00","Adding language/platform overwriting removed in r25170 (by accident?)

svn-id: r25184
"
"1f70013b158d277f0abbfe7e81e95b41f6a27420","2007-01-25 11:32:50+00:00","Using 0 flags for null id instead of KYRA2_UNK_FLAGS.

svn-id: r25185
"
"934ddb109116c0e06bbea68321b3a8df42c60565","2007-01-25 11:34:32+00:00","cleanup

svn-id: r25186
"
"48c2b96c2664afb88b6728c22c80de0b5ffe9dbd","2007-01-25 12:09:22+00:00","typo.

svn-id: r25187
"
"30b7ac3db529c80d71d89ee41a09bce3d9076309","2007-01-25 12:52:27+00:00","Adds basic support for the FM Towns version with some restrictions:
- just english playable
- no audio

svn-id: r25188
"
"604077827f44d027e7c3afd3200afe1a901e1c2a","2007-01-25 14:18:12+00:00","- Some clean-up
- Fixed sound playing and looping
- Changed Paula to use non-absolute panning, defaulting to 0.25/0.75 and 0.75/0.25, as per madmoose's suggestion
- Prepared/Cleaned-up Paula and Infogrames for the move to sound/mods/

svn-id: r25189
"
"f7c6643841d85334c57df7687eb1caba014f1019","2007-01-25 14:38:11+00:00","Support for loading the correct EMC pak file in the FM-Towns version.

svn-id: r25190
"
"43fb2e6ed9335831df31bead748f4fb7247c3272","2007-01-25 15:17:46+00:00","Moved Paula and Infogrames to sound/mods/

svn-id: r25191
"
"b64032810a420d7c80068e184134464a0949d2a8","2007-01-25 17:43:48+00:00","Adds CD audio support.

svn-id: r25192
"
"6844eef41a2ae4d53f8526162683737b8ac2a82c","2007-01-25 17:47:06+00:00","Adds special case in snd_playSoundEffect for CD audio.

svn-id: r25193
"
"d70c83bd4b6b5a37a8c90abfff954823b49e9524","2007-01-25 21:16:57+00:00","Lots of cleanup in the AdvancedDetector

svn-id: r25194
"
"519af02245354ced0680ad3b0381eb62c69a92ed","2007-01-25 21:42:18+00:00","modified CUP player code to read data directly from a file stream instead of a large memory buffer.

svn-id: r25195
"
"35b6cfcd9c7cb4d9554a7ba1e8a62612adaa23db","2007-01-25 23:17:05+00:00","fixed kSfxFlagRestart

svn-id: r25196
"
"cbd16b110f5b56839605b51f0daf5f2e30f4385b","2007-01-26 09:26:20+00:00","SO_CHARSET_COLOR is a no-op in the original COMI disasm.

svn-id: r25197
"
"dd5b1e41fba4757a79d6e162217a7ebdb0032734","2007-01-26 10:39:30+00:00","remvoed some unneeded static keywords.

svn-id: r25198
"
"516cd07d108f838d15d94fd4d489596cc0382263","2007-01-26 11:47:26+00:00","Some cleanup / code formatting changes, and added some FIXME comments

svn-id: r25199
"
"78380da9e81faab86bfe71510f23fb0e4f43598b","2007-01-26 13:08:22+00:00","removed unused var, added comment to SO_CHARSET_COLOR case

svn-id: r25200
"
"4cf1c3565bee70e415949e314b1f6292e272202b","2007-01-26 13:09:48+00:00","little parameter reodering.

svn-id: r25201
"
"2e93a029b4cbd4a97f293b957ea174b95b45e896","2007-01-26 17:04:19+00:00","Updated NEWS a bit

svn-id: r25202
"
"7165d42c70c644a24c70e43a80301a8f38ddd8bc","2007-01-26 17:15:12+00:00","Don't convert FSNode to a path when we don't have to

svn-id: r25203
"
"d2910fe758ef7dac8657a3a9faa85383a6cf0e9a","2007-01-26 18:21:41+00:00","Added separate function for playing cutscene lead-in/out sounds, and made sure
that these are stopped whenever the engine is going to do a mass killing of
game resources, e.g. when restoring or restarting the game. Should fix bug
#1645480. (This was a regression added during the rewrite to support DXA.)

svn-id: r25204
"
"8e6cd813337ca4ec7ba5124b361583219c151b90","2007-01-26 19:00:41+00:00","- Just warn, don't die, when a CD-Track isn't found
- Before using _vm->_adlib, first check whether it's actually there

svn-id: r25205
"
"c32c50122a3900affe4c19c374fe68ee1aeac2c6","2007-01-26 20:42:35+00:00","oops, no idea how that happened

svn-id: r25206
"
"a0d804411ae43577ed150953009119289a7690fb","2007-01-26 20:44:10+00:00","Changed one strcmp in Parse_v2::parseExpr() to scumm_stricmp, to fix bug #1632362 ('Moray Eel Game Freeze (Wreck Scene)').
The CD track name is 'aquatique', while the script checks for 'AQUATIQUE'

svn-id: r25207
"
"7a5284922fc8d2868acb1234d21c77b44e237296","2007-01-26 21:47:42+00:00","Some adjustments to the menu code to better suit longer strings in some language versions, should take care of the issues mentioned in bug [ 1493774 ] KYRA1: Overlapping menu text in spanish version

svn-id: r25208
"
"51fd5c8c4b5e7232a18a81456986df4c4e9066bb","2007-01-26 22:03:41+00:00","templatified some Wiz decoding functions

svn-id: r25209
"
"10e45199c24ce0eb98c41276c21b0ceeb6f1870f","2007-01-26 22:07:38+00:00","updated NutRenderer::drawShadowChar() comment

svn-id: r25210
"
"3a164d63edcdebc2c6f8ecffd2a10934e1a65775","2007-01-26 22:27:59+00:00","Workaround for bug #1582672 ('KYRA1: Text crippled and drawn wrong').

svn-id: r25211
"
"221e9e77dd5eed76359f5c4f31544d99da285216","2007-01-26 23:19:50+00:00","make sure current archive is closed before opening a new one

svn-id: r25212
"
"b5a04fc2df4b29cedd03770960a434e45cca5665","2007-01-26 23:21:04+00:00","added NULLity checks

svn-id: r25213
"
"da096e4b17b351d37fc4466695e759f3f34e81f4","2007-01-26 23:24:12+00:00","added more debug messages

svn-id: r25214
"
"3be5b0cca2b44537895166c9b5218a0c55b82595","2007-01-26 23:26:28+00:00","fixed out-of-bounds error causing random crashes in dialogues

svn-id: r25215
"
"8205cd9d3df142dca001294ca24af1c98c34bb5c","2007-01-27 00:11:15+00:00","Removing two FIXMEs, based on what madmoose told me on #scummvm

svn-id: r25216
"
"c77ac3380a774404b6466d1a2b11a7ee17334ef2","2007-01-27 00:20:41+00:00","removed printf's spewing out tons of debug messages

svn-id: r25217
"
"b86720219922845f66957d2e3dde5718eb25bc98","2007-01-27 00:27:58+00:00","Correct md5 details for restart file in Amiga/AtariST versions of Elvira 1/2 and Waxworks.

svn-id: r25218
"
"20aca1092b62983e38f3231d267dd070c4d306db","2007-01-27 00:33:38+00:00","Add changes from madmoose to fix initial song length.

svn-id: r25219
"
"82cc1db7943bfd9917f5deb33b82db58c75f1e15","2007-01-27 01:07:12+00:00","Revert audiostream changes for VOC sound, due to sgin differences in Amiga CD32 verison of Simon 1.

svn-id: r25220
"
"aaa2973bacc79f3054447becd83cb399ab9a75ba","2007-01-27 01:50:41+00:00","Applied my own patch #1640913 ('Loading NUT fonts on demand'), after discussing
it with Fingolfin.

svn-id: r25221
"
"843b30403163b67ec277f086f3ead587bd50e266","2007-01-27 01:59:37+00:00","Fixed picture drawing bug in pattern data (should only affect v3 + sq1 games only). Fixes Goldrush intro. Does not seem to break any other v3 game or SQ2

svn-id: r25222
"
"2b61c0d6c1efba14b23655905751981e9b19e365","2007-01-27 02:26:37+00:00","cleanup (made NutRenderer::loadFont protected, added call during initialisation of the renderer object)

svn-id: r25223
"
"3c8b67f3cfdd2e595d03acef618017b1d996649d","2007-01-27 02:30:17+00:00","added missing MKID_BE macros

svn-id: r25224
"
"0fdd4b6481617b6c865d1dff9deeb9d0cb006079","2007-01-27 05:23:56+00:00","Moved the setupPremix() calls to initSound() and deinitSound(), instead of the
sound manager's constructor/destructor. Maybe this will fix the rare crashes on
startup?

svn-id: r25225
"
"569136db750eb40fdd882ae459ef01c7ce4e9e58","2007-01-27 17:32:54+00:00","Changed ProtrackerStream to inherit from Paula, unifying the mixing

svn-id: r25226
"
"7d1c2ecbb4433f1bca6be6615f9be17fbbef3635","2007-01-27 17:53:56+00:00","Ooops

svn-id: r25227
"
"89ede9162f1d97e20f6a2958fce323cf7933b081","2007-01-27 20:34:54+00:00","Updated symbian builds for parallaction

svn-id: r25228
"
"5dab7f823fc757a9225f384ca90d1ff6664c6c33","2007-01-27 21:55:26+00:00","Implemented some missing effects (arpeggio, sample delay, fine slides, finetune, pattern delay)

svn-id: r25229
"
"46609ad455bbc62ddd6393b5ea640fd94b965ef4","2007-01-27 22:03:33+00:00","formatting.

svn-id: r25230
"
"0080ae687a720b4c05ca3baae6a88a4f63a618ca","2007-01-27 22:10:50+00:00","Stop movie lead-in/out when restarting the game (as I already claimed in a
comment that I was doing) to *really* fix bug #1645480. This time for sure...

svn-id: r25231
"
"6365546fc51947da7ee8d0ca11f7febd7f85d491","2007-01-27 22:38:27+00:00","Fixes and gfx rendering works

svn-id: r25232
"
"281ee019e08fb304a2482a7b4c24cf0c3004f956","2007-01-27 22:41:18+00:00","Oops. Revert accidental commit

svn-id: r25233
"
"a9cd5f59b0350d8a0386763b99bd6790c7a0a140","2007-01-27 22:59:01+00:00","Made gameid() and description() const.

svn-id: r25234
"
"42593cb977562385218213384b27eade3bf2df03","2007-01-27 22:59:31+00:00","DetectedGameList -> GameList.

svn-id: r25235
"
"4c83151404a13682159c6b93d2c503b9fad82b7a","2007-01-27 23:50:09+00:00","Fix typo spotted by clone2727

svn-id: r25236
"
"23a1efe628f1959b164dd06407acc35a8fdbdac6","2007-01-28 00:56:08+00:00","Reintroduced non-static gameid() and description(), by popular(?) demand.

svn-id: r25239
"
"b8a48f5751d77f4f4961314ab05bdb4341619114","2007-01-28 01:01:36+00:00","Fix regression which prevented to run games specified only in command line
and not in config file.

svn-id: r25240
"
"93687d376b0682b1f24878cc071a7196f838ddaa","2007-01-28 07:31:26+00:00","Add more paramteres to AdvancedDetector. Not used yet.

svn-id: r25241
"
"d32b1b1b7a64448ab0a456a8b10008c269183c0e","2007-01-28 10:29:22+00:00","Always set gameid & description in a GameDescriptor (somewhat more future proof fix for the recent regression caused by the changes to gameid() / description() )

svn-id: r25242
"
"aae330b4c16545fcadc029a432514022894c84d7","2007-01-28 10:38:23+00:00","Pass objects by (const) ref instead of value; only set game description in the config file if one has been specified

svn-id: r25243
"
"b13e7ce8ecf853809b98abf3b455a0093f26b202","2007-01-28 13:19:17+00:00","- Fixed the Adlib data ugliness
- Worked around the caching of raw sprite video memory to a file

svn-id: r25244
"
"8b7fdca4ac08a559f61f30b2ee1c7f143f0640b9","2007-01-28 13:30:26+00:00","Return a default value in the const-variant of HashMap::getVal, instead of asserting out -- this way, we get less unexpected asserts, and both getVal variants behave comparably diff. The drawback is that now all HashMap instances carry one extra Value object around with them.

svn-id: r25245
"
"c2389123153c31e9a04065b59c064847cec65534","2007-01-28 15:24:22+00:00","Ooops

svn-id: r25246
"
"2c1a3e1cd216337fa501657e75d4c2efbad70421","2007-01-28 18:38:26+00:00","Added French/Atari ST version of Elvira 1 and 2

svn-id: r25247
"
"06c3d2cb2a36ee6e8ba2a5d70dfa16c011ea4e41","2007-01-28 18:40:30+00:00","Fix crash on PalmOS due to out of memory

svn-id: r25248
"
"e287f181edbec10bd6ba54f713eb44acecf47b40","2007-01-28 18:47:10+00:00","Partial fix for bug #1036707 (made by cyx): Get rid of _verbCharset, so that we use the correct font for verbs in COMI, with the correct spacing

svn-id: r25249
"
"27432a4dc13ec3f80eac61f17296aef5533e46bf","2007-01-28 20:11:31+00:00","Moved some stuff from CharsetRenderer (back) to ScummEngine, added comments

svn-id: r25250
"
"7da1a56387c8043affbbfd25a33baef3722ac03a","2007-01-28 23:24:16+00:00","Gregory's patch for bug #1645653 ('MSVC71 BUILD: Latest SVN doesn't compile').

svn-id: r25251
"
"9a7c1c9baf56f28e78acdff45bf6d573daa89a2f","2007-01-29 06:45:14+00:00","Add French version of Simon the Sorcerer 2 (Windows CD)

svn-id: r25252
"
"36a54218b16cef112909bb5362f5d85615368fab","2007-01-29 17:04:37+00:00","- Another attempt at fixing the immediately-closing notepad heisenbug (#1621089)
- Implemented wide surfaces + scrolling
- Some clean-up

svn-id: r25253
"
"0058049e3224b10d1d8a074d70eb092a9a780fd3","2007-01-29 17:59:28+00:00","Added a proper workaround for the race condition in the script when opening the notepad, which was apparently causing bug #1621089

svn-id: r25255
"
"1bbad356ef66a72951a58be7f1c328ba3c6d501f","2007-01-29 18:15:14+00:00","- adds support for FM-Towns SFX (thanks to Florian Kagerer for his source)
- gets rid of GameFlags::hasAudioCD

svn-id: r25258
"
"fc5ed85972d1ce765e18541377841b5e01885543","2007-01-29 18:48:49+00:00","little fix for fm-towns sfx.

svn-id: r25261
"
"10a3eebe5a3aba9a3dee570fce6ef338cc5ec3d4","2007-01-29 19:41:52+00:00","Implements opcode 0xFFAA ('Reset Brandon's sprite')

svn-id: r25262
"
"5bf2396dd85f7956d57cecdba9ed049459b62924","2007-01-29 20:23:27+00:00","Changed debug message on unknown opcode to a warning.

svn-id: r25263
"
"9b9117d0c638071780bd6ccb4feb8c0ac2fa1a3e","2007-01-29 20:39:18+00:00","Changed computation of _nextTop in v7/v8 games to represent an absolute y-coordinate (ie. not relative to _screenTop) in order to match the computation done for games <= v6. This should prevent any issues with vertical scrolling rooms.

svn-id: r25264
"
"004b17446c1e8855d484670ccc49aae2027324f4","2007-01-29 21:06:39+00:00","cleanup

svn-id: r25266
"
"7bb9b05f551b81f3c34dacf3bea80ae7fd726fbc","2007-01-29 21:34:39+00:00","cleanup

svn-id: r25268
"
"adcfd2cc5f64157bd5135e5a90b29443036233f2","2007-01-29 23:25:51+00:00","Now AdvancedDetector could use single ID per engine. Also it can suggest
more complex game IDs with platform and language specified.

AGI engine benefits most from that.
Also turned Cine, Parallaction and SAGA to single ID, autoupgrading old ID.

svn-id: r25269
"
"7845d3ba9fb105a688948708de8ca1973976ab8e","2007-01-29 23:57:55+00:00","Added Gold Rush 3.5 md5sum

svn-id: r25270
"
"7429748baec8b1fd19ea55261c25907b81a5fc82","2007-01-30 00:22:58+00:00","Removed Unicode from some fanmade game titles.
Assigned separate ids to some fanmade games.

svn-id: r25271
"
"843ac74c0e3e061c47d18b3d1bc82637f797ae83","2007-01-30 00:24:09+00:00","Moved Touche engine to AdvancedDetector.

svn-id: r25272
"
"9833a65d4c97542dd991076255e42ba787e64649","2007-01-30 02:02:10+00:00","- Fixed bug with single ID detection
- Added more debug output

svn-id: r25273
"
"6a20ddf1d263a64189ae873e708161631146b9ef","2007-01-30 02:17:46+00:00","Moved Gob engine to AdvancedDetector.

svn-id: r25274
"
"162a887052e0a4507d2625427a542e35462050af","2007-01-30 11:59:39+00:00","Add French version of Putt-Putt Travels Through Time for Macintosh.

svn-id: r25275
"
"83c55bbd312aba67c640d82fedd604f618842c47","2007-01-30 12:05:35+00:00","Add French version of Pajama Sam 1 for Macintosh.

svn-id: r25276
"
"cdf92208b6dc0c4a5f28bab66887e322a2ce15ad","2007-01-30 12:07:05+00:00","Add French version of DOTT and Sam & Max. for Macintosh.

svn-id: r25277
"
"8c89b0f9d39a9d091eb428709611cbc0e03112b0","2007-01-30 12:14:36+00:00","Update platforms for French versions of pajama and putttime.

svn-id: r25279
"
"5bdfd2d1021354146d8b4c7cf07c967800237a1a","2007-01-30 20:18:06+00:00","added checks to prevent crash if no datafiles can be found, also fixed a typo

svn-id: r25283
"
"7e5a0b05b552ae735f3b051f5f19cfc93467f56e","2007-01-30 20:20:05+00:00","warnings

svn-id: r25284
"
"c69ecb78e731289df1f0cb916260e7ef88575263","2007-01-30 20:29:01+00:00","added calls to SmushPlayer::getFont() to prevent accessing non-initialised SmushFont objects

svn-id: r25285
"
"ccde018e85319ba6e6c430706624b1ad94ad5726","2007-01-30 20:31:48+00:00","unused buffer variable

svn-id: r25286
"
"cb258bee24b1d725b1cc7e17727498094fa8aacf","2007-01-30 20:36:03+00:00","added deinitialisation of codecs at the end of smush playback. This allows to save a bit of memory (about 1Mb for CMI) during gameplay.

svn-id: r25287
"
"b4bebad6f0c3ab23b6992575c9fee88ace8f49d2","2007-01-30 20:43:39+00:00","minor simplification

svn-id: r25289
"
"cb8378065d2831fa1512dfce138cc0039eff98fb","2007-01-30 22:19:55+00:00","- Changed _soundFlags and implemented 'compositions'
- Changed Snd to be a permanent audiostream, to have better control over stopping, looping and compositions
- Some clean-up

svn-id: r25292
"
"f395822aa682da27deb23f16c1ab08e57b5718e5","2007-01-30 22:22:48+00:00","Rearranged detection table and clarified some entries.

svn-id: r25293
"
"3766e0a77df3839c1622b254390e665c009d4b74","2007-01-30 22:32:51+00:00","eplaced platform-specific game features with common platform setting.

svn-id: r25294
"
"9abaa064a07bfb44ea3663e026cce874c77d449e","2007-01-30 22:44:14+00:00","got rid of codec37/codec47 init/deinit methods, cleanup

svn-id: r25295
"
"6166c0ca19ec44faa6c527ea482a3c25d49d0e64","2007-01-31 00:16:21+00:00","reset _IACTpos when _IACTchannel is stopped (fixes memory overwrites in handleIACT during smush playback at the end of CMI demo)

svn-id: r25296
"
"ee606dc1435e8e2012bd73597dc08bdef32c1f7b","2007-01-31 02:24:55+00:00","Added script methods needed for leaving the dungeon

svn-id: r25297
"
"9d474d62582c152c0d9b47e86b1880dca3b0da51","2007-01-31 02:26:16+00:00","Added check to skip drawing hotspots in layer 1 if their skip flag is set

svn-id: r25298
"
"19960461216a245da32708099b7bd8cee74ad654","2007-01-31 02:28:04+00:00","Changed the coveredFlag to have an initial state distinct from true or false

svn-id: r25299
"
"0bd31443f9268a41338b33b0b9a9ea81f0fb3f01","2007-01-31 02:28:51+00:00","Added constants for the dungeon bricks and chute animation resources

svn-id: r25300
"
"33707d6e42df7eca0fcf842daae6615155d9b60e","2007-01-31 02:33:20+00:00","Added animation handler for the player exiting the sewer, and some bugfixes to allow Ratpouch to correctly open up the dungeon exit

svn-id: r25301
"
"a83be36a978d9225294079898e846cd7610ea20c","2007-01-31 02:34:55+00:00","Expanded the chute animation to display the full sequence as the player leaves the dungeon

svn-id: r25302
"
"f62728e0f89fba8172fb57e4c5d7fd61e0ff21a4","2007-01-31 07:43:02+00:00","Add/Update details for French versions of Spy Fox series.

svn-id: r25303
"
"74b655f8df8aeec3ad382c5e9230fb8c14847f21","2007-01-31 10:21:36+00:00","fixed casting bug as suggested by fingolfin on tracker item #1648325

svn-id: r25304
"
"836a4ea99e36cdfda21d77f3bd8c41d9db824d49","2007-01-31 10:41:35+00:00","Add/Update details for French versions of Freddi Fish series.

svn-id: r25305
"
"7101c0ef260fb1f095b8e04a5dc1ceb9e99cf759","2007-01-31 13:17:50+00:00","- Correctly setting of Snd::_playingSound
- Implemented sound fading in/out
- o2_stub0x81 -> o2_scroll

svn-id: r25307
"
"e3aeb0255b5ec8bf7e3b99b56fb77facb6cd6ce1","2007-01-31 13:43:16+00:00","Removed debug output I accidentally checked in

svn-id: r25308
"
"1880aa544126be80b95351a9ba3199f7b6721f9d","2007-01-31 14:53:46+00:00","Minor sound playing correction

svn-id: r25309
"
"17e70efe13a77d94a78e09591ab84ed78abcdda0","2007-01-31 15:19:42+00:00","- Snd::WaitEndPlay() should stop a running composition
- Removed Snd::getCompositionSlot(), it's not needed

svn-id: r25310
"
"8b4001f4908c2653338521d297661fc6faa169ea","2007-01-31 16:23:34+00:00","Replaced the delay in o1_keyFunc with a (skipable) busy-wait detection

svn-id: r25311
"
"9799b346d86c5151d66d93f034cf5d1a40dbb15b","2007-01-31 17:48:26+00:00","Fix for bug #1479856 ('KYRA1: gfx glitch when dying on bridge').

svn-id: r25312
"
"d82c67b48cc25d44b27331cf82b4371ff6438d3c","2007-01-31 18:35:50+00:00","Fix for bug #Fix for bug #1523200 ('KYRA1: Voice-only mode has no lips animation').

svn-id: r25313
"
"d3345ea7f1bc6294fea6959a47f2cab36d5fed7c","2007-01-31 18:38:22+00:00","oops.

svn-id: r25314
"
"fd0e90588dc158911a35fe55a1bd4da76a708d35","2007-01-31 20:00:48+00:00","Added MD5 for the german Ween version, supplied by cartman_ on #scummvm

svn-id: r25315
"
"69788f3d70c7db865fadfce9247dd572cb7f2da1","2007-01-31 23:48:12+00:00","Some changes to be closer to the original with palette handling.

svn-id: r25316
"
"bc9df7e5c983af70d61877e8c023e57024c47c26","2007-02-01 04:41:36+00:00","Added custom load code for room #20 Notice

svn-id: r25317
"
"edb61e5b0146cbd896f3137a6b859f3fa3589bef","2007-02-01 05:33:59+00:00","Added my version of Woodruff so that I, too, can get the 'Unknown version of
game engine' error, rather than a failed assertion, if I try to start it.

svn-id: r25318
"
"d2b8787dd5621f57fa4daab93157f4bb59608238","2007-02-01 10:42:27+00:00","- Fixed the palette animations
- Changed waitRetrace() to take some time, because the scrolling speed is tuned to the retrace delays

svn-id: r25319
"
"b138b5cce12228670b92c069fc4a272e7ed96175","2007-02-01 13:10:49+00:00","Fix for missing Brandon in Zanthia's home (see bug #1498221 'KYRA1: Subtitles missing when meeting Zanthia
').

svn-id: r25320
"
"e9074ea021f44615abcfd412695b52b45b076058","2007-02-01 13:12:45+00:00","oops.

svn-id: r25321
"
"61531524dc94d5289eeacce3d3549c64521f03cf","2007-02-01 13:31:07+00:00","cleanup

svn-id: r25322
"
"096f8958c59e57e51d6a9d9cdcf7d4fb5b18c892","2007-02-01 14:57:48+00:00","- fixed the sprite updating
=> fixes gfx bug when Herman uses the saw
=> removed workaround for bug #1477364 ('KYRA1: Water dripping freezes')

svn-id: r25323
"
"7e4fdbb36e7632deba005e5219e953029a51a524","2007-02-01 15:30:50+00:00","Reworked delay handling.

svn-id: r25324
"
"586a01d03807cd870b4f6cf6467d88bd8f1ea3d9","2007-02-01 20:05:30+00:00","Fixed warning.

svn-id: r25325
"
"0a18259d78f59a79270467a6fa70172e5d96b625","2007-02-01 20:16:32+00:00","Used Fingolfin's workaround for a bogus (?) warning produced by some versions
of GCC. (Not the one he's using, though, which is why I'm doing this instead.)

svn-id: r25327
"
"f1a4f57a5349792f7cb8aeaabf8d794ffb79b7d4","2007-02-01 20:19:21+00:00","Fixed wrong date display (bug #1650124), tm_mon is in the range 0-11

svn-id: r25328
"
"7e19c134f7cbde59a766aca6112a0799f649d342","2007-02-01 21:59:51+00:00","Split the entry for Gobliins 2 multilanguage CD into separate entries for each language

svn-id: r25329
"
"b11e72f0302ca7febcee289ac7e9d50cccae47fd","2007-02-01 22:06:55+00:00","Handles multi language games the way gob engine does.

svn-id: r25330
"
"128c05f2b1fdea2c8afacc8300164f39d92dbe30","2007-02-01 22:15:01+00:00","ops

svn-id: r25331
"
"bb3e575e21a99c904f8909f75901894e4f2630dc","2007-02-01 23:27:16+00:00","don't test akosScaleYTable if actor has no vertical scale factor ; this is consistent with the code in costume.cpp and fixes bug #1329232.

svn-id: r25332
"
"f7958231be3561704fcd68dc9086c8b280b44b31","2007-02-02 08:35:17+00:00","Bugfix to fix crash when Ratpouch chooses an in-room random destination

svn-id: r25333
"
"11a8d8f265b92c71a27a5e9a123d0e4c148cb4e0","2007-02-02 12:51:44+00:00","Some comment cleanup

svn-id: r25334
"
"013f1711c48edcebc3215fb5cfd1aaf1a796701a","2007-02-02 13:53:59+00:00","Workaround for bug #1621210 (FOA: Kerner counts incorrectly during end sequence)

svn-id: r25335
"
"4387a851a2d11db7464009d58f738c084c308fd2","2007-02-02 16:02:59+00:00","Replace filesize based kyra.dat check with a md5 based.

svn-id: r25337
"
"468b1600c4fbc5e7283b97dcaae4797b99f23ffc","2007-02-02 18:40:02+00:00","Removed bogus debug leftover :)

svn-id: r25338
"
"6c9502b9016ca301b5029b06fed27c91d9f593e4","2007-02-02 19:55:41+00:00","Mention that subtitles can't be turned off reliably in Loom

svn-id: r25339
"
"e363d1ebb1b29919b45af724498b8f158ca6d8aa","2007-02-02 23:43:39+00:00","Broadened the fix for bug #795214 to make it work with resaves of old savegames, fixing bug #1648248

svn-id: r25340
"
"5395c4a2f4463ec2f3f9fdcc42d6f0a37f085620","2007-02-03 01:21:49+00:00","Removed _actorPos locat vars, and instead use _pos directly

svn-id: r25344
"
"ea4053567806ab80037fdd5060503731e6991362","2007-02-03 05:50:35+00:00","Applied the revised NUT font renderer patch #1635584, which combines cyx's
patch for correct (not to mention more efficient) rendering of CMI's shadowed
letters, while retaining most of the memory savings of my original patch. This
time, SMUSH and INSANE fonts also benefit from it.

svn-id: r25345
"
"a8ea78ce73f8061201995d012573da46b58d1575","2007-02-03 13:45:09+00:00","Mention the mass add feature in the NEWS, and added a corresponding TODO into the README

svn-id: r25346
"
"de19c946282256074c121b8f893e717574dc9d2f","2007-02-03 14:52:02+00:00","Adding create_kyradat here now.

svn-id: r25349
"
"5dbf212775fd66ed55c27002aa9d2074a4e32960","2007-02-03 17:45:27+00:00","set svn:ignore, sync makefile

svn-id: r25350
"
"c9cb0ca8bf0a3e906db132c7af25fb819eb315d1","2007-02-03 17:50:29+00:00","removed preallocation of sprite tables (the previous values were taken from the original but it seems they can be lowered)

svn-id: r25351
"
"9c7dd9162683217e48a91bee8fbdd631d20a12e6","2007-02-03 17:55:49+00:00","removed unneeded/unnecessary variables and made SmushFont table private (to ensure getFont() get called to access them)

svn-id: r25352
"
"0fc672025c02c167d8a479b1a8961c3a4545e05a","2007-02-03 18:08:10+00:00","Removed obsolete call to Mixer::isPaused

svn-id: r25353
"
"04e76156efa0946586bf0f7f1353f2a0cf469f61","2007-02-03 18:09:09+00:00","Change s_appName from Common::String to const char * on all platforms

svn-id: r25354
"
"9c5e62fb0408aeae98dcc9124c7090453768879d","2007-02-03 19:04:24+00:00","update to new detector

svn-id: r25355
"
"cb49cbdd456a97c6e10bdc279624603bd9bd7b60","2007-02-03 19:05:53+00:00","* Reimplemented Mixer::pauseAll to simply invoke pause on all channels
(implying change of semantics)
* Reordered the params of Mixer::playRaw (the SoundType now comes first, not last)
* Removed Mixer::isPaused
* Removed Mixer::getSoundElapsedTimeOfSoundID
* Added some doxygen comments to the Mixer

svn-id: r25356
"
"3d70157e53e6026e97b99716c3751938c34ac5e5","2007-02-03 19:21:33+00:00","Some delay changes. (should fix slow scene animations)

svn-id: r25357
"
"a2976a350fc7346148838125d751f902f66b8ca1","2007-02-03 20:50:26+00:00","Fixes FM-Towns New Game Save.

svn-id: r25358
"
"c3f84d67b283a557b3d5b654d5b583e1e211f63f","2007-02-03 21:14:35+00:00","Workaround bad values for _curSfxFile in old savegames.

svn-id: r25359
"
"56b00f05ccb378b169e83e8a6dfc702aa11aa1d0","2007-02-03 21:32:18+00:00","Replaced 'typedef Common::String String' with explicit usages of Common::String (mainly to make doxygen happy)

svn-id: r25360
"
"a2b1ff0de842d800ad311dc2e1b2638722cbdda9","2007-02-03 21:35:35+00:00","shalt not declare static vars inside member functions' spoke Fingolfin, and see, there was static all over the place (somebody please fix this, pretty please with sugar atop)

svn-id: r25361
"
"73c3625f1f171212d0c2f8e112994f3ee7c6294e","2007-02-03 21:37:52+00:00","Fixing various doxygen warnings

svn-id: r25362
"
"d66d2ab71b7eab9e1d68fb59a2145e24f3640b20","2007-02-03 21:50:51+00:00","Changed _imageHandels into an array.

svn-id: r25363
"
"37ac45607789d6166020b83fd97d00bdccd55f6a","2007-02-03 22:01:31+00:00","Added a TODO to processExtraValues.

svn-id: r25364
"
"35bfb505a6b8991eec0c589f30c9f4111c1daa8c","2007-02-03 22:42:45+00:00","Use the platform/language values computed by the detector

svn-id: r25365
"
"69ba8e57c2c16be3ec19af88cd46e427fc9f64ea","2007-02-03 23:10:17+00:00","Changed old FIXME comment into a WORKAROUND comment (it worked fine all these years, after all :); also added some paranoia checks

svn-id: r25366
"
"96fe9d111fb5e35def0f6a0b13ee9d43beabc545","2007-02-03 23:47:45+00:00","Fixed the default coords in ScummEngine_c64::o_putActorAtObject, which still in char coords, not pixel coords (see also ScummEngine_v2::o2_putActorAtObject)

svn-id: r25367
"
"9865bc8fa59d8de4e5387d4b85fdfe64f3777703","2007-02-04 00:17:35+00:00","Fix compile of SCUMM engine.

svn-id: r25368
"
"b2748810863483b6e249a262e6a18a805d1f3aa8","2007-02-04 00:42:10+00:00","- changed the way how gradients are calculated
- bumped theme version

svn-id: r25369
"
"be052be462c6d6b9f47b57b1169cc5e1e306d65f","2007-02-04 01:24:43+00:00","Rewrote the actor walk code for SCUMM V0-V2 games: Now it uses the C64 character coordinates internally, not pixel coordinates. This should fix some walk bugs, but also might cause some regressions. Watch out

svn-id: r25370
"
"53432b2bbe53b7c998af4acaf7920f2a90946195","2007-02-04 01:52:50+00:00","Use Actor::getRealPos instead of Actor::getPos in the debugger

svn-id: r25371
"
"18a9cb46d6dfb590de83fba77f4bb52b1709e8ac","2007-02-04 02:11:29+00:00","Removed GF_NO_SCALING

svn-id: r25372
"
"0d01bdd7996c07f93428f84a77e1a45c8c4af45a","2007-02-04 02:36:23+00:00","Make Add Button caption react to Shift key.

svn-id: r25373
"
"7b6bdd231d100110689a0e804ac53453d388e8d9","2007-02-04 03:10:27+00:00","AdvancedDetector now has built-in fallback detection based on file lists.
Currently only gob engine benefits from it.

svn-id: r25374
"
"b7d72fd959ee95b390c06439ea35909df8555d9e","2007-02-04 08:10:00+00:00","_hoverZone now is handled as in the original engine

svn-id: r25375
"
"e3b9bda909a7fd550d283c7d35960cf68fcd8751","2007-02-04 08:12:33+00:00","changed handling of zone labels to match original engine

svn-id: r25376
"
"d89bfde4a674cc9fcd8b48506aaefa94daff2bb8","2007-02-04 08:26:44+00:00","oops fixed 64 bit warnings in the last revision

svn-id: r25377
"
"854e351e5b68e2d5f4189c80c22050d589f6ad9d","2007-02-04 11:16:40+00:00","Implemented workaround to avoid crashes on location switches, using knowledge from Big Red Adventure.

svn-id: r25378
"
"9832736f9a8f66cfc67c2b26ec6cca4a442b210a","2007-02-04 11:19:14+00:00","added game palette static initializers to avoid warnings

svn-id: r25379
"
"5007d82ec7b771579df86c050eba75caddd3931f","2007-02-04 12:14:11+00:00","solved array out of bound issue in quickFadePalette

svn-id: r25380
"
"5b65897cd3d4a197fe167b19afb4d931359c2462","2007-02-04 12:41:49+00:00","Switch SCUMM engine to use the common special debug flags support (thus making it possible to use --debugflags with it)

svn-id: r25381
"
"8ae2be31e07c3f783e016e5257ed12335e2285e8","2007-02-04 13:04:36+00:00","Don't add '.' to the search dirs as a last fallback. Fixes bug #1597208

svn-id: r25382
"
"4e9e88ac1cc0cab27b311ad39bd3d7e7df990d2b","2007-02-04 13:28:17+00:00","Added Common::getEnabledSpecialDebugLevels

svn-id: r25383
"
"70833e89a41f8f0b239fb7da301c488b4b473a22","2007-02-04 13:37:02+00:00","Fix warning.

svn-id: r25384
"
"ae5fb74aefa5dd902bba177fcd6ead7ddfc3459b","2007-02-04 13:40:11+00:00","Use full game titles for the official AGI games (small exception: we also number part 1 of series, to avoid user confusion)

svn-id: r25385
"
"8f084baf66a2ce3b09103f6ea133cc7d6a3f9611","2007-02-04 15:43:45+00:00","added more debug levels and comments

svn-id: r25386
"
"f54a97a02cfcf7abf8fd06cbed25aa7bba7d41ee","2007-02-04 15:45:15+00:00","- Plugged some leaks and fixed some memory errors
- Fixed the cursor animation loops in Ween and Bargon
- Added Draw_Bargon + Inter_Bargon
- Implemented Bargon Attack's hardcoded intro parts

svn-id: r25387
"
"890ee9728524e30719297624261f749d8138b65d","2007-02-04 15:48:51+00:00","applied 2nd workaround to avoid crashes caused by labels when switching location

svn-id: r25388
"
"0ed752aa6ee77a6a5262c366c41e1d08ba3ab44c","2007-02-04 15:59:05+00:00","- Moved the specific interrupt frequency of 80 Hz out of class Infogrames into the GobEngine's Infogrames instances
- Changed the 80 Hz to 75 Hz, which is more true to the original

svn-id: r25389
"
"b7160638bf2be269c231a63d25222419f5f6e46b","2007-02-04 17:45:00+00:00","permit compilation with hq scalers disabled

svn-id: r25390
"
"710105d1c1ab5ec00477dc098ac9bb8f09c6b13c","2007-02-05 12:53:40+00:00","solved 64 bit casting issue from BUG #1648325

svn-id: r25391
"
"7f26069f6924b0d450b6592755ba6ab40d507a9c","2007-02-05 14:08:50+00:00","- Moved struct Mult_Data from Mult_v2 to Mult and merged Mult::_multData, Mult::_multData2 and some of the loose variables in Mult
- Added some missing MD5s/game versions (#1652352)

svn-id: r25393
"
"193349fd606129d23361b274038385c40a3eb95e","2007-02-05 14:22:10+00:00","Only do the file based fallback when no matches by MD5s were found

svn-id: r25394
"
"7082e5828931cc1f86d4a733ae46d492337ab6ae","2007-02-05 19:48:12+00:00","Corrected the clipping of _pressedMapX/_pressedMapY, to avoid accessing invalid memory (also possible fix for bug #1652551)

svn-id: r25395
"
"15e2af8e9dd52cef4fb57cb49e766c5192321042","2007-02-05 22:47:22+00:00","'fixed' o_blastText and updated a comment

svn-id: r25396
"
"f477e964d279e4d7071294a5cbea1434c2d54556","2007-02-05 22:49:58+00:00","typo

svn-id: r25397
"
"0a20af0323535627e493bee8387539e8814af864","2007-02-06 12:01:34+00:00","Make extra information generated by launcher consistent with what we have
in our md5 list, preferred target and Wiki.

svn-id: r25398
"
"56ff44633f1d7a153cd1db39da85be4bffd948d7","2007-02-06 12:29:31+00:00","Update HE version for French versions of a few HE games.

svn-id: r25399
"
"d706d8e4c0fdcda0c3644fe8e8d266031b22c67a","2007-02-06 14:42:05+00:00","Implemented vertical scrolling

svn-id: r25401
"
"1c9c972d055966988c0f4e130eb8f7b380bc365e","2007-02-06 19:16:41+00:00","- Fixed Ween's inventory in the volcano (#1630113)
- Added a range check to avoid invalid reads into _wayPoints in Map::checkDirectPath()

svn-id: r25402
"
"8833cdb03fcb2d635bd05ca72854e35157a05ecd","2007-02-06 19:55:21+00:00","Made Goblin::Gob_Object::order explicitely signed, should fix bug #1625292 (Wrong sprite in foreground)

svn-id: r25403
"
"edefc7bde397b766c0bbe944e3ade6417f323e72","2007-02-06 21:23:14+00:00","Corrected the goblins walking sound (#1621086)

svn-id: r25404
"
"3442ea1582869c38c7f122a6586b27baac9bdebb","2007-02-07 13:08:17+00:00","- Fixed another freeze in Ween
- Changed cursor visibility handling a bit

svn-id: r25407
"
"a7475dd590d1f143b033cf0c330d409a898cf44b","2007-02-07 15:57:55+00:00","Update GP2X ports helper scripts to support newer Open2x tool-chains (ones with the pragma pack patches).

svn-id: r25408
"
"023591a77ae9248a9247c22cc8f3bae32394f1ba","2007-02-07 16:27:43+00:00","The status variables are set explicitely in the constructor instead through one memset now, to avoid setting the SoundHandle to 0 as well (the first play() would then stop SoundHandle 0, which doesn't strike me as being correct)

svn-id: r25409
"
"aee4f7058d9a2de7561eed3075a25abf99d2a7fd","2007-02-07 16:28:29+00:00","Implemented little diff in o1_characterSays for fm-towns version.

svn-id: r25410
"
"2c4a6d6a438ef2700c8f2f70db8999a143aa6583","2007-02-07 16:30:59+00:00","The SoundHandle isn't stopped indirectly by AudioCD.play() anymore, so removed the SoundHandle starting for each sample

svn-id: r25411
"
"db19d5e9deea37c8b551d75033fc16a7044e99cc","2007-02-07 16:47:34+00:00","should silence compiler warnings.

svn-id: r25412
"
"1421a439694118844abb107f6a15c8693b70a875","2007-02-07 19:01:37+00:00","Patch #1543932: BASS: Missing music volume text in v303 french menu

svn-id: r25413
"
"e9e62cf67a8690c93a8f4949cabbeca82fd8603d","2007-02-07 19:29:15+00:00","Adds support for FM-Towns version.
(Thanks to Florian Kagerer again for this)

svn-id: r25414
"
"63e3dfb1d146bdb79e57973f4330f44d39b40b73","2007-02-07 19:30:49+00:00","Support for new kyra.dat, which includes static data from the fm-towns version.

svn-id: r25416
"
"6707dcbbb2091d5eccb6dd18bbb287dd6a409e8e","2007-02-07 19:51:19+00:00","Fixed credits in FM-Towns version.

svn-id: r25417
"
"98bd5a668075509205c9d67d676e1f8bc13a9d4b","2007-02-07 20:28:59+00:00","changed multiplexed uint32 to const void* to avoid errors on 64 bits systems

svn-id: r25418
"
"b69562824866e86245209fc9448a38b6c18dab39","2007-02-07 22:33:06+00:00","Update GP2X port to hack around the odd grabRawScreen issues. This is not a fix rather a workaround for now.

svn-id: r25420
"
"d1eb91882e1c4b951b6cb0c019519ebd36ca9847","2007-02-07 23:02:51+00:00","fixed location script parsing error causing irritatingly inconsistent gameplay

svn-id: r25421
"
"6854f25740df9d460d2c412c78657f9b7058f000","2007-02-07 23:23:10+00:00","Add md5s reported in bugreport #1654500 'AGI: Some MD5 checksums'

svn-id: r25422
"
"aa38257840579adbef694a454769e4d4a7a85fc6","2007-02-08 08:39:33+00:00","- fixed crash in FM-Towns version when entering the grotto
- fixed some palette issues

svn-id: r25423
"
"cab3b23ab240bb50415db436eff4dc82c3d2d59a","2007-02-08 08:41:14+00:00","ops.

svn-id: r25424
"
"00d4aea7e648831dd9008a50190ed4b7f57eb384","2007-02-08 09:24:33+00:00","Fixed GUI strings in FM-Towns version.

svn-id: r25425
"
"1cc18f6e7b589946be5beb4d8a9284d67054579a","2007-02-08 09:41:10+00:00","Don't rely on assert when calling functions.

svn-id: r25426
"
"65dfc335ef134c4ff7a6d50ddab38c0565611f3b","2007-02-08 21:08:54+00:00","fixed bug in dialogue parsing code: available answers now really depend on game flags

svn-id: r25427
"
"98a8e88f61e871096fe979c2d9a27c2053aa38ca","2007-02-08 21:55:37+00:00","Instead of pre-rendering all subtitles and pre-loading all sounds for a movie
cutscene, render the text and play the speech when needed. It probably won't
play as nicely from CD now, but using less memory seems more important to me.

svn-id: r25428
"
"6cbdf9ad59ff460fafb8b1fee9070fcb0b9151e9","2007-02-08 21:56:51+00:00","fixed bug: dialogue questions don't clutter the screen anymore when user is selecting an answer

svn-id: r25429
"
"af8cba43acedb53a7caa711f743f8d5e0bcc07e6","2007-02-08 22:27:47+00:00","Removed build.rules (hasn't been used by our build system for ages now)

svn-id: r25430
"
"2232047695d8d26542c2f57d1c1daed7bfe4f5c5","2007-02-08 22:54:09+00:00","The restriction on 'small' mouse cursors has been lifted quite some time ago; PalmOS and WinCE port should be extended accordingly (in particular, the PalmOS port would silently overwrite its memory when big cursors are used)

svn-id: r25431
"
"956affd3d23cc8030775dc1a81984891a344d134","2007-02-08 23:25:07+00:00","Moved definition of ThemeClassic and ThemeModern to their own files.

svn-id: r25432
"
"f8052bb650719b8a716e686e6a08ae75b513a903","2007-02-08 23:37:17+00:00","Convert planar images, only when required for drawing.

svn-id: r25433
"
"810056dcf6934291a9a448ba942dbb2bb3dbc504","2007-02-09 00:02:49+00:00","Fix for bug #1650993 ('GUI: About dialog scroller').

svn-id: r25434
"
"dda1431e7c6b223a5686fe6d06d5268adbbb5e33","2007-02-09 00:06:54+00:00","cleanup

svn-id: r25435
"
"eaeada78acef36750c89a653df4a38b7f4aaf4cc","2007-02-09 00:35:57+00:00","Add cyx's patch for cleanup for planar conversion code, and support for 32 color planar graphics of Amiga ECS version of Simon the Sorcerer 1.

svn-id: r25436
"
"6c1b7114f5fa61bd7be73b2ebdda8b2b61a18e9a","2007-02-09 10:53:16+00:00","Add demo of Simon the Sorcerer 1 (DOS CD).

svn-id: r25437
"
"7f41b6914b1fc7f95f67dcd83ae1425bce7389bd","2007-02-09 10:54:07+00:00","Removed use of static support data record for player to simplify save process

svn-id: r25438
"
"b79883f3af2956f8719ecf0fecfb0adfb196d61b","2007-02-09 10:54:55+00:00","Removed use of static support data record for player to simplify save process

svn-id: r25439
"
"6391e49ee5d1fa9a0cc6f92fb13996d00e364a9e","2007-02-09 10:56:31+00:00","Improved character blocked/bumped handling

svn-id: r25440
"
"87b3f2c6d8da238c0d98ce87b24b31416e97ef82","2007-02-09 10:58:06+00:00","Added new flag for blocked characters and extra checking of dynamic support records versus static schedule entry records

svn-id: r25441
"
"a5047b599a5151f691d1dac85c643a8adc4e8123","2007-02-09 10:59:15+00:00","Added 'room' command to show room information

svn-id: r25442
"
"3dfd1cbda87468e0f2cc3a46159c6a496cb90e40","2007-02-09 11:03:58+00:00","Removed redundant line used during testing

svn-id: r25443
"
"c66f919e8656b0c43154676e9a0378d573735fc5","2007-02-09 12:27:31+00:00","minor cleanup

svn-id: r25444
"
"679c2fc5aa3d72f640d7765391324f2411cda512","2007-02-09 12:45:46+00:00","Added all info on games from Sarien

svn-id: r25445
"
"c2876e4350f9c8b4bcf875c7105d01aa1c1dc1f6","2007-02-09 13:06:57+00:00","Minor consistency improvements

svn-id: r25446
"
"a52b507bfcf9b7f4851536cb9dd7767de35c5bed","2007-02-09 13:31:57+00:00","Correct entry for mh1

svn-id: r25447
"
"2ebccb23c9acea77a0823c2d9b3f65f58e317925","2007-02-09 15:43:41+00:00","Correct detection of Amiga versions

svn-id: r25448
"
"2d84b43dfc54446d0d4247765b5d6e3657bea88a","2007-02-09 16:49:02+00:00","Fixed syntax error.

svn-id: r25449
"
"a49c22290f3119033a7966d28856aed1f204dd41","2007-02-09 17:17:08+00:00","fix warning

svn-id: r25450
"
"81ec51b8f7ed6ca59c83ff456f2043a8986bc256","2007-02-09 17:47:55+00:00","Turned two comments into doxygen comments

svn-id: r25451
"
"16a29408080d05016ec31da1c49c13e4a704c3e5","2007-02-09 17:57:49+00:00","cleanup

svn-id: r25452
"
"7940720d71edcc6476e6b5f8f56d174ccb65b3f7","2007-02-09 18:23:59+00:00","SCUMM: Added preferredtarget support

svn-id: r25453
"
"6899e72be9f8c87940168d24ded008007bae0225","2007-02-10 02:05:59+00:00","Got rid of GF_DIGI_IMUSE and GF_NEW_CAMERA

svn-id: r25454
"
"64fb3fad3f546e6783d80812ad52ff2c4540a07f","2007-02-10 03:45:06+00:00","Bugfix to clipping so player's feet aren't visible in the corner of the screen as the chute is exited

svn-id: r25455
"
"dcb757fa4bd985747d302a78e7e3d9f7849fb753","2007-02-10 10:02:40+00:00","remove redundant LSL1 DOS

svn-id: r25456
"
"ea131c6049288650ee6c6f33538eaff85bdb57f1","2007-02-10 10:27:07+00:00","Select default render mode based on platform: Amiga mode for Amiga games, EGA
mode for PC games. You can, of course, still override it.

svn-id: r25457
"
"b276afb9ebcf3b3b9bcecc98e1bc582e6d129e0f","2007-02-10 10:58:43+00:00","Add patch #1656534 - Updated MSVC7.1 (.NET 2003) project files.

svn-id: r25458
"
"f8cbf2204212cc59125bb6bd248aa6ba607083c4","2007-02-10 11:01:13+00:00","make extra info consistent and add missing dates

svn-id: r25459
"
"37aec3376f64fe61857ffef2deb65e8dce5d9dd0","2007-02-10 11:03:19+00:00","Add patch #1656534 - Updated MSVC7.1 (.NET 2003) project files.

svn-id: r25460
"
"4c1f958297645ecc3eaf921fd92068f92fffda2c","2007-02-10 11:18:10+00:00","minor consistency improvement for dates

svn-id: r25461
"
"1cfac7fda3b88d2ca0d1c2be45b16e4f62167cc6","2007-02-10 16:34:45+00:00","Patch #1637824: AGI: Allow mouse use in save / load dialogs

svn-id: r25467
"
"e7c98ad5d6249f60c0daa22078a0172c0d9e5995","2007-02-10 17:00:36+00:00","fixing Amiga games detection

svn-id: r25468
"
"90a7cbd6d7f508297a895e9e22ebb7c4e6cf4d9a","2007-02-10 17:10:55+00:00","Get rid of AGI_AMIGA and use platform setting instead.

svn-id: r25469
"
"9dbf7d271b081bec65e33f6c229447adeb39ec01","2007-02-10 17:45:25+00:00","Stronger dimming for disabled GUI widgets

svn-id: r25471
"
"a14e90478c3e45a2fdc8eaf9edb975cf42fc5742","2007-02-10 18:09:13+00:00","Added small note to ThemeModern::calcLuminance

svn-id: r25472
"
"063e09be0246320124d197db6da3cb1a73245ffe","2007-02-10 18:10:55+00:00","Patch #1656801 (BASS: various control panel fixes), which fixes bug #1548779 (BASS: Control panel inconsistency for FX/Music button texts)

svn-id: r25473
"
"2ff7f04cc7540d2736deaeed3b1126723049c817","2007-02-10 18:48:28+00:00","Speed up loading of pred.txt, by using a sort algorithm that doesn't choke on pre-sorted data as our current (sloooow) Common::sort does

svn-id: r25476
"
"dcfd2e922486654037f3e93ff4338d4a38b20729","2007-02-10 20:50:00+00:00","Make Amiga v3 games work.

svn-id: r25477
"
"b8087fe1a82f87bc0b972f65309692f65370da85","2007-02-10 21:00:15+00:00","fixed wrong implementation: zones and animations now survive location switches according to their properties and/or system flags

svn-id: r25478
"
"841fd4f94fc20162f4d3c3e688e0c0669017777a","2007-02-11 01:38:15+00:00","cleanup

svn-id: r25479
"
"6bdd106176abeb409d8b3049f1ac04841906fb81","2007-02-11 02:16:00+00:00","Add Acorn disk version of Simon the Sorcerer 1.

svn-id: r25480
"
"9f0ed19076d341c722aea2b43a6639129b04f9f5","2007-02-11 02:19:56+00:00","Add Quietust's patch for improved string redering in Amiga versions of Simon the Sorcerer 1.

svn-id: r25481
"
"028d077e2b4296ac401e454eec11549c8fa81965","2007-02-11 02:47:02+00:00","Enable stereo by default for all ProTracker mods.

svn-id: r25482
"
"a6bd7be988f682aa359328ff8d22063bbb53f66d","2007-02-11 03:01:28+00:00","Patch #1186858 (GM/GS/MT-32 Init Patch) -- slightly adapted to apply to current SVN

svn-id: r25483
"
"46747d83961f28e62b330836c4abb1db3abd86ad","2007-02-11 03:21:27+00:00","should fix warnings in msvc.

svn-id: r25484
"
"d161c4f216532dc25a830a9b1b21a8d82225182e","2007-02-11 03:28:25+00:00","Patch from Quietust to correct building in debug mode.

svn-id: r25485
"
"b14bb6206a0247511335848f4b24b5e3c132264d","2007-02-11 11:23:30+00:00","Improve detection. Remove redundant md5s

svn-id: r25486
"
"fb76c7d2e58a04e44016b056277026af2060308d","2007-02-11 11:24:37+00:00","fix compilation / modularization update

svn-id: r25487
"
"c9202232abcc46eda9cba196ad0b376747e87842","2007-02-11 11:35:19+00:00","Whitespace changes.

svn-id: r25488
"
"beef3b3a87e69efac610e0bb094fdfbee9af1f57","2007-02-11 11:47:05+00:00","remove libmpeg2 'support', as we support DXA cutscenes now and mpeg2 was never working well on PSP

svn-id: r25489
"
"f31d438a64611fa5a0372f8cada56e817f8b6bb4","2007-02-11 13:02:50+00:00","SWORD2: Enhance the detector to recurse into the 'clusters' directory, making it possible to detect & run BS2 from (a straight copy of) the CD

svn-id: r25490
"
"986ff06af932335703dcc8e3a36cc6bff644cbdf","2007-02-11 14:25:46+00:00","Fix for bug #1656870 (GUI: MassAdd: One Has to click twice to confirm)

svn-id: r25491
"
"534bfddd0692d818eefacccb903bf721340a4e58","2007-02-11 18:07:19+00:00","Fix for bug #1506591: HE71-73: Fails to load mouse data (Endian issue?)

svn-id: r25492
"
"5298fa0e47db7de28c78964e4501b80f3280a314","2007-02-11 19:59:07+00:00","SCUMM: Enhanced preferredtarget support

svn-id: r25493
"
"f3141ba2a0a2c0a2ce2b6cd47d65d390980a3665","2007-02-11 20:16:25+00:00","Marked FM-TOWNS demos as such

svn-id: r25494
"
"f0cdab74a5604bc9279e7519b5b826ff45cfee61","2007-02-11 21:17:37+00:00","added load/save support

svn-id: r25496
"
"856742075ed8846199bc42c06427960d28694a25","2007-02-11 22:37:47+00:00","Code cleanup: Removing unused code for handling OS/2 (NE header) binaries

svn-id: r25497
"
"ccd6417f88c82bdd0b296b5f7712712c4eceba19","2007-02-11 22:40:32+00:00","Fix warnings

svn-id: r25498
"
"59eaade15df179df46bd28b4838887f5636ea3d9","2007-02-11 23:46:23+00:00","Make the mouse cursor white (instead of green) with a black outline on
platforms that support cursor palettes. Changed the cursor design slightly.
It's not necessarily better than the old one, but it matches the arrow cursor
used in early SCI games, which seems appropriate.

svn-id: r25499
"
"3bc06610659079e9320e4a0835af103a2fab11a5","2007-02-12 00:04:56+00:00","Merged the 'palette manager' into the cursor manager. It was only used to
manage *cursor* palettes, so the name was misleading.

svn-id: r25500
"
"d4a206ec126677a2665b1c12630af1895fc26848","2007-02-12 00:14:14+00:00","Add basic support for AtariST demo of Elvira 1.

svn-id: r25501
"
"d8d2c4cd655d9e67482947fbe32ee2e7319061dc","2007-02-12 00:21:04+00:00","Ooops, remove debug leftovers in last commit.

svn-id: r25502
"
"f2dff4dec6bffe7e6e7abe280a54ddfdc3a4fc05","2007-02-12 00:21:30+00:00","Fingolfin's patch for improving dictionary loading speed. Applied as is.

svn-id: r25503
"
"8ba35537223eecc128c3ec0fca725680674aa510","2007-02-12 01:07:27+00:00","Add Quietust's changes to fix image glitches in Amiga AGA/CD32 versions of Simon the Sorcerer 1.

svn-id: r25504
"
"189b4abb33fd13b29f7641c29c9950fe39fcd1fe","2007-02-12 03:59:29+00:00","Pass VC10_state directly to convertclip, to reduce arguments.

svn-id: r25505
"
"384fd4b8334d88c828185c309952a046f4625fea","2007-02-12 04:18:19+00:00","Add Quietust's patch to fix subtitles glitches in Amiga AGA/CD32 versions of Simon the Sorcerer 1.

svn-id: r25506
"
"bfd3d872b8c88a4e10cefd1b3abee30844cce495","2007-02-12 04:23:10+00:00","Adjust random opcode for Amiga versions of Simon the Sorcerer 1.

svn-id: r25507
"
"2c0c7a8e1779826dc2122744c105d5a443256579","2007-02-12 04:30:24+00:00","Minor changes for coding guidelines.

svn-id: r25508
"
"9315ccbdc152a808383379009f073fd817876b57","2007-02-12 04:58:49+00:00","Fix icons palette in AGA/CD32 versions of Simon the Sorcerer 1.

svn-id: r25509
"
"45692d4323d1b3a7a4aab3199baa09f26d1783df","2007-02-12 05:16:03+00:00","Add work around for script bug in Amiga AGA/CD32 verisons of Simon the Sorcerer 1.

svn-id: r25510
"
"3c1ede05203087bccdd76ffc2d92a4f4809e42ce","2007-02-12 06:15:26+00:00","Fix cursor palette in Amiga versions of Simon the Sorcerer 1 and remove duplciate cursor table.

svn-id: r25511
"
"0a8a92fd5c8858d2a690beb868bac6121cca0b9e","2007-02-12 06:17:13+00:00","Fix icons regression in Amiga OCS version of Simon the Sorcerer 1.

svn-id: r25512
"
"affcd0f8080252de4436568b0bff6265ddbe8f1a","2007-02-12 07:03:41+00:00","Update work around for script bug in Amiga AGA/CD32 verisons of Simon the Sorcerer 1.

svn-id: r25513
"
"775bed1069b1052022cd5e1f0b93c93caae211bf","2007-02-12 09:04:34+00:00","apply modified patch #1657436 (alignment issues)

svn-id: r25514
"
"c1a735dee51838790603db12957bfc8f28768688","2007-02-12 09:05:52+00:00","re-added missing wince #include; got deleted suring the simon -> agos transition

svn-id: r25515
"
"611d1a018e7fe7d50c9e8e9b76fe3d2cb581c757","2007-02-12 10:58:07+00:00","autodistinguish sq2 2.0F dos+amiga

svn-id: r25516
"
"b2f9c5ab8e8bb6ba92266d2ba20303c587409ca6","2007-02-12 11:27:11+00:00","Add palette code difference for Amiga OCS version of Simon the Sorcerer 1.

svn-id: r25517
"
"e0b9ccf2f0e76f902bddba4a302b0af994c1b669","2007-02-12 11:30:18+00:00","Fix subtitles glitches in Amiga OCS version of Simon the Sorcerer 1, by using AGA on screen font for now.

svn-id: r25518
"
"171962b02c7d20d3b120b4458c885dcfafd78e54","2007-02-12 11:35:49+00:00","Improve detection.

svn-id: r25519
"
"6b2d8436806a2e017ac3b4b99e954f434248121f","2007-02-12 12:53:28+00:00","- Some fixes for demos and Amiga versions
- Improved language finding a bit

svn-id: r25520
"
"82e4318b021d58fec6b5ae2cc7c74d8ad503561d","2007-02-12 12:54:08+00:00","Fixed a special case (frequency/rate > repeating sample length)

svn-id: r25521
"
"6654a91ae2c6e3f81edac118c6bd384337f33462","2007-02-12 13:29:41+00:00","Change asserts to warnings to now, due to code differences in Amiga versions of Simon the Sorcerer.

svn-id: r25522
"
"bd1a85582cb5412716c43f133c579a458bb4f933","2007-02-12 13:36:26+00:00","Update known issues for Simon the Sorcerer 1.

svn-id: r25523
"
"15f52b96b80e02cd7d95f1942297016b05b56ee4","2007-02-12 14:37:27+00:00","Changed language finding again

svn-id: r25525
"
"65acaf50e771190e9879ff007e46f26853dfebac","2007-02-12 17:25:36+00:00","removed dependency on MAX_MOUSE_W/H. optimized mouse blits a bit

svn-id: r25527
"
"7107fcc2c693a077689a0969011e0e164f75b382","2007-02-12 17:59:47+00:00","Update. (contributed by Florian Kagerer)

svn-id: r25528
"
"7af17382b5e85f48412b2b44733ac3d5431b31a9","2007-02-12 18:01:51+00:00","Support for Japanese FM-Towns version. (code contributed by Florian Kagerer, modified a bit)

svn-id: r25530
"
"80bc94304c94780919c7c2b7f0f49febc7ee33a7","2007-02-12 19:08:34+00:00","little fix for fm-towns version

svn-id: r25531
"
"ffdd3522bf2337f828ca31882c1f68678f59d45e","2007-02-12 19:30:52+00:00","More demo version fixes

svn-id: r25532
"
"7d1e5b15ce69bcd86261b15abc9536cf0bb99b34","2007-02-12 19:42:28+00:00","Should silence some warnings.

svn-id: r25533
"
"852803d6e0f3a29f04692a09feabe60a89ff4356","2007-02-12 19:47:42+00:00","removed warnings

svn-id: r25534
"
"f644986f87f7e42b7b9494d99e09a1aec6c02832","2007-02-12 21:14:34+00:00","changed structure packing to use pack-start.h and pack-end.h

svn-id: r25537
"
"9e30a6e990d1556e0d051e965e4a36263a8c7f4a","2007-02-12 21:26:52+00:00","Adding MD5s supplied by vampir_raziel in bug report #1658373

svn-id: r25538
"
"55adc889e7f639394e1830ffdafffe38279db17c","2007-02-13 01:28:18+00:00","(re)added flags field to ADGameDescription, with currently only one value (GF_DEMO) -- this flag value is not yet used by anything (also, GF_DEMO hasn't been correctly set for AGI games yet)

svn-id: r25539
"
"0d418ee6bac52bb88e810042a3b6e883d6bd4a67","2007-02-13 12:14:27+00:00","Add Spanish version of Swampy Adventures.

svn-id: r25540
"
"55e132ca7da5f33b9b4c5405c2d85f1b413fd892","2007-02-13 13:00:18+00:00","Use GF_DEMO flag in the AdvancedDetector to augment the preferredtarget name

svn-id: r25541
"
"287e21d36e047533fdf1b57cec5f123bdf75f8a6","2007-02-13 13:04:51+00:00","Moved detectGameForEngineCreation next to detectBestMatchingGame (somebody should explain the difference between the two...)

svn-id: r25542
"
"2afe07992fdabc07d004a629cf7a79cbfd94f604","2007-02-13 13:17:46+00:00","Renamed kADFlagComplexID to kADFlagAugmentPreferredTarget, document it, and add it for AGOS, too

svn-id: r25543
"
"731f1017c1452063a9b722c3f4601f12034f2d16","2007-02-13 13:19:43+00:00","Renamed generateComplexID to generatePreferredTarget to match my previous commit

svn-id: r25544
"
"da7d8c9f35829184fcf16d60689b671fafee30d4","2007-02-13 13:42:28+00:00","Rename Common::GF_XXX to Common::ADGF_XXX

svn-id: r25545
"
"08079c9dec6f59b1e8d100d90ef83581a38aecbe","2007-02-13 14:47:07+00:00","Fix Apocalyptic Quests.

svn-id: r25546
"
"4968e912ce005f582a34cd0fba7395ebdfc7dc40","2007-02-13 14:55:11+00:00","AdvancedDetector changes:
* Renamed genGameList to gameIDList to make it match the corresponding
plugin API function name
* removed the detectFunc param from detectGameForEngineCreation,
as it *always* pointed to a straight wrapper around AdvancedDetector::detectAllGames
* as a consequence, removed the various GAME_detectGames functions from the
engines, and removed the detectFunc param from ADVANCED_DETECTOR_DEFINE_PLUGIN

svn-id: r25547
"
"433e7d69ac155c03ded74de11b4f1db4dbfc2a2f","2007-02-13 15:03:43+00:00","Thanks to the previous changes, we can now cleanup detectGameForEngineCreation somewhat

svn-id: r25548
"
"80eb248a0eb22f6ba8e052047e8af3c3bf948087","2007-02-13 15:27:36+00:00","Get rid of _opt. Cleanup.

svn-id: r25549
"
"d5f52d7775e6770bc6ffb6b5134c923494eeec61","2007-02-13 15:30:52+00:00","Add FNAMADE_LF() macro

svn-id: r25550
"
"235a7173c0f9dea2b4c6d9883e26ffba066cf37c","2007-02-13 16:11:13+00:00","added GF_AGIMOUSE for all fangames who seem to use it

svn-id: r25551
"
"832d066532038585da7d8452bf5a77d747ea8d20","2007-02-13 16:20:28+00:00","Fixed compilation

svn-id: r25552
"
"4fc5f8e8be520e3193251db5af051471eaa6a462","2007-02-13 16:58:07+00:00","Fix comment

svn-id: r25553
"
"8405eca0ea75414922f8b373e30467488e059b62","2007-02-13 19:51:27+00:00","Fix warnings

svn-id: r25554
"
"d5b169d8a615791223fc336a39f424897311d521","2007-02-13 19:52:21+00:00","Update MSVC2005 project

svn-id: r25555
"
"d90fc8914cde2a7e359a01ade986f6a0cbca1c5d","2007-02-13 19:55:20+00:00","Implement FR#1600020: GUI: Select 'No SoundFont'

svn-id: r25556
"
"151be65ca3d8c7ff100c67a16dc6e16b7a2d457b","2007-02-13 20:34:17+00:00","Kill MSVC warning:
warning C4245: 'initializing' : conversion from 'Common::ADGameFlags' to 'uint32', signed/unsigned mismatch

svn-id: r25557
"
"289466e8b7579cfc66e283d188adefa4b4fdc363","2007-02-13 20:35:44+00:00","Fix MSVC warning

svn-id: r25558
"
"73ea646c04b37703ae92882181807a151602556a","2007-02-13 20:56:48+00:00","update

svn-id: r25559
"
"7fa8e652a02558d0e9b27471520ce50b6d65afa7","2007-02-13 20:58:20+00:00","added missing MKID_BE macros

svn-id: r25560
"
"f01d2a1199d775f8ceea4e674a961c80b00e222a","2007-02-13 21:04:31+00:00","NDS : Added the cpu scaler option in dsoptions (even seem to work dynamically, at least in Maniac Mansion)

svn-id: r25561
"
"75fab28be2b34d62ef81de7e695a8b805bfac097","2007-02-13 21:06:13+00:00","cleanup

svn-id: r25562
"
"474d49dc146876b773bfef80335b740d1b1fa8a7","2007-02-13 21:06:45+00:00","Implement FR#1611172: GUI: Add autosave period widgets

svn-id: r25563
"
"1ce912e1063ae297407b4a9dfd5f30d4819eb284","2007-02-13 21:06:57+00:00","made rtrim() and ltrim() global functions, to reduce code duplication (it seems parallaction/parser.cpp code re-use them too

svn-id: r25564
"
"9317aec6a24a45163f48cac4145ebae8ab9b3c80","2007-02-13 21:07:33+00:00","cancel button on load/save dialog is now handled correctly

svn-id: r25565
"
"846a3498b8766b94cd0c0662e5a592341ce712b1","2007-02-13 21:08:11+00:00","Fix clear soundfont path button position in game options dialog.

svn-id: r25566
"
"c2972f09c296ef32dec0d4452c3f42742b27b564","2007-02-13 21:41:43+00:00","Whitespace changes.

svn-id: r25567
"
"dae00f1a4aedafc3eca22ae81d20c5e13212b9c5","2007-02-13 21:41:49+00:00","Disable clear soundfont path button when path is not selected.

svn-id: r25568
"
"bded4288f922235bd4bd34195ed5b20da2dcc26b","2007-02-13 21:47:09+00:00","Bump theme version.

svn-id: r25569
"
"2e567f1cc9a777e88db35012f8d21db1ca6b53a6","2007-02-13 22:25:25+00:00","Some more AdvancedDetector cleanup: Removed kADFlagFilebasedFallback flag (just check whether a fileBasedFallback has been provided); moved some internal definitions, added some doxygen coments, etc.

svn-id: r25570
"
"de02e840a6dd619e221a750b0b2a63d157f05114","2007-02-13 23:15:46+00:00","skip_whitespace() -> Common::ltrim()

svn-id: r25573
"
"7572d2b4f2ac98cf31602d6c5e4ed7399de54a30","2007-02-13 23:37:44+00:00","Changed detectBestMatchingGame to return a pointer to a ADGameDescription (or a subclass of it); added a (currently fake) fallback callback entry in ADParams

svn-id: r25574
"
"59b1526e5aee8094e51d76305c1e5a7ab3aa88e8","2007-02-13 23:47:41+00:00","Since detectBestMatchingGame now returns a ADGameDescription pointer, we can change detectGame to return a ADGameDescList

svn-id: r25575
"
"75ae7cdb730859838097aec1374cad81d9040ec6","2007-02-14 00:21:53+00:00","Properly implemented the AD fallback callback

svn-id: r25576
"
"d910b545c58977532c44ffd8d879c6a9f9affae3","2007-02-14 00:36:06+00:00","More skip_whitespace -> Common::ltrim(). For real now.

svn-id: r25577
"
"265deaffffe878194660fcc147f82d43816dee2b","2007-02-14 00:37:02+00:00","Added some comments and performed some cleanup in the file based fallback code of the AdvancedDetector

svn-id: r25578
"
"6b2ff5616b1083c2135f179b797cc1db952cb0b0","2007-02-14 00:38:45+00:00","Minor cleanup

svn-id: r25579
"
"42631d21b19246504588a6b3a06cd8d1f5629e49","2007-02-14 00:52:12+00:00","Some more cleanup, and that's it for tonight

svn-id: r25580
"
"2ef15f51a7eb043f56d29db74afd3f87a9f19394","2007-02-14 02:35:48+00:00","Added guard to prevent crashing if a hospot or character name is needed and was not provided

svn-id: r25581
"
"31c0cb7f13652e384682fe995d2afd947b7f642a","2007-02-14 02:37:53+00:00","Added proper support for showing a hotspot or character's name in dialogs where the message contains a placeholder mark for it

svn-id: r25582
"
"ddef4db34ebef934e83af8f53d8de5b2e8e0d68f","2007-02-14 04:15:37+00:00","Fix missing scenes (accolade logo) in AtariST demo of Elvira 1.

svn-id: r25583
"
"0e46eb82656617d3a15bb35315a3300618d15955","2007-02-14 09:52:21+00:00","cleanup

svn-id: r25584
"
"77c70d4ee7731ad0581b3bb8321de23d9042de5e","2007-02-14 16:36:17+00:00","- Changed the square wave generator / speaker emulation, hopefully fixing the walking sound issue (#1621086)
- Fixed some misplaced actor glitches in Bargon

svn-id: r25585
"
"0a56c312f112c93bdd33163abd731f88f0c2e353","2007-02-14 16:45:25+00:00","Fix MSVC warning

svn-id: r25586
"
"f4b4a30327f87568be5e74a067e019ec131064de","2007-02-14 17:05:58+00:00","Removed unnecessary #include.

svn-id: r25587
"
"8bd1bd53b9ef0b16367a9fe8a986a5ffef17dfe3","2007-02-14 21:16:14+00:00","Adding Florian Kagerer for his Kyra FM-Towns code contributions.

svn-id: r25589
"
"80f799a2b25a5ff353dd572c5aeeb469688102c2","2007-02-14 21:43:21+00:00","Extended MD5 API a bit: added a variant of md5_file which takes an arbitrary ReadStream; and added md5_file_string methods which directly produce a human readable md5 string (instead of a binary digest)

svn-id: r25592
"
"62bd2a1544ef01896ad10565a2a9e96a5a873bfe","2007-02-14 21:59:57+00:00","Make use of md5_file_string

svn-id: r25593
"
"1393f130c2ed9182099e7f448f53de535652411d","2007-02-14 22:37:07+00:00","SCUMM: Enhanced detector so that it can discover the language of COMI/Dig based upon the LANGUAGE.TAB / LANGUAGE.BND file (currently only contains data for german comi&dig, and english comi)

svn-id: r25594
"
"ba45c03306be7dffd6268842af7fa8391c24051d","2007-02-14 22:50:40+00:00","Update MSVC2005 project files.

svn-id: r25595
"
"05a2df034c80d26a21351b1b5574f6054579147e","2007-02-14 22:53:19+00:00","SCUMM: Moved part of detectGames into a new function computeGameSettingsFromMD5 to make it slightly more readable

svn-id: r25596
"
"97f84927e804e350daec843bd055c5fcde2d2ef8","2007-02-14 23:13:57+00:00","added language file details for french versions of TheDig and COMI

svn-id: r25597
"
"247110b19b97971295b1b9972aa9457971d18181","2007-02-14 23:29:13+00:00","SCUMM: Many (most) game flags can computed based on the SCUMM version and other flags; we now do that were possible and only specify the absolute minimum in gameVariantsTable

svn-id: r25598
"
"ec27c53491a60258ecb8a67a023964d5ff94b9ab","2007-02-14 23:46:39+00:00","AdvancedDetector: revamped the file based fallback code

svn-id: r25599
"
"41898a3dd973a53e11ada1abea5299362493a28b","2007-02-15 10:30:30+00:00","Fix for bug #1451720: MANIACNES: Actors don't appear if outside camera range

svn-id: r25600
"
"e616b4c4b6fdb8d4fa31ebd14a9c3a4817b66db5","2007-02-15 10:40:20+00:00","Fix for bug #1328146: MANIACNES: Shortcut keys are incorrectly configured

svn-id: r25601
"
"88f4604400d27b45f7e5bdbe439f67465b419d7b","2007-02-15 11:48:17+00:00","NDS port now has DLDI port, surely this is NEWS worthy (and once again I plead all developers to add important news/changes here)

svn-id: r25602
"
"c584d2f33244834a2b8655dda050e55318c043d2","2007-02-15 11:56:17+00:00","Fix for bug #1328131 (MANIACNES: Inventory hotspots can be misaligned) and its dup #1537595 (MANIACNES: Heavy script bug)

svn-id: r25603
"
"57f529e36eede4b8809e84508fc095976c796bc4","2007-02-15 12:00:13+00:00","added some static keywords

svn-id: r25604
"
"8cef52294cb4e8898b1cba14348f7e4021684bad","2007-02-15 12:47:09+00:00","Fix for bug #1660559: MANIAC/ZAK: Music does not stop when pausing (regression)

svn-id: r25605
"
"8afb83884a816aceb56c62f7034bef9be7b753d6","2007-02-15 13:27:36+00:00","cleanup

svn-id: r25606
"
"8ff936a8f6709cca1efe3aca6de7986150c6a593","2007-02-15 14:03:10+00:00","Mentioned Kyrandia 1 FM-Towns support in the NEWS file.

svn-id: r25608
"
"9ad0fdda9605f64a303654c855099e271c60e4a2","2007-02-15 17:26:08+00:00","Clear _pauseTime in seekSan(). Hopefully, this will fix the problem with
pausing during the bike fight scenes in Full Throttle that was reported on the
forum earlier today.

svn-id: r25609
"
"310e275a79a047212fcff6d10ea8e3067ad7dc1f","2007-02-15 17:53:59+00:00","not need this hack as smush player is no longer on another thread

svn-id: r25610
"
"dc5ef8425ba63b0901ed08017be43f749573cdec","2007-02-15 18:12:29+00:00","Introduced V12_X_SHIFT / V12_Y_SHIFT

svn-id: r25611
"
"5e93000a752d1be20cb2f10d87c0d388c91e717c","2007-02-15 20:24:03+00:00","fix compile error

svn-id: r25612
"
"22c7239796e4804f1cbeb9876d622ee5ff6221a7","2007-02-15 21:42:57+00:00","fixed warning pointed out by _Q

svn-id: r25613
"
"e3e76b59b6022054433c6c1df994b5ef97d8fa82","2007-02-15 21:43:56+00:00","fixed a bug in the original engine causing memory-protected systems to occasionally crash

svn-id: r25614
"
"15043066f2d7644ee7e885b1c57227bfeec34c3a","2007-02-15 22:07:44+00:00","- Changed the speaker stuff again
- Added the spanish gob2 version from bug report #1659884

svn-id: r25615
"
"26a3ad56e5fbceea3b8fc111a9b1ad37ca2bd78a","2007-02-15 23:12:33+00:00","Added italian LANGUAGE.TAB/.BND details (thanks to Glorfindel in forum thread 3445)

svn-id: r25616
"
"45ed48a8609bbf41360f124c272b788c5ee315ee","2007-02-15 23:23:03+00:00","Changes made for 0.9.1a beta2 release backported to trunk

svn-id: r25617
"
"f8c288648121b32182ab81acf85194f154905737","2007-02-16 02:25:16+00:00","Add MSVC71 project file update from Quietust.

svn-id: r25618
"
"8bef04f94a443566a8dfa033fa81404bbdbf7725","2007-02-16 02:26:42+00:00","Add Quietust's patch, to fix graphical glitch in MM NES with scrolling and objects.

svn-id: r25619
"
"97bb2336634a252b6d0b249ae359514a12379bd0","2007-02-16 03:49:34+00:00","Revised previously committed guard to comply to ScummVM coding standard

svn-id: r25620
"
"75c74574e8ea91288723ca1830f5f814cb9a566e","2007-02-16 04:49:15+00:00","Bugfix to pathfinder that resulted in some characters bouncing between two rooms

svn-id: r25621
"
"5bd19f022a2c51594b6b5872b44cff3d0b882890","2007-02-16 04:50:42+00:00","Added sub-option to hotspot command to allow the activation or deactivation of hotspots

svn-id: r25622
"
"cce2617f24d156f1e56487f1317acb5348560464","2007-02-16 09:28:22+00:00","Added details on brazilian comi/dig (once more from the forums)

svn-id: r25623
"
"3aaf15938dd1dced630a574396da6cb7253c04ca","2007-02-16 10:33:37+00:00","Fix cursor palette regression in Simon the Sorcerer 1.

svn-id: r25624
"
"8f0a3e8961f5513059b35e1f8d406de1f667d65c","2007-02-16 10:36:33+00:00","Fix cursor palette regression in Simon the Sorcerer 1.

svn-id: r25625
"
"b8bd502c5791fe1b995c5de5d30dd9c805ab472d","2007-02-16 11:14:32+00:00","Added Stuart George to the credits

svn-id: r25626
"
"96162c14eab2654802e86ce096e14ee852f9829d","2007-02-16 12:34:30+00:00","Ugh -- these internal iMuse structs were supposed to be packed, but never were explicitly markes as such. Doing that now (might break old savegames on some ports :/)

svn-id: r25629
"
"4db72c8762de07e8de6bc693a8d2cc5ceef74330","2007-02-16 13:30:41+00:00","Unified how we deal with (and how we generate) MIDI sysex messages -- in particular, we now always do so w/o framing the message (documented this with a Doxygen comment in the MidiDriver class)

svn-id: r25630
"
"cfc3d0a8ed53091d264c552403b0473de3359c2d","2007-02-16 13:41:38+00:00","AGOS: Send GM System Enable/On upon startup

svn-id: r25631
"
"e3594a6839682e8157bd29af5da9c0a26ead764c","2007-02-16 13:55:01+00:00","Add support for using soundtrack from the Simon the Sorcerer 1 - Music Enhancement Project.

svn-id: r25632
"
"d849f4762ce09dc6d83b6ef31179c2a587d2ded7","2007-02-16 16:34:02+00:00","a 20ms second delay should be ample time for a GM system ON

svn-id: r25633
"
"940e89d00e26bec98b6a61f0913c0491ec931472","2007-02-16 16:57:59+00:00","Added support for Kyrandia 2 ADL files.

svn-id: r25634
"
"16e7a1287829fe1a580f949fabdaf2df9854800f","2007-02-16 17:13:29+00:00","Some very obvious cleanups.

svn-id: r25635
"
"81d3a69546e417835de5687db497597dfcf80aea","2007-02-16 20:29:49+00:00","Patch #1661770 (README: typo fixes, consistency)

svn-id: r25636
"
"409657cc15ff312cb2458d34628bc18dc57119f3","2007-02-16 23:17:00+00:00","Added animation handler for Catriona (woman in Smithy)

svn-id: r25638
"
"7949a067e14b71d50ef6bd2ea89316bc6d85ec1e","2007-02-17 00:54:32+00:00","Removed extra tabs.

svn-id: r25640
"
"369474bec62af58ab4102949c98d29200f6a9dd2","2007-02-17 01:20:41+00:00","get rid of bitCount table (count occurences of bit 0 directly in the main loop)

svn-id: r25642
"
"7b7c27bc0c586da6ca504e0e039a2a3bd892cc57","2007-02-17 01:21:00+00:00","SCUMM: Fix opening of *.tlk files

svn-id: r25643
"
"dadaf08b29990f833dc99eecd9399d43ed7a6ccc","2007-02-17 01:23:52+00:00","Reduce amount of attempts to open various speech filenames.

svn-id: r25644
"
"441ea2bdb1cee99d6e6c26dd44e857753b0693c0","2007-02-17 01:24:50+00:00","cleanup

svn-id: r25645
"
"f1f88c43c022912eb1f1ceee4d7a2d0630e08d5d","2007-02-17 01:33:47+00:00","cleanup

svn-id: r25646
"
"c4cbf9dc92cf16ec84cb15bce4912b6165632680","2007-02-17 03:41:41+00:00","Added some asserts to setSupportData method to ensure the passed variables are valid

svn-id: r25647
"
"6e0c500bc19a1d3630b56f6bc3f82f6f5483f68a","2007-02-17 03:42:43+00:00","Added line to ensure the current room number field variable is kept up to date

svn-id: r25648
"
"809a3bc293ca4198abedc080daa28e3f0c3a17f6","2007-02-17 07:49:12+00:00","Applied cyx's patch #1659302 ('KYRA: VQA player code cleanup/reduce') with the
minimal change suggested in the tracker.

svn-id: r25649
"
"546758a086eb711b7f91a2ac644f0df415d18c3e","2007-02-17 08:06:21+00:00","Only set up the Kyra 1 triggers for Kyra 1, not Kyra 2.

svn-id: r25650
"
"5df29654fc09e882e3581ff3ddfadaceb6e79e43","2007-02-17 09:56:09+00:00","- Added a warning when o1_checkData()/o2_checkData() can't find the file it's supposed to check
- Fixed the actor drawn over the background glitch in Bargon Attack
- Plugged some leaks

svn-id: r25651
"
"5e38eab6407c15b02c8329714859a099238e06c8","2007-02-17 10:58:54+00:00","fixed regression bug caused by ZoneTypeData being declared as a struct instead of an union. Should have taken care of this when the switch was actually made...

svn-id: r25652
"
"9ab2ca5bc7dec069c575504b3e70fad8b63d3706","2007-02-17 13:39:22+00:00","changed some debug levels

svn-id: r25653
"
"f33da9e4125ef4c570e15cc4c5cae38a7a238eea","2007-02-17 15:37:49+00:00","Some indentation and format changes. Mostly replacing spaces with tabs.

svn-id: r25654
"
"e29ddfe1569fdfc65cf69bf1e4bc333db6e8c0f3","2007-02-17 15:57:49+00:00","more conventional termination handling. Event loops are going to get merged soon, so there are FIXME remainders around there.

svn-id: r25655
"
"24a36cbb3f210d5fdcb29f1ece987224f05b9fc9","2007-02-17 16:06:34+00:00","Changed spaces to tabs again.

svn-id: r25656
"
"3270885bc1fae70273688debd0b12a888faaa2f2","2007-02-17 16:56:54+00:00","Fix for bug #1660550 (MANIACNES: Graphics glitch on intro screen)

svn-id: r25657
"
"f027e2f5626f896f0b9df59f1571da4ebafe0571","2007-02-17 16:59:06+00:00","OOified Player_NES code; revamped the code in GetSample slightly (to avoid overflows, an expensive multiplication and an even more expensive division)

svn-id: r25658
"
"7d5d6c2f91287a286a65fe652c62462dce9b2e62","2007-02-17 18:52:21+00:00","Speed up the Player_NES code quite a bit (still is rather slow without compiler optimizations on my 1.5Ghz PowerBook G4, but at least it's not unbearably slow anymore, and with -O2 it's running smoothly)

svn-id: r25659
"
"b8aeefaffb2ecdc9da5594a49cfba87a84e55d4e","2007-02-17 18:55:51+00:00","Added finalize() method to Common::OutSaveFile (which by default just flushes the stream), changed engines to call that before deleting OutSaveFile instances (instead of just flushing)

svn-id: r25660
"
"d0f6b3c0dcd59c7b156c940ae427ac761f779895","2007-02-17 20:37:57+00:00","Using stat and fopen is not portable (writing to a Common::File isn't either, but at least it doesn't force porters to #define fopen to work around it)

svn-id: r25661
"
"b777c09ac0271f9b41e445dbc74e7f5afe400bc6","2007-02-17 20:38:27+00:00","Removed some dead code, updated a warning message

svn-id: r25662
"
"33d04d5aa4dbccea22205bfb49378f1ac675281b","2007-02-17 20:50:50+00:00","changed CNV loading code to be endian-safe

svn-id: r25663
"
"b1a63e8a16dd7eb4dde72500d2db14cf4868c0a4","2007-02-17 20:54:25+00:00","changed mapChar to use unsigned (byte) instead of char, to avoid possible sign issues

svn-id: r25664
"
"be878d60dba399599506da2963dcbc2943543c48","2007-02-17 21:19:55+00:00","fixed regression bug causing labels not to be aligned properly when near the right border

svn-id: r25665
"
"e326f482c96f24690ce39bf971c371410a24a9ba","2007-02-17 22:11:00+00:00","Get rid of Common::SaveFile

svn-id: r25666
"
"a2260653efb3fb43efde23b1375f9eb1c5938717","2007-02-17 23:02:25+00:00","Removed LaTeX readme, since it is no longer been updated or used.

svn-id: r25667
"
"5fc65f223007d4d5d4e3ee2d9047c84c2b950757","2007-02-18 01:05:27+00:00","cleanup

svn-id: r25668
"
"7f07e6e48a94049e16ffaac6c39256c4a97755a4","2007-02-18 02:25:39+00:00","Replaced the old code for compressed savegames (which was using the gzopen/gzread/etc. API, and thuse tied to FILE/fopen/fread/etc.) with a new wrapper approach, which allows reading/writing gzip data via arbitrary SaveFile implementations, and thus can be used with custom savefile implementations

svn-id: r25669
"
"4e6e57eb535c1b10430994db95947af30a8f4a1c","2007-02-18 08:45:22+00:00","adjusted wrong comment

svn-id: r25670
"
"1a6361038e5e6b5f7bfdb102578fa38c3d2b3c9b","2007-02-18 09:10:50+00:00","Committed my fix for bug #1662549 ('SCUMM: MIDI music is broken'). Apparently,
'len' is now one less than it used to in sysexHandler_Scumm(). Let's hope I
changed all the cases that needed changing, and nothing else...

svn-id: r25671
"
"03099ec1cad0b2780b7ca7368d331ab3a5ab4252","2007-02-18 09:26:20+00:00","more big-endianness fixes

svn-id: r25672
"
"b096586a22c39dc5ee0767d292d3fa0cf70f0fd5","2007-02-18 09:29:54+00:00","fixes last broken commit

svn-id: r25673
"
"eb30be5f10209541c35f24c4a4ef62df4574d6e5","2007-02-18 09:33:53+00:00","new special debug levels

svn-id: r25674
"
"d0da5666336d6a3062d1e64820f0ce00745d60be","2007-02-18 09:35:50+00:00","fixed broken sprintf formats in saving routines

svn-id: r25675
"
"6452e607278ce920f6ff669f779ad7915eac6aec","2007-02-18 09:36:47+00:00","enforced use of MAKE_INVENTORY_ID

svn-id: r25676
"
"bc17ef29f9c6767258481a43682832df113f7960","2007-02-18 09:56:28+00:00","set the size of savegame name to the same length for both saving and loading

svn-id: r25677
"
"d4e5daa5b52c3d4d3bac6f83e216ce992b0e315a","2007-02-18 10:31:29+00:00","change in debug level

svn-id: r25678
"
"3dd23c5d9a9e814141d5c84be671aa491a39e2a3","2007-02-18 10:32:15+00:00","found and commented gross hack in the original engine

svn-id: r25679
"
"06c354c2361d0b0b007e444661e6c9cbcc81abba","2007-02-18 10:56:45+00:00","replaced magic number with kFlagsVisited where needed

svn-id: r25680
"
"cd75d9bfdb77bcad59d09b7a1788257205941e00","2007-02-18 10:57:11+00:00","fixed broken savegames with duplicate items

svn-id: r25681
"
"2a8e4ca8762bbebe67842ceddf4315193db8cc13","2007-02-18 11:46:39+00:00","correctly reinit sound output device

svn-id: r25682
"
"2bb012701a5791be0f9a6e98c4aad144125cb274","2007-02-18 11:48:10+00:00","flush()->finalize()

svn-id: r25683
"
"227d83ea6e0e26f28c0e8a15042b19dff5931802","2007-02-18 12:21:25+00:00","Bad hack to make this engine works on PalmOS (compiler still seems to hate some global objects)

svn-id: r25684
"
"d892020505ada09e448b0c1d41e74e823abfdfa4","2007-02-18 12:26:56+00:00","Repaired loading

svn-id: r25685
"
"5a32e4f6e2943c31c8f848cd4e107f3811ca7bf0","2007-02-18 14:00:55+00:00","Bad hack to make thsi engine run on PalmOS

svn-id: r25686
"
"dbd43fcb5af7340b7e0e974708e78099728778de","2007-02-18 15:12:23+00:00","Updated locations of created files to be uninstalled

svn-id: r25687
"
"35009ebff741086291b547dcffefa6925ecc131c","2007-02-18 15:40:59+00:00","Const correctness

svn-id: r25688
"
"da442dd2fb81cbff5ca51f73c01e01d1d94d113f","2007-02-18 16:01:55+00:00","Fixed bug #1662774 ('SCUMM: Textual verb glitch'). It was a regression caused
by an earlier cleanup.

svn-id: r25689
"
"138b7bea41f0e24d3cde41253f59d0f32ab2dbda","2007-02-18 16:55:40+00:00","Accept zlib format files as well when reading.

svn-id: r25690
"
"5b214090f735827ab6711f960cd1f4daf098ff17","2007-02-18 17:47:24+00:00","Renamed crc32 which conflicts with Tapwave system function

svn-id: r25692
"
"619d8e87f15d43fc71b2071ebb5a84ce37e3115b","2007-02-18 17:53:44+00:00","French keyboard is 'azerty' not 'awert'

svn-id: r25693
"
"17b14e44c76ee7630d45ee21c11412f9d1948a96","2007-02-18 18:03:57+00:00","Correct warned class name

svn-id: r25694
"
"348b72e107e39cb95559ebfdc7b835dbcfd14fc8","2007-02-18 18:07:32+00:00","Improved (I hope) the 'Unknown MD5' messages in our detectors a little bit

svn-id: r25695
"
"e0a7c6d7a78f306b7aa2a60eec9c698119090515","2007-02-18 18:08:38+00:00","Made it possible to init a Stack<T> with an Array<T>; removed hack in Stack<T>::top

svn-id: r25696
"
"94507bb44dc38bfaffc5a293f1160f35f56dd9b7","2007-02-18 18:23:52+00:00","Improved 'Mass Detector': Now displays a dialog which displays the scan progress to the user, and can be cancelled (the whole thing still needs to be polished)

svn-id: r25697
"
"3611cc6b4c6d877cf55316cd66008aa82e2956f7","2007-02-18 18:35:11+00:00","Fixed warning

svn-id: r25698
"
"da67fb9de40fba9c7aec7a5f1c98d71e3db74c00","2007-02-18 18:36:21+00:00","Redraw the launcher after doing a mass add

svn-id: r25699
"
"a866cb4ba026864ffb36ddc4ef87607468608867","2007-02-18 18:38:12+00:00","NDS : Compile fix (savegames-related)

svn-id: r25700
"
"0219b46e9d78d26e57da070de2a7f877a1c6eb8d","2007-02-18 18:39:46+00:00","Simplified addGameToConf and at the same time made it more powerful: Copy all key/value pairs returned by the detector to the new config file domain

svn-id: r25701
"
"a43073de393358b797e8df7f7a684f7c2bf00a3e","2007-02-18 18:59:40+00:00","NDS : CPU scaler performance experiment

svn-id: r25702
"
"20e44a4914ae3f99b3dac149be6e87f86fb6dfb5","2007-02-18 20:30:15+00:00","NDS : CPU scaler twiddling backup

svn-id: r25703
"
"887cf19cac0ff5e606098c034ba0735fa54a9b9e","2007-02-18 20:53:06+00:00","NDS : The scaler profiling renders a white line (1 pixel / 1 ms)

svn-id: r25704
"
"e9f9792f2d8b55b0539ac5fb88822472e0d9eec4","2007-02-18 21:07:00+00:00","Fix for bug #1660560 (MANIAC: Meteor faces wrong way during intro)

svn-id: r25705
"
"23a4e1de640a046d9517416b43a671b43ff9d81e","2007-02-18 21:29:02+00:00","Added compressed-saves.cpp to base symbian makefile

svn-id: r25706
"
"18cab2cc65b8f13a8c69d65318706e75258b4b4f","2007-02-18 21:46:40+00:00","added basic support for playing FOTAQ amiga modules files (rjp1) instead of MIDI (code is currently #ifdef'ed out).

svn-id: r25707
"
"604f0cac0a9864c3f5c3d48e1825875a3064695b","2007-02-18 21:56:52+00:00","cleanup and fixed _module memory leak

svn-id: r25708
"
"edd87748362036c64d26b45662a3cb07496774f7","2007-02-19 00:03:14+00:00","AGI: Removed detection sums for DDP. DDP uses an unsupporeted agi engine 2.01, all DDP versions are booter disks and thus 'hacks' and is buggy under any agi version other than 2.01 (2.272 and 2.089 dont work correctly). This will also stop bug reports coming in for DDP

svn-id: r25711
"
"2b3c08d420ceb36c22f37de261aa0607a71301a4","2007-02-19 08:48:54+00:00","Don't set ioFailed on EOS

svn-id: r25713
"
"880f449a2d969da9b860a995aaf64929ba1b57c5","2007-02-19 09:25:11+00:00","fixed regression bug preventing user from interacting with many items, notably not allowing combining items from the inventory

svn-id: r25714
"
"402e364852a915e6aa7e9cd2907b3171e83c41f3","2007-02-19 09:31:43+00:00","fixed engine bug preventing savegames from being consistent with the actual game status. The workaround code comes from BRA.

svn-id: r25715
"
"abd20d59fab7cdcfaa3998484c91ff8927ce091c","2007-02-19 09:46:45+00:00","Move SCUMM version checks for settings up monst.er.sou file, to higher level.

svn-id: r25716
"
"85a0a0299638fc2c85021132b6e869da51c23e4d","2007-02-19 11:36:31+00:00","fixed bad implementation

svn-id: r25717
"
"1121fe494856f0d45ac52ac8f4ce59022fbbdfd7","2007-02-19 12:53:59+00:00","moved specialised parsing routines in parser.cpp, so code can be refactored more easily

svn-id: r25718
"
"745d814caaaace321b29a619263f5f398747c7b4","2007-02-19 12:54:58+00:00","renamed file to follow common convention

svn-id: r25719
"
"2f7388d78a00cb9819734a48be39088fd559bb1a","2007-02-19 12:55:51+00:00","oops forgot to update make module

svn-id: r25720
"
"0f3ebbd3b371a900ce8d2d48d4f4b5eb68672933","2007-02-19 13:07:18+00:00","table routines merged with common engine code

svn-id: r25721
"
"bbc50471bbb072988432add53e7e19acd60add85","2007-02-19 13:46:44+00:00","Fix compilation

svn-id: r25722
"
"80edc8504c07ad63ac0d28319ad89510335cd1ee","2007-02-19 14:06:47+00:00","a little bit of fiddling to expose similarities between routines

svn-id: r25723
"
"9bdf145aa0137f6cdd4b811bc45af5786e6a6f68","2007-02-19 14:09:13+00:00","refactoring

svn-id: r25724
"
"32b4492b1a3610f41a83d53f0885ab9d6610c8e3","2007-02-19 14:11:56+00:00","a little more refactoring

svn-id: r25725
"
"09ad4f1a87d25f82fed50b575adc4fa419aa1c7c","2007-02-19 17:30:43+00:00","Renamed SAGA_xxx_H_ to SAGA_xxx_H for consistency.

svn-id: r25726
"
"a1a16d1579f3192f430627b62d7d181ee92d6c4d","2007-02-19 17:48:19+00:00","Use consistent naming for the preprocessor constants used to guarantee that
header files are only included once. Many of them didn't have a SCUMM prefix
which could have lead to clashes with common header files.

svn-id: r25727
"
"0b2602e424ee0056f634fdc0dfc16ccf5456f9b2","2007-02-19 18:17:38+00:00","So far we only accepted track1.* as name for audio tracks -- now we also accept track01.* (we still only document the former naming scheme, intentionally)

svn-id: r25728
"
"301fe919031bb003656c410290ed5e846dd2cfa6","2007-02-19 20:55:16+00:00","Renamed ANIMATION_H to AGOS_ANIMATION_H.

svn-id: r25730
"
"60e0f7624af149529b30d5d1b96364cd4b6db12a","2007-02-19 21:09:23+00:00","As Fingolfin pointed out, we no longer need two different CD timer intervals
for Loom and everything else. Adjusted the value, taking advantage of the
greater timer resolution, and clarified which two scenes need to be tested if
we ever want to adjust this value further.

svn-id: r25731
"
"7290d1b18c82511b2e3b9339100e882c3e1fc8b5","2007-02-19 21:11:13+00:00","Enhance (Seekable)SubReadStream so be able to (optionally) dispose the parent stream after it's been used (simplifies memory management for client code)

svn-id: r25732
"
"07077a2be484ba96c1a10c37ab0c06ce63fd294b","2007-02-19 22:34:00+00:00","first step in parser simplification

svn-id: r25733
"
"55162ff9208de873c6d1cd0129e32b2c4ac6ba4a","2007-02-19 23:51:32+00:00","Correct playing back music 0 in Simon the Sorcerer 1, when using replacment soundtrack.

svn-id: r25734
"
"2673ddffc0dd3f0169c0e023e8210da204a36aa4","2007-02-20 01:22:41+00:00","Add French version of Elvira 2 for Amiga.

svn-id: r25735
"
"7f31211e4fcbc905b5818c2766c58e0775438f17","2007-02-20 03:06:42+00:00","Update details for English version of Elvira 2 for Atari ST.

svn-id: r25736
"
"1bd5f9932b45e92dd73097df26acfe127df39c05","2007-02-20 09:10:21+00:00","animation scripts are now parsed through the same pipeline used for location scripts. Thus, animation scripts are now cached instead of being read line by line.

svn-id: r25737
"
"5886d3ed7f6bdcc957174d33a3f31bcd68a9739f","2007-02-20 09:17:28+00:00","cleanup and small fixes

svn-id: r25738
"
"b6a10e10ef52820d92940f16775e5ae1d84388e1","2007-02-20 09:52:07+00:00","changed parseComment to use Script stream instead of file

svn-id: r25739
"
"b162e0dc04fc1e1b0883442c4079a6728029eea8","2007-02-20 13:50:20+00:00","Cleaned up AudioCDManager::getCachedTrack (in particular, don't empty a slot in the track cache if we are not going to use it)

svn-id: r25740
"
"270efc16e3414e551af484d24bc9ce84e4a2a0f4","2007-02-20 15:54:29+00:00","SCUMM: Added spanish LANGUAGE.TAB info for COMI (thanks to ssdsa from the forums)

svn-id: r25741
"
"35b191bad982661d0f5b1ab105084ae55dcba606","2007-02-20 16:13:45+00:00","Document AudioCDManager::play

svn-id: r25742
"
"d689187aa34e63cf3a4caac6b68ff8e0b1e66e28","2007-02-20 16:54:55+00:00","made hi-level parsing routines (Zone, Commands, Dialogue, Animation) rely on Script objects for input.

svn-id: r25743
"
"11682377e42c1ce70578eb2043776295b72f9b69","2007-02-20 17:22:58+00:00","More header consistency fixes. (Actually, there was nothing at all to keep
font.h from being included multiple times.)

svn-id: r25744
"
"9aa7d2209b9941fd8b7b9a28f0d9d2fa970c9df3","2007-02-20 17:28:04+00:00","Guard cdrom.h against being included multiple times.

svn-id: r25745
"
"1987813f53fd73151729968d6462e7f6d998ea6c","2007-02-20 17:33:54+00:00","Another batch of header consistency changes.

svn-id: r25746
"
"b4b6adc11eb484d91e5db161657c2fd9888e91b1","2007-02-20 17:41:26+00:00","Cleanup.

svn-id: r25747
"
"fb9c08f1016bc5f92f6cc18e4489160c575a0e07","2007-02-20 17:52:02+00:00","Removed XORReadStream (it was unused); enhanced MemoryReadStream to be able to dispose the memory block it wraps (simplifies memory management)

svn-id: r25748
"
"ee13273fc4a9eeccf12bc555c15598ba37956302","2007-02-20 17:52:55+00:00","More header fixes for that warm and fuzzy feeling of consistency.

svn-id: r25749
"
"91f088bb8bbad70ae0d1b73d296f802b3127e6c3","2007-02-20 17:57:49+00:00","Rewrote MP3InputStream mostly from scratch:
- added support for  proper time-based seeking (for now internally only)
- this should permit VBR encoded MP3 audio CD tracks to be used (not tested)
- Symbian specific hacks were removed, as they hopefully aren't needed anymore
(not tested))

This change will is likely to introduce regressions, everybody please test all
cases where we allow using MP3 encoded data

svn-id: r25750
"
"547858993725af19d2167857c4e7a4a8ba8da185","2007-02-20 18:04:13+00:00","Last batch of header consistency fixes. At least for the game engines.

svn-id: r25751
"
"227a080e5b25762dc7a5a942dcfbfdbfcd76c372","2007-02-20 18:50:17+00:00","Patch #1663933 (Kill premix channel) with a few tiny additional tweaks by me

svn-id: r25752
"
"cc210d75129619afe9c2dad6470bfdebb0d494a3","2007-02-20 19:23:07+00:00","cleanup

svn-id: r25753
"
"42f11e9e490971f6fea8044ed9c830bca4ccb897","2007-02-20 21:41:01+00:00","Added new ReadStream::readStream method which can be used to read a portion of an arbitrary ReadStream into a memory buffer wrapped by a MemoryReadStream

svn-id: r25754
"
"acdb32d84d43ed18454cb8d681983fd7b0cda349","2007-02-20 21:53:22+00:00","Remove some leftover comments I made while writing the new MP3 code; make use of the new ReadStream::readStream() method in makeMP3Stream()

svn-id: r25755
"
"42745b188eb239b726ebfc086e6964247859890f","2007-02-20 22:18:48+00:00","Added looping to the MP3 streams (currently virtually untested, so watch out)

svn-id: r25756
"
"cb40356a7bd34f3ad3c32ea6fea86f52545746f3","2007-02-20 23:40:46+00:00","Revamed the Ogg Vorbis & FLAC DigitalTrackInfo subclasses to work similar to the MP3 one (i.e. only open the data file when about to play)

svn-id: r25757
"
"86f9dbc0a2a5e83b15406d5df769198de01bda33","2007-02-21 04:19:27+00:00","Add MSVC71 project file update from Quietust.

svn-id: r25758
"
"b5b45131c2c4fdacc7da77ffa63eadc3a9f72dc7","2007-02-21 10:43:11+00:00","White space changes.

svn-id: r25759
"
"29ada821344e905fb685e79efa08a6d88b85eb14","2007-02-21 11:46:35+00:00","Bypass the copy protection screens in floppy disk releases of Simon the Sorcerer 1 and 2, with permission from Adventure Soft.

svn-id: r25760
"
"76ac2263f9c6ddfa3811ed32a84561e939fc53ca","2007-02-21 12:33:34+00:00","Remove Amiga OCS specific code for copy protection screen in Simon 1, since it no longer required.

svn-id: r25761
"
"87ef1fe0a2be0562202573d75f83e530cc10bc0d","2007-02-21 12:34:14+00:00","Skip music track 35 in CD releases of Simon 1, since it was replace by sound effect and the script was not updated.

svn-id: r25762
"
"098bcc2fe88220f6ff656d6f42beabc55b2bf8d9","2007-02-21 14:41:25+00:00","Fixed $URL$ and $Id$.

svn-id: r25764
"
"948630c3b452cdfd480c7f6fe9398bcda57501d7","2007-02-21 20:27:48+00:00","added initial support for FOTAQ amiga versions

svn-id: r25769
"
"b21ea458b5deed70c234ad9e9bb5b391cfb97a44","2007-02-21 20:50:21+00:00","Change an include to remove requirement of libfat

svn-id: r25772
"
"b2539cc19cf569bedc1521173943fe5693fad322","2007-02-21 20:57:10+00:00","Change an include to remove requirement of libfat

svn-id: r25773
"
"b825fb858f204bfd07eaff77dee3100eb1b893bf","2007-02-21 21:42:37+00:00","Add support for MIDI music. THough the music is not yet heard since
there are no instrument assignments yet.

svn-id: r25774
"
"15168e6c421e6d499d1d0612235bfaf4a6bbe775","2007-02-21 22:29:45+00:00","c&p error

svn-id: r25775
"
"2aa2dc2629fa4a3f5c2e33edc4ec350b6b6204ea","2007-02-22 06:23:24+00:00","Added missing parameter in command line help

svn-id: r25777
"
"69255e9c14fceb7a6584a8bf52bfa9ab009dea16","2007-02-22 06:24:48+00:00","Expanded script engine list of available schedules (original was too short), and added schedules for the random actions Ratpouch can do in each room

svn-id: r25778
"
"7ac767a2bae0bcc97bd46a7a29ced6b21dbc12a3","2007-02-22 06:29:09+00:00","Added proper support for the random actions your sidekick can do in each room

svn-id: r25780
"
"0c899f82ab32c4d9da3700bbf54201db620c2ec4","2007-02-22 08:17:41+00:00","Syntax fixes to conform to ScummVM coding standards

svn-id: r25781
"
"2c1445056df1bdfc065c33a5a103729e46a60e33","2007-02-22 10:51:47+00:00","Rewrote Ogg Vorbis code to be more flexible when it comes to seeking; also now playback from arbitrary SeekableReadStream data sources is possible

svn-id: r25784
"
"eec3543c7d14575595327492ceccf0440253d044","2007-02-22 12:12:45+00:00","some fixes with resource files handling for Amiga versions

svn-id: r25785
"
"f2df410660d052656270f220a6bf210f6865cdeb","2007-02-22 12:20:56+00:00","setup default colors for Amiga versions

svn-id: r25786
"
"4fbca85aef83f17602609821e6050aee29f86b02","2007-02-22 12:25:30+00:00","indentation

svn-id: r25787
"
"1c02ed60d0e83bf60dca01e61d243241925e407c","2007-02-22 14:07:12+00:00","cleanup

svn-id: r25788
"
"f16ab376989031806ba5823c4b34a16742c1a628","2007-02-22 14:30:12+00:00","Added looping support and an enhanced factory function to the Vorbis code

svn-id: r25789
"
"c3254cde9e557df7238f3393da322c1f2cdf91e8","2007-02-22 16:36:03+00:00","If an AudioStream returned a negative number in his readBuffer() method, then CopyRateConverter::flow could have got stuck in a (quasi) endless loop

svn-id: r25790
"
"60fbbc2704c2b384578ca1d82181ad6696eb0cc2","2007-02-22 18:03:05+00:00","Fixed black screen in the outro sequence.

svn-id: r25791
"
"8ce7566c8d3ffb2e87624a34da971e4513fea103","2007-02-22 18:21:01+00:00","Updated FLAC code to match the changes made to the MP3 & Vorbis decoders (e.g. use a SeekableReadStream for input, allow specifying parts of a stream via time-valued parameters, etc.) -- note: looping is not yet implemented, even though it is already present in the API

svn-id: r25792
"
"82ae8daccfd3684f277e0ea2e22e8a4288694d47","2007-02-22 18:33:01+00:00","Reduce chance for overflows in VorbisTrackInfo::play

svn-id: r25793
"
"4dae49e75a102f933ac8f10ddbfd57b24b6b6d61","2007-02-22 18:35:57+00:00","cleanup

svn-id: r25794
"
"52eebf919262b357640dc643e56d0feb03d3de7c","2007-02-22 18:38:05+00:00","added yet another #pragma mark to the vorbis code (just for the sake of *my* text editor -- yeah, I'm selfish :-)

svn-id: r25795
"
"f695b21d60ace91bc982cd70b2f75ec62600a559","2007-02-22 18:42:03+00:00","FLAC code cleanup

svn-id: r25796
"
"7612aa5ee111d5332f07b5a6539186e2bfbe4d6e","2007-02-22 20:46:09+00:00","fixed comments.

svn-id: r25797
"
"b6fdf74a2500a91958519244d73113d598edb862","2007-02-23 00:27:56+00:00","Put back DDP entries, but #if 0 them for future reference and prevent
anyone from adding them again.

svn-id: r25801
"
"73c23077cd7dcb5d5a18d9975670f8ddfe45e638","2007-02-23 00:30:50+00:00","Fix spelling.

svn-id: r25802
"
"462483744805c0bb93f732258c7996d6ea29c017","2007-02-23 00:40:24+00:00","Fix fixed spelling :)

svn-id: r25803
"
"a63a71eb780549c936c00913d10372252869aabf","2007-02-23 01:49:20+00:00","Added a FIXME to this workaround (it might be to broad -- research needed)

svn-id: r25804
"
"f1f28b61a981293c22fbf16e4b8e27c0206e68c3","2007-02-23 02:35:01+00:00","Modify ScummEngine::getResourceSize to assert if called on a missing resource, instead of trying to read from high memory

svn-id: r25806
"
"47280b3301ae3b628dce593beb602ac6ada75b97","2007-02-23 10:18:14+00:00","Fix bug #1600999 - SIMON2: Crash while talking to Bingo Bongo. A regression due to the work around for extra long strings been broken, when support for the Feeble Files was added in the past.

svn-id: r25807
"
"74f21c1c4f03b6e7748aa3c0d61963d602bd301b","2007-02-23 10:19:53+00:00","Correct typo.

svn-id: r25808
"
"b8bbe1b5fe03d7b624173a44cfa53f1eb38c481e","2007-02-23 11:12:12+00:00","Update copy protection bypass for Simon 1/2.

svn-id: r25809
"
"c8631a92e992d261891b30bfed77e45d449ea009","2007-02-24 09:11:12+00:00","french amiga demo is now recognized (not playable yet)

svn-id: r25813
"
"aa625d0a38455eeb6bde9ea93a90bd47ac353e80","2007-02-24 09:12:07+00:00","ArchiveFile's details are now known only to archive code

svn-id: r25814
"
"967b034fa59c74d11433d9a72adb5b4731bafcff","2007-02-24 09:17:06+00:00","Set the extra field for the Amiga demo, to just 'demo', since the language and platform are auto added.

svn-id: r25815
"
"990132687da85e010301c8c989638c41aaa67a79","2007-02-24 09:55:37+00:00","Add the Hand of Fate demo.

svn-id: r25816
"
"cec73cde40b7ec3abbfd3819814d12367c52f951","2007-02-24 11:18:28+00:00","temporarily fix automatic detection

svn-id: r25817
"
"b0805551e721bf471ce6ac2957f36ab7e8f42480","2007-02-24 12:38:18+00:00","Update md5 details for Spanish version of Elvira 2.

svn-id: r25818
"
"f4f1e123303083604d35257971f4ee0022003e0c","2007-02-24 14:49:08+00:00","nippon safes demo is English, not French

svn-id: r25821
"
"91dbad832514d0dd138715ad3b29382fe2a11a9c","2007-02-24 15:24:38+00:00","Use AGDS feature for specifying demos

svn-id: r25822
"
"be66e732f8dd2da66a609636a4393252f8db3528","2007-02-24 15:28:03+00:00","Added spanish Ween (bug #1667743)

svn-id: r25823
"
"d350830d7c209a02d9dde3801390c902980dbde7","2007-02-24 18:25:58+00:00","Added Spanish version of The Dig; updated a comment on detecting TOWNS variants

svn-id: r25824
"
"11e679845d49f5a13e7311b6e5bebc7827a26878","2007-02-24 18:39:08+00:00","some fixes and additions for FOTAQ amiga versions

svn-id: r25825
"
"dcc6e2c0bbda92403aef5849d41d4fe7d521fed7","2007-02-24 19:15:10+00:00","SCUMM: Try to distinguish between indy3, indy3Towns, zakTowns, loomTowns in the fallback (non-MD5) detection code

svn-id: r25826
"
"04a18dd7c4d381f9d7fdb92793b0b0608c462c6c","2007-02-24 19:20:15+00:00","SCUMM: cleanup (moved small header specific code from ScummEngine::readResTypeList to ScummEngine_v4::readResTypeList)

svn-id: r25827
"
"8fa6a1ffd54c913292bb01786acc2bbfbd8c149d","2007-02-24 19:29:40+00:00","Removed the (useless, thanks to resTypeFromId) 'name' parameter from readResTypeList

svn-id: r25828
"
"ebfb2c57e14ebfd33876810705f5849a78656b14","2007-02-24 19:54:54+00:00","Removed FlacInputStream::deleteBuffer

svn-id: r25829
"
"03e75235f0051af0237158ebb3449315c71c7938","2007-02-24 20:50:56+00:00","Add support for touche engine.
Also, since QVGA smartphones can run any game, updated the action mappings to account for all of them.

svn-id: r25830
"
"e32d3cafed7f96134de319c92229689ce43b5eda","2007-02-24 21:13:30+00:00","more FLAC code cleanup

svn-id: r25831
"
"5e5b37534fe49889c162c021d8ebefa485f14e77","2007-02-24 21:25:46+00:00","Replaced variable buffer in the FLAC code by a fixed on

svn-id: r25832
"
"8052e2ce259a9e92c31db1eb4972345c6846c377","2007-02-24 22:14:48+00:00","Add looping support to the FLAC decoder

svn-id: r25833
"
"cafe61fec2495a5ff6596bc91ec0670d09e35931","2007-02-24 23:15:39+00:00","cleanup

svn-id: r25834
"
"d6467f79a29cf053370d20960697c9a60f71f81e","2007-02-24 23:19:17+00:00","Added filesize of indy/loom demo (didn't update the generated files on purpose)

svn-id: r25835
"
"65b30d84a805a7b22322474970a219d5628997d5","2007-02-24 23:19:53+00:00","Added numLoops parameter to DigitalTrackInfo::play

svn-id: r25836
"
"b3931a847d21b0770f7b30bd1e4c793dc283abf3","2007-02-24 23:40:28+00:00","Trying to unify the order in which we try the various audio formats: Prefer FLAC (lossless) over Ogg Vorbis ('free') over MP3 -- the order is admittedly somewhat arbitrary, but at least now it's consistent across all parts of ScummVM

svn-id: r25837
"
"836642047488427ffce13b4355deab3ced1d2b17","2007-02-24 23:41:20+00:00","Remove unneeded #includes

svn-id: r25838
"
"7f09562d081bbdfe1962e8a5811cdfdc9f2952ff","2007-02-24 23:53:35+00:00","Changed AudioStream::openStreamFile to use the modern variant of the audio stream factories (thus, the FLAC/Ogg/MP3 files it opens are not read completely into memory anymore)

svn-id: r25839
"
"21b095ce208e1816845b1c1503c0164c68caba02","2007-02-25 00:03:47+00:00","Switch to the new makeVorbisStream variant (and get rid of a File::decRef call)

svn-id: r25840
"
"9823cbe1ea724f7fbadd11676d082ce97e298078","2007-02-25 00:04:35+00:00","Added TODO: Sword1's MusicHandle::play etc. should be rewritten to take advantage of the enhanced compressed audio stream code

svn-id: r25841
"
"dd26444b72767e58b0a7b0c5c6c677af5377792f","2007-02-25 00:09:22+00:00","oops

svn-id: r25842
"
"497f7683ca4b5bddf7c1150ac69cc39b0657f476","2007-02-25 00:12:11+00:00","Another Ogg > MP3 consistency reordering, this time in the SMUSH code; also changed it to use the new compressed audio stream factories

svn-id: r25843
"
"87832481de03ee60726620b0a4f78710c077462d","2007-02-25 06:21:57+00:00","Add magic id for Apple II verison of Maniac Mansion.

svn-id: r25845
"
"19d2310b716fe01e711d23b61563fb25d025003b","2007-02-25 07:23:52+00:00","Add support for using disks images for Apple II version of Maniac Mansion.

svn-id: r25846
"
"fdc61643f4fc16213a6c76aa807f83597550ff7a","2007-02-25 07:26:41+00:00","Rename file class, since it is been used for disk images of Apple II and Commodore 64 versions now.

svn-id: r25847
"
"0c208657eea590177cd9d907dd5d4a5be41aff4e","2007-02-25 07:28:40+00:00","Remove left over debug output.

svn-id: r25848
"
"c64be322a11fd5ce2d16e1835e5a7f9f37f66d1a","2007-02-25 08:37:15+00:00","Added comment about the missing decode1 proc.

svn-id: r25849
"
"28408d8b7bc9d954cd24d98fbc10cc10323067b6","2007-02-25 11:38:19+00:00","Rename C64 engine class, since it is been used by Apple II and Commodore 64 versions now.

svn-id: r25850
"
"9383f433bd59a2f8410fdeb36808a82da67362b3","2007-02-25 11:51:20+00:00","Add German CUP demo, whichs shows several HE games.

svn-id: r25851
"
"11aafd16855a1074fd499931e4f5a1a919eac2fb","2007-02-25 14:34:21+00:00","Fix looping for enchanced soundtracks.

svn-id: r25855
"
"393478a143614d809037778cd3f43fb67e89f308","2007-02-25 14:47:51+00:00","Rename C64 file to V0 as well.

svn-id: r25856
"
"4a9e7acc2860413744169402940f9f96fcbd2fc2","2007-02-25 14:50:16+00:00","Update MSVC project files.

svn-id: r25857
"
"7287ce2a4c478a1faa2a213a8d6d974797729353","2007-02-25 18:26:33+00:00","Typo

svn-id: r25858
"
"198f32ea8ee8c432a0b348c009e5f5a0a241dc86","2007-02-25 18:35:51+00:00","Add some doxygen comments to Common::Stream

svn-id: r25859
"
"c5f5583ded3a76538edc0a0bcf117914c4d4b1a2","2007-02-25 19:01:59+00:00","added AmigaSound::playRandomPatternJungle, minor cleanup

svn-id: r25860
"
"2cbe50c5ec4812d12bf9992b713dfdef307d25e6","2007-02-25 19:08:57+00:00","Typo

svn-id: r25861
"
"4af53c56e91c41fbbb117312c0a2087f728e45a9","2007-02-25 19:10:59+00:00","changed all hard-coded filenames to uppercase, for consistency

svn-id: r25862
"
"f68105912af1337a5ffe96be2e44adedceeb0ca1","2007-02-25 19:15:00+00:00","fixed background music in catalog_cup_demo_de : only stop sfx if it was started in a previous block

svn-id: r25863
"
"7c5600724b41d4358cb4ebb1c49f204483ef249c","2007-02-25 20:12:23+00:00","got rid of ArchievedFile. Since only one single file is being read from the archives at every moment, the ArchivedFile structure used for bookkeeping is useless.

svn-id: r25864
"
"0c77177ef1d8ffc27710c5b2562069a4e3f6ed02","2007-02-25 20:18:11+00:00","oops. Forgot the very last reference.

svn-id: r25865
"
"cacff9a9f26eff5111b1f5eef3491ac406f1245d","2007-02-25 20:35:47+00:00","wrapped archive routines into a new class named Archive. File-level static variables have been made members of the new class.

svn-id: r25866
"
"420a7c5f752af9add4a3d671bf68ea1d5c1bcff4","2007-02-25 21:04:51+00:00","made Archive behave more like Common::File, preparing for inheritance

svn-id: r25867
"
"c7734857e1d9d7b9174e9b62de373fb5166ff0f6","2007-02-25 21:40:15+00:00","made Archive inherit from Common::File, added some methods to comply to interface, changed callers to exploit readByte capabilities

svn-id: r25868
"
"d74a33942410fbf6b38fc04cbb867baf659ca775","2007-02-25 22:13:38+00:00","Fix warnings

svn-id: r25869
"
"c9f652dc1fb40f87d35a3700163b5e36dc6df0dd","2007-02-25 22:17:41+00:00","made Archive inherit from SeekableReadStream instead of File since write capabilities and file handle are not needed. Implementation of SeekableReadStream virtual functions is now complete.

svn-id: r25870
"
"ca597dbf50bbc5c43a07f306e2407dd314411077","2007-02-25 22:24:11+00:00","reduced code dup, Queen::LineReader -> SeekableReadStream::readLine

svn-id: r25871
"
"04159e06227f2ef67535e72e574663ab486d14a8","2007-02-26 02:46:32+00:00","Added extra talk records needed by NPC opcode 29, which lets the script engine override an NPC's current talk record

svn-id: r25873
"
"4f8c66b4cc30a07b8a82b70e8280a931858e8175","2007-02-26 02:50:23+00:00","Added saving of the random actions set state, and implemented NPC opcode 29, which allows for an NPC to be given a custom talk record

svn-id: r25875
"
"08fc65bef91af6547a8f5bf40258b48034ca72f7","2007-02-26 07:13:54+00:00","Add demo of Waxworks.

svn-id: r25876
"
"a2a46c55d2c03e12d17eadf33f29dd04430ddcb1","2007-02-26 11:16:31+00:00","Using FLAG_AUTOFREE implies free() being called on the memory buffer you passed to the audio stream code -- hence, use malloc and not new[] to allocate the buffer

svn-id: r25877
"
"48a401d9ddccff4f93f74a08663b51fdc29d1ef3","2007-02-26 12:07:20+00:00","Removing dead code

svn-id: r25878
"
"9f9b7d96a7770c127c88fc50770797c188bfcf0c","2007-02-26 17:48:04+00:00","added gfx and code to support spacebar and escape keys in the virtual keyboard (remember, Jubanka couldn't draw if his life depended on it :-) ).
fixed (essentially added) support for the directional keys of the virtual keyboard (no idea why these were not implemented).

svn-id: r25879
"
"017c1b24f7e5f8caa870adc8e6c1989a668862f0","2007-02-26 18:09:41+00:00","support agi engine

svn-id: r25880
"
"1af4932242e637123099512e1aed80181a423687","2007-02-26 18:34:00+00:00","Fix alignment issues in wince port.
This patch/bug is closely related to the behavior shown in agos engine (see https://sourceforge.net/tracker/?func=detail&aid=1657436&group_id=37116&atid=418822).
Every time structs are used to extract data from a buffer, these structs have to be packed.
It is not OK to assume that the compiler does not pad the struct, or that it doesn't have alignment assumptions voodoo (see cited patch).

svn-id: r25881
"
"b1a12658b05f77edf2c4b03c82b3f04e1255b35f","2007-02-26 18:52:28+00:00","stop audio streams before deleting them

svn-id: r25882
"
"1c80f2ffa0d22c39fce5da342b72f890415aec8c","2007-02-26 20:32:43+00:00","calling memset to zero a buffer you are about to fill with audio data is not necessary (removing this from Gob::Snd::readBuffer); removed dead code

svn-id: r25883
"
"73188b47161462e8de10539bc64a58ee11563a84","2007-02-26 20:41:52+00:00","'Optimized' SquareWaveStream::readBuffer a bit, removed some dead code, and changed Snd::terminate to a destructor (this ensures client code can't forget to do just that -- not that we'd ever forget ... ;-)

svn-id: r25884
"
"ac719ac5fd2390bb8c5021a3222667a5b8f3383b","2007-02-26 20:44:39+00:00","More dead code; augmented note on PC speaker emulation

svn-id: r25885
"
"82adbc025debfe0aa79d9b400e08cf8adbc491c8","2007-02-26 20:50:33+00:00","some fixes for FOTAQ Amiga versions, cleanup

svn-id: r25886
"
"437bc950b67e36427d39799fd43c12ae5113286b","2007-02-26 22:38:24+00:00","Measure the 'open time' from when the pop-up dialog was first drawn, not from
when it was created. This should fix bug #1667992.

svn-id: r25887
"
"41574458fc7bbb02566a1e7041ca096d49fc8145","2007-02-26 22:56:02+00:00","Added animation handler for standard characters that can be talked to

svn-id: r25888
"
"2c7bf36af8c351e207a5e1a7e29a3e4a211d70ff","2007-02-26 23:08:52+00:00","Close sky.dnr directly after reading it into memory. No need to keep it open
until the Disk object is deleted.

svn-id: r25889
"
"235aa3376bdd164d7f1426ad7e683479283d405d","2007-02-27 11:07:59+00:00","properly support saga and cine engines

svn-id: r25893
"
"7380142071945e08c3fd2e81e5b0b9e16c284572","2007-02-27 11:47:28+00:00","Change the volume of music channel of mixer, when adjusting music volume too.

svn-id: r25894
"
"2dfea717a3854d955c7423b1cb793a90295caaea","2007-02-27 12:26:47+00:00","removing SCUMMVM_SAVEPATH from the man page (it has been deprecated for some time now)

svn-id: r25895
"
"56f65a50028e32697429edb6d5df268f1a3916ad","2007-02-27 17:10:40+00:00","fix for gradient calculation

svn-id: r25898
"
"75af37327893e9698e91a88801e9dd5289de10cf","2007-02-27 17:12:16+00:00","ops missed one spot last commit.

svn-id: r25899
"
"b2927b69c653fa0c66dbf8e3de6f0c4ac06e237a","2007-02-27 19:39:33+00:00","changed font handling:
- engine doesn't see font as a low-level Cnv anymore
- the Graphics class takes care of freeing memory on font changes

svn-id: r25900
"
"75d79f639b7e707e755b23bcbcf6841dfaa15943","2007-02-27 21:26:21+00:00","Changed 'each X mins' to 'every X mins'.

svn-id: r25901
"
"0076761fa665daaf8c4ee779a1ecff53ecc49ae2","2007-02-28 09:14:26+00:00","compress_simon -> compress_agos

svn-id: r25904
"
"551b2b6b3d6e0f4f03b9084ca495068cb52df089","2007-02-28 10:44:52+00:00","Fix for bug #1670081 -- SWORD1: game won't load (ogg compression) (regression)

svn-id: r25905
"
"6be027afaba3704d979e1905b269824630bd6708","2007-02-28 12:54:59+00:00","cleanup

svn-id: r25906
"
"dea688d0f5303e552bff8ff22798719d92ed53c1","2007-02-28 14:07:47+00:00","Fix spelling

svn-id: r25908
"
"8c8abca6f80fc63b5c11fa43319cdf56b4845660","2007-02-28 14:48:26+00:00","Changed the AppendableAudioStream code to use a queue of buffers, instead of a fixed size wrap-around memory buffer (this reduces memory usage in some cases by 500-700k, while actually being more flexible)

svn-id: r25909
"
"5e2fe7dc7fb294373e1d2907dfd48598da495777","2007-02-28 15:04:02+00:00","cleanup

svn-id: r25910
"
"61e2a9eb78ebf681a6472e81efaac65d5a373445","2007-02-28 18:25:42+00:00","Clarified some comments and moved some asserts to hopefully answer Fingolfin's
question why we always created a mono audio stream. There are other games that
use more advanced versions of the VQA format, but it seems unlikely that
ScummVM will ever support any of them.

svn-id: r25911
"
"ab605c6a4108ee9d7ded6bbd982f8e1c8f92b796","2007-02-28 21:25:05+00:00","Updated Symbian File handling to be able support AGI games, but do work due to a fluke in the AGI detection.

svn-id: r25912
"
"6ee03e91c7825667b3ed124cc2b61b4783e79581","2007-03-01 13:51:04+00:00","Rephrased a comment a bit

svn-id: r25914
"
"16015aaa3b490a50dd2115cbbf90c273dc7e4c32","2007-03-01 14:41:40+00:00","Repaired the pathfinding in Bargon Attack

svn-id: r25915
"
"8466221fced5d1c7956d4d221661e19d6ccd5d99","2007-03-01 17:04:50+00:00","Simplify code a bit -- got rid of File::incRef usage, an unnecessary member var, fixed a potential memory leak (if all channels are in use), and fixed a potential OOB error (if stopSound(-1) was called)

svn-id: r25916
"
"4203819b39d484a74da0ccbbb86e28989328bd80","2007-03-01 17:13:23+00:00","Got rid of another use of File::incRef/decRef

svn-id: r25917
"
"c489be38d6c9a1297ff6feab8981c758887e9708","2007-03-01 17:15:26+00:00","Removed obsolete 'if' (resp. replaced it by an assert)

svn-id: r25918
"
"45bf5749280ddf1530d11d19b34b11768eb0dbb6","2007-03-01 17:22:30+00:00","Get rid of the last two usages of File::incRef/decRef

svn-id: r25919
"
"4efda86d7a50af49914604e6d215e61f1319d95a","2007-03-01 17:25:49+00:00","Removed File::incRef and decRef

svn-id: r25920
"
"65bb902be931a510181c50cc85402cb70359d4e7","2007-03-02 11:37:42+00:00","- Fixed the actor freeze issue in the garage in Bargon Attack
- Some minor fixes

svn-id: r25921
"
"b9658b5960e006db0b1c99095f54b155979ce55e","2007-03-02 12:57:38+00:00","Do not use addDefaultDirectoryRecursive to add 'path', rather use the non-recurseive addDefaultDirectory (see also bug #1672098)

svn-id: r25922
"
"c2dbd22692f3135252676f1aad4f0c3057b3f1bc","2007-03-02 14:49:07+00:00","Added reverseStereo parameter to Mixer::playInputStream; changed Mixer::playRaw to use Mixer::playInputStream

svn-id: r25923
"
"8ab81824abad92269300a1647982dacb216bd68c","2007-03-02 15:21:34+00:00","Fix bug #1667806: 'GOB: wrong detection'

svn-id: r25924
"
"d8cf10926b27c86e13755b0132fca4de6931f86c","2007-03-02 15:22:38+00:00","Added a warning that the mixer FLAG_ enum should not be messed with, lest iMuseDigital saves will break

svn-id: r25925
"
"029b8c43238ab363bcc1c518b3c4de312b240ae1","2007-03-02 15:26:22+00:00","Changed the order of the parameters of makeLinearInputStream to resemble Mixer::playRaw; also made makeLinearInputStream honor FLAG_LOOP (and for this, changed its loop related params slightly)

svn-id: r25926
"
"cfe86c096d6b4823f9489f2fedc928163b0b4c09","2007-03-02 15:34:22+00:00","cleanup

svn-id: r25927
"
"cee6c45be62d13f2e9deaea0e18df9f530553c2e","2007-03-02 17:30:29+00:00","Applied my own patch #1672572, after discussing it with Fingolfin. We no longer
store mixer flags in our savegames. Instead, we store different flags which
just happen to have the exact same values as the mixer flags have right now.
This should keep savegames working even if the mixer flags ever change.

svn-id: r25928
"
"200bb41bfd3b32b82f6e42f7eb69a345767b04a4","2007-03-02 17:49:08+00:00","Updated comment

svn-id: r25929
"
"94aed388a78fa1f8985d7aa5dc6f1683b10364d1","2007-03-02 21:46:54+00:00","corrected error message

svn-id: r25930
"
"1af82583251dec13e8b2672aec0e69ae4137b9fb","2007-03-02 21:47:35+00:00","added openTalk as loader for talk resources

svn-id: r25931
"
"43f802ef5f36dd2e2c4cf7e23d58242a758489f7","2007-03-02 21:50:36+00:00","oops forgot to add file

svn-id: r25932
"
"f124c22bc5aef464e6e3db7ef6b22cf3cd1ae05e","2007-03-02 22:02:19+00:00","added openLocation as loader for location scripts resources

svn-id: r25933
"
"0c39e0e3dbf279bfd04ce4e4566c7a32bd3af679","2007-03-02 22:12:57+00:00","replaced calls to loadExternalStaticCnv with separate loaders for Head and Pointer resources

svn-id: r25934
"
"c122d83c0eacbb0570a0cbbc6aaaeace1f677786","2007-03-02 22:18:37+00:00","changed every font name to be platform independent, added font loader routine

svn-id: r25935
"
"02d4001f578c72cd23d22dfd9d10c5e37d151737","2007-03-02 22:23:02+00:00","added inventory objects loader routine

svn-id: r25936
"
"753d83f9465fb07f30480d72534f011e3f7eaba8","2007-03-02 22:26:39+00:00","enforced convention on loader names: load[ItemType]

svn-id: r25937
"
"4c2687e9c7cac7de10e2191b7bf03f562a1d579c","2007-03-02 22:34:12+00:00","added Script loader routine

svn-id: r25938
"
"9267e85c163a50e8c20ed8a3fad8b129a2a33813","2007-03-02 22:55:46+00:00","fix broken build

svn-id: r25939
"
"6d958e9f30db6c89517d078815d7332dbbb4aa22","2007-03-02 23:13:13+00:00","added loaders for static images like pickable items and for characters frames

svn-id: r25940
"
"370c07f9253634b6f6c647768bec62c518aeb65c","2007-03-02 23:47:49+00:00","added other code differences for Amiga FOTAQ versions, full game is now completable under ScummVM

svn-id: r25941
"
"30a7825b840fc367c018eddae13fb6645b36a736","2007-03-02 23:48:29+00:00","mention FOTAQ amiga versions support

svn-id: r25942
"
"4a1039fbc66999d20d8c305ea62dc245f9c6f231","2007-03-02 23:53:20+00:00","Updated the BS1 music code to use the new looping feature in our MP3/Ogg decoders

svn-id: r25943
"
"77aa551722288cb0a8f45a70cc46057e9339b87f","2007-03-02 23:57:37+00:00","only request the user to update the queen.tbl if the game she/he's trying to play really *requires* it.

svn-id: r25944
"
"d6211151a9c6f96bc19041ffd9fb4b3386861dd1","2007-03-03 00:17:26+00:00","Removed obsolete code

svn-id: r25946
"
"1dce0b18d9c6d8eb62621cb22a7a8f60a5070175","2007-03-03 09:39:08+00:00","corrected parsing of LOCATION command

svn-id: r25947
"
"c15310920a8a8899289366c12873cda7c2f80989","2007-03-03 10:01:43+00:00","loadBackground simplified: palette cycling is still broken, though

svn-id: r25948
"
"84d2c1782f0a4c31fd8a75eb075ecbc5515d2c50","2007-03-03 10:10:46+00:00","removed common-case code from loadBackground

svn-id: r25949
"
"b0fea397ab22e3956106a3429994d794686d17e7","2007-03-03 12:59:48+00:00","Allow PC Engine version of Loom to at least start up.

svn-id: r25951
"
"4ec8c6ca4378a4148969b6004d8f950d848a31a3","2007-03-03 13:19:22+00:00","Correct feature flags for the PC Engine version of Loom.

svn-id: r25952
"
"5cee9799f1f0684ac0947be7a1747021435148ba","2007-03-03 18:36:05+00:00","Updated Icons for UIQ3 and updated #defs and fix for scalers.

svn-id: r25953
"
"8e70329ce3d550a621843ffc055e416797e6054d","2007-03-03 23:02:54+00:00","Fix level selection in PC Engine version of Loom.

svn-id: r25954
"
"ecd4d80de3e370ce9085541f8d2b88480b7b8293","2007-03-04 00:16:22+00:00","Fix regression in Commodore 64 version of Zak McKracken.

svn-id: r25955
"
"69b8d7240aa90a029d9b366ff1a8533f7c91fd87","2007-03-04 00:18:49+00:00","Removed obsolete comment

svn-id: r25956
"
"d1d55795497e58c2d693c278dab40d42038a72e5","2007-03-04 00:44:04+00:00","Fix script error in PC Engine version of Loom.

svn-id: r25958
"
"41136e552f29de5d6950a93cee9fd7eb1352ea94","2007-03-04 01:04:31+00:00","Fix regression in Commodore 64 version of Zak McKracken.

svn-id: r25959
"
"8da557fbd55cd48a3420e36a2fc1626dfe0b80b0","2007-03-04 04:26:20+00:00","Correct image offsets, for PC Engine version of Loom.

svn-id: r25960
"
"c727205dae3df732413ce09339ab218c90ccd9ad","2007-03-04 08:58:23+00:00","replaced memAlloc/memFree with standard malloc/free

svn-id: r25962
"
"8e7b556e997ebe1874589003a971eff7579e496e","2007-03-04 09:20:03+00:00","moved platform-dependant resource loading routines into disk.cpp

svn-id: r25964
"
"b25c7933a5dff6a63f595d136fcbec9fbe195af2","2007-03-04 09:27:28+00:00","Paranoia: a hashmap node must never ever change its key after its creation

svn-id: r25965
"
"5f295016ddadec9c36af20120446a110b5f59ff4","2007-03-04 09:41:58+00:00","Avoid crash in Engine_SCUMM_create when an inconsistent platform override is present

svn-id: r25966
"
"43cd4283559f556cfd1268d7b95bbf2a35a64c21","2007-03-04 09:58:04+00:00","Some HashMap cleanup:
* Removed the odd return value of method erase()
* Stopped erase() from leaking (oops!)
* Added a (paranoia) consistency check to assign()

svn-id: r25967
"
"c5e848fb3282da26c2f7be59d244a0cc65d267bc","2007-03-04 10:57:30+00:00","moved background loading into disk.cpp

svn-id: r25968
"
"696b080f633c6dd4c3e878e275efdf292e78b6dd","2007-03-04 11:03:27+00:00","separated slide from scenery loading to take care of filename aliases

svn-id: r25969
"
"61fe32066bd76ae284fe55c0db1b91cade40f427","2007-03-04 11:10:55+00:00","hid mask and path loading details from the engine, so it is now independent from background management

svn-id: r25970
"
"826b16ef714a228c8908b0f312cf342ee1216dfd","2007-03-04 12:55:25+00:00","no more overloading for loadBackground

svn-id: r25971
"
"b440bc1a0357503c6edec22ea1182613040de41c","2007-03-04 13:27:29+00:00","wrapped loader routines into a new class named Disk. The new class is also responsible for handling Archives in place of the Parallaction engine.

svn-id: r25972
"
"1eb2d6f6253c578735da81a6e7671ae7773d05e0","2007-03-04 15:00:50+00:00","made Script optionally take ownership and dispose input text

svn-id: r25973
"
"1c00cc5dc56329debd2d3e3538155f097e96756c","2007-03-04 15:05:17+00:00","Work around bad characters in 'Long live King Brandon!' string in FM-Towns version. (thanks to Florian Kagerer)

svn-id: r25974
"
"20da7f80f1765bc4b2adb685cde76377ccbb0350","2007-03-04 15:09:45+00:00","made loadScript and loadLocation benefit from Script's ability to dispose of its input buffer

svn-id: r25976
"
"2a871cfef20d1a55abea1be090ed6473f43019e0","2007-03-04 15:34:58+00:00","- Some minor fixes
- Added the Gob2 Mac version fac76 reported in bug #1673397

svn-id: r25977
"
"43625ecc3adf4385f913c56eedf0d735b2e66247","2007-03-04 15:45:51+00:00","Remove wrong gob2 Mac entry.

svn-id: r25978
"
"80fd9d82341c800535151ff32ecacb2d197ce5ca","2007-03-04 16:05:56+00:00","Adding comment again.

svn-id: r25979
"
"8a80e2284a0c9a19216d526cb39cd0531f241c1b","2007-03-04 16:25:27+00:00","Removing _ptrOrig (hi Torbjorn, have fun recompiling)

svn-id: r25980
"
"62d1f780d5004bf9d02a877783902ae455261f53","2007-03-04 20:12:55+00:00","fixed regression: background used to get broken when items were picked up

svn-id: r25981
"
"2560c5d76b6637f02c6a80674118194260c37629","2007-03-04 23:24:17+00:00","Correct football2002 demo placement

svn-id: r25988
"
"190e32725217b5328d154398fc1a9329a41a48a6","2007-03-05 11:26:50+00:00","Fixed the cursor hotspots

svn-id: r25990
"
"693d47450203695eb55ac6e55e438c84502cdb9f","2007-03-05 11:27:18+00:00","Corrected the initial drawing position of 101-anims (e.g. the guard monster in the beach screen in Bargon Attack)

svn-id: r25991
"
"bccf93108c67cff951aac689f8df24a08c93ad05","2007-03-05 16:42:58+00:00","Updated credits.pl to add a XML header/DTD to credits.xml

svn-id: r25994
"
"a0d5795ee19200f459e2638de53a1a5399994b18","2007-03-06 07:09:18+00:00","Add support for the New Kid verb option in Apple II and Commodore 64 verisons of Maniac Mansion.

svn-id: r25999
"
"ace739eafb318b2fc0c84c99ac087ba0f29b3b7f","2007-03-06 07:13:22+00:00","Fix regression in V0 versions of Maniac Mansion, when using extracted files.

svn-id: r26000
"
"f3c6f899d1ed029159151d5601bc5c60ceb8961d","2007-03-06 08:20:47+00:00","Added extra animation entries needed for Blacksmith

svn-id: r26001
"
"c4260e7d8fd532dca6fba734caacaf3d8f2833b8","2007-03-06 08:24:52+00:00","Added support for Blacksmith's hammering animation and added Morkus' animation handler

svn-id: r26003
"
"4730229dffc12a0e126b0b212fa9ce8aab6170ca","2007-03-06 09:21:41+00:00","Add F1 - F3 keys for Apple II and Commodore 64 verisons of Maniac Mansion.

svn-id: r26004
"
"1b62aeee07ab67d0608ed959d82adcd2fc4536a8","2007-03-06 20:21:08+00:00","Updated Feeble File CAB comment

svn-id: r26005
"
"1fe635c37935c361a29c3ee794811babd812237b","2007-03-06 22:47:56+00:00","Unshield can't handle the data compression type used by the data1.cab file of The Feeble Files.

svn-id: r26006
"
"5c1732af4d66c99cccd1d9593fbfc6c2fb2dbb1c","2007-03-07 00:46:20+00:00","Add another version of Backyard Football2002.

svn-id: r26007
"
"71cc080fc5c7cf972a6c191cdd29aaf44a223bbb","2007-03-07 19:57:24+00:00","Fixed the crash in the interlude before the last level in the Gobliiins CD-version

svn-id: r26009
"
"305a1525edd5b8c0841806f8e6d023bca5a2a85e","2007-03-07 20:31:19+00:00","- cleanup
- some diffs for Amiga version

svn-id: r26010
"
"47bac09b092c4f4bf4791161cfc25011ffa6fe87","2007-03-07 22:38:21+00:00","News about supporting Ween and Bargon

svn-id: r26013
"
"bcb3c27d589ab590e39f2f881633a9b3df2a324d","2007-03-07 22:41:20+00:00","Oh, apparently, all other items have a '.' after them, so adding that to Ween and Bargon, too

svn-id: r26014
"
"f02802531eafff96871291f41d068fbfb8f24d6a","2007-03-08 15:02:13+00:00","Turning FilesystemNode comment into a doxygen comment

svn-id: r26015
"
"33a4f8c378ed5868a4343114d47649d11cf75ac0","2007-03-08 16:43:33+00:00","Changed ConfigManager to use class File instead of std C I/O to write the config file

svn-id: r26016
"
"743698da6ecb1b27f9fd3ee0c808c7d64f4ff535","2007-03-08 16:46:02+00:00","Changed File::_handle to be of type void* instead of FILE* (to ease porting); moved PS2 std C I/O defines to file.cpp (no code other than the file & savegame code should use fopen etc. directly)

svn-id: r26017
"
"89095f10a803032cc5aeda96e55b6ecfdd7cd679","2007-03-08 16:49:58+00:00","Removed redundant code from gba_nds_fat.h (for some bizarre reason, the data in this file was present twice)

svn-id: r26018
"
"273480d49253cc5a353a76a46da635aaeb779b8c","2007-03-08 16:53:30+00:00","Removed MAX_FILENAME_LENGTH workaround (using enum's instead of #defines means we can take advantage of namespaces)

svn-id: r26019
"
"47bc9aae19190b66af0cf66c19f6f664cdb9cde0","2007-03-08 16:57:14+00:00","Moving Nintendo DS std C I/O emulation wrappers to common/file.cpp; also add a FIXME comment (why is assert redefined in ds-fs.h ?)

svn-id: r26020
"
"68df0a697af1afb9af4e6c8737087678917d8ad3","2007-03-08 17:05:58+00:00","Get rid of getcwd abuse here, and unify the way savepath, extrapath and themepath are handled

svn-id: r26021
"
"8778f121e2330b5025755ddc57077a5b87fc3693","2007-03-08 17:23:19+00:00","Replaced uses of fprintf() with warning() or error()

svn-id: r26022
"
"d19adc0514d8a43f3a233649595c636d5c38b3d5","2007-03-08 17:36:52+00:00","common/util.cpp needs fprintf; various std I/O functions are not used by anything in our code, so there is no need to emulate them -- mark these; my previous commits likely broke compilation of the DS backend, try to reduce the brokeness a bit

svn-id: r26023
"
"a63c1cf3bdb512fda51bd837801ff9481a7f0ecc","2007-03-08 17:38:11+00:00","Moved the printf #define for the NDS into scummsys.h (not sure if that suits your needs Neil, feel free to change it again if necessary)

svn-id: r26024
"
"948213d5a0c2e69b2df7a61d3899443c309ffeb8","2007-03-08 20:07:27+00:00","deleted useless code

svn-id: r26025
"
"eeda548204e78e7bde38396e7de094b75aed6931","2007-03-08 20:42:40+00:00","Explicitly #include fcntl.h and unistd.h for the open/write/close syscalls

svn-id: r26026
"
"783a6d7d59f8a96e21d7bed2c5111969a366f1da","2007-03-08 20:44:43+00:00","Fixed const issue (casting const to non-const)

svn-id: r26027
"
"c09f86fb6a5d2083824b651e132f25163a6bc7e3","2007-03-08 21:08:23+00:00","Clarified some comments

svn-id: r26028
"
"ee664dc62de708b2f005adcaa48c8f9cbddfb57e","2007-03-08 21:33:55+00:00","added a flag to enable/disable printing a warning when filename based detection find a match, also updated some comments.

svn-id: r26029
"
"20fb62de3aa853316286c4d10deaf6dcdbd0a48a","2007-03-08 21:34:35+00:00","Removed the localized titles in Touche game descriptions, that didn't work really well and this wasn't really consistent with other engines. Also added fallback detection so that an unknown game can be started (as my original code did before switching to AdvDetector).

svn-id: r26030
"
"fa6a35f9b146d7a8a775fc7fa1cd594302e80389","2007-03-08 21:40:21+00:00","cleaned up stdafx.h, removing various unnecessary #includes (there are still some windows ones which look fishy, though)

svn-id: r26031
"
"801771db87bdb1298652d19291b6a658f3fdd6b6","2007-03-08 21:40:47+00:00","removed kADFlagFilebasedFallback, this flag is never used (and filename based detection is done if fileBasedFallback is non-0 anyway)

svn-id: r26032
"
"a3c2c1f413049fd9d0e92f89b37b37755b6b5105","2007-03-08 22:15:20+00:00","Since the amiga version handle music very differently than the PC version, the existing Music and MusicPlayer classes have been merged to a single MidiMusic class, simplifying code a bit.

svn-id: r26033
"
"1e985051a9b24eb8efaca590d59b5e95aec600d9","2007-03-09 00:13:07+00:00","reduced dependency from windows-specific header files

svn-id: r26034
"
"6b348c03d567879dbd00d35d36c1bbaef2ad90f0","2007-03-09 00:29:38+00:00","Revised LogicHErace::op_1140 (the two multiplications by constants still baffle me, but at least it makes some sense now, and corrects the worst bugs in that func)

svn-id: r26035
"
"37af88c8c4ec64cacd195f0568de859fea40d898","2007-03-09 00:34:28+00:00","Some cleanup, and added some of my observation (man this code is really strange)

svn-id: r26036
"
"6f56443e561547a4a14fecc83735d4716bab4128","2007-03-09 00:48:45+00:00","Some more LogicHE cleanup

svn-id: r26037
"
"7a10fa72836b9511ee079e28755d30a4dc3c189a","2007-03-09 01:11:55+00:00","Some more LogicHE cleanup

svn-id: r26038
"
"6d9cb5498f5357e27098cc68c6c33076cbee654f","2007-03-09 16:19:50+00:00","Avoid double frees in HashMap::erase

svn-id: r26040
"
"5d4b05a5ed3f6ed5d77795b4b652b27725da0a9b","2007-03-09 19:25:37+00:00","added comments suggesting possible formulas for hardcoded float values

svn-id: r26041
"
"3b09bc6c00578810763a04e8251cc075972d2ff7","2007-03-09 22:18:58+00:00","Updated fraction values

svn-id: r26042
"
"e8e33e8077194e19b3a019958cface772bec656f","2007-03-09 22:31:27+00:00","Some more fraction data & an optimized formula (I still have no clue what that tries to compute, though :)

svn-id: r26043
"
"728d01cb1788a24383c0ffabba6428e35ba88148","2007-03-09 23:46:45+00:00","Removing some unnecessary #includes

svn-id: r26044
"
"aba0cd04d667ed9aa177e485518f63ed4429c990","2007-03-10 00:34:20+00:00","SCUMM: got rid of the _bompActorPalettePtr member var (which was only used as a hidden param to drawBomp); turned drawBomp into a regular function (used to be a ScummEngine member method)

svn-id: r26045
"
"a13c664bc7630c05337c8de67dd1ab53cc2481fa","2007-03-10 02:49:23+00:00","Add details for Backyard Basketball.

svn-id: r26046
"
"dbcf7fb0030faf37cd0ccc09e53c8bc86d525c4c","2007-03-10 03:17:09+00:00","Correct name as request.

svn-id: r26048
"
"c7ce7ec614213f5d30d02b08bd98da8947b9dc32","2007-03-10 11:16:16+00:00","Fixed error handling: we count the command itself in argc, and returning false
means 'close the debug console' which probably isn't what we want.

svn-id: r26050
"
"cd366dd78cd6d1ee65f8dc82cb9287b5eeed33d0","2007-03-10 13:05:13+00:00","got rid of calls to close() since streams and archives clean after themselves

svn-id: r26051
"
"fc9af6a307e56cd556af69f0492b5987df0a5b64","2007-03-10 13:05:26+00:00","SCUMM: Must reset useBompPalette in the AKOS renderer

svn-id: r26052
"
"d3497eee38d393e4c4806e18771bb21b5c07def6","2007-03-10 13:20:30+00:00","Update MSVC8 project

svn-id: r26053
"
"bb91c3a3ad1b798ba8cf549a602ebf5b001c2def","2007-03-10 13:26:39+00:00","SCUMM: some more AKOS cleanup & added comments

svn-id: r26054
"
"669c34d8c280650fc07871b8556119c57a83ccda","2007-03-10 13:30:15+00:00","added Code::Blocks projects and workspace

svn-id: r26055
"
"5577379ac3d163c62d319a80f6749c9342401a01","2007-03-10 13:39:38+00:00","Implement FR #1559561: 'GUI: output sample rate widgets'

svn-id: r26056
"
"f3e970f5b7df962320390e3b92c493351f550715","2007-03-10 13:53:11+00:00","SCUMM: Renamed ActorOldWalk to Actor_v3, added new subclass Actor_v2

svn-id: r26057
"
"6ee9e52f4b1c1481a88d1285f8e5c53e33939255","2007-03-10 14:15:47+00:00","Move mass add dialog settings to theme config. Bump theme ini version.

svn-id: r26058
"
"479c8bdc18080e1d39740fc151bcb88628382a5a","2007-03-10 14:52:33+00:00","character loading/freeing routines now also handle Heads and Talks, instead of having scattered code around

svn-id: r26059
"
"bff3c5658a7d7dc1f4861b55ce6522cd70d8caf8","2007-03-10 14:59:26+00:00","Update MSVC8 project

svn-id: r26060
"
"477372de61605c4e47a3f6d4cd0f6d3d25dd5a61","2007-03-10 15:00:56+00:00","Shut useless MSVC8 warning. We use pack-start.h and pack-end.h and it
complained that alignment state changed after #include. I.e. exactly what
we wanted to do.

svn-id: r26061
"
"9b0bf64448fe5c053f73befe97a12c3193f5fd1b","2007-03-10 15:02:39+00:00","Silence MSVC8 warnings.

svn-id: r26062
"
"06c2976fa08897b6d81eb702b349a343597d02d4","2007-03-10 15:04:06+00:00","More fixes for MSVC8 warnings.

svn-id: r26063
"
"8d4e8adef3bc2f51d0cd64038bc7dca46d7dd402","2007-03-10 17:39:27+00:00","Let the mixer worry about converting mono to stereo.

svn-id: r26065
"
"d7e9510265aefd0e4085f95f07619af9a37dc1ba","2007-03-10 18:25:37+00:00","Updated the conditions for the 'override' checkboxes. Most of it is probably
only noticeable if you edit the config file manually, but the volume settings
should definitely affect the Audio override if there is no separate Volume tab.

svn-id: r26066
"
"344e9ba5a811620b3da80a5cb58ee0f14827643b","2007-03-10 19:09:20+00:00","typo

svn-id: r26067
"
"c80c3e3b3bb3f8ffcb03f1d355928aaca254465e","2007-03-10 21:23:22+00:00","more robust font management

svn-id: r26068
"
"84a5f0f8279598ae326e4f92090afde1bd830938","2007-03-10 21:25:18+00:00","fixed regression: head and talks are now loaded only for real characters, i.e. no dummies used for slide transitions

svn-id: r26069
"
"21f4d2f818e686dfdf2ca49f3a86815ded62254e","2007-03-10 21:31:22+00:00","fixed old reimplementation bug

svn-id: r26070
"
"096579ecbcd20e14bb01b2180f295229ba3d3387","2007-03-10 21:31:59+00:00","commented nasty hack in the original code

svn-id: r26071
"
"72ef7093fa98618f54d5a1961f5f313d6a23e5d0","2007-03-10 22:13:47+00:00","some refactoring

svn-id: r26072
"
"4e5aa19f7479d6268a3a961e1d13d96a9aa155ff","2007-03-10 22:49:19+00:00","fix warning

svn-id: r26073
"
"93d910bf2d58ec56877a065464cd4723e7287cb4","2007-03-10 22:55:09+00:00","simplified character mode handling

svn-id: r26074
"
"08cc2e4b274a28fd298c063fe120103549edbe90","2007-03-10 22:56:32+00:00","changed kEngineMiniDonna to a more appropriate kEngineTransformedDonna

svn-id: r26075
"
"7d03e1ebf48b7f32cedf64c2679a7258630e6c62","2007-03-11 00:04:50+00:00","more refactoring

svn-id: r26076
"
"7c05225f0d8f2a904b7842a12ae7eac169ad6000","2007-03-11 00:06:14+00:00","cleanup

svn-id: r26077
"
"23b7c2aec544411ba8d8041c83eba6d74a9e3155","2007-03-11 01:06:54+00:00","should stop Q's Visual Studio from complaining

svn-id: r26079
"
"f17cd6a577cada1c87c6e40671d638813811d5f5","2007-03-11 10:50:52+00:00","some refactoring for music management

svn-id: r26080
"
"555d3ed3170667ef04c43bf57ac7ce0f7f51fe8d","2007-03-11 11:11:05+00:00","added comment to changeLocation

svn-id: r26081
"
"61690d4daf0aeb468c17581ab3c207089dc5c660","2007-03-11 11:23:40+00:00","Updated actions for symbian OS, memory limits for S60.

svn-id: r26082
"
"06434f6eef88850f3a67e12b044af52225d5c72f","2007-03-11 13:01:11+00:00","some simplification for changeLocation

svn-id: r26083
"
"981d11dcfdae5efc03f1139523faa451375f7b25","2007-03-11 13:43:17+00:00","changed changeLocation to use StringList instead of multiple nested if's

svn-id: r26084
"
"3b5c330cef5d728b10893e40474c47142b57e83e","2007-03-11 14:14:08+00:00","wrapped active location data into a new structure

svn-id: r26085
"
"39fdacf1fd5bed4b6365196556c273e4047a103d","2007-03-11 14:16:43+00:00","fixed bug: now considering Array's ability to shift values when removing elements

svn-id: r26086
"
"e8c941c1280005d53e97a5b43a266c13ad62ddd4","2007-03-11 14:28:03+00:00","Added shared filed support using native file APIs.

svn-id: r26087
"
"b4b3233cb84740638223dd3362515c10a29f1698","2007-03-11 14:51:02+00:00","Fixed '+' mode handling in symbian_fopen (at least this looks to me like it should be, I'm sorry if I got it wrong).

svn-id: r26088
"
"a1b5d998351b97f3c2a5089c043edb5236140a94","2007-03-11 15:10:45+00:00","removed some dead code and formatting

svn-id: r26089
"
"b07482b0b2b7de21c1759aeefb5c489f72be123c","2007-03-11 15:23:50+00:00","A long time ago, in a virtual machine far, far away...

It is a period of bug fixing. Rebel
developers, coding from a public
project, have won their umpteenth victory
against the evil Actor Walk Bugs.

During the debugging, programmers
used secret plans to the LucasArts'
ultimate tool, the SCUMM engine, an
extensible scripting system with enough
power to create an entire adventure.

Pursued by ensuing sinister regressions,
High King Fingolfin gleefully jumps up
and down, making use of the hotkey
that can save his games and restore
them back again later....

[With apologies to George Lucas. Good
riddance to bugs #751662, #771483, #959001,
#1329457, #1329498, #1329529, #1527672,
#1538260, #1571701, #1571705, #1571740,
and a warm welcome to the regressions
this change will cause. :-) ]

svn-id: r26090
"
"29d94a99a5b1a8cb2bbc9a5afd301617e055ea8f","2007-03-11 15:27:24+00:00","Updated NEWS slightly

svn-id: r26091
"
"20fce9c87ed1f4682702d92b4b9d5449ef4b9769","2007-03-11 15:37:27+00:00","Adding extra wbits is not supported by all versions of zlib. If they should be present, please indicate which version of zlib that is required for correct operation.

svn-id: r26092
"
"319a1c9b657b46cd7b79a6669939ec59ce352281","2007-03-11 16:00:38+00:00","Reenabled window bit flags for automatica gzip header detection, and documented which zlib version introduced the feature. Also enforce that zlib version

svn-id: r26093
"
"63ae591e5ffcb49986853b257b0ac24d6ade12c9","2007-03-11 16:53:20+00:00","Disk is now completely responsible for retrieving localized location scripts

svn-id: r26094
"
"67235982962efa11da8d71432fb7ec09945db224","2007-03-11 16:54:39+00:00","fixed bug: loading a game from the start menu doesn't lead to a crash anymore

svn-id: r26095
"
"e9190ba9772efc0dbeef6e4887908dabb24c9227","2007-03-11 17:01:41+00:00","oops

svn-id: r26096
"
"29703c2d4fe9874b6884b25642afd8d2dceb50af","2007-03-11 19:02:18+00:00","Added the French Atari ST Bargon Attack reported in the forums

svn-id: r26097
"
"b12db776207be221991a47dd9dd47f701a67039d","2007-03-12 08:43:13+00:00","Patch #1678264: 'AGI: Extending the number of save slots'

svn-id: r26098
"
"d0ccb0ea19ba36b64e6394531861344f116a0206","2007-03-12 09:21:30+00:00","overall revision of selectCharacter (protection code) to remove usage of StaticCnv::_data2 and some slight bug fixing

svn-id: r26099
"
"f1984bdeaed94e607b069a16567ba4b82c4319b1","2007-03-12 10:16:38+00:00","Remove warning, logic code for soccer games is incomplete.

svn-id: r26100
"
"f47670f5a38a3e32a56e94c9a67084cdeff87d48","2007-03-12 12:11:59+00:00","Get rid of initActorClass

svn-id: r26101
"
"b3a14c635740b1516d0dd409da99ebd81b2a575e","2007-03-12 12:16:41+00:00","Fix a discrepancy between our V3 walking code and disasm (besides, using destbox instead of curbox was illogical, too)

svn-id: r26102
"
"32ebf26b7c0c950fc16c68f9051b9ee27675864b","2007-03-12 12:46:57+00:00","Removed old and undocumented workaround for good, it was apparently made in reaction bug #478644, and is indeed for the same issue as the following workaround

svn-id: r26103
"
"9fcd50650ca2d2e428dfc0faf7862ce3cd67de7a","2007-03-12 13:28:01+00:00","Removing this old workaround: It no longer works, and causes an infinite loop. Am working on a new workaround/fix

svn-id: r26104
"
"5771a9c730a9a75f4fe2660a3dbfb79ff3d8ed31","2007-03-12 19:19:30+00:00","Some usability improvements to the save/load dialog: The scrollbar uses the
top/bottom position only when the first/last slot is in view, save slots are
numbered, and when saving over an old savegame, the description input field is
pre-filled with the old description.

That last one is particularly useful if you save to the same slot repeatedly
while doing something insanely dangerous like, say, walking from one side of
the screen to the other. ('Almost there... almost there... oops.')

svn-id: r26105
"
"4c82e3ac239d946db9eac80a2736f88094062d35","2007-03-12 19:53:36+00:00","Special filehandling for Symbian OS not needed in smushplayer anymore.

svn-id: r26106
"
"afc35317f743aa3e092a21619278afa99062fe3d","2007-03-12 19:58:10+00:00","The only uses for StaticCnv::_data2 were by Get and Door zones, so a new field has been added to those structure and _data2 has been deleted. Some graphic routines has been renamed to better reflect this change, too.

svn-id: r26107
"
"77855d5b4183996343c45ea1bf6424a9dbdf4c62","2007-03-12 20:08:52+00:00","got rid of remaining uses of kBit3 in Menu

svn-id: r26108
"
"b9a54d55a6391520c6886bd44fecbd73828a9289","2007-03-12 20:13:07+00:00","Added mapping from '/' to '\' since Symbian OS does n't support mixed mode (\ and / in the same filename).

svn-id: r26109
"
"6f0dda093a11601085bf09deefd1ff67183f0671","2007-03-12 20:41:25+00:00","renamed Graphics class to Gfx and Parallaction::_graphics to Parallaction::_gfx to shorten lines and avoid aliasing with framework's Graphics

svn-id: r26111
"
"39cbdc7a31600c091da80d5f072637b006985984","2007-03-12 20:42:28+00:00","Add support for Amiga static data resources.

svn-id: r26112
"
"689ea77c0d8be927d2d5c9874239e444267a4999","2007-03-12 20:43:56+00:00","WIP code for Amiga version:
- Font displaying is not yet supported.
- Intro should be glitch free
- all other things are *untested*

svn-id: r26113
"
"30e975f9db056cd58728ebdc79689e41eb27f1d1","2007-03-12 22:34:29+00:00","Protect Array<> and HashMap<> instances against self assignments

svn-id: r26115
"
"cf816f54d9bb8ca826d0950e165a99d732355a86","2007-03-12 22:45:50+00:00","removed useless routines (maybe leftovers from the amiga conversion)

svn-id: r26116
"
"88ed62270220560081c7b127e2afc6506a69adc5","2007-03-12 22:52:27+00:00","moved background path buffer management into walk.cpp

svn-id: r26117
"
"594296c3e375279fdb2b05afd20e6c66bc1a925b","2007-03-12 22:54:04+00:00","oops forgot to add a file

svn-id: r26118
"
"1e8047a5d221cb9328bfa13efa9460d51d3bfdc4","2007-03-12 23:03:30+00:00","Fix xmap regression, when drawing wiz images.

svn-id: r26119
"
"753c13111ccc5f133ed75a94d640529ea3d5bcc4","2007-03-12 23:13:33+00:00","Restore flipping code for raw wiz images, which was lost in revision 24860.

svn-id: r26120
"
"33093f3452e0dc1a5e6449ee5fa3ab3459832817","2007-03-13 19:59:45+00:00","made hi-level graphics routine use Common::Rect instead of (x,y,w,h) t-uples

svn-id: r26121
"
"3346e270ba59b4673c540345c1de54bf1939031b","2007-03-13 20:08:31+00:00","cleanup

svn-id: r26122
"
"2ad8d7015250d5c8c8db69bbf93e1e1447f6da99","2007-03-13 20:41:40+00:00","Moved inventory surface management into inventory.cpp, thus removing Graphics::kBit3. Some duplicated code now exists in graphics.cpp and inventory.cpp.

svn-id: r26123
"
"b0a7abb18654cf43c8672718b924df0c604cf438","2007-03-13 20:42:11+00:00","removed pointless dependencies

svn-id: r26124
"
"dbca9d0c4787eae76846c738e4a958a97bd860bd","2007-03-13 20:47:11+00:00","Updated Symbian Actions for proper ITE menu key.

svn-id: r26125
"
"922c0a7ea0a47eb8a6445866b1ef6c84ccb65337","2007-03-13 20:47:59+00:00","removed special case of Graphics::copyRect in favor of more general code

svn-id: r26126
"
"f447d9d38fc5676db08757819cfdbde0279601ab","2007-03-13 22:31:55+00:00","Remove debugger hack for Symbian OS!

svn-id: r26127
"
"b1abd5e6ca4b6166406d5e003e9f7dedeaa7dd56","2007-03-13 23:30:36+00:00","enforced use of Common::Rect on all graphic routines

svn-id: r26128
"
"68a6598fe3ced6609a4f6e873be0f07f037e4895","2007-03-14 10:46:41+00:00","Patch #1680268: 'MSVC 7.1 project files update'

svn-id: r26129
"
"93e316bec745f92c1970c39b92d438b4840753c4","2007-03-14 12:32:42+00:00","Fix for bug #1656880 (BASS: mouse initialized wrong in control panel)

svn-id: r26130
"
"247117d9bacd6c6e89f73c140b9a3137a1ee70e1","2007-03-14 12:34:40+00:00","Update error messages in loadModule().

svn-id: r26131
"
"7d599d3242f269b0a2f327fe44b555ce3742b2ec","2007-03-14 12:35:57+00:00","Add recent walk box changes to SCUMM0 too.

svn-id: r26132
"
"4d962e1771de512118cc994de02fcbee01b6bddd","2007-03-14 19:25:33+00:00","Add new KeyMappings (Debugger & Fast mode) for Symbian OS.

svn-id: r26133
"
"f93ef30820ca51ae82de85e7f9f0bb3de3d6a651","2007-03-14 19:28:29+00:00","ITE save game menu mapping has changed to F5.

svn-id: r26134
"
"ce5a9c9edb9adbfea06ba2b41938b33c9e032e72","2007-03-14 19:32:21+00:00","Code cleanup in the actions handling.

svn-id: r26135
"
"f86ca1803bfe16cfb02d8787040843a0499b89cf","2007-03-14 20:18:59+00:00","Fixed bug #1507835 (BASS: Control panel text differences from the original)

svn-id: r26136
"
"a9191d11199a739caa1a137cfee0c0965816c3b1","2007-03-14 21:09:56+00:00","implemented clipping using Common::Rect::clip

svn-id: r26137
"
"5dae85ad110ca6cc3ecc10c3283bc81e0131053b","2007-03-14 21:11:04+00:00","removed dead code

svn-id: r26138
"
"dcfd64cdbcc2c1c7c459aac27a1eb6dc1e4281e9","2007-03-14 21:53:34+00:00","some slight refactoring

svn-id: r26139
"
"62a5f783eeea84520d4bbcee9ce40e466739baf7","2007-03-14 21:57:07+00:00","removed explicit references to kMask0 since there is only 1 mask available

svn-id: r26140
"
"18fb5b485b84f8b129571c11abf04b06009f3e93","2007-03-15 21:56:21+00:00","moved remaining background related functions to disk.cpp, and changed Gfx accordingly

svn-id: r26145
"
"5c91a361c73f13b10af40f709099da681edb1459","2007-03-16 20:45:35+00:00","removed a leftover extern statement causing link errors on some platforms

svn-id: r26146
"
"a73c6c36700e6cdc8ccb34789962fd886e4f7619","2007-03-16 20:47:41+00:00","Added new file gui/object.cpp (collecting GuiObject methods in there), and renamed Dialog::deleteWidget to Dialog::removeWidget (name was misleading, the removed object does *not* get deleted)

svn-id: r26147
"
"a8d0bccdc0dc9720120045d441a4c9dafee701e5","2007-03-16 20:47:58+00:00","Added new gui/object.cpp files to MSVC projects

svn-id: r26148
"
"00e85d9f5705745cd9ce0fd70bc8a1ff11bb7fa1","2007-03-16 22:28:25+00:00","fixed volume slidebar display in journal, removed unused var

svn-id: r26149
"
"00bb66d60dc05f2525296c72acb898f54a1ed5b5","2007-03-16 22:34:59+00:00","minor simplification

svn-id: r26150
"
"feba06717ff81548e32ea22d76322ba2a60c9010","2007-03-16 22:51:03+00:00","added md5 for spanish version of Touche (tracker item #1681643)

svn-id: r26151
"
"5d59ee609190d8b349e2751adf9f98ba0b9695e8","2007-03-16 23:07:08+00:00","Add a flag which makes it possible to disable the default savefile man (for backends which want to use our Makefile build system but don't want the default saveman)

svn-id: r26152
"
"4951f82c65d31e1f62041c9c07cf74181c035ce7","2007-03-16 23:08:59+00:00","Basic support for Amiga MSC files.

svn-id: r26153
"
"8fc8c4847df493de85736447c1c8d9528a9b1299","2007-03-17 00:07:34+00:00","Implemented a simple EventManager class

svn-id: r26154
"
"a6f3ed8173a0490855df84e955229c9f77ecf9c2","2007-03-17 00:39:18+00:00","Got rid of Lure::System

svn-id: r26155
"
"15d9bc42ea14d1c1fd5d1f8787664bbf0944d0a3","2007-03-17 00:53:21+00:00","Force all code to use EventManager::pollEvent instead of OSystem::pollEvent

svn-id: r26156
"
"86ba69f75b20785eed8e88500ba9b5dfa5b021c3","2007-03-17 01:11:46+00:00","oops

svn-id: r26157
"
"1ef774b2ee7a74e2bbf12db7273771d0ea3b8a4c","2007-03-17 07:52:47+00:00","gathered character related stuff into a new struct Character, and modified calling code accordingly

svn-id: r26158
"
"b515721ed84e7e6f14971d3d194769cf269a9ba2","2007-03-17 07:55:16+00:00","some renaming to shorten lines

svn-id: r26159
"
"1f7e889fe977333c6abc2c4dc586a383c6258c90","2007-03-17 07:56:45+00:00","renamed freeCharacterFrames() to freeCharacter() for consistency

svn-id: r26160
"
"cb5c3840ed2233040a28cf5d99e17cb64d422a96","2007-03-17 08:06:45+00:00","minor cleanup

svn-id: r26161
"
"c1f4dbda7794fbc174668def400cbfe315f71f51","2007-03-17 09:37:47+00:00","Use the new getButtonState() function to test if the mouse button is still
pressed. This way, it won't matter if we've already missed the 'mouse up'
event. Fixes bug #1510038 ('BASS: Possible glitch when examining inventory
items'.

svn-id: r26162
"
"97514214349ed236c54fa6a91a0937b9c6073aab","2007-03-17 10:36:14+00:00","Added class NonCopyable, and made various things derive from it

svn-id: r26163
"
"48460e2ea66a308fc5085c51f47ccbcfac9ecbc5","2007-03-17 13:14:50+00:00","- Made Node a superclass for Zone, WalkNode, Command, Instruction, Program and Job.
- Moved Job list management inside Parallaction (because constructors for global variables are not always invoked on some platforms)

svn-id: r26164
"
"9c137c25cb6551e965410a2bb2e7acb2fbdcd90f","2007-03-17 13:18:03+00:00","oops forgot to commit changes for Command

svn-id: r26165
"
"aca3cfad51d5f27329ec5824480743017eaf66a1","2007-03-17 13:19:30+00:00","cleanup

svn-id: r26166
"
"56143c4c731d29af92475d7480f11958710bae51","2007-03-17 13:20:39+00:00","recent changes to projects

svn-id: r26167
"
"d378b78b6a17acd7649aca989803cc42873f8641","2007-03-17 13:31:48+00:00","Allow using the left/right keys to select button in a selection box. (Selection
boxes are used, for instance, when asking the player to verify that he wants to
save the game to a specific slot.)

svn-id: r26168
"
"e72455c215a1deebe235d18e7efbe55f76d8f2da","2007-03-17 14:34:50+00:00","cleanup

svn-id: r26169
"
"53624376b4d614689695d1ea56c1052cd0e7ad12","2007-03-17 15:44:26+00:00","Applied my re-revised patch #1487149 ('Simplified keyboard repeat'), with
Fingolfin's blessings. Keyboard repeat is now handled by the event manager,
rather than by individual engines.

Since this can cause problems with some engines (see the AGI engine), the extra
'key down' events are marked as 'synthetic', so that they can be ignored if
necessary.

svn-id: r26170
"
"4a11e7299ac0b6c9a877f1267003162648e3bb6e","2007-03-17 15:45:05+00:00","fixed MSVC compiler warning because winnt.h defines its own ARRAYSIZE #define

svn-id: r26171
"
"805f2b6591fd505dbfd742dc892b765a2982de5d","2007-03-17 15:47:50+00:00","Mention keyboard repeat change.

svn-id: r26172
"
"b765e998f7831a2beaeeb423ee7d66bb23810216","2007-03-17 15:52:35+00:00","use _ prefix for member vars, as per our code formatting conventions

svn-id: r26173
"
"cfe7ecd6d914026080698e5c6330a0ee1db6b8a9","2007-03-17 16:05:16+00:00","Don't track the modifier state, use the eventmanager instead (this also fixes bug #1657322, GUI: 'Mass Add' button text does not revert after mass add)

svn-id: r26174
"
"8a2529b2d6fa83efc0da64e4f7fc003d84b18a59","2007-03-17 16:08:29+00:00","Allow synthetic events in dialog windows, e.g. so you can use keyboard repeat
when scrolling the list of savegames.

svn-id: r26175
"
"59064dbef45df364ec9854dff8229f5f251c7433","2007-03-17 16:22:51+00:00","SKY: respect the SF_MOUSE_LOCKED flag upon mouse clicks, too

svn-id: r26176
"
"478c0644f15c23dd357ea891955ce53abc7b7f27","2007-03-17 16:31:46+00:00","SKY: Changed Control class to use event manager for mouse coord tracking, and also made it respect the SF_MOUSE_LOCKED flag

svn-id: r26177
"
"3a36ac02a198a656410228c67b8133f60ab2f662","2007-03-17 17:13:52+00:00","Add Spanish bargon MD5 as pointed in bugreport
#1681649: 'MD5: BARGON ATTACK Spanish'

svn-id: r26178
"
"f272d1957084098c5b53975ad3501074f6971af8","2007-03-17 17:52:30+00:00","cleanup

svn-id: r26179
"
"ed54ea9155961d8ca5d5fb3c7777fc57a29f2751","2007-03-17 19:02:05+00:00","Moved Event/EventType/keyboard enum from common/system.h (part of class OSystem) to common/events.h (part of namespace Common). Porters may have to make minor changes to their backends to get them to compile again

svn-id: r26180
"
"d7f31cf55d54b7f74fb5e8ed9ccdb3d8ddbacd6d","2007-03-17 19:48:48+00:00","Flattened anonymous union in Zone. Its members have been partially merged.

svn-id: r26181
"
"54201ddaa9bf1ec8bda447f9a76382a238a72617","2007-03-17 20:19:16+00:00","split Zone::_oldPosition in two members

svn-id: r26182
"
"b80dab6c73819edbe2a21903e313b565630a87a3","2007-03-17 20:48:23+00:00","added getters for width and height in Zone and Animation

svn-id: r26183
"
"74f7a908866a316ae559012f2229b77e51b6eee0","2007-03-17 20:51:13+00:00","renamed structures to be more general

svn-id: r26184
"
"e6f64e83dd43384c511ea40c748114f47a301d4d","2007-03-17 21:06:19+00:00","added translate() to Zone

svn-id: r26185
"
"794fa64de19be6874f86345dba612feb64569090","2007-03-17 21:17:00+00:00","added getRect() to Zone to slightly simplify hitZone condition check

svn-id: r26186
"
"d95fd5e3d4641c9bb4a956086d240f3e48112419","2007-03-17 21:41:52+00:00","Repaired/Corrected the MD5 list

svn-id: r26187
"
"08d82864109807b5d5a2896bc261564b698731e7","2007-03-18 01:45:14+00:00","adding key scanning functions compatible with ScummVM's IPC

svn-id: r26188
"
"5ffd410e309171f139f9d71f47bd4309baac8af4","2007-03-18 08:15:54+00:00","fixed usage of reference operator

svn-id: r26189
"
"82400277120260fbfbe1cdc7f91618f06d8cecc2","2007-03-18 08:29:45+00:00","Bug fixed: inventory wasn't refreshed when loading a savegame if character was not switched. To make things clearer, character are now forced to reload all of their data on switch/load.

svn-id: r26190
"
"ecf976b5ea3f91a476eb71766643fbf442a2e1f8","2007-03-18 08:58:25+00:00","Oops.

svn-id: r26191
"
"88ce9c83bde37aa7b40735f98ef0b80512bb0924","2007-03-18 08:58:41+00:00","broke down huge runDialogue in more manageable chunks

svn-id: r26192
"
"97426c8808d954af91f2a418f39845d96d717600","2007-03-18 09:06:22+00:00","formatting

svn-id: r26193
"
"03249397e01bd5944e530f6bc5691dac77bac17e","2007-03-18 09:09:02+00:00","more formatting

svn-id: r26194
"
"abaef3f5af7e5edca56e805a91210648a0854680","2007-03-18 09:16:12+00:00","removed unused parameter from Gfx::flatBlitCnv

svn-id: r26195
"
"31bc152cc1cc49d7b117630c87d5cfc51ff88522","2007-03-18 09:33:42+00:00","Fixed bug that caused the music to stop. I don't know if this is a regression,
or it if was just luck that it worked before.

svn-id: r26196
"
"6d718d27f53e2e08e42174188f2ca292816f5c06","2007-03-18 09:34:19+00:00","extracted more code from runDialogue and renamed some key variables

svn-id: r26197
"
"0aedc8d67fa1cc909b7eec45a6a21241fc24b243","2007-03-18 09:35:48+00:00","Removed old and commented hack code for Dino in the museum location.

svn-id: r26198
"
"35cebe2444257f1cc9e5c6a13cba54cef3542732","2007-03-18 10:20:38+00:00","Made loadTalk return a new Cnv instead of accepting a parameter.

svn-id: r26199
"
"ec58e9ac05cb887c3c2e0c8c9d98d3300fb4ad86","2007-03-18 10:25:46+00:00","Made loadHead return a new Cnv instead of accepting a parameter.

svn-id: r26200
"
"8f74bc15aef1c56b29d21bf3aa7e8e51687b98ae","2007-03-18 10:30:51+00:00","- made loadPointer return a new StaticCnv instead of accepting a parameter.
- adjusted Gfx code handling mouse pointers.

svn-id: r26201
"
"13385a5f2d22870417ec07334ae0836d4fac12a7","2007-03-18 10:34:41+00:00","Made loadObjects return a new Cnv instead of accepting a parameter.

svn-id: r26202
"
"791ad09510422d231b5e57b1a408dc8e993bc41a","2007-03-18 10:38:31+00:00","Made loadFont return a new Cnv instead of accepting a parameter.

svn-id: r26203
"
"d611e81672962a4941f00c2bb6c9e22580311706","2007-03-18 12:08:13+00:00","- little 'cleanup'
- finished MSC file support for Amiga version

svn-id: r26204
"
"48cb57ec899d40653cd2a36f760235af133d0e7d","2007-03-18 12:53:28+00:00","Let the event manager keep track of the mouse position.

svn-id: r26205
"
"72ee9ee86a39c3edc4bcec9f283307d7dbd5e12d","2007-03-18 13:29:12+00:00","Changed AGOS to use the EventManager to track the mouse position; added a FIXME comment about _mouseOld never being set

svn-id: r26206
"
"612e7a3eeb1b1e4b6c0500b8801544e19f2d7d55","2007-03-18 13:53:51+00:00","Refactoring AGOSEngine::waitForInput a bit (by resolving gotos)

svn-id: r26207
"
"3f6745a2f43fc2e017a9268c06d11e6278b5bb2f","2007-03-18 14:08:34+00:00","Applied eriktorbjorn's patch for bug #1657466:
'BASS: wrong music slider behavior'
and did some cleanup.

svn-id: r26208
"
"003dfed001023d657ceba50dd1aa47eb6271c44d","2007-03-18 14:30:26+00:00","Fixed control panel sliders.

svn-id: r26209
"
"8bf795383962b299b824f5f08be2a8860a09e67c","2007-03-18 14:33:13+00:00","Refactoring AGOSEngine::waitForInput some more (in baby steps, so that if I break something, it'll be easier to figure out at which point I did it :)

svn-id: r26210
"
"c7c79e33db1a94e950a076b75a89fb8dd41ffc22","2007-03-18 16:15:19+00:00","Fixed various gui strings in German floppy.

svn-id: r26211
"
"edd4e73787da08966b9d6453f16c96a8964c592d","2007-03-18 16:50:39+00:00","minor cleanup

svn-id: r26212
"
"ff5ec6462e20760be24f04dd37070e1423911192","2007-03-18 17:03:07+00:00","converted walk routines to use Common::Point

svn-id: r26213
"
"919985e4dfef1031ec9e773118e3935b4ce29721","2007-03-18 17:12:48+00:00","converted input and labels to Common::Point

svn-id: r26214
"
"0e370a41625d3bcbbf8b3d770323003765c11824","2007-03-18 17:17:21+00:00","converted DoorData and Zone to Common::Point

svn-id: r26215
"
"c1f84742f908dacc446b28852554188a0d525593","2007-03-18 17:22:07+00:00","changed remaining stuff to Common::Point and got rid of custom Point and Rect

svn-id: r26216
"
"29bf77d5b1b47879ab9c2982f646c3d9457d5a25","2007-03-18 17:33:54+00:00","hidden _cnv member of Animation from callers

svn-id: r26217
"
"dd61b256349d3eabb57e45625913e29a6437eb90","2007-03-18 17:55:11+00:00","More AGOSEngine::waitForInput refactoring

svn-id: r26218
"
"139608f451b40a3cb341188f9cd77bb8037b6352","2007-03-18 17:58:26+00:00","Fixed bug #1678349: BASS: music is off, but drum track plays

svn-id: r26219
"
"8ba2a5bb83c23a9633ae532a02ffdb60760a3cb9","2007-03-18 18:10:34+00:00","GOB: use EventManager::getMousePos and some cleanup

svn-id: r26220
"
"888e68f433659a1c021d79f89534841e64676987","2007-03-18 18:27:52+00:00","KYRA: Changed to use EventManager::getMousePos (should improve some things: the old code did not properly track the mouse upon click events, and KyraEngine::waitForEvent ignored _flags.useHiResOverlay)

svn-id: r26221
"
"f1497d5aa981526fd804ae637989a219548185a5","2007-03-18 18:34:16+00:00","CINE: Make use of EventManager::getMousePos

svn-id: r26222
"
"94739cdbca5d0fe6b600ec014df7f8a71b94a5f4","2007-03-18 18:45:36+00:00","SAGA: Make use of EventManager::getMousePos

svn-id: r26223
"
"b44d93d068e3309dd5c994c64fd06c4d25aa24f1","2007-03-18 18:55:11+00:00","QUEEN: Make use of EventManager::getMousePos

svn-id: r26224
"
"2c3152ea62d475007eb50abd07397e6074a197a9","2007-03-18 18:59:35+00:00","Fix for bug #1683111 (PSP: unable to build latest svn version 26210)

svn-id: r26225
"
"f14a5c17f2d153c76995d43de02c2c985186f5c5","2007-03-18 19:35:54+00:00","- Made global Node's (_zones, _animations, _helperNode) and the functions using them members of the engine.
- Added a constructor for Node

svn-id: r26226
"
"2ea44bf1eee6411b9648e72d00e78470a6f71caf","2007-03-18 19:59:56+00:00","changed code to use WalkNode constructors

svn-id: r26227
"
"7e310422c3d704a5d7faa5219082be827c71e534","2007-03-18 20:18:19+00:00","- added constructors for most structs
- structs are now allocated via new instead of malloc's
- respective free's have been replaced with delete

svn-id: r26228
"
"548a522733bf5285e28708c9bb33b5079054db20","2007-03-18 20:35:12+00:00","changed Animation::_cnv to be a pointer, in view of changes to Disk::loadFrames()

svn-id: r26229
"
"4966b755f01eb21285ee341742ac413a5625f0b1","2007-03-18 21:00:22+00:00","changed DoorData::_cnv to be a pointer, in view of changes to Disk::loadFrames()

svn-id: r26230
"
"992f5357243a8ff80316ca2efbfa2e7dab31b7b0","2007-03-18 21:08:28+00:00","Made loadFrames return a new Cnv instead of accepting a parameter.

svn-id: r26231
"
"0bc056aee3a32de9df83d1e12417a2ae7d854651","2007-03-18 21:15:39+00:00","Made loadStatic return a new StaticCnv instead of accepting a parameter. All disk functions now accept only a resource name as their parameter.

svn-id: r26232
"
"995a4d7cff4338848142d43b48c218b75c4fdbcc","2007-03-18 21:55:57+00:00","Some fixes to cope with the move of the event code from OSystem to Common

svn-id: r26233
"
"1d395cccee97a6a9a4948769251939953242dff9","2007-03-18 22:56:56+00:00","Allows cross compiling for windows with mingw32.

svn-id: r26234
"
"8fae7d8b022e0672243aa4a12a00eb03e549a606","2007-03-18 23:04:44+00:00","Fixed warning: warning: base class 'struct Parallaction::Node' should be explicitly initialized in the copy constructor

svn-id: r26235
"
"82220883d1c82e107a68927a0af6f75b1480f5e1","2007-03-18 23:28:22+00:00","adding GF_AGIPAL to those games which have that feature (the ones with pal.101) and fixing a typo

svn-id: r26236
"
"96823c885fa1d7da93e7fc64b37d8e2110d22882","2007-03-18 23:35:24+00:00","updating shake.screen warning/comment to reflect that AGIPAL uses it, and not AGIMOUSE

svn-id: r26237
"
"3e85ecbe5fd184c21cf3734912b1c9a95ef13cd2","2007-03-19 00:24:58+00:00","Remove duplicate code, for clipping of mouse position.

svn-id: r26238
"
"b7eb659e06ea37c660fdc6665e69a0b6701901d1","2007-03-19 12:52:18+00:00","Added FIXME note into the gob code (it tries to write into datafiles, which makes it unportable to devices with read-only gamedata storage)

svn-id: r26240
"
"1931461127c36d688928dd8c386ecfcd89a09a61","2007-03-19 20:26:17+00:00","deleted some dead code

svn-id: r26242
"
"3dd12518cbb75545ed4de029c7cec22ffce32f78","2007-03-19 21:44:23+00:00","added member initialization

svn-id: r26243
"
"fe5660400fd0a108d7cee4e0c37978154a8ab085","2007-03-19 21:49:41+00:00","made Animation a subclass of Zone (finally!)

svn-id: r26244
"
"d5e26cf261c0fab2d83f71c68a5ea2d4f99de396","2007-03-19 22:10:10+00:00","removed most useless (paranoid) debugC

svn-id: r26245
"
"8f69bae8eca8da9c6473c832386527051113c364","2007-03-19 22:21:10+00:00","a bit of refactoring for dialogue code

svn-id: r26246
"
"33f827c83e0b047b4dcbffc9355fc6bc5fc02038","2007-03-19 22:24:40+00:00","refactoring of the main loop of runDialogue, now in a decent shape

svn-id: r26247
"
"eb6318e9fa951b5568846fc2fb20b4d7a09fda64","2007-03-19 22:30:28+00:00","Added FIXME comment to CINE regarding an odd warning in processSeqListElement

svn-id: r26248
"
"54b785fb3b73336926ce8474822e801b0b6261e1","2007-03-19 22:30:54+00:00","fixed bug from first decompile

svn-id: r26249
"
"838ec385cf00ee14eb000d1cf394b3abbec8cca0","2007-03-19 22:32:35+00:00","applied De Morgan's law to an expression to expose similarities

svn-id: r26250
"
"d94979c936c4edca5eaa23532b4814b2bf4cb933","2007-03-19 22:38:00+00:00","final version of runDialogue

svn-id: r26251
"
"2dc7cb2cd49c20a5f6bcfe5446fb8340f6a555c8","2007-03-20 14:51:57+00:00","Major clean-up, including:
- Cutting down the code-dup
- Plucking leaks
- Removing dead/unused code
- Properly naming 'word_2342F'-style variables and functions (removing the warnings alongside)
- Fleshing out the 'stubby' functions
- Moving functions and variables to more appropriate/logical places
- Re-ordering functions and variables
- Re-structuring functions
- Moving the IMD stuff into a new 'Imd' class in the new imd.cpp/.h (still to be completely implemented and cleaned up)
- Formatting
- Getting rid off the classes 'Anim', 'Pack' and 'Timer', along with their files

svn-id: r26252
"
"e56b44d1fa47574c1ff109f687caad13fec50150","2007-03-20 18:45:54+00:00","cleanup

svn-id: r26253
"
"f5559de703a2deca65f6a716fdf6e68aa7413607","2007-03-20 18:59:28+00:00","Fix a potential race condition (leading to lockups) in IMuseDigital::refreshScripts

svn-id: r26254
"
"c485719ad4df285304da83f680a4f310fd22adb4","2007-03-20 19:00:16+00:00","oops

svn-id: r26255
"
"2c0f341ef8164ea9da2788762a3f727fe20c4375","2007-03-20 19:04:51+00:00","Correct error message

svn-id: r26256
"
"d0c30bfd9ab8a9411d3c86ee0a3fce0714f6c993","2007-03-20 19:06:37+00:00","Undoing my previous (upon closer review, bogus) change to IMuseDigital::refreshScripts -- the problem is a bit deeper. Sorry for the noise :-(

svn-id: r26257
"
"3d52e20b9b0519a2d9cbe3673ae6a16417a9598a","2007-03-20 19:37:31+00:00","Change IMuseDigital::stopAllSounds to simply do what it names suggest, i.e. stop all sounds immediately (instead of waiting for the imuse timer to do the required work). Not heavily tested, as I don't know of specific spots in Dig/FT/CoMI which make use of this

svn-id: r26258
"
"abf59db15e375b34a75e1bf637982a267b9ecce9","2007-03-20 19:40:34+00:00","Make sure Track::soundHandle is always initialize, and added a FIXME (see also bug #1635361)

svn-id: r26259
"
"9494a9f02522be5c25b980a36d00a4d6710ece02","2007-03-20 19:45:17+00:00","some refactoring for walking code

svn-id: r26260
"
"1fb7e82a155c41926b3439b6d66cb5b158ed468f","2007-03-20 19:56:02+00:00","Added default-events.cpp to Symbian makefile

svn-id: r26261
"
"d881196681fff4a4c0024eb6ab38e11b3022603d","2007-03-20 20:46:09+00:00","replaced some x,y/left,top pairs with Common::Point

svn-id: r26262
"
"b17ae7017cb122fd7e30f54ac4d498bd127b5946","2007-03-20 20:46:19+00:00","Little cleanup.

svn-id: r26263
"
"2517960b3f81c8666ff08269d3461b350e443dfa","2007-03-20 21:11:42+00:00","- more cleanup
- added some .pak file integrity checks

svn-id: r26264
"
"a1d9bcd9231bb97cff3a434bd6b0669bb60534c7","2007-03-20 23:24:54+00:00","enabled music volume changes in Amiga version

svn-id: r26265
"
"7a816395155508479ed597013c4b9bb0b6e0430f","2007-03-21 19:18:42+00:00","Added some items to NEWS, and tried to unify the style a bit (ideally, I'd like to group all NEWS into three categories: new feature, improvement/modification, bug fix; some exceptions are possible, of course)

svn-id: r26267
"
"89ea1f3abf2281d1f8786c1eb5cce31c7d5404e0","2007-03-21 19:42:09+00:00","got rid of cryptic pseudo-boolean variable in buildWalkPath

svn-id: r26269
"
"080a76503b28ef794ff654a9642c83bb4b67389a","2007-03-21 20:13:40+00:00","adding AGIPAL support (for changing palettes in some fan games) Patch:1684685

svn-id: r26270
"
"cc93bea7b8ba08bd1bee77f72bf6d431358fef01","2007-03-21 21:38:53+00:00","adding debug message if running AGIPAL game

svn-id: r26271
"
"a37870c125c9bb6c1cd0ff7377442e88fd8133d4","2007-03-21 21:49:11+00:00","- moved buildWalkPath inner loop into a new function
- renamed some variables in buildWalkPath
- deleted an old extern for buildWalkPath

svn-id: r26272
"
"a8f9e399b816dee6aed4b4312ab86edff94f12a6","2007-03-22 00:53:39+00:00","Add Spanish version of Waxworks (DOS).

svn-id: r26273
"
"2964bed5d203cc99a63681d5fe2438f6731ac051","2007-03-22 17:33:21+00:00","Fix warnings

svn-id: r26274
"
"86a60b633d1b4835a9152427fb7e3fe3e4034672","2007-03-22 18:49:42+00:00","Fixed long-standing font bug. We were using the control panel font for LINC
space and terminals, and the LINC font for the control panel. Since these fonts
contain different sets of characters, this would often cause the wrong
character to be displayed, particularly in non-English languages. This also
explains why we had to use the 'wrong' font for the control panel recently.

The functions to patch the LINC character set (actually the control character
set) should no longer be needed, and have been removed.

Should fix bug #1669564.

svn-id: r26275
"
"3daa442c82f0820493dc4e7bb078f44d9f5f0571","2007-03-22 19:49:15+00:00","unrolled loop in buildWalkPath and renamed some variables

svn-id: r26276
"
"a722b767a8a24906b512a0381fb49b1bcd59aa92","2007-03-22 22:03:21+00:00","- adding support for saving AGIPAL games
- adding debug comment when using a new AGIPAL palette
- changing so that only pal.101-109 files are used and not pal.100, as AGIPAL starts at 101

svn-id: r26277
"
"989f7b67cb918c609a68b74955f2131ae682e96e","2007-03-22 22:29:00+00:00","- Save AGIPAL resource number properly
- Move GfxMgr constructor to .cpp file

svn-id: r26278
"
"5057c1b5c845a9cc4620ee82e609074eea3d4c8a","2007-03-23 02:55:07+00:00","Change getFileSize opcode, to check for files via SaveFileManager too. Fixes loading the high score table in the mini game of SPY Fox 2.

svn-id: r26279
"
"32c7ee77488c8c6ff6dd2badb5af1eb321313e02","2007-03-23 03:06:10+00:00","Fix bug #1684010 - SPYFOX1: Background buffer not been cleared.

svn-id: r26280
"
"661944a0f9892d77c0638d44d877c785e828faa1","2007-03-23 16:24:28+00:00","Implemented some palette code differences for Amiga version.

svn-id: r26281
"
"00ea91c5d628ebc56d99ad7f23f26e28f56a7955","2007-03-23 23:22:18+00:00","Trimming of excess spaces in drawString, only applies to SCUMM 4+ games. Cofirmed via disssembly.

svn-id: r26282
"
"0818a44424fed36d4f00d1007a556ff18b49b35a","2007-03-23 23:31:43+00:00","Add part of patch #1687053 - Scumm: Fix charset glitches in original Save-dialog.

svn-id: r26283
"
"c8c3dd04a780a106905cc9582058099a7ead343f","2007-03-23 23:38:45+00:00","Patch #1687010: FM-Towns: Handle Alt-F5

svn-id: r26284
"
"d1645e2fbfbf7246de3ab3ca61dea0b4ffe1a296","2007-03-24 00:04:08+00:00","Commit of patch #1686414 ('Kyra: FM-Towns music').

svn-id: r26285
"
"013d576417910cd7d8a65ea36db09ac103d9840e","2007-03-24 00:09:08+00:00","Added standard fileheader. (oops)

svn-id: r26286
"
"8d326d1e28eef8e9e8eea9745bdd93ee19580eff","2007-03-24 00:21:47+00:00","Add patch #1687013 - Zak FM-Towns: F1-F4 person switching.

svn-id: r26288
"
"de98304a3ee37f5a2cb70bf2036f1aea896f7429","2007-03-24 00:41:38+00:00","Add patch #1687026 - Indy3: Series IQ-Points.

svn-id: r26289
"
"eb996313e06f38848b0e8e03789114c4a881ed7a","2007-03-24 00:50:14+00:00","Remove old debug message in getStringWidth opcode, which is no longer required.

svn-id: r26290
"
"fee9c9fe80ccd6fc173b52f32774a04e2a498d49","2007-03-24 00:57:48+00:00","Update help.

svn-id: r26291
"
"10048eaec1e97a6301968bf5fe5a7b596d97dd05","2007-03-24 16:36:13+00:00","- fixed regression bug: one free/delete mismatch
- added needed virtual destructors to structs

svn-id: r26292
"
"afe981d3403034e1714875ef5b77502f8ec9885d","2007-03-24 17:14:04+00:00","started infrastructure for amiga demo:
- added Disk skeleton
- adapted Archive to handle different structure for archives
- moved Disk creation from engine constructor into init() [still sub-optimal]

svn-id: r26293
"
"3034cb127329da8de756cee5a48e927206e396fb","2007-03-24 19:55:34+00:00","made more functions members of Parallaction

svn-id: r26294
"
"7b9c74acae0543fedaf01c96c2720f244434c38e","2007-03-24 21:18:08+00:00","Added new class Table, and updated Disk accordingly. Tables can be populated after their creation or wrapped around existing arrays. Thus, the old functions (initTable, freeTable and searchTable) have been removed.

svn-id: r26295
"
"26db2f4da533c91e40a0d7f1064c577fb2d6ad69","2007-03-24 22:30:17+00:00","Cleaning up various issues with the Indy3 IQ patch

svn-id: r26296
"
"7909c312bdef64b06edb9c46bf7f141a5e60f4af","2007-03-24 23:35:48+00:00","Corrected some c&p error in the documentation.

svn-id: r26298
"
"7708186cba215ca8cb6e7fcd29c344d90884a228","2007-03-24 23:57:29+00:00","Changed detection of the dreaded 'fr' archive in Nippon Safes Amiga Demo. This is not a better hack than before, except that now it works.

svn-id: r26299
"
"f145890bba242addc38ecf38ce9051922a9f50a7","2007-03-25 15:54:15+00:00","Some tempo fixes from Florian.

svn-id: r26300
"
"645a9c71d045f3ace8321025f2102cc4f11ace23","2007-03-25 16:46:46+00:00","Remove obsolete reference to the mouse movement emulation via arrow keys

svn-id: r26301
"
"4d56036d4d18fa6af1cb3b92fb2ef6fe8a2bfecc","2007-03-25 19:36:24+00:00","Added new base class Graphics::IFFDecoder and subclass Graphics::PBMDecoder as a reimplementation of Graphics::decodeILBM. Old function will be removed when engines are updated.

svn-id: r26302
"
"41ea68e71e5136242b26384f428a29ab5e6fd9ab","2007-03-25 19:51:19+00:00","cleanup

svn-id: r26303
"
"0c5d862ab16fd795da34a335d5f566e8db2269a3","2007-03-25 20:23:14+00:00","Removed code that at least for now is presumed dead.

svn-id: r26304
"
"fb9b9863e3815daa1ec2c9a37bfe7db6ff9f6e6f","2007-03-26 12:25:12+00:00","Commit of patch #1688065 ('KYRA: fm towns music').

svn-id: r26305
"
"a84851174316f841123b26df19a097f692cb7f36","2007-03-26 19:31:36+00:00","Fix compile error in the DC port

svn-id: r26306
"
"508befd55624edafd6ec70e85b104ec9741a46c6","2007-03-27 14:12:16+00:00","fixed const correctness

svn-id: r26307
"
"6a9eb08ac7cc51890ae853078c64fd43cccd2452","2007-03-27 14:28:48+00:00","Fixed indentation.

svn-id: r26308
"
"4dd50ee6f466ab22b23fb5ad63db64b2472abf65","2007-03-27 19:26:39+00:00","Fixed yet another DC compile error

svn-id: r26309
"
"4467a25db97acd671c516a09dbf8e0066a4d6300","2007-03-27 19:45:09+00:00","- added new subclass ILBMDecoder, to decode ILBM subtype of IFF files
- some bug fixing on the hierarchy

svn-id: r26310
"
"77657498b2711e45264c81eacd0fa3e348e71871","2007-03-27 22:02:07+00:00","added code to load amiga background slides

svn-id: r26311
"
"303b66391ba5efa3739cb37438b777c1cc61220c","2007-03-27 22:03:00+00:00","engine can now handle amiga and dos splash screens

svn-id: r26312
"
"ac1e6c9b75beff06f41302fb76cdaffce1125201","2007-03-27 22:04:50+00:00","Fixed palette bug to allow proper display of splash screens, but dos palette is still broken in game. Palette code needs a general revision due to differences between dos and amiga.

svn-id: r26313
"
"3903309af338a1cedab353367a459ecd5f0250d8","2007-03-28 20:12:00+00:00","Overhaul of palette management to bring it back to its original form. Gfx palette code has been updated, and _c_endComment (callable from scripts) has been implemented. As a by-product, palette cycling now finally works!

svn-id: r26314
"
"69639ea0bf28e3ca7526617304859d359b58063b","2007-03-29 16:50:06+00:00","cleanup.

svn-id: r26315
"
"623ca8802269914ab90a1127f89c66dd2cb571f1","2007-03-29 17:55:39+00:00","- Properly implemented the ImdPlayer
- Some more clean-up

svn-id: r26316
"
"711865ef635cecac9d425976e0f0407ca137f4e5","2007-03-29 18:34:31+00:00","- implemented destructor for Cnv, thus removing calls to Gfx::freeCnv()
- enforced use of getFramePtr instead of Cnv::_array member

svn-id: r26317
"
"31eb34c98f7860a21c48a37ab751b3208e5cfbf9","2007-03-29 19:03:51+00:00","- changed Cnv to use a single large buffer for frames instead of small chunks of memory, to simplify loading by Disk.
- added a new constructor with parameters to Cnv

svn-id: r26318
"
"d75df279646f0449f917a1882be835f3ad06d8c8","2007-03-29 19:10:01+00:00","oops

svn-id: r26319
"
"719fb212377a6b1135e50ff25c7de914b9fe400b","2007-03-29 19:28:47+00:00","Don't play coktel2.imd, but coktel.imd

svn-id: r26320
"
"85ea7e97f18f219e6bea958164aced355a7625b8","2007-03-29 19:37:53+00:00","Mind the time needed to update the screen when waiting for a sound slice to finish

svn-id: r26321
"
"7a41f196398b3b854a6909aa2871eaa342d5ea6d","2007-03-29 20:06:39+00:00","Update the screen in escDelay(). Seems to fix some glitches when changing
scaler at certain points in the intro.

svn-id: r26322
"
"2a4fc29d46fa464f2fde6057457a5d0d2749db0a","2007-03-29 20:38:59+00:00","formatting.

svn-id: r26323
"
"046fe5060bb2676bedd82f3d679b1f5f4fdf5b89","2007-03-29 20:49:37+00:00","Formatting (Take that, LordHoto! ;P)

svn-id: r26324
"
"57fc86381913bb2d4405d268207f4e0517af485a","2007-03-29 20:53:37+00:00","Replaced some more intenting space that slipped in with tabs

svn-id: r26325
"
"33c6a6f46057748a30a143c9eb5dc1f86c813e32","2007-03-29 21:03:32+00:00","Fixing curly bracket style

svn-id: r26326
"
"d65e05841a324d2ec898a3662f40e193fbc77e47","2007-03-30 17:52:31+00:00","- Fixed the IMD playing within mults, the non-interactive Gob3 demo should work better now
- Replaced strcpy with strncpy where appropriate
- Added detection entries for other languages of the multilingual Gob3 CD; bug #1691230

svn-id: r26327
"
"549e535a978cb65272763038f03bb25b5bea2b0d","2007-03-30 19:13:23+00:00","BASS is not Counter Strike, so redrawing the screen at 70 fps feels a little pointless. It's also more than the average pal tv set can do ;)

svn-id: r26328
"
"69ede83dd312e4a8099bcc81edd2e916f814fd4b","2007-03-30 21:48:59+00:00","made menu properly set language

svn-id: r26329
"
"00919e3a93264bcb261fdc00343ca29b26ac5171","2007-03-30 22:59:45+00:00","Renamed AGIs savegame.cpp to saveload.cpp, to match the other engines

svn-id: r26330
"
"a08feb9f70d4ac8357db1df15950ff0067504d0d","2007-03-31 14:00:34+00:00","Got rid of some 0xFFFF -> 0xFFFFFFFF conversions and similiar nonsense by using a clever technique called 'signed ints' for room offsets (and this won't cause any regressions; any you may encounter are merely the products of a deranged imagination)

svn-id: r26331
"
"375c63f7bc87c74f5ce34f7d90b8922ded861b39","2007-03-31 15:25:54+00:00","Changed waitEndSoundSlice() to react more dynamically to enforce audio/video sync

svn-id: r26332
"
"c0ca592d54813eab02deb3fbb6303f1db4559a3e","2007-03-31 18:20:52+00:00","fixed graphic glitch when playing the floppy intro with spanish subtitles and added a few comments.

svn-id: r26333
"
"2edec11986c504e022e8f3e43e6259ad496c4f0f","2007-04-01 00:00:28+00:00","improved debugger a bit

svn-id: r26334
"
"63ff4aa50bdc8504a28b3c20c70a6c9d32be76d9","2007-04-01 00:13:54+00:00","Fixed setFocusRectangle code. At least I think I did, I don't know where it came from and I can't test it either. But it looked rather broken.

svn-id: r26335
"
"18ef96d08bccb7d8afbe7ad42fae085ed8e36ea9","2007-04-01 11:44:58+00:00","made Menu use _vm instead of _engine

svn-id: r26336
"
"3abdfa46f99b94b3b15294ff5fc9f4e671398230","2007-04-01 11:47:35+00:00","Bugfix for strings that wrapped near a carriage return character

svn-id: r26337
"
"5a313074bc304940699b15ea8d61d00535a3a732","2007-04-01 11:48:54+00:00","Bugfix to correctly remove an item from a character's inventory when it is deactivated

svn-id: r26338
"
"a6ad021b30c34e3e182f60dc5608806ec57dbe45","2007-04-01 12:17:38+00:00","Function changeCharacter is now responsible for loading character specific Zones and such

svn-id: r26339
"
"20c2bba08411d5ce6e28a7a465425f60ebecc8db","2007-04-01 12:42:30+00:00","Added GF_DEMO flag and ability to load the correct location at start.

svn-id: r26340
"
"b7e499b64a1b1dc88c375a6151b7789d1970f4d5","2007-04-01 12:45:42+00:00","Implemented Disk routines for Amiga demo. Font are simulated with boxes, and frames aren't decoded properly yet. The engine will now show the first game screen, but crash as soon as the user clicks her mouse.

svn-id: r26341
"
"397c10f059308f575ea75ea767c87148a7406f33","2007-04-01 13:10:50+00:00","made _vm/_engine usage consistent. (_engine -> _vm all over the place now).

svn-id: r26342
"
"4550ca1572b9b3c4bae6961bf37299ab3ad44e84","2007-04-01 13:16:29+00:00","Use the cursor manager instead of calling the backend functions directly.
(Maybe the backend functions ought to be protected?)

svn-id: r26344
"
"cfa746830fac583b1eea08f969bb106dff6ca519","2007-04-01 13:31:11+00:00","Use the event manager to track the mouse position.

svn-id: r26345
"
"9339d2a54e273786ea6346bf4925076b10a50e56","2007-04-01 13:38:03+00:00","We still track the mouse position while waiting for an answer to the 'Do you
want to quit?' question, so it makes sense to me to keep drawing the cursor.
Even if the original didn't.

svn-id: r26346
"
"b4211fefc8bb9a1a395f9685bbb5bc897d191b01","2007-04-01 14:04:45+00:00","Call updateScreen() more often when drawing right-click menus, to make mouse
movement smoother.

svn-id: r26347
"
"0d78a7ca640c350c56ef7b36e75e1336f9b42d19","2007-04-01 14:05:50+00:00","Call updateScreen() more often in options/save/load dialog to keep mouse
movement smoother. And since this is potentially wasteful, only redraw the
entire dialog when it seems likely that it may have changed.

svn-id: r26348
"
"91eaea3e583b4df9a75384e5b8627bfab7de9118","2007-04-01 14:35:33+00:00","Added code for resource loading and fixed the bug having Amiga demo crashing. It is now limitedly playable, although graphics is still heavily messed up.

svn-id: r26349
"
"7c4a8c656591ba48f81dce90ac482d24724a593e","2007-04-01 14:53:03+00:00","Make the mouse cursor move more smoothly. (Most of this improvement actually
comes from calling processEvents(), not from calling updateScreen() more
often.)

svn-id: r26350
"
"bc253d214b038845a5bb498ca51697245c864652","2007-04-01 15:04:11+00:00","Slight simplification of last change. Make sure we don't 'oversleep' in fast
mode.

svn-id: r26351
"
"a97ab92dd95ead2bda8f99db163896d479adf886","2007-04-01 15:41:34+00:00","Fixed loading of graphics. Now things really look what they are, except the character which still looks a bit jagged.

svn-id: r26352
"
"2447752a51ded9f6f70d392c8f572dd94eb5d65c","2007-04-01 15:58:34+00:00","Reverted my roomoffs changes (broke the Loom intro), and instead added the constant RES_INVALID_OFFSET to indicate an invalid room offset

svn-id: r26353
"
"852971cfe62b59ff1f2e7451402a34fa6f8db958","2007-04-01 17:13:45+00:00","Fixed a compiler warning about 'unknown conversion type character' (not sure if the statement was meant this way or another, but at least for now I can again compile with -Werror)

svn-id: r26356
"
"5aca9dce8c6cce89df3147a6f942620155010c8d","2007-04-01 17:36:13+00:00","added the instance of EventManager returned by OSystem::getEventManager as a member of the Engine base class. This allows to simply the code a bit and should more efficient too (ie. less virtual function chain calls, obj->getA()->getB()). Also updated several engines to make use of it.

svn-id: r26357
"
"e012a82bbe64acd24d3af997714fdb45c9f3757d","2007-04-01 17:54:29+00:00","Fixed grammar in a comment

svn-id: r26358
"
"1cf48cf17d737faf405efe0e1dd6b53c84934384","2007-04-01 18:05:11+00:00","Changed _sys -> _system, matching (almost?) all other cases where we have an OSystem* member var

svn-id: r26359
"
"3db1dd05bc4fe12cc00d465c62ebeedd5581bb6f","2007-04-01 18:08:19+00:00","Replaced another use of getEventManager() by using Engine::_eventMan

svn-id: r26360
"
"f5828e7fdfacec7c093396efc898d8c465216dd4","2007-04-01 19:22:15+00:00","- Added a new class RLEDecoder to avoid code duplication in Disk routines.
- Temporarily disabled mask loading in Amiga version.

svn-id: r26361
"
"4273a4d49bcc7b994c564fd31f11d94947846546","2007-04-01 19:58:53+00:00","Renamed classes for consistency.

svn-id: r26362
"
"fb59ee92a2adb9a4ebd0e2007478271fc448bda2","2007-04-01 20:06:26+00:00","corrected printf string

svn-id: r26363
"
"dab34226dcf709cc30e348a41ca41536d70d6bf8","2007-04-02 01:45:28+00:00","Add patch #1692496 - Amiga indy3ega sound fixes.

svn-id: r26367
"
"89a29e32bfc1815a5a205126fb947a8c318f78bb","2007-04-02 06:03:47+00:00","Added in more character tick handlers

svn-id: r26368
"
"53119f2c5d782798e3e1be9e15626be931947ae8","2007-04-02 11:05:09+00:00","'char *' -> 'byte *' where appropriate

svn-id: r26369
"
"47f5e30857b6baca1f31b0aefc931b8013bb62a9","2007-04-02 17:33:23+00:00","Added the MD5 for the German Bargon Attack, as supplied by paul66 in bug #1692667

svn-id: r26370
"
"20ec8d2d343bbeea79b939c185fc2ed0772500bb","2007-04-02 18:59:00+00:00","This should make the game match the original DOS version speed.

svn-id: r26371
"
"38eab5c5dff62ffcd7eb51e165c2a18d65737a0a","2007-04-02 19:12:17+00:00","Re-introduced Input::getMousePos and removed g_system-

svn-id: r26372
"
"94159481cc7ec48bed9db690c573234bc43cbf91","2007-04-02 20:53:25+00:00","- slightly improved mask for amiga (not perfect yet)
- fixed loading of Talks for amiga
- fixed handling of multiple frames

svn-id: r26373
"
"8b63337ce014c3e3212c0d9cb6ee1294de8d1865","2007-04-02 21:00:11+00:00","miscellaneous improvements for amiga

svn-id: r26374
"
"e8b6baca74228144694f4ff1d39f8e71330adc5e","2007-04-03 14:26:12+00:00","Little WSA loading fix.

svn-id: r26375
"
"2d2efe2bca9bf70eb8725ca8e0f38632c7bda1ea","2007-04-03 19:36:17+00:00","Removed obsolete TODO

svn-id: r26376
"
"0dadd3cd2cb04d279d36e082cc01376d02e7ddb7","2007-04-03 19:51:23+00:00","Reduced code duplication in AmigaDisk by means of a new wrapper class for Archive.

svn-id: r26377
"
"4c151928fa4cbf61f02c424fe98f7473e96e4d39","2007-04-03 21:11:43+00:00","- fixed RLEStream
- simplified unpacking of background for dos version
- other minor changes

svn-id: r26378
"
"e3c25e6d203d22405ed406cd063b28a1aae11074","2007-04-03 22:03:21+00:00","- added a new archive member variable to Disk, to decouple resource archives from location archives
- made Script use a stream as input with overall simplification of Disk routines

svn-id: r26379
"
"077b924899bb992957131eaf14409e306e08fab9","2007-04-04 13:01:09+00:00","Copy protection bypass applies to all versions of Monkey Island VGA.

svn-id: r26380
"
"972b0d036a9dd90d39091b42cf10e955d7637b8a","2007-04-04 20:59:31+00:00","Characters now only store the set of frames they actually need. Basically, mini characters and normal characters are now completely separated.

svn-id: r26381
"
"c5e7eaf7dbcc18f4d26532f64e6cbf3e8614fc18","2007-04-05 13:36:26+00:00","This should fix bug #1694830

svn-id: r26382
"
"ec5a9eee3132c5e7ccc5338f426f0839bb9e0913","2007-04-05 13:37:20+00:00","- Minor cleanup
- Added Inter_v3 (for new opcode o3_getTotTextItemPart)
- Some fixes to let Gob3 start with the first screen

svn-id: r26383
"
"cebf8e98c30c89abe28bbacbf1b331489fbe12f2","2007-04-05 14:28:19+00:00","Oops

svn-id: r26384
"
"f2c1600c3d68c57faa0d7607fe52420b233e34f1","2007-04-05 15:38:30+00:00","Added GobOpcodes 1 and 2 (start and stop Infogrames music)

svn-id: r26385
"
"96c6ae041fdb14ad557abdb2d95fe2cd62f17a97","2007-04-05 16:04:59+00:00","Added save/load stub for Gob3, recognizing the use of 'INTRO.$$$' as an extra background buffer

svn-id: r26386
"
"ce8bfbb46e75f2ebd04c3d6f7edf078fee89a103","2007-04-05 19:20:12+00:00","Implemented scrolling and split screen (for the text field, the bottom 40 lines) in Gob3

svn-id: r26387
"
"8a1cf1c2d0b661e3cbf1c9703d0835348ed328ba","2007-04-06 13:16:53+00:00","Fix looping for FLAC tracs (looping parts of a file already worked, but looping until the end of data didn't)

svn-id: r26388
"
"0df4d74ae67389aba7fa34bdf08ac41674ca1747","2007-04-06 13:28:33+00:00","Fixed looping of MP3 tracks (same problem as with the FLAC tracks)

svn-id: r26389
"
"a17df6e4c6dfa7f73989837b468411670ae463b0","2007-04-06 13:30:09+00:00","Some Gob3 fixes:
- wrong positioning of the inventory
- walking
- close-up fadeing in the CD version

svn-id: r26390
"
"ddd96f369d02d822e129a7ddb752e32487a96773","2007-04-06 17:08:23+00:00","Oops

svn-id: r26391
"
"f069c5e8fff3e52e94cb0bda0ad7eb1218e271c1","2007-04-06 17:16:49+00:00","Changed the MP3 playback code again, this time hopefully fixing the problems in the MI Amiga demo

svn-id: r26392
"
"40245fe4504ecc7cb26ccfc5b5c7d5d2b15cbbe7","2007-04-06 18:29:55+00:00","Made Program hold an explicit reference to its set of Instruction(s) instead of simply being a Node chained with them.

svn-id: r26393
"
"c6d41c07558eb74a18e88b3fc68c5ec76bb3f9fe","2007-04-06 18:34:53+00:00","Updating DS port for changes in main codebase.  Code changes for DevkitArm r20 and latest libnds.

svn-id: r26394
"
"dca464b06e77c8cd26c14d421f8f1f1a2f6cadda","2007-04-06 18:35:35+00:00","Changes to CPU local ram allocation for DS port

svn-id: r26395
"
"700fba21ed42e92fd61ec18bc146df6d5eefb2b2","2007-04-06 18:44:58+00:00","Enabled lazy removal for Job instances.

svn-id: r26396
"
"6c48b97f0adf9f918f1884fd9fcb6f8ae17f361c","2007-04-06 21:15:48+00:00","typo

svn-id: r26397
"
"83610641c7f866e218cf562b2abeb94619bc229a","2007-04-07 09:20:48+00:00","allow arm-linux-gnueabi target too

svn-id: r26398
"
"93673711073bbf6947e83ca3ec9cd262036aa64a","2007-04-07 09:31:24+00:00","Turned free___() routines into proper destructors for Zone, Animation and Program, and added memo comments for porting the engine to Common::List<>.

svn-id: r26399
"
"59b15386853af4e2e3dbe4ec21518874b6b45625","2007-04-07 10:02:59+00:00","Reduced dependency between project files, and prepared defs.h for deletion as soon as List<>'s usage is implemented.

svn-id: r26400
"
"1e1ba32c0a30a82ca41b10538e26ee10fa5709de","2007-04-07 12:03:51+00:00","change Program to use a List<> of Instructions instead of a homebrew linked list

svn-id: r26401
"
"17bcfbf89dc582bae49ed2890b56a729f64213f0","2007-04-07 12:04:27+00:00","Added code for ~Command().

svn-id: r26402
"
"aaf8e48a02a7d5b8718b8f56b436f75860d6d547","2007-04-07 12:13:50+00:00","oops forgot to deallocate List nodes after usage

svn-id: r26403
"
"16dc3436adc60d77eb5f4e5093c8ba4d65cdc3bd","2007-04-07 12:47:02+00:00","New struct Answer introduced.

svn-id: r26404
"
"9cf94ef46ae54653610d6762348f69c5fb9691ea","2007-04-07 14:00:23+00:00","Implemented destructors for Question and Answer.

svn-id: r26405
"
"caf2b4d270ed2211c2810ac2e6c1db4f1dc78cc3","2007-04-07 14:01:37+00:00","Explicit constructor invoked when instancing WalkNode.

svn-id: r26406
"
"162247ad3e765e8bc193f9d7b94d00cb844b5f2e","2007-04-07 15:18:26+00:00","Changed Commands to use List<>

svn-id: r26407
"
"2f6f857eaf25dd78ac860d9c490041f4968884c2","2007-04-07 15:47:42+00:00","Fixed incomplete implementation of Command lists.

svn-id: r26408
"
"5a8b8ca92dc95ced8df2a7f6a46412c04ebfe757","2007-04-07 16:40:27+00:00","cleanup

svn-id: r26409
"
"edd226d1b646470780a785d32c06876697f75e7e","2007-04-07 17:18:16+00:00","Added new ManagedList class to handle Instruction and Command lists. The same class will be used to hold Zone, Animation and WalkNode lists.

svn-id: r26410
"
"c5b67c6e29eb67686f0098bbdf496d1a63e3b175","2007-04-07 22:15:16+00:00","Added missing common/events.h include and added a FIXME comment

svn-id: r26411
"
"48b5726043bc3c3a8c8378401db0cf054ff5d4b4","2007-04-07 22:50:56+00:00","Fixed broken implementation of ManagedList

svn-id: r26412
"
"614ae1c08cae7d5c9b6f4ecddfa6050c41aa433f","2007-04-08 00:00:38+00:00","Both Goblins 3 interactive demos are French.

svn-id: r26413
"
"dee8a04168fb0d0ccc58b73dd9fb8d0be9499b17","2007-04-08 00:08:26+00:00","Restructured saving/loading. Should work for Gob3 now, too...

svn-id: r26414
"
"f38de87e16e1293a184f3fafb946597d41df704e","2007-04-08 01:16:01+00:00","Add another Dutch version of Freddi Fish 2 for Macintosh.

svn-id: r26415
"
"65472233f209b81b44d3d0a50723d27a6a9c9db4","2007-04-08 11:42:27+00:00","Set SaveGamePath INI setting to '*' in HE72+ games, to avoid warnings about no SaveGamePath path been set in Macintosh versions.

svn-id: r26417
"
"0673fa4aa53abc3f52d8f413d9e035b6392bae21","2007-04-08 11:50:31+00:00","Rename setFilePath opcode to createDirectory, in order to reflect the opcodes true purpose.

svn-id: r26418
"
"d58b2bea3b6f79d9e8888b1c7caf115d024d766a","2007-04-08 23:25:53+00:00","Adjust debug output in writeINI opcode, so it doesn't get skipped.

svn-id: r26420
"
"83841fda36dee30e69bf34c60785d08b3fbc8eff","2007-04-08 23:26:49+00:00","Adjust debug levels.

svn-id: r26421
"
"53bdc1e0cf1f1c688c2e9cd8c486ff1435733081","2007-04-09 07:50:52+00:00","Fixed regression bug in dialogue code.

svn-id: r26422
"
"2d209264c9e46aea66daad8fba3cfff320c5f888","2007-04-09 09:58:41+00:00","Implemented enough of AIFF to play the music from the Broken Sword 1 demo. At
least as far as I tried it which, admittedly, wasn't very far.

svn-id: r26423
"
"a0dbf44ee1b98231b9c47a978302355b5618050d","2007-04-09 10:03:15+00:00","- moved walk code to List<>
- some adjustments to #include statements

svn-id: r26424
"
"a4fb87b98784839e433f60aacf16722b7b7ce1c4","2007-04-09 10:07:36+00:00","Fixed crash when playing looping WAV music.

svn-id: r26425
"
"41a5f70d72dd6a708b436c78e2fc58c88b9131ac","2007-04-09 10:53:17+00:00","I hope this fixes the file headers.

svn-id: r26428
"
"cfcf281b86ea412ae9c85475bc4ae20ccf47f651","2007-04-09 11:07:38+00:00","Cleanup of Zone/Animation removal code. Only the good god of void pointers knows how it managed to work until now.

svn-id: r26430
"
"44bd3e83bfbf472ccd444679deb893d2fce5d231","2007-04-09 11:22:19+00:00","Add another gob3 demo

svn-id: r26431
"
"b134842cbccb3afd7dad6530abff1313584990ae","2007-04-09 11:26:32+00:00","Update new demo description

svn-id: r26432
"
"c2b288028741a8abda8e89c146e15f5209ba78e4","2007-04-09 11:29:44+00:00","Improve report of unknown MD5, to ease copy-pasting to detection code

svn-id: r26433
"
"871e83d0705fc3a18a3cb4e7db1e77ee6481422f","2007-04-09 11:30:53+00:00","initialize _palette in OSystem_PSP_GU ctor, as it's used in setMouseCursor() before an actual palette has been set up. (fixes '[ 1670882 ] PSP: Missing cursor on Main Menu')

svn-id: r26434
"
"0d99a362e9323da21081da4719359ead62ce45d4","2007-04-09 14:00:23+00:00","Some fixes for the Gob3 demos

svn-id: r26435
"
"293be0bfa4101c40ac8530e5937593e6df73ad59","2007-04-09 15:40:10+00:00","Small glitch/different goblin handling fix for Gob3

svn-id: r26436
"
"333bac56c306c4addbb6cf834fe62dd075941b3d","2007-04-09 15:50:20+00:00","Added base class for the WAV and AIFF audio streams. It's the *Macintosh* demo
(and presumably the full game, as well) that uses AIFF music. My earlier commit
was a bit unclear about that.

svn-id: r26437
"
"326068406649927a4d13ebfe7e280ed206cac872","2007-04-09 16:56:47+00:00","Fixed the background glitch

svn-id: r26438
"
"258753e82cfa6fe5b427c6148b1ce0f812e87295","2007-04-09 18:00:22+00:00","also copy debug output to the (redirected) log files

svn-id: r26439
"
"9c7a8bd963ca71feec56082f66004d9b1923abcf","2007-04-09 18:29:51+00:00","Preventing scrolling while the menu is shown

svn-id: r26440
"
"4bf26957aa41cf3bb30bfcd2727381f4c3cc89c9","2007-04-09 18:55:45+00:00","silence a compiler symbol redefinition warning

svn-id: r26441
"
"c909ae47f69bea2da63c4fc91bd2087382ff18aa","2007-04-09 19:41:30+00:00","applied patch 1696852: ARM 4/1 scaler by Robin Watts

svn-id: r26442
"
"5dcd53ee9fd0097d5b451004c1215ca7f4934278","2007-04-09 19:47:23+00:00","these belong here and not to the precompiled lib pack

svn-id: r26443
"
"c51e87fdac4f7d78138d9343cfbfcceedc160a0f","2007-04-09 19:49:03+00:00","When the appendable audiostream is done with a queued buffer, delete it as
documented.

svn-id: r26444
"
"4bbb951c8e9f22a33575ea2e169343dabdd8e55d","2007-04-09 20:17:10+00:00","Fixed the wrong sound issue (laughing instead of a 'whooosh' sound) in Gob3's second screen

svn-id: r26445
"
"383533b11f857e299c1f379717b7f3f6a5688e37","2007-04-09 22:07:54+00:00","Fix compile.

svn-id: r26446
"
"a2db95daee710f043fae9e2f9122f2464061818b","2007-04-10 03:20:50+00:00","Bugfix to prevent a used item in give actions from not getting pased to the talk dialog for display

svn-id: r26447
"
"0a766e57864577f9ad6517d6061e47fd7dff7f26","2007-04-10 05:16:01+00:00","Remove two invalid entries for Simon the Sorcerer 2, since they use md5 checksums of the complete files (based on ICON.DAT).

svn-id: r26448
"
"f587f40c22d4df51364dd7cf64718a70e22b144a","2007-04-10 05:17:54+00:00","Correct details for Simon the Sorcerer 2 (DOS Floppy) with Russian patch.

svn-id: r26449
"
"ad3a3fe1d1d545a6818121a848eddaeaaf947c68","2007-04-10 15:10:18+00:00","Removed remaining references to the LaTeX docs; added a TODO for the Makefile 'bundle' target

svn-id: r26450
"
"6f8e77eb76c4311d69ac99ba3bcc704a216896c6","2007-04-10 18:46:34+00:00","Moved Jobs to ManagedList. Since Jobs must be ordered according to their priority, a new insertSorted method has been added to the implementation.

svn-id: r26451
"
"ab85ecdcb78fba1de64533c0ac3426c3ed0278ff","2007-04-11 20:01:06+00:00","- Moved Zone and Animation to List<>.
- Removed any reference to Node from codebase.

svn-id: r26452
"
"88b8f944355e8b97ffb7fc7f9ef8ef7ce0e3c313","2007-04-11 20:20:22+00:00","Implemented palette animation to Amiga version of Nippon Safes.

svn-id: r26453
"
"33ac8d550a97135c1fa6a87e1cc3dec49843b703","2007-04-12 09:00:16+00:00","Fixed an IMD glitch where frames weren't drawn at all (noticable in the CD version's cutscenes after the 'IDOL' screen, for example)

svn-id: r26454
"
"a35e5a42be087fe6a736eacdc5444a7f584bb3d7","2007-04-13 03:34:20+00:00","Adjusted word wrapping width in talk dialogs

svn-id: r26457
"
"7370c5aa1264b451766a1e5ed4d6257d3ee8b134","2007-04-13 07:48:26+00:00","The scrolling now works without cursor jittering...

svn-id: r26458
"
"bf3182abb8a34cdce93613f66bf013092b700ea2","2007-04-13 07:48:55+00:00","Actually use the palette after loading

svn-id: r26459
"
"6895085dff9dbcaf9593cb4ca931781920fcd9b3","2007-04-13 13:09:00+00:00","Moving the mutex locking out of the loop

svn-id: r26460
"
"e5de883ccf1b39ba431fbd73fa6308e15146837b","2007-04-13 19:55:09+00:00","Implemented fast modes: CTRL-f for double and CTRL-g for triple speed
Though I think it shouldn't break anything, use it at your own risk

svn-id: r26461
"
"ff31d88c9222a5084debd3fd7fceb8d0c264403f","2007-04-14 03:44:52+00:00","Added fix to set tinderbox to be in the smithy, and added animation needed for barman handling

svn-id: r26462
"
"8be61535336cd123c96c333bf3b9bc0ef6fea47b","2007-04-14 03:46:30+00:00","Added script method for barmen serving player

svn-id: r26463
"
"68225f78967b4328a7c52e3a25bd53320dea4ece","2007-04-14 03:48:24+00:00","Implemented handling for barmen (rooms 29, 32, and 35)

svn-id: r26464
"
"099ffb9cf0d735a9a5fcf91e524e4c818da9efb0","2007-04-14 05:02:12+00:00","Fixed warning.

svn-id: r26466
"
"98bd1275044c236906c3e1509ca6bade8ce62bf8","2007-04-14 11:00:29+00:00","Gave proper names to previously unknown/partially-known constants

svn-id: r26467
"
"2d2b3d0ed21ec800a8a87f9fde8d27206a0dc9c7","2007-04-14 12:03:46+00:00","Renamed AGOSEngine::midi to AGOSEngine::_midi

svn-id: r26468
"
"4b4d7dec8ef1483c81221027ffb6d3a5c2f8ee9f","2007-04-14 14:07:11+00:00","I must have accidentally broken frame skipping when I added DXA playback. Made
frame skipping actually skip the updateScreen() call.

svn-id: r26469
"
"29523e901756172d112de2cc9514373baa0be80c","2007-04-14 15:13:45+00:00","- Fixed another IMD drawing glitch (noticeable when becoming a giant)
- The IMD player now uses an AppendableAudioStream instead of a ringbuffer
- Changed waitEndSoundSlice() to use the time the sound was started as a reference point. This should help with the sync and fix stutter issues (in Wynnona's letter, for example)

svn-id: r26470
"
"8f5abc1924d5d7bdbc9684b870394f93ad80d2ff","2007-04-14 17:12:43+00:00","Extended Audio::openStreamFile function with startTime, duration and numLoops parameters, and slightly cleaned up its code

svn-id: r26471
"
"943656ab633f4353e8d09f1cac5ed27732107565","2007-04-14 17:35:28+00:00","Replaced the use of DigitalTrackInfo objects (which were being leaked, BTW) with a call to openStreamFile (code completely *untested*, so it might not work properly yet). Note the new FIXME comment regarding the playback duration

svn-id: r26473
"
"22f325af94007cc0e1722cf1e105dc191eeae684","2007-04-14 17:42:51+00:00","Removed some leftovers

svn-id: r26474
"
"624b57db3a421c3589e069c86253dfc6dea1f5cf","2007-04-14 18:44:15+00:00","oops, openStreamFile of course uses milliseconds, not frames, for the playback offsets/durations

svn-id: r26475
"
"adb0f89ae3632df1ce27f4304ea74861de749274","2007-04-14 18:48:09+00:00","Rewrote AudioCDManager to not use DigitalTrackInfo instances anymore, but rather create/use track AudioStream instances directly

svn-id: r26476
"
"2aeb84f12a8c5f585399be8a4b4087f45ce27e13","2007-04-14 18:51:38+00:00","Got rid of the last traces of DigitalTrackInfo

svn-id: r26477
"
"fe6b6323fa5f89e240b7face2d00a8abeccce7f4","2007-04-15 00:12:09+00:00","Cleanup.

svn-id: r26478
"
"aa0f36358bdba01f4714e69ad972e728b3309bc4","2007-04-15 00:21:42+00:00","Cleanup.

svn-id: r26479
"
"1c00843f2be1ccfd74182d0268d43fdf8dfcec6f","2007-04-15 00:55:16+00:00","Cleanup.

svn-id: r26480
"
"2d3e77db85b50ae7f6b36bfff658dd02c29f9155","2007-04-15 05:04:48+00:00","Split game engines, to allow further cleanups.

svn-id: r26481
"
"95661d65af55c60178339d2f1f966197d828aabe","2007-04-15 05:33:21+00:00","Cleanup.

svn-id: r26482
"
"7e0c88592fcec5ec77024918d19521520156695a","2007-04-15 08:32:28+00:00","Fixed some memory leaks.

svn-id: r26483
"
"c838ae690b85337b558ad582c9757dcf1bd349eb","2007-04-15 08:34:53+00:00","Fix a few Valgrind warnings.

svn-id: r26484
"
"e01efe4004bdd2faeb40ea69261253c8b9061239","2007-04-15 10:43:31+00:00","Added new script methods

svn-id: r26485
"
"3586004c96976fd261f37f6423ad995d7b4e55b0","2007-04-15 10:44:37+00:00","Bugfix to restore the correct part of the screen when the menu changes

svn-id: r26486
"
"2d617677dfe97253eb1ac43fe70c7fecf057c361","2007-04-15 10:49:59+00:00","Bugfix to have Ratpouch correctly follow player, and new object animation handlers added

svn-id: r26487
"
"48c21a1e314c9c3b605e498a1de612d515975b96","2007-04-15 12:04:47+00:00","Add eriktorbjorn's patch to split script opcodes into specific game engines.

svn-id: r26490
"
"258ab37a9a0b2ca426d2908408dfe09e451eea02","2007-04-15 12:12:21+00:00","Altered message display to correctly handle optional display of hotspot/character article prefixes

svn-id: r26491
"
"72edefea5146aa09e31e330b93651ac1ac0f5ea5","2007-04-15 12:46:10+00:00","Fixed another IMD drawing glitch (noticeable after Ooya gets his magic bag back)

svn-id: r26492
"
"3c62df7dfe3d957f6100706e88baafa3fe3779f6","2007-04-15 12:46:31+00:00","Removed the need for double<->int conversions in readBuffer()

svn-id: r26493
"
"5e1c6c79077ba2159dc8ed5e96e259663932bcd7","2007-04-15 13:39:08+00:00","- Renamed some files for consistency with other engines.
- Kyra2 detector entries update.

svn-id: r26494
"
"1b71599d86b66b53e601ec7c5781c63d4d07d595","2007-04-15 13:41:54+00:00","MSVC8 apparently complains about uninitialized variables there, fixing (see bug #1700986)

svn-id: r26495
"
"8c4e539a40f816400d89ba45e04f85869642318c","2007-04-15 13:44:49+00:00","Readded lost files.

svn-id: r26496
"
"b932d602516365bf6a62a36773743279a26cf65b","2007-04-15 14:12:08+00:00","Cleanup.

svn-id: r26497
"
"9bb3e2e495112c98b07eaa2e8bb7bdee93e6f5ad","2007-04-15 14:12:11+00:00","Some more MSVC8 uninitialed variable warning (see bug #1700986)

svn-id: r26498
"
"504df5a48ee4267750674605f59d83997fcdd47f","2007-04-15 14:19:27+00:00","cleanup.

svn-id: r26499
"
"7fad7c6f3f40540c933a022c144bbe5187006f01","2007-04-15 14:23:23+00:00","Fix Elvira 1 regression.

svn-id: r26500
"
"5668e15b2efb2aa9ab5bff3cf6b257a3986602ff","2007-04-15 14:32:58+00:00","Update reporting of invalid script opcodes.

svn-id: r26501
"
"b9443dfb60e533d614c4914dfabb4e75e45cdf38","2007-04-15 14:38:02+00:00","More cleanup.

svn-id: r26502
"
"69828cf56c2a090f1e4a354ac6095446c11588fc","2007-04-15 14:43:23+00:00","Fix mouse regression in Swampy Adventures.

svn-id: r26503
"
"7232dba7479e01b69df5cee7b8d968bf6e3e21c2","2007-04-15 14:56:33+00:00","Applied the patch by thebluegr (bug #1700986)

svn-id: r26504
"
"ac7b134565b351d1b8d5e100e964cd35788387c9","2007-04-15 15:04:59+00:00","Another patch by thebluegr (bug #1700986), adding sound/aiff.cpp and backends/events/default/default-events.cpp

svn-id: r26505
"
"ae7c6406712dcc5f3567caaab9b2f95c379c9c10","2007-04-15 15:40:24+00:00","fixed warnings

svn-id: r26506
"
"2c3e9e087f94bd4f2d121dc61b80ad28c0ee163b","2007-04-15 16:03:10+00:00","fix compilation of null backend

svn-id: r26507
"
"c8396a283df5f56b6945d6b569a3a5ea6d10ac78","2007-04-15 16:26:12+00:00","Fixing compile for me, hopefully not breaking it for the MSVC8 again...

svn-id: r26508
"
"e962db5b6d6856a31e52f7e3c4038a0f8f47e25d","2007-04-15 16:30:54+00:00","Some more supposedly unitialized variables (see bug #1700986)

svn-id: r26509
"
"21b2c7bceb5947e1eaa79890fe24f59def54aef9","2007-04-15 16:41:20+00:00","Formatting/Cleanup.

svn-id: r26511
"
"6b124fc20dbd8b455c83ef76c04e62bc52a66683","2007-04-15 17:16:05+00:00","Patch #1700002: New .desktop file translations

svn-id: r26512
"
"35b19cdcc8499cf3b73e49a864eea976cc9525fe","2007-04-15 17:26:07+00:00","Added german translation of the .desktop name; removed invalid category 'Application'

svn-id: r26513
"
"aecd100f93cf0d475092acefe37bff8c5d55b881","2007-04-15 18:27:10+00:00","Added Common::String::contains() method

svn-id: r26514
"
"f8067d54e53084c9fd7ef848fd855967d0641465","2007-04-15 19:03:25+00:00","Fixing some memory leaks in the GUI code

svn-id: r26515
"
"642fa67da9c271244de373431166f23449ec8543","2007-04-15 20:36:44+00:00","Added code for decodeParseString.SO_PRINT_WRAP and rewrote the CHARSET_1 function in order to match the original V8 interpreter. This should fix bugs #1036707 and #1662610 (subtitles word wrapping issues).

svn-id: r26516
"
"2c9116de3b1510807bebc39c10332b3bd19d2184","2007-04-15 20:45:55+00:00","simplification (_useTalkAnims is not used in >= V7)

svn-id: r26517
"
"c43960b958fc7a6e7c1bf83c75cc5033a049f952","2007-04-15 20:57:56+00:00","- Fonts are now preloaded at start.
- Replaced font string names with enums.
- Some slight simplification to Disk.

svn-id: r26518
"
"b048a557ab4a4e8e8e4f96a8de02845bf2d468af","2007-04-15 21:03:06+00:00","removed unnecessary casts

svn-id: r26519
"
"46462e8f5e833156d896a3c48e34dca94892b0f3","2007-04-15 22:14:06+00:00","fixed warning

svn-id: r26520
"
"2653b70b0cb3ca0ea4edabcbcade70aceaa926c2","2007-04-16 05:03:52+00:00","Fixed regression that was added when making it compile with MSVC8

svn-id: r26521
"
"bd69261cf556e89e6c4fe9586673697818d352b4","2007-04-16 05:04:41+00:00","Bargon Attack uses wide surfaces, but shouldn't scroll in-game regardless

svn-id: r26522
"
"bdadeb13132f0965a1aba8deeb0608bf2fb57449","2007-04-16 05:05:35+00:00","Mouse button presses shouldn't repeat. Fixes 'cut-scene' after the idol part in Gob3 Amiga

svn-id: r26523
"
"3e7ead9a8103715e07665d65c47521ab2fdb1bae","2007-04-16 05:06:16+00:00","Updated the MSVC8 project file again, adding the new file init_v3.cpp

svn-id: r26524
"
"894959444d55b3f25af3c661e1e8678222f79377","2007-04-16 09:13:43+00:00","Fix the level selection screen in the KIXX XL release of Monkey Island 2 (Amiga disk).

svn-id: r26525
"
"31d728bf55b6a5c3f7d35fae1657c794e6bdad9c","2007-04-16 10:43:43+00:00","added credits for wince code contributions

svn-id: r26527
"
"bf7123548ab5dc5f3eef105ea4d58a30f4844c29","2007-04-16 20:06:35+00:00","NDS : Trunk fix for latest libnds

svn-id: r26529
"
"987638a71361129748ef0bfac51850d7c8dc3ecc","2007-04-16 20:16:18+00:00","Now handling fonts with brand-new Font hierarchy. Amiga font have been implemented for dialogues/descriptions, but not for labels yet.

svn-id: r26530
"
"ae71d160b4176f644ae0156cb68b7e50b5ecaf05","2007-04-16 20:17:23+00:00","Updating Code::Blocks project.

svn-id: r26531
"
"694e7e9b4edfb204adc3103b95c0d9e55b888649","2007-04-16 20:17:44+00:00","oops forgot to update this

svn-id: r26532
"
"2d9cf85a73567a06c0dec87d25a6ac5f5574cc4b","2007-04-16 20:26:43+00:00","Fix compilation

svn-id: r26533
"
"78939c8166f27f226fb3e29d451e49498222ed92","2007-04-16 21:08:13+00:00","NDS : #define to experiment with a faster, less precise, CPU-scaler

svn-id: r26534
"
"ed178f7e8490aee503ee402f6f0929c88f07edc1","2007-04-16 21:29:55+00:00","NDS : Potentially faster, less precise, CPU-scaler plugged

svn-id: r26535
"
"969d2572743d0d9415f63c6c1c54f04090681224","2007-04-16 22:10:45+00:00","NDS : Compile fix

svn-id: r26536
"
"23a86ea571a8cdbd11705f81203587a209ab41d7","2007-04-17 03:47:47+00:00","Bugfix to have multiple savegame names list vertically

svn-id: r26537
"
"f9a32ff7d26eded08d7401408eea6cfad1d13055","2007-04-17 03:48:51+00:00","Bugfix for Grub's animation handler

svn-id: r26538
"
"0d3a2894f8f2497c950726b8f3265a8d1246985a","2007-04-17 05:57:17+00:00","Fixed a bug that crept in during clean-up

svn-id: r26539
"
"245d8fa63df246ba40bd690a70253ee06f65f195","2007-04-17 07:19:23+00:00","Changed processInput() to use the ascii value instead of the keycode, so that upper-case characters work

svn-id: r26540
"
"7d7cee6649a3e69a1e27347bb55568416c9f479e","2007-04-17 09:40:10+00:00","Fix scroll handler

svn-id: r26541
"
"4a0c27dc860935005b1057412e569a1804b32ef4","2007-04-18 06:54:00+00:00","Bugfix for original game inter-room routes that could get your sidekick stuck alternating between rooms 10 and 11

svn-id: r26542
"
"913a00ef930a9a559e3873ee05936394ddd054dc","2007-04-18 09:42:13+00:00","Update details for Russian translation of Simon the Sorcerer 1.

svn-id: r26543
"
"9d50a5a64ff98273008127125fb704d6dfe475f4","2007-04-18 11:53:07+00:00","Fixes bug 1702679.

svn-id: r26544
"
"a3bde14ead0d99557b5f8fb241b2f70a54e0a718","2007-04-18 20:59:51+00:00","Fixed bug #1701842, after discussing with Fingolfin.

svn-id: r26545
"
"fdea5abb34a8a00a4dfd02e8081aa550e43bedb7","2007-04-19 06:46:56+00:00","Added code to prevent NPCs from moving when being talked to

svn-id: r26546
"
"28df3debfdfbce08476bbec2900d53651de69bda","2007-04-19 13:51:57+00:00","- Fixed handling of the case split screen + vertical scrolling area
- Added manual vertical scrolling
- Restricting the mouse cursor to the upper part of the split screen now

svn-id: r26547
"
"c05de31877c21275080cfead19ed1197d2a10e80","2007-04-19 20:26:56+00:00","Re-adding the 'Application' category -- while it is not part of the spec, apparently some stuff relies on it anyway

svn-id: r26548
"
"b339da055c10ab743000aca0af5cb1bac32d4696","2007-04-19 20:29:43+00:00","Patch #1702466: Catalan and Spanish .desktop translations

svn-id: r26549
"
"e7db71f62f73d4bd462637bfbb1152663e5e5d8b","2007-04-19 20:32:11+00:00","Patch #1701152: MSVC7.1 (.NET 2003) project files update

svn-id: r26550
"
"82d7f4afa905d128334a6ee726d613b0928141cc","2007-04-19 20:34:33+00:00","Patch #1701118: Remove non-english characters from ym2612.cpp

svn-id: r26551
"
"c9970a8005c8ea31dc7dcc2ca5e8da82f42321c1","2007-04-21 12:51:40+00:00","- Implemented Amiga halfbrite mode in palette code, though usage is limited to displayItemComment() for the moment.
- Some changes to palette routines to make them fit with the new scheme.

svn-id: r26553
"
"6e8fe8632d4b4ba70b81ce1683c5bf04661340b4","2007-04-21 14:01:36+00:00","improve the looks of keysdialog

svn-id: r26554
"
"17b28bd65275456fbc7e4b47a58826352975c39c","2007-04-21 14:06:55+00:00","not used in a long time

svn-id: r26555
"
"8d7d61f1f67a50f70e14e85b8c05a2aa4a4a6cb9","2007-04-21 20:13:15+00:00","Some more small fixes. Gob3 is completable now :)

svn-id: r26556
"
"b1e79b9253d17ff9ea6d996b4416569c658e9cc8","2007-04-21 21:23:26+00:00","More meaningful error message

svn-id: r26557
"
"28e721836a959f0283c00aae49dcb0481091e387","2007-04-21 21:29:52+00:00","Slighty modified patch #1704979: 'Fix for #1690045: ITE: Item description missing'

svn-id: r26558
"
"873efee47ffc540a4f5af02a746811fb6b5d88ee","2007-04-21 21:31:53+00:00","Slighty modified patch #1661777: 'SCUMM: allow non-english DIG and COMI
to be set to English'

svn-id: r26559
"
"3be109b64630978e4caf1a4c1b66197cda0afbed","2007-04-21 21:35:30+00:00","More safe version of patch #1689533: 'AGI: Load from command line'

svn-id: r26560
"
"08f5b5f31d3503cfe8927b347988edcc921e6453","2007-04-21 21:39:27+00:00","Patch #1704575: 'Fix for #1692346: 'KQ2: Cannot leave menu''

svn-id: r26561
"
"b0ae4bf1a38b8957b8810d710a2a90f8c2039e6d","2007-04-21 21:47:14+00:00","Patch #1704914: 'Fix for #1671426: MH2 : Doesn't recognize Enter for actions'

svn-id: r26562
"
"8c8066b7abdca20c55026b88fa01b1c57de53931","2007-04-22 09:46:22+00:00","Added stubs for Amiga specific callables.

svn-id: r26565
"
"3f3c7bf7e822e3a974ae6edc33fda6250a704f0b","2007-04-22 11:01:08+00:00","Document Alt-s hotkey in SDL backend, removed bogus reference to Ctrl-s hotkey for SCUMM games (it's not a hotkey of the engine, just a few SCUMM games happen to implement it)

svn-id: r26566
"
"55152e40554003f965e8fa4bca76a720bbb61de7","2007-04-22 16:06:00+00:00","Fix for loading savegames from the command line.

svn-id: r26567
"
"f01fbb846751797e4a897a0c203349273a0215e5","2007-04-22 16:17:14+00:00","Patch from bugreport #1678230: 'AGI: Entering text while screen is shaking'

svn-id: r26568
"
"fa99ffd26728197d2cae7adbc8722dca54c2416a","2007-04-22 22:33:42+00:00","Added animations for player transformation into Selana and freewing Goewin

svn-id: r26571
"
"307506df9ce7537b1ecbb967fc165ac7548dfc25","2007-04-22 22:42:01+00:00","General bugfixes, added animation handlers for creating potion and freeing Goewin, and in-progress work on completing original game's action precheck code

svn-id: r26572
"
"8d1a5da68001bf938115e63cdcd0d56c097cfdb6","2007-04-23 08:12:43+00:00","Patch #1705392: 'Fix regression with patch #1704914'

svn-id: r26573
"
"63795bcdad588fcba7525bb2633176e4891c2d53","2007-04-23 13:58:28+00:00","Add Filippos to the Team

svn-id: r26574
"
"77afb85fcd6e9f92d6ca56623ddcbad4cae0e59a","2007-04-23 17:07:09+00:00","Fixed walking bug: random nodes aren't inserted in the walk path anymore.

svn-id: r26577
"
"ea7157c5b8d2847376c940bb70ee15434f845d5e","2007-04-23 17:07:47+00:00","Simplified loading of background resources for Amiga.

svn-id: r26578
"
"0f8c1d4200fcc72086cab52b2930946e409e39f7","2007-04-23 17:08:19+00:00","Tiny fix for missing text in slides.

svn-id: r26579
"
"7609a54520f0e5dcc16dc23333f2d26f66a3fbe4","2007-04-23 17:22:47+00:00","Some fixes for font management:
- new Amiga topaz font
- labels can be seen on the Amiga demo
- colors are now working

svn-id: r26580
"
"b60c35e6f131fb0ea1b491f409c2edf3ec8755e4","2007-04-23 18:28:14+00:00","Fixed VS2005 warning

svn-id: r26582
"
"fd08c7278dfeb2365ec13cfbd4a4f652563c0b56","2007-04-23 21:16:13+00:00","Improvements on background masking in Amiga versions (not yet perfect, though),

svn-id: r26584
"
"0782fc544859fc7cbd9e6326687c7673aca61806","2007-04-23 21:19:09+00:00","Fonts have been taking care of them being proportional for some time now, so it's time to remove old flags.

svn-id: r26585
"
"c1d8a1a01c0f5dd7e0ac13022d18d21a15ca055e","2007-04-23 21:31:03+00:00","Fixed paths. (Short comment for big achievement).

svn-id: r26586
"
"de9e72bc76d74cfb35d9cc1c90a67330458984c6","2007-04-24 06:31:04+00:00","Patch #1706179: 'GUI: Sort languages list'

svn-id: r26587
"
"5c3cd349636e8da7a6993d1cb041b011d45b6d62","2007-04-24 14:02:25+00:00","The amiga version has english and german text

svn-id: r26588
"
"aa8fa78f623b8a20eaa496f16cd29193668c9cff","2007-04-24 15:43:16+00:00","Patch #1705791: Patch for #1648396 - AGI : SQ2 / 2.0F / IBM / priority line

Modify a workaround made for SQ1 to work on SQ1 only, not all AGI games. This fixes bug #1648396 with SQ2, a bug with LSL1 (Sarien bug #925074) and possibly others

svn-id: r26589
"
"bc0dcbfb58515aec1c332a5d3250f2448d841a5f","2007-04-24 16:12:43+00:00","Added the italian floppy version of Gob3, as supplied by Paranoimia on #scummvm

svn-id: r26590
"
"f5ab44cb541cadf9e863c16cafa011f9b9816bad","2007-04-24 19:24:56+00:00","Added the french Atari ST version of Gob2, as supplied by bgk in bug report #1706861

svn-id: r26591
"
"8306e0ebe5bddd5945bdfb436fcfb7148160e029","2007-04-25 17:40:27+00:00","Re-generated credits.h

svn-id: r26593
"
"00b9bc7b36682365e64d710b4e843659bef373da","2007-04-25 19:31:23+00:00","Removing lots of superfluous semicola (see mail by David Weinehall on scummvm-devel)

svn-id: r26594
"
"70bae60c444d0e6809cac28415d935e2fc7ff681","2007-04-25 19:52:26+00:00","Removed some more superfluous semicolons in the gob engine

svn-id: r26595
"
"8b7d458668b93cf5cbfdc6e8c326a639b29ecc8b","2007-04-26 13:00:52+00:00","Oops.

svn-id: r26596
"
"d4660cce55e8b49d1387a8f117b370fe76361720","2007-04-26 19:08:53+00:00","Removing more semicola

svn-id: r26597
"
"a3ca3a3a3fbdb66b11ba17dbd3fcd06ded79a217","2007-04-26 20:18:12+00:00","Make AGIPAL support more robust

svn-id: r26598
"
"e9f8035b53797c6c58c0597041b94aa737a06857","2007-04-26 20:26:49+00:00","Remove bogus use of tstr2 (which is empty at this point anyway)

svn-id: r26599
"
"02fd340b8ca0d1d7509e9a4b0c9298a65ca2bef9","2007-04-26 20:35:10+00:00","Patch #1697907: Small patches for AdvancedDetector

svn-id: r26600
"
"672ad9928a695d5b60e2bf8bd9f0fe5ce788901c","2007-04-26 20:36:52+00:00","cleanup

svn-id: r26601
"
"ff2ed4b0a923ed64a9918d41cd6ebaf5ff2dedc5","2007-04-26 20:40:28+00:00","More cleanup

svn-id: r26602
"
"550a6bbf409bfcff102a7d19e21d3286ae78de66","2007-04-27 07:04:12+00:00","Patch #1705747: Speedups for plotYUV and related functions

svn-id: r26603
"
"edd9b31a483c07066537663a01c265d99d69ada7","2007-04-27 12:15:47+00:00","Cleanup.

svn-id: r26604
"
"c01aa37caaadb2e65667b1156a907e92e859fee8","2007-04-27 12:58:35+00:00","Add cruise source code for scummvm

svn-id: r26605
"
"bebf5e585271ffcbf87f6a8d6269cde20cc24f7c","2007-04-27 14:43:09+00:00","Added the English version of Cruise for a Corpse to the detector, fixed typo

svn-id: r26606
"
"d00e72e5c8ea70eb699f22a3f438ee90e18ee52d","2007-04-27 14:50:27+00:00","Added the cruise engine to the list of plugins in plugins.cpp

svn-id: r26607
"
"18f1475b039c62e00997ab3f14942d037d78b702","2007-04-27 15:10:13+00:00","Updated configure and engines/engines.mk to include the cruise engine (disabled by default)

svn-id: r26608
"
"8c829072a969372d8df8a8aac703791d0ed192a3","2007-04-27 15:21:01+00:00","Adding cruise/module.mk

svn-id: r26609
"
"1ef6a1a7a1e76945ee37ac60989a79472a131739","2007-04-27 15:35:28+00:00","Fixing compilation for me

svn-id: r26610
"
"a1217a9b6a38ba91e93968cc63e4d917246150ae","2007-04-27 15:53:25+00:00","Fixed some warnings and unused variables

svn-id: r26611
"
"def6179a641fd5765e524bb7fdc18c4538175f08","2007-04-27 16:03:45+00:00","Fixing some more warnings

svn-id: r26612
"
"63fcc7feea6c56d148ccffeb4059b51b757c7318","2007-04-27 16:23:12+00:00","Removed some more warnings, fixed a regression made

svn-id: r26613
"
"b5bc32cf56575286c0b6653d130f0f3980023df7","2007-04-27 16:28:22+00:00","Wrong paste

svn-id: r26614
"
"bfe346afd2e59fa42645e4f4b292a71e1a1704f3","2007-04-27 18:54:33+00:00","Fixed loads of warnings with MSVC and gcc

svn-id: r26615
"
"4958b5862251e7106c9a2d5d8a71f2a737324f03","2007-04-27 19:50:45+00:00","Added a doxygen comment to makeProtrackerStream -- somebody who knows the code behind this please complete/enhance this

svn-id: r26616
"
"b4e196e4fd2f6efef5e109cf0e8449eb8ae50130","2007-04-27 19:54:14+00:00","Fixing lots of warnings

svn-id: r26617
"
"bead956c8de3eb8548de9b799c12b46b424cc14c","2007-04-27 19:59:40+00:00","Fixing more warnings

svn-id: r26618
"
"81d6873608d92dccd6192a1050b8fb96fed76956","2007-04-27 20:06:42+00:00","Refactored music code for dos version and added music to Amiga versions.

svn-id: r26619
"
"be496e3f97764aef340b71832c5130a3c474c768","2007-04-27 20:18:09+00:00","Give proper name to CruisE engine.

svn-id: r26620
"
"89ee8945c1bab03625dd5749b5d540edd08cf20c","2007-04-27 20:22:55+00:00","Fix warning

svn-id: r26621
"
"579a3fe7cff57a6a070d009873224954f22581c9","2007-04-27 20:23:25+00:00","Renamed plugin.cpp to detection.cpp in all engines

svn-id: r26622
"
"fbc2f89b08db6c336741b984fd4b9708fcd15c3e","2007-04-27 20:26:54+00:00","Renamed some game.cpp files to detection.cpp

svn-id: r26623
"
"0d07a51acf775b638b1112e707cc615041a2e938","2007-04-27 20:31:43+00:00","Cleanup

svn-id: r26624
"
"960f7cd75a5c70d2d694e20c158fabb3df714f36","2007-04-27 20:32:09+00:00","Moved lure detection code into a new detection.cpp file

svn-id: r26625
"
"1a3aa8678377bffa15ab106a65c3747e226cb68f","2007-04-27 20:35:29+00:00","Fixed compilation (and a warning).

svn-id: r26627
"
"da93916adc1ff8b89eecc024dd7d8788df7cd1d2","2007-04-27 21:07:37+00:00","Fix compilation

svn-id: r26628
"
"f479aa73bab5717f49844daf53c07a957627389e","2007-04-27 21:25:03+00:00","That should fix another segfault when clicking outside of the screen (bug #1708863)

svn-id: r26629
"
"101fbdd64f1a9d62c40dcdd20d618a098dc9df7e","2007-04-27 22:12:46+00:00","Fixing more warnings

svn-id: r26630
"
"ffce26ebfea301ec33f3d485fa9dbaa0dffccb5b","2007-04-27 22:33:45+00:00","Fix code formatting (partially) and guard defines in includes.

svn-id: r26631
"
"3924a2587fd3db6e1891cfcec51471410470bdff","2007-04-27 22:35:05+00:00","Renamed sagagame.cpp -> detection_tables.h; merged sagagame.h into saga.h

svn-id: r26632
"
"030cd2c02a188bbd166458599767ad720e85af02","2007-04-27 22:39:31+00:00","Some tweaks to saga/detection_tables.h

svn-id: r26633
"
"5bf7b78aa2e0e55d3ebbbfb213070a8ac12efdb2","2007-04-27 22:42:02+00:00","Renamed agosgame.cpp -> detection_tables.h

svn-id: r26634
"
"60aec5b9f135058360fce2bb5332d6deceda2799","2007-04-27 23:11:12+00:00","SAGA: Moved displayinfo stuff into its own header file

svn-id: r26635
"
"ff42c7f01b006504bd32afe5279e9d19e87d77c4","2007-04-27 23:21:36+00:00","SCUMM: Moved data tables from detection.cpp to detection_tables.h

svn-id: r26636
"
"b56336391188da3d45a7a2a04184a08110ff6606","2007-04-28 00:26:57+00:00","Fix extended characters in font
Implement palette manipulation

svn-id: r26637
"
"32dbf6ae52a2c3938d7c77a5edd80980e62f9826","2007-04-28 04:22:23+00:00","Fixed warning.

svn-id: r26638
"
"6ba72121ad547a5bacaa2c89215ca6f48653f46a","2007-04-28 04:29:05+00:00","Changed abs() to ABS()

svn-id: r26639
"
"39238a9472c64f6416bf855966460bd06585a833","2007-04-28 06:57:32+00:00","Ahem. Fixing code formatting.

svn-id: r26640
"
"da2d6b64af58f5c5595146acd467ddf61b879582","2007-04-28 07:00:33+00:00","Add code difference for inventory arrows in Amiga versions of Simon the Sorcerer 1.

svn-id: r26641
"
"255fa9e359b77526b6c6eec2fb0b9f415609890c","2007-04-28 07:04:34+00:00","Patch #1709073: 'MSVC7.1 project for Cruise'

svn-id: r26642
"
"806aadbd75c96351905ddd9e171447ad44f97739","2007-04-28 07:21:28+00:00","fixed warning

svn-id: r26643
"
"e005b0f42e491de6090a01b8682bbcfe9fa83d5b","2007-04-28 07:27:53+00:00","This is an updated and slightly cleaned up version of patch #1657061 ('SWORD1:
Cutscene subtitles'). It still has the deficiencies listen in the patch tracker
and should therefore be considered work-in-progress, but sev said I should go
ahead and commit it anyway. I have no further plans for it right now, so feel
free to improve on it.

svn-id: r26644
"
"ec0f18962a0204423a404fcdcb05ef87ca9a908e","2007-04-28 07:31:44+00:00","update msvc8 project files

svn-id: r26645
"
"ded4907836c2abdab4fa0f4ff1c983722a7ebbae","2007-04-28 07:33:02+00:00","forgot about depends

svn-id: r26646
"
"246e83753a1585ca24e9629940df973be611a91b","2007-04-28 09:03:11+00:00","Some minor cleanup (but we need to get rid of fopen/fread use here)

svn-id: r26647
"
"7ca6b29f35d522d78c583979a595a6b5bb80cca9","2007-04-28 10:40:00+00:00","Double-invert the logic on some big/little endian checks (the idea is that we want to fallback to safe code unless we definitely know no endian/alignment issues are in the way; this way it will work even if the endianess is unknown)

svn-id: r26649
"
"343f624143c279d412bc0059f690761c5d898638","2007-04-28 12:05:50+00:00","Updated the rootnamespace property and unified the compiler optimizations across all engines for the MSVC8 project files. Also, changed the subsystem to be console instead of windows, so that the console window is shown, like in the gcc SVN binaries

svn-id: r26650
"
"9bf84a30ef5c55f72a9a7df0ed9b359be9e124e8","2007-04-28 13:43:51+00:00","Updated configure to generate flags in config.mk for MAD, FLAC, MPEG2 and Vorbis; updated scummvm-static Makefile target to only static link those libs which are actually used

svn-id: r26651
"
"1337ce8296d84496a2cabd5e58b86274bcb326a2","2007-04-28 17:24:54+00:00","insert key up events for synthetic events

svn-id: r26654
"
"59550346b4270c01a8870a3497df5cab17bcf2e0","2007-04-28 17:27:08+00:00","cleanup & completely map wm device's keys

svn-id: r26655
"
"324e27c73d58146d330c69ceeac688c0222c171b","2007-04-28 17:28:43+00:00","cleanup

svn-id: r26656
"
"6d1107615dcc0b5dc345c8f2e6391bc9f3c3d5dd","2007-04-28 17:31:41+00:00","cleanup, implement new default action mappings, bump action version, enable keybinding at launcher, fix quit dialog looks

svn-id: r26657
"
"4670ff73881c17b63f117c8442451380371dbbf4","2007-04-28 17:34:09+00:00","cleanup, more meaningful names for actions, fix quit dialog looks, bump action mapping version

svn-id: r26658
"
"36466497a8ca7c78a8b1fc7ef7150f633d75f05a","2007-04-28 17:35:18+00:00","bump action mapping version

svn-id: r26659
"
"dae21b3b3189969db665d6c187644adea7e6cc0f","2007-04-28 17:37:41+00:00","more logical formatting for scaler code, at least for me :-)

svn-id: r26660
"
"2a80fc1c6b3404663a67a0d3ed3c9b44d83c22d9","2007-04-28 17:40:44+00:00","update for cruise engine, fix a little oops LordHoto pointed out

svn-id: r26661
"
"4e12eeeb79cd6a473fa9fcfaa201d26b4aa6780f","2007-04-28 17:42:12+00:00","add focus flag

svn-id: r26662
"
"187071d0291598eb40be6ecf2ff0c76b7eaf0fa5","2007-04-28 17:48:58+00:00","Cumulative update to coincide with newer SDL libraries. Builders *must* update their libraries/fetch newest library pack.
o Overwrite with default key mappings when action_mapping version changes
o Added support for handling scummvm losing focus (e.g. a call)
o Enable rotating for all devices/resolutions
o Update sdl video startup to follow current sdl
o Generally update code to work with new sdl lib

svn-id: r26663
"
"4487f5be6a1ac1aad90bae969f74e76dd96b66b6","2007-04-28 17:57:44+00:00","announce updated sdl lib port

svn-id: r26664
"
"339c39f8b7dcc2d245ba936f332592490f0bac3d","2007-04-28 21:16:13+00:00","Possible fix for bug #1709124 ('GOB3: (dos/russian) just dont run')

svn-id: r26665
"
"fe8d2a8e7f899858784464550423f0deb5470f6c","2007-04-28 22:31:55+00:00","More cleanup
Few bug fix

svn-id: r26666
"
"4a19a563af97ff4e7c3a6d4d972dc62470c2ab4e","2007-04-28 22:35:14+00:00","bugfix aspect scaler

svn-id: r26667
"
"4a4040260982a515cb696453284b7bb585872a12","2007-04-28 22:37:42+00:00","rewrote drawing loop in a more straightforward fashion, which also kills some bugs

svn-id: r26668
"
"f5c73e1603c98df8a9e0ac1c99e9b4da27eb8132","2007-04-28 23:21:13+00:00","Implement missing opcode and fix staff intro

svn-id: r26669
"
"e0b462b33b9080b46d354d525ef54da4c186bf1e","2007-04-29 00:15:32+00:00","Fix for crash when trying to select an outdated/wrong theme config.

svn-id: r26670
"
"7143d08e71f85f11df43842544bbb3b4c6a5fbbc","2007-04-29 00:18:54+00:00","Little improvement for theme config validity check.

svn-id: r26671
"
"3ca3f07cdd8d3f1ab7b9de309997316a2201226b","2007-04-29 01:07:19+00:00","Only update the backend's palette when necessary, since doing this triggers a
full redraw. (We still do that by updating the entire screen every frame, but
that could possibly change in the future.)

As an added bonus, I can now see all the glitches of the English version's
intro in full ScummTechniVMColor. :-)

svn-id: r26672
"
"c0d487830ea8d23b2ca0e0ccb8ecd196dbf5bf53","2007-04-29 11:28:13+00:00","Added talk script offset field to hotspot resources

svn-id: r26674
"
"885f687ae597d709441928a6bb484ee703691aca","2007-04-29 11:30:29+00:00","Reworked hotspot actions so that talking to characters work properly

svn-id: r26675
"
"43779ab10cc1eda75ea5beefaff9867e7ad34d67","2007-04-29 12:20:35+00:00","Hard crash when not using adlib/pcspk in a Loom/MonkeyEGA is not nice, we should try to add a safe fallback mode at some point

svn-id: r26676
"
"21e53116507c57f1639126cd04bd7fe9c864896c","2007-04-29 14:06:46+00:00","Handle the escape key properly in KQ4. Fixes bug #1660158

svn-id: r26677
"
"3821ef456a8d39752d4809fc3b60c4f00ca482a4","2007-04-29 18:22:07+00:00","Change getNumBoxes() to properly read the full uint16 box count (shouldn't affect anything, though)

svn-id: r26678
"
"68175c713bc742fc5cbb12c9183211d4a6d8c657","2007-04-29 18:26:27+00:00","Patch #1709681: SCUMM: Fallback to Adlib when Roland Upgrade is missing

svn-id: r26679
"
"2cb3b5a9c65cf64a14a191acd572a98b4155ebda","2007-04-30 07:56:45+00:00","Added NPC to NPC talk action, and a bugfix for when remote viewing a room

svn-id: r26680
"
"d449697aa5534b775b8471fbfa9730db679cfc46","2007-04-30 07:58:09+00:00","Cleaned up the script engine opcodes, added debug names for recently added script methods, and bugfix to method that was causing a crash in the first room

svn-id: r26681
"
"81adc13e24bb5106fe6015b0804f9294bbdf0ed5","2007-04-30 20:30:05+00:00","formatting

svn-id: r26682
"
"7bcfde48fb23219665543475afd42be2f5eb841f","2007-04-30 20:31:56+00:00","better zoomup/down + panel handling for hires, also fixes bug #1593299

svn-id: r26683
"
"7b614f3ee9154740a2582aad2fccf309303d0dde","2007-04-30 21:11:09+00:00","add zoom up/down actions for touche

svn-id: r26684
"
"e3eb62b1a87b55616ccb76133f4791a9a1a844a2","2007-04-30 21:12:57+00:00","correct place for touche screen size adjustment & one more check in the draw loop

svn-id: r26685
"
"566b6a706859459d6ae8cd8a88e3ab41d1300c72","2007-05-01 09:24:22+00:00","Code will be updated to get rid of this file

svn-id: r26686
"
"5f77c8ff30eee7be5c693a91025d5f69a53d98dd","2007-05-01 09:28:53+00:00","Those files are now part of an external PalmOS SDK

svn-id: r26687
"
"64b771412590b4e53283090c7360fb8224e76f07","2007-05-01 09:31:58+00:00","This file is now part of an external PalmOS SDK

svn-id: r26688
"
"eac31d6f5627867753198a3ee3cfee421dd2ce94","2007-05-01 09:34:53+00:00","Cleanup, now part of an external library

svn-id: r26689
"
"e0a77867ccba4b426fb885fd006c17a241a6f980","2007-05-01 09:37:40+00:00","Cleanup, remove PalmOS dependencies from the ScummVM core

svn-id: r26690
"
"b78bf3a8b37155d649cd5afc99e73d6f3ddc7e3f","2007-05-01 09:39:46+00:00","Cleanup, use my new PalmOS Porting SDK

svn-id: r26691
"
"3e3a808610ef2850c21147e436c26b33aa17cbee","2007-05-01 09:41:35+00:00","Cleanup, prevent change between 68k and ARM code
Added two more required functions for T3

svn-id: r26692
"
"ab16dd234f6ffc5722154123d76ee83c117213de","2007-05-01 09:44:47+00:00","Prefix files cleanup
Added support for Parallaction and Cruise engines
Added ZLIB support

svn-id: r26693
"
"f831d25067b9c21c3b182539be8defdd56be177e","2007-05-01 09:48:38+00:00","Added support for Parallaction and Cruise engines

svn-id: r26694
"
"cd6ec5e741e78641e8d5ef16713c0321f25b5005","2007-05-01 09:50:50+00:00","Cleanup

svn-id: r26695
"
"3aee6e3f8e50f249ad2a57d348c8bc6b5a50d45a","2007-05-01 09:51:53+00:00","Fixed sysEx function

svn-id: r26696
"
"c72f840c77ebd96abd6e376da206d2e0249e23db","2007-05-01 09:53:27+00:00","Fixed PalmOS ARM global object allocation

svn-id: r26697
"
"532311576e053c7a5e08c620cac71d74b976be8b","2007-05-01 09:58:44+00:00","Fixed compilation

svn-id: r26698
"
"4624769069de808ef0aa561d53700c1bf5c7279e","2007-05-01 10:12:55+00:00","- Prevent lose of events
- Added hard arrow keys support
- Revamped mouse code to prevent duplication and get rid of fixed size mouse buffer
- Reviewed event code (more work needed for OS5 and keyup emulation)
- Cleanup

svn-id: r26699
"
"f86dfd183e10056422a8f5234237edffb05fc43d","2007-05-01 10:13:33+00:00","Enable true timer code

svn-id: r26700
"
"20e5af24b1b027f741b3844fca5a11c34285fa44","2007-05-01 10:14:32+00:00","Cleanup

svn-id: r26701
"
"e5238b37efc7d44e9616eddf67433083ef31ad43","2007-05-01 10:19:22+00:00","Prevent crash

svn-id: r26702
"
"7162fb76828171e64eaed4a543ffdc1862d2b726","2007-05-01 10:20:13+00:00","Create new Themes folder for ScummVM themes...

svn-id: r26703
"
"1c8dcd36801a955f15cb177b54022a389d63782d","2007-05-01 10:20:48+00:00","Help debugging

svn-id: r26704
"
"4a2b0238494092747afa7336dbb5c5a4af605ef4","2007-05-01 10:22:35+00:00","Added basic rotation detector

svn-id: r26705
"
"24972223484ad8d5cec5ee16a5611b57f95d1477","2007-05-01 10:23:11+00:00","Test Cruise engine

svn-id: r26706
"
"fb911d97e05826d930929e4480d76fef7846bb41","2007-05-01 10:25:33+00:00","Updated project file

svn-id: r26707
"
"60a6d71eabb22b9ea0b2f48aab1704916cb4359c","2007-05-01 11:21:49+00:00","Added news about use of PalmOS Porting SDK (will be released very soon)

svn-id: r26708
"
"1ebae7f054c096462f75a376f3342dfa068905ff","2007-05-01 12:32:01+00:00","Don't generate credits.tex anymore

svn-id: r26710
"
"424b738d5b75b32addbc8ba3467696374c38e985","2007-05-01 13:13:40+00:00","also dump debug to stdout in ce

svn-id: r26711
"
"02721c609e9302654a09a8c106249a6403861fa8","2007-05-01 13:15:34+00:00","generate stdout/err files in cwd and properly delete them in gcc builds

svn-id: r26712
"
"3da772c5b814123ec9c62ffdd31b8dcc808d089b","2007-05-01 13:32:17+00:00","properly detect landscape qvga smartphones (whee\! broken sword on phones)

svn-id: r26713
"
"8aed6861f9d6f0f2177e6bb6be24d2497c46984e","2007-05-01 14:02:52+00:00","fix toolbar redraw for hires games in qvga landscape phones

svn-id: r26714
"
"54b8a4d06f56b3045f0e5a1ec3709ac1524f48d0","2007-05-01 14:49:13+00:00","Made the collisionAreas' coordinates unsigned. This should fix bug #1706988

svn-id: r26715
"
"8573ca3f7409108bff0e24ba3a942ca692ce5787","2007-05-01 14:50:55+00:00","Added supported games list and got rid of bStartScumm

svn-id: r26716
"
"71a2910a81fba9812c6f894683a3be6144b043d5","2007-05-01 14:52:28+00:00","Added supported games list

svn-id: r26717
"
"d520bdfcb8f70e8fd4448ea404d9e5fa993f23ca","2007-05-01 15:19:11+00:00","fix scaler selection for square (non vga) devices

svn-id: r26718
"
"008042ac2538bebfce013cb0ec4efa4a5600e4bb","2007-05-01 15:39:40+00:00","Implemented a IFF (Interchange File Format) parser and added subclasses to parse graphics (ILBM, PBM) and audio (8SVX), thus replacing old decoding routines. SAGA and Parallaction have been adjusted to work with the new code.

svn-id: r26719
"
"998cbf4ebbceb502cf158becaa0ad8fe9dec36ca","2007-05-01 15:45:56+00:00","Fix compilation.

svn-id: r26720
"
"ae18ce3e4a8402de69c1f2de30a2b97737b23ee8","2007-05-01 15:47:49+00:00","Fix compilation (step 2).

svn-id: r26721
"
"bb253d806f2f1d5fa1daa4d5f7b1538ca2efb8ae","2007-05-01 16:11:19+00:00","Don't manually compute & hardcode the sizes of static arrays -- using ARRAYSIZE, which is less error prone and easier to maintain/extend

svn-id: r26722
"
"d1e84d63fd56b5ca74755a337e8a613667f91f47","2007-05-01 16:18:40+00:00","Changed some filenames to adhere to standard.

svn-id: r26723
"
"d6c60a540706b1c440a862bbbfb61fc8ee2838cc","2007-05-01 16:21:16+00:00","Fix compilation (sigh).

svn-id: r26724
"
"5d3bec7286d71ca334f156d77b91aabab0e31762","2007-05-01 16:40:17+00:00","Fix missing include.

svn-id: r26725
"
"38a5e37eaf24f7d2d7c0ce952aad5d52f503fae0","2007-05-01 17:17:00+00:00","Fix warning (unsigned ints are never negative)

svn-id: r26726
"
"727867c66f5d856a848bbb6bb67543342dd0c63b","2007-05-01 17:28:59+00:00","- Fixed 32/64 bits pointer mismatch.
- Changed Surface's forward from class to struct.

svn-id: r26727
"
"546d9cb01baf04c6acae43b80db10b50c8d8b697","2007-05-01 20:10:56+00:00","added code to supress the backlight in older devices, fixed a little oops :-)

svn-id: r26728
"
"40f43a687be84baec357e55f9d1a01ecfe829bfa","2007-05-01 20:52:39+00:00","Add Russian Loom v1.1

svn-id: r26729
"
"d08eeff7002d7296b2367242b66ca2e03c1ce4a1","2007-05-01 21:40:56+00:00","Renamed decodeILBM to decodePBM, removed a TODO

svn-id: r26731
"
"6ca558f0ff2126a0fbac2cdb789fb8cf2b5e48bd","2007-05-01 21:48:18+00:00","Fix for verbs in IHNM

svn-id: r26732
"
"8b545a526528333ecc8460b069c8d8f45f0cf496","2007-05-01 22:04:24+00:00","Update MSVC8 project files for commits #26719 and #26723

Note that MSVC8 auto-generated a 'FileConfiguration' entry for sound/iff.cpp in scummvm.vcproj. Removing it broke compilation for me, so I'm leaving it in.

svn-id: r26733
"
"ab78c626f46803fcb258d08a2434457fc30cfc94","2007-05-02 03:18:11+00:00","Fix for saving the game when an NPC is doing a non-scripted action

svn-id: r26734
"
"74f839d6c89289b09fd11666e1abfe90b74fa431","2007-05-02 17:12:30+00:00","IHNM: Added the options dialog and quit dialog with very basic functionality (continue and exit game).

The buttons are still wrong and not all the options are implemented yet, but at least the game doesn't freeze when the user tries to open the options dialog and it's now possible to exit normally

svn-id: r26735
"
"ea30029ffeb493d0a017ce33b461ea9bfda2230b","2007-05-02 20:05:48+00:00","fixing typos under the 0.10.0 PalmOS section

svn-id: r26736
"
"7e16ca13c6a0f332860541e5aff79ccc7c2ed25f","2007-05-02 21:39:56+00:00","SAGA: Modified a workaround made for ITE to work in ITE only

svn-id: r26737
"
"463c5fcec840d7bf68b29dfa4be70118255cc5bd","2007-05-02 23:27:25+00:00","More IHNM options panel improvements: added text and working widgets for read speed, music and sound, matched the font and the coordinates of the options panel and the widgets with the ones of the original interpreter

svn-id: r26738
"
"aba02a6811bce5cdf280a632d7bebc0044bb0eb4","2007-05-03 05:06:10+00:00","Bugfix for characters freezing after talking when in a different room than the player, and fixed NPC to NPC conversations

svn-id: r26740
"
"510f3c6e756b21abd98c4aeb26f0da72b9b4668e","2007-05-03 22:52:43+00:00","added spanish charset data (bug report #1712107)

svn-id: r26741
"
"0e27c9c33919db1e2746e7eec40fd8f4c9ae7e04","2007-05-03 22:56:02+00:00","added a TODO for the german charset data and renamed some static arrays/data

svn-id: r26742
"
"3fccd9c06f3677042a8091ca89c9685411e44101","2007-05-04 08:55:28+00:00","AGI: Changed a nasty workaround regarding views to only apply to a specific view in the KQ4 introduction. This fixes several bugs and crashes in AGI V3 games and closes KQ4 bugs #1660486, #1660169, #1660192, #1660162 and #1660354

svn-id: r26743
"
"91fb83a72ffb9f28b21ebc4c7e4a1c8bffb97761","2007-05-04 09:16:55+00:00","Bugfix to prevent characters stopped by a right-hand non-walkable area then being able to walk through it

svn-id: r26744
"
"0ba5afa585b1d05960b26e6894b00b29d8a3b4c8","2007-05-04 11:00:16+00:00","Slight optimization

svn-id: r26745
"
"ecf8417d01783e65ceaa0bf42b3869ce8f5ec43b","2007-05-04 12:56:48+00:00","Adding myself to the AGI section as well

svn-id: r26746
"
"643735e8a46e3a1d992cb0f98579b2598c348101","2007-05-05 01:00:01+00:00","Bugfix for random destination setting so NPCs don't walk outside the valid walkable areas of a room

svn-id: r26747
"
"ae24e0e99f6ae8e7ebc854a3debe691ad963bdf7","2007-05-05 09:31:48+00:00","some more verbose error reporting

svn-id: r26748
"
"776423ff823c28f0b7ef5929af6caa679b11e067","2007-05-05 12:18:02+00:00","- started to move v1 specific functions to KyraEngine_v1 (just opcodes yet)
- reworked script opcode handling

svn-id: r26749
"
"f64e20007f31d1fad0e35443ee3bec15d6332029","2007-05-05 12:32:52+00:00","Fixed bug 1711393.

svn-id: r26750
"
"818da898ac5ad16dbbd0ef9554641ac1230ee304","2007-05-05 16:07:37+00:00","Update MSVC8 kyra project file for commit #26749

svn-id: r26752
"
"b82c68542cd8dc6ae7555ef9e3850389ba525a90","2007-05-05 16:10:12+00:00","Fix bug #1712585

svn-id: r26753
"
"0ab860d60dbbc4658e2030f9a3642d4b915046b6","2007-05-05 23:54:29+00:00","Fixed bug #1658643: AGI: SQ1 (2.2 DOS ENG) Graphic error, ego leaves behind copy
Also, removed one of the two workarounds for the KQ4 intro, as it's not needed

svn-id: r26754
"
"a4cc51b8c572895e794cf03b056689d5a5f63d1d","2007-05-06 08:52:27+00:00","Added embryonic debugger, and some adjustments to make basic commands work.

svn-id: r26755
"
"76c98a03af1bb9f5c175245d45158c79ea34a713","2007-05-06 09:31:32+00:00","Fix regression that caused input to fail, after load or save error occurs.

svn-id: r26756
"
"79229cafabbf7f61c9a1043ffac8c5aee58a73d2","2007-05-06 09:31:45+00:00","Some cheap cleanup.

svn-id: r26757
"
"0da4791128391f53618a454b7fd101eb9ae1cfbc","2007-05-06 09:35:08+00:00","Fix regression due to sign issue, which could cause crashes.

svn-id: r26758
"
"6ddc79a9a84bf8b8dbbfe28e4ffafeff5f87b26b","2007-05-06 09:46:43+00:00","Cleanup.

svn-id: r26759
"
"e2f8d9c80b89f7795b55baf906a23f6f99fe3287","2007-05-06 09:59:05+00:00","Menu handling simplification.

svn-id: r26760
"
"63479a866140f275eb4812eef26fb7bed205612f","2007-05-06 10:26:12+00:00","Updated MSVC8 parallaction project file for commit #26755

svn-id: r26761
"
"8a48951370359ada30ec3161905f86f5fc5f7252","2007-05-06 10:31:17+00:00","Fixed compilation.

svn-id: r26762
"
"dc1e1a3f11dd70bb43ce0912c75e284124e764ff","2007-05-06 10:35:47+00:00","Removed several goto statements

svn-id: r26763
"
"d4d04a150dfefdcce5fe35bbd8af4ef44d57aa3d","2007-05-06 14:36:02+00:00","Added a game ID field for all Sierra AGI games. Removed many types which are now obsolete from the game features field

svn-id: r26764
"
"c892c768a45bd8281688149109cadbc7b80d1b98","2007-05-06 14:45:20+00:00","Fixed sketch glitches in the introduction.

svn-id: r26765
"
"ae3e16c970c04cec5b60b691d5008166a8835f46","2007-05-06 14:57:35+00:00","Changed a workaround made for Space Trek to apply to all AGI fanmade games. The original workaround was inactive for Space Trek in ScummVM, but was activated for some older AGI games, which was not its original purpose. If this causes regressions with other fanmade games, it'd be best to limit it to Space Trek only

svn-id: r26766
"
"b9cdca27eeefd445be97938577290967ffe0bf32","2007-05-06 17:18:11+00:00","Added (non-functional) save and load buttons in the options panel of IHNM

svn-id: r26767
"
"c4c9ff55332beec55b4bb3fe49af9efdcad88c46","2007-05-06 22:18:31+00:00","The cursor in IHNM changes to an hourglass now while loading scenes, like in the original interpreter

svn-id: r26768
"
"1a69604e82e6bd9be32e7e4411b5a052157eb720","2007-05-07 01:11:10+00:00","Cleanup.

svn-id: r26769
"
"3ad8770f964277e4bfdd356a641aabfec4199e77","2007-05-07 03:40:37+00:00","Set exact variable sizes for VC10 state, to avoid more regressions.

svn-id: r26770
"
"3413dda0e9753703f58e51cff07b3220bd3b56cd","2007-05-07 05:06:22+00:00","Fixed some comments

svn-id: r26771
"
"22e022cdcbaefe4a37921941f24094ebd87c082e","2007-05-07 06:18:08+00:00","Simplify cursor events management.

svn-id: r26772
"
"8c21d430bbbb04b85123850ec2103bdb2abad89f","2007-05-07 06:30:51+00:00","Fix inventory movement in Elvira 1/2 and Waxworks.

svn-id: r26773
"
"425bd5c13616850987400705cac94879ffecc590","2007-05-07 08:29:29+00:00","Fix bug #1714096 - DIMP: Unable to start (regression).

svn-id: r26774
"
"e2c40aaee6282a8d4db82776242c41f1ff6b016c","2007-05-07 08:47:40+00:00","Fix inventory palette glitches in Elvira 2.

svn-id: r26775
"
"d2e56f7b666f2733ca21d6f74182f8e3ce1536cb","2007-05-07 12:10:32+00:00","Added saving of room exit join data in savefiles

svn-id: r26776
"
"6a7b74d99dd97480b0fc4b95ee7cfeadb12bd0ea","2007-05-07 12:16:05+00:00","Reworked the pathfinder to directly return a pathfinding result, and added code to save the pathfinding state to a save game when it's in progress

svn-id: r26777
"
"9631586ce822e8c79a9ba3654feeeb70e2cd4808","2007-05-07 12:17:24+00:00","Added code responsible for transforming the player back from Selena

svn-id: r26778
"
"9547535bd2aa284c592fc27e14139b46053aaf0f","2007-05-07 13:03:02+00:00","Fixes for conversation response in Waxworks.

svn-id: r26779
"
"d5504f0b66394eba8937339315dfc57d01733cdb","2007-05-07 13:09:10+00:00","The Palette difference in inventory arrows, applies to AGA version of Simon the Sorcerer 1 too.

svn-id: r26780
"
"3a4c4fa181ef4a1cfe0cb0ef3ef0becd6db3f651","2007-05-07 13:40:29+00:00","Don't attempt to decode unknown icon data formats.

svn-id: r26781
"
"50800d596973d5bf5a21f92f8f196c2103b9900e","2007-05-07 19:42:59+00:00","Fixed bug #1658514: AGI: SQ1 (2.2 DOS ENG) bizzare exploding roger

svn-id: r26782
"
"ce70442c2e6d8ce2f7e3a029e4da3c518e7902dd","2007-05-08 05:39:50+00:00","Add palette difference when drawing images in Elvira 1.

svn-id: r26783
"
"f21a7648aafb3f94b88273f0a4ef8bf9f4d904f6","2007-05-08 07:16:58+00:00","Fix compilation with MSVC8

svn-id: r26784
"
"2103678d93358bb13615c07f2a75238a8bbaa813","2007-05-08 11:46:27+00:00","Fixed WSA playing regression, introduced while cleaning up. (should fix Floppy and Amiga version)

svn-id: r26786
"
"5c3f6721b87a96ab70490bb2d59b10d5a564d495","2007-05-08 14:48:46+00:00","Fix masking issues in Amiga versions of Simon the Sorcerer 1.

svn-id: r26787
"
"21412b821c968b3d23f4c7fd120f19a1af50b67f","2007-05-08 16:09:47+00:00","small pathfind speedup: validate coords only with debug definition

svn-id: r26788
"
"a8ab2c7cff4588ea32d7b9a3dfcfd763d53247b1","2007-05-08 17:32:31+00:00","Moved functions getDoorState, setDoorState, getBGMaskType and validBGMaskPoint to scene.h and disabled some sanity checks to improve the speed of the pathfinding algorithm, after discussing with h00ligan

svn-id: r26789
"
"633be17e7fcdadc45d33b9f8a2430e82e3c8a569","2007-05-08 22:35:21+00:00","Fixed bug #1715284: Roger sometimes disappears

svn-id: r26790
"
"85082dc8a00b91689f2ab11494e9bdc1bed71578","2007-05-09 13:25:14+00:00","speedup SAGA::Actor::pathLine & SAGA::Actor::scanPathLine calculation

svn-id: r26791
"
"20bf83a2ce1c19e81cd486b4af3b7b73bd25e510","2007-05-09 15:36:05+00:00","Imrproved support for Elvira 1/2 and Waxworks.

svn-id: r26792
"
"24fa689ee09fe7c4e47262278dfb7e24d4458388","2007-05-09 15:48:18+00:00","Fix compilation with MSVC8

svn-id: r26793
"
"f0cd01b5764f702ca5696e4728b102035fb9f0b1","2007-05-09 19:49:02+00:00","Updated support for Cruise

svn-id: r26794
"
"6452a701be5442736e72cfe77ab1c300a43cc88b","2007-05-10 00:43:27+00:00","Fix glitches in pause options of Elvira 1.

svn-id: r26796
"
"a6095b93d92e52f0384d01874631717450753818","2007-05-10 03:02:00+00:00","Removed unused variable.

svn-id: r26797
"
"441fddf01cd6bb16ae56e7d62ca161674c1ba30d","2007-05-10 07:48:13+00:00","Removed lot of unnecessary typedefs; added a NUM_PERSONS constant; renamed _X/_Y vars to avoid conflicts with system headers on various systems (see bug #1716109)

svn-id: r26798
"
"750d0072ce7c065f2a2df154f1ea2ffee5c201ac","2007-05-10 07:48:54+00:00","Fixed warnings, cleanup

svn-id: r26799
"
"1880c8739b3ccce65dc709cf1db67a9068270c89","2007-05-11 10:35:12+00:00","Disable the status text in IHNM when the main panel is not shown. Fixes a crash when hovering over a character in the character selection screen

svn-id: r26801
"
"ff7d48f582eb9dd3ddeb05649cf1a9f780baf17d","2007-05-11 13:10:13+00:00","Changed the check for the status bar in IHNM to match the original, removed a relevant hack

svn-id: r26802
"
"069e84b33be5b5d0579019bf87fdf1518e888418","2007-05-12 11:52:29+00:00","Added MD5 from bug report '#1717129 - Schiller Preview No.2'

svn-id: r26803
"
"346f0746d6c83623498a8dc57018d60cb1372b3b","2007-05-12 12:56:35+00:00","Added Audio debug level and fixed a bug when freeing music streams.

svn-id: r26804
"
"ed796d164adb14566670b69ac496c4be08f731b2","2007-05-12 12:58:04+00:00","Fixed script command lookup table.

svn-id: r26805
"
"a7ced58d9a24bae745ef2b10e5975643c395c526","2007-05-12 13:39:53+00:00","Don't cast pointers to int, this (potentially) breaks 64 bit systems

svn-id: r26806
"
"6a3848a29960d563715a37e287ddc7ee4ef05bef","2007-05-12 14:52:25+00:00","Make new Schiller previews names more consistent.

svn-id: r26807
"
"c62d8ba2fac33bbd2d72fcadd58752c578c52c17","2007-05-12 15:32:14+00:00","Updated project file to reflect latest changes.

svn-id: r26808
"
"a152065609dc4370d316a08669583e9de75c68cc","2007-05-12 18:22:20+00:00","I believe these #includes are unnecessary.

svn-id: r26811
"
"d0635b8677e6e8f47e1885ed01451b320b9e6f5f","2007-05-12 19:29:20+00:00","New debug strings and levels.

svn-id: r26812
"
"1c6ab01f9e0ad2a25dc54f3fcc85893b2695b6d2","2007-05-12 19:33:00+00:00","Fixed crashes when changing location in the introduction and removed useless code from the original engine.

svn-id: r26813
"
"fcd12dbde81c253e6ec00a0474a418ad30583bc2","2007-05-12 22:33:13+00:00","changed some warnings into debug msgs

svn-id: r26815
"
"e7834656a2cf7a103e78a6c856b104c505e4252f","2007-05-13 00:47:28+00:00","Add UK versions of several HE games.

svn-id: r26816
"
"67c9099c34fd501c490de64b009b7de6dbe17e4c","2007-05-13 02:07:54+00:00","this should trigger invalid resource types loads, if that ever happens

svn-id: r26818
"
"0a37086d316a76d51831447ee64d2129ac7d39ee","2007-05-13 02:08:53+00:00","french and german versions of Touche use the same charset data (confirmed by looking in both original executables)

svn-id: r26819
"
"a05d455ae8b3fde50b7cc4b8340bad83301acc31","2007-05-13 02:11:38+00:00","minor fixes to the adlib sound code, this should help bug #1599270

svn-id: r26820
"
"ea3b55a655936d4ac87635ec101813be8ace0d01","2007-05-13 02:16:34+00:00","removed part of my patch for bug #1662610, CharsetRenderer::getStringHeight() is never used

svn-id: r26821
"
"1eef4cc7790191302f1e37756ac0288f5150de1e","2007-05-13 02:32:38+00:00","free decrunch buffer once protracker module is loaded

svn-id: r26822
"
"1ef7c3dbad85da2896c8ffcf6fd6915f6867bff8","2007-05-13 04:11:19+00:00","Fix bug in original Simon the Sorcerer 2, the x position in invertBox() needs to be adjusted for scrolling locations.

svn-id: r26823
"
"aa89759a5521bc58cad5375865e0650bced30daf","2007-05-13 05:58:18+00:00","Trigger palette update in colorWindow() for Elvira 2.

svn-id: r26824
"
"b6672f37a97f30298e51b1d4574eeb75a31da1a6","2007-05-13 08:46:48+00:00","Fix bugs #941074 and #828860, by switching to graphics renderer code used by earlier (non-Windows) versions of Simon the Sorcerer 1/2.

svn-id: r26825
"
"da283175c4e36f4344ec9157fb8c50445b3d055c","2007-05-13 09:55:15+00:00","Correct delay for animateSprite event in Simon the Sorcerer 2.

svn-id: r26826
"
"9a04d1dffb92cc54edd86ca9b7238f0625df6c1c","2007-05-13 10:07:55+00:00","Rename a few variables.

svn-id: r26827
"
"b1a95b502d573ca89ad4097a2a744793dbafc33c","2007-05-13 11:07:00+00:00","Fix reported compiler warning.

svn-id: r26828
"
"e9d038a423ddcd803bd0b63fe163c749426c4acd","2007-05-13 12:38:29+00:00","Added new debugger commands.

svn-id: r26829
"
"887fa2f7605393bdcac3af718e915d10bd9e2e2c","2007-05-13 12:39:32+00:00","Fixed timings when showing credits.

svn-id: r26830
"
"7c79fe5bce06e63f64e70461f073c54a1cb9f698","2007-05-13 12:40:45+00:00","Reverted my last change to changeLocation.

svn-id: r26831
"
"09c816e69555a1cd6f8034458440754533fe492b","2007-05-13 12:41:42+00:00","New debug messages.

svn-id: r26832
"
"a8c6dc6e7d1594791f0d47b1f4877b4a655053a3","2007-05-13 13:19:46+00:00","Cleanup.

svn-id: r26833
"
"ae63466446af9b906d7a1795aaeb866956bd0c13","2007-05-13 14:38:05+00:00","cleanup

svn-id: r26834
"
"a1733f8bbec378a44883de20cdc2b4792a2a33a8","2007-05-13 14:56:44+00:00","More cleanup.

svn-id: r26835
"
"e6ef2348a4cc17fec41556c130045505035adeca","2007-05-13 16:07:33+00:00","removed duplicated code (BASESON datafiles can be loaded with the existing bundle related functions)

svn-id: r26836
"
"b5aa521a75017a34b97a44fc1abae8afeb9f6da5","2007-05-13 16:11:19+00:00","added basic support for sounds playback in Amiga versions (only tested with the demos)

svn-id: r26837
"
"2a45bcdaaba672167556f81316c1f69b33f9a226","2007-05-13 16:25:18+00:00","Reverted some changes to inventory handling.

svn-id: r26838
"
"2e53712d31d6ec7d7b99536b29eb8dd138cd3831","2007-05-14 00:00:36+00:00","Correct error in drawImages(), where _window3Flag should have been used.

svn-id: r26839
"
"13f2b1fd636326ddd3164d8c098297f4d385b419","2007-05-14 19:14:48+00:00","Added cases for missing languages to displayQuitDialog(). Should fix feature
request #1718531. I hope I used the correct keys.

svn-id: r26840
"
"97e6e4aea894e6ea89f70e96aec0e1922e735637","2007-05-14 21:52:06+00:00","this should fix script label offsets computation for OS

svn-id: r26841
"
"2371b4ec033883c25234231f36798f7af5bc9bed","2007-05-15 07:08:24+00:00","Fix regressions in the introduction of Simon the Sorcerer 1 and in the DOS Floppy demo of Simon the Sorcerer 1.

svn-id: r26842
"
"ee0cb9ee2df14520a40b7b44c188c63446e3efa9","2007-05-15 07:14:12+00:00","Ooops, the y offset in drawBackGround() should be based on state width too.

svn-id: r26843
"
"dc9d36ea4a56aaa285de2059ad34120d549c0831","2007-05-15 11:32:11+00:00","Fix fade regressions.

svn-id: r26844
"
"73749ddafa03c2b6af87cfe63a30a66333c3bb90","2007-05-15 13:01:36+00:00","Minor cleanup.

svn-id: r26845
"
"da658640ff194d42208c8fc17c28075071308b1d","2007-05-15 16:25:34+00:00","Removed the case for the Italian version from displayQuitDialog(). According to
cyx, it uses the same keys as the English version. Odd.

svn-id: r26846
"
"ada3424d8a88b905ab153d84a6f1de12cd4b8e59","2007-05-15 20:07:07+00:00","Fixed bug when typing protection code.

svn-id: r26847
"
"bdb18c60d8c582ac8bd555ac8d573a3f8de9e1a4","2007-05-16 05:57:26+00:00","Add idle code for DIMP.

svn-id: r26848
"
"a91f7e025c6e047b6b3a639231b37357cd9677c9","2007-05-16 06:36:43+00:00","Fix regression in Simon the Sorcerer 1/2, that caused various glitches.

svn-id: r26849
"
"27b56c23f6a6b374cde4a06bfd4f60c4a6a78d1f","2007-05-16 08:27:15+00:00","Add caption to saved games for Elvira 1/2 and Waxworks.

svn-id: r26850
"
"22e3afc4090144cd792e66df09b0c3790d5875e4","2007-05-16 09:39:36+00:00","Ooops, correct inheritance of load/save functions.

svn-id: r26851
"
"2783526b714e28be62bf335de6c5b66e9835f121","2007-05-16 10:03:02+00:00","Fix inventory icons in Amiga/AtariST versions of Elvira 1.

svn-id: r26852
"
"bf3b58e7cf1d896ffc3ce957d9ed826789558a22","2007-05-16 12:58:47+00:00","Add code for handling special walls in Elvira 1/2.

svn-id: r26853
"
"b3c582e4c787c888435c3967b1438bba9359c354","2007-05-16 13:00:38+00:00","Ooops, commit too much.

svn-id: r26854
"
"f243227f098824a74eae078531ccf6af539dfbcb","2007-05-16 19:23:14+00:00","Replaced explicit bitmasks with function calls.

svn-id: r26855
"
"67ba6b1e4064de28b27a5979ccf88086aecdaced","2007-05-16 22:44:22+00:00","Figured out the bug that was causing the animations to glitch

svn-id: r26856
"
"565d0d0a7d4b4f87ed402bb1c237afc7f8d85ca7","2007-05-17 07:23:56+00:00","Add code to slowing kill the demon in DIMP.

svn-id: r26857
"
"d4191508f6a036169498037e00000e026d528632","2007-05-17 09:00:14+00:00","Cleanup.

svn-id: r26858
"
"6302acf5236fa4f9cb3b195ac79e21161e728163","2007-05-17 09:02:01+00:00","Completely revert last changes in icon code.

svn-id: r26859
"
"edaadd692feecd478f1b27df8aa35a68978e5c57","2007-05-17 17:59:27+00:00","Replaced the old, broken fillpoly() function with a new, and hopefully slightly
less broken, one. It probably isn't pixel-perfect compared to the original one,
so I expect it will probably be replaced once again in the future.

svn-id: r26860
"
"e9827d0884318822b20d13dbe6465c78194e5ea2","2007-05-17 22:13:31+00:00","added code for gfxSpriteFunc1 and gfxSpriteFunc2, which are used for sprite masking (see also bug #1624797)

svn-id: r26861
"
"3ab295a0ee252fe1d86d0eddd553a4d2c5a0a081","2007-05-17 22:18:51+00:00","removed unneeded if blocks

svn-id: r26862
"
"1b3458e429035e1ca152bfddd7f7f174ae96cadd","2007-05-17 22:26:05+00:00","moved gfx related functions from various.cpp/.h to gfx.cpp/.h and fixed indentation of previous commit

svn-id: r26863
"
"e16e11fdf24678d79c4991623488c3d5c061722d","2007-05-18 09:14:27+00:00","added missing MIN() calls

svn-id: r26864
"
"93e41222b5d2e938c66dc7cf249da6c3ec7f409c","2007-05-18 09:19:35+00:00","added debug code to display sprite masks

svn-id: r26865
"
"342d1aa48f0ccf97dd156485cd170c3c3854866a","2007-05-18 20:05:08+00:00","Reverting my last change.

svn-id: r26866
"
"cd58eb5e6bb8bcfa84f7d361fc02a4d7476257c5","2007-05-18 21:07:42+00:00","Made congratulations message visible.

svn-id: r26867
"
"b5a96f6d558c921d27a23a18bc0b292bb159ff2b","2007-05-18 21:12:23+00:00","Made final comment appear.

svn-id: r26868
"
"620c8a5647d1c51a4ca1803acf5924e3099e1d56","2007-05-19 12:06:51+00:00","added Amiga SoundFx module player code, used by Amiga versions of the following Delphine Software games : Future Wars, Operation Stealth, Cruise for a Corpse and Another World

svn-id: r26869
"
"bde5404a4eb773fccf4a2d43b56342773c698606","2007-05-19 12:08:41+00:00","added basic support for Amiga music playback

svn-id: r26870
"
"a165d96fd3cc9bf6109d6a6b731cffe402e0db41","2007-05-19 20:06:50+00:00","Fix preprocessor error caused by undefined symbol DEBUG_SPRITE_MASK

svn-id: r26874
"
"c750bea0ddcd0f5b7e3fed28d0a80cca6f326532","2007-05-19 20:44:18+00:00","Fixed error in subtitle drawing. (This part of the code should still be cleaned
up, as it's badly written. I should know, I wrote it.)

svn-id: r26877
"
"6e76e46e0ee46b8d7817bcc39b7217a4f36f565d","2007-05-19 20:49:36+00:00","Fixed regression: wrong job ordering caused a bunch of graphic glitches.

svn-id: r26878
"
"3afd0d95576b2578b6d56fcc62c283a0c1261035","2007-05-19 21:12:10+00:00","removed 4 unused offscreen buffers ; also changed several 64k buffers to be dynamically allocated.

svn-id: r26879
"
"4aa3ec63deae1dab4b04b7b7482472423e93119d","2007-05-19 21:16:31+00:00","when reading a string from a script, skip the '\0' trailing char (less opcode '0' executions...)

svn-id: r26880
"
"c80aa9409146079703d14f3882a72d4d53246445","2007-05-20 04:47:12+00:00","Add dissolve code for Elvira 2 and Waxworks.

svn-id: r26881
"
"8be618fb47bdd413db8b0dc30e67a9443038c944","2007-05-20 07:24:05+00:00","Bugfix to constrain savegame names to the dialog width

svn-id: r26882
"
"4a40ecb4dfe21c4e52ec5d73183369c365a5a62c","2007-05-20 07:25:53+00:00","Added saving of the room walkable paths

svn-id: r26883
"
"11f2d4052a9cfca3414fbaec514930123b434928","2007-05-20 08:30:43+00:00","Update quick load code for Elvira 1/2 and Waxworks, based on original scripts.

svn-id: r26884
"
"b37c83448aaeb9a88a6f88fb58d9dda6634ef5f4","2007-05-20 11:48:53+00:00","made the resource loading function case insensitive to the filename and removed a NULL dereference if a file is not found

svn-id: r26885
"
"e0159324cce0b6ad354c8eeff0484431d52b4b00","2007-05-20 11:50:06+00:00","some fixes for the music in Amiga OS Demo

svn-id: r26886
"
"56bb400ef97cc28368fb2e831bf2ee81e9951e1f","2007-05-20 12:39:15+00:00","Fixed several room change, NPC behaviour, and door closing code

svn-id: r26887
"
"26b221a7010801a4189742c9534cf82a542f480b","2007-05-20 13:07:44+00:00","Added savegame code so characters correctly leave rooms after restoring a game

svn-id: r26888
"
"2a850d097839765da7bac76110c607508c3628c7","2007-05-20 13:47:43+00:00","Fixed embarrassing - and old as time - mistake preventing some items from being deleted from the screen when picked up.

svn-id: r26889
"
"2dd30d9aa6ee0adbd0a24fbd5ac82b8d0f216630","2007-05-20 16:13:16+00:00","Disabled halfbrite for Amiga versions. The effect will be enabled again when support is complete.

svn-id: r26890
"
"1eafa813edbe5a1ae5e3e0f7ff9e28d221f578e4","2007-05-20 16:15:35+00:00","Removed phony 'start game' message from Amiga demo.

svn-id: r26891
"
"094bf2c518057e7f4e1dabad08fcb65606ebacd8","2007-05-20 16:38:18+00:00","Add missing GP2X start-up script to SVN. MUST have LF line endings (hence the SVN properties).

svn-id: r26892
"
"b7b3030383a0c5f107dd61848e0a474cd6c1c131","2007-05-20 17:17:48+00:00","Fixed bug. snprintf counts the termination character on Linux, but not on Windows, so had to resort to another solution.

svn-id: r26893
"
"d3f6518f6facc117c54cc158bb8dc5e1e28f25a8","2007-05-20 19:59:15+00:00","Added guard code to prevent crashes when stopping sound effects.

svn-id: r26894
"
"cf8dee054d0e534e423d5c81f64235db0d94e80a","2007-05-20 20:35:08+00:00","Fixed regression: location comment wasn't shown on every location except the first visited.

svn-id: r26895
"
"0ab229eb2c8592e14ddee986f33ec8c4f877b96f","2007-05-20 21:35:57+00:00","Added peres to credits.

svn-id: r26896
"
"92f8e3e7158df55f376fc7f16cddfe5c2136f090","2007-05-21 08:03:34+00:00","Updated MSVC8 files for commits #26869, #26870

svn-id: r26900
"
"d8e0a508332657b42d042eed5dccb2349f45c32a","2007-05-21 09:44:05+00:00","- Enable parallaction engine by default
- Sort engines in usage message by alphabet

svn-id: r26901
"
"9a93286f4205619395d9f61c108492a8c74caaca","2007-05-21 13:45:38+00:00","Fix bug #1722330 - FREDDI: Minor graphics glitch on Mac OS X.

svn-id: r26903
"
"8bc84330596829f129e9c00ca2c1711f73685cb6","2007-05-21 19:09:49+00:00","Fixed palette fade in intro sequence and palette effect for Dino's treatment

svn-id: r26904
"
"7d2809108e9a4c89d7d17e87539d893458a5e3b4","2007-05-21 21:06:30+00:00","Fixed the largest memory leaks.

svn-id: r26905
"
"a3414e058590bfd162a42c4756a474da1f2c6794","2007-05-21 21:15:33+00:00","Updated makefiles for Symbian OS to handle duplicate filenames with in Symbians limited amount of makefiles.

svn-id: r26906
"
"9ef17f9dc75c2cd5fc92cd9f47310bd8700a6219","2007-05-22 08:38:22+00:00","Patch #1723151: 'MSVC7.1 project files update'

svn-id: r26907
"
"5e1af6f479588212a2e9d1407f80586659f5a9d4","2007-05-22 10:31:51+00:00","Add load/save interface support for Elvira 2 and Waxworks.

svn-id: r26909
"
"49336a857e58181e69ff33e1327d839177614e84","2007-05-22 10:51:24+00:00","Mouse glitch no longer seems to occur in Elvira 1.

svn-id: r26910
"
"ca0a75a9d0f205c93b0510218a7713ea997dccc0","2007-05-22 11:22:59+00:00","Add support for the saved game overwrite check script in Waxworks.

svn-id: r26911
"
"766d889b691fa6b13f90d6bc1eb607a7b3d3eaea","2007-05-22 11:31:31+00:00","Move code to correct position.

svn-id: r26912
"
"82d6145be5ed62c31483373c70e7e9ba821a4656","2007-05-22 13:11:06+00:00","Minor cleanup.

svn-id: r26913
"
"06b3206b21cc4e93f0abdbd4d9cfb442e6516269","2007-05-22 13:33:41+00:00","Fixes graphics glitch introduced while cleaning up.

svn-id: r26914
"
"91402fda9b1b1bc6447260dc020d84d9edb62249","2007-05-22 13:44:41+00:00","Some graphic fixes for FM-Towns version. (Thanks to Florian Kagerer for this).

svn-id: r26915
"
"b4a22aa0a1f0dc6879c0623e60617c65112a23d0","2007-05-22 13:54:14+00:00","Update NEWS file with latest developments. Please, do the same too.

svn-id: r26916
"
"c2dd1ec09e686e785b86e4e1c43b4c9727f3f8ec","2007-05-22 14:07:14+00:00","Move Yaz0r back from retired project members.

svn-id: r26917
"
"a52235a2e21dde99bd5466ac09b5e395e9d72755","2007-05-22 14:07:29+00:00","Move Yaz0r back from retired project members.

svn-id: r26918
"
"a178c25ea2b35d226350ab2aee23c61290281124","2007-05-22 14:07:50+00:00","Move Yaz0r back from retired project members.

svn-id: r26919
"
"8ff17142c5f47dacaa6ae247b92e6d6b5a16d8ac","2007-05-22 14:17:44+00:00","Simpilified Singleton implementation and usage.

svn-id: r26922
"
"91be2f19cc1b8be80154651ee27339d71db3dbc6","2007-05-22 14:18:46+00:00","oops

svn-id: r26923
"
"b17e8f569ff6942494d3d55ff908a2a7ca837fac","2007-05-22 16:11:30+00:00","Silenced a rather paranoid GCC warning.

svn-id: r26924
"
"b313992c0746d221cc9d44a39f4fae5974b5b18c","2007-05-23 06:51:29+00:00","Fix yaz's position in credits

svn-id: r26925
"
"81c218fe342bcb84cc0c5f55dd5867a2958f6764","2007-05-23 06:52:43+00:00","sync

svn-id: r26926
"
"ad03c72bdb4eef62cbc05e432d7b49d3d2cd2038","2007-05-23 12:02:31+00:00","Commit of patch #1715313 ('CORE: STL like algorithm implementation').

svn-id: r26929
"
"8998e0d40db090dd47a375cbeddd4e09ed01c628","2007-05-23 12:10:44+00:00","Little graphics fix for FM-Towns version. (Thanks to Florian Kagerer)

svn-id: r26930
"
"f175f17481a632a9910ee22f2cd373579e7454fb","2007-05-24 19:44:46+00:00","Apply patch for bug #1698312 'PSP: 435x272 resolution cursor misalignement'

svn-id: r26931
"
"0c22443ed680a714a2ffd497ca3d6f53722620dc","2007-05-24 19:53:33+00:00","center cursor at startup

svn-id: r26932
"
"659e7ed76e010fcfa6c742add172bf96051cb5d8","2007-05-24 21:19:52+00:00","sync resource unpacking code of cruise with cine

svn-id: r26933
"
"1da0b2fd4085d701b0096457ca7435b0a0390b0d","2007-05-24 21:25:15+00:00","removed Cine changelog (since it's an engine added in 0.10.0, that's not quite consistent to mention 'new features')

svn-id: r26934
"
"8740e81d1f6f8a97f9c74c74241476e15b561d57","2007-05-25 22:59:24+00:00","Bugfix to save whether each NPC has been identified, and correctly transform back from Selena

svn-id: r26935
"
"0bd2a211fd01b08c97867747e786ebc908caa403","2007-05-26 12:01:33+00:00","replace 'normal' graphics scaler with '1x' in the --help text.

'normal' is not documented in the README and is apparently some legacy option,
the SDL backend source implies that using 'normal' mode would use a 1x scaler,
but using it seems no different from the default '2x' scaler, so this option is
basically useless, even though parseCommandLine() still accepts both 'normal' and
'default' (which seems completely undocumented)... argh!

svn-id: r26936
"
"d6e0fe13b5ff266c87f2119f9d1c42b70cdea496","2007-05-26 13:23:06+00:00","Add code for opcodes 177/178 in Elvira 2.

svn-id: r26937
"
"32a8e572d23871538937b443e73d3212040b95af","2007-05-26 15:14:25+00:00","Fix potential memory overwrite

svn-id: r26938
"
"dcf368c3a49c1954809eb8dd4291087761f0a380","2007-05-26 15:16:21+00:00","Add fallback detector to AGI engine.

svn-id: r26939
"
"ea2fb0a211c6480013b2ff6198b9256aa5b11f42","2007-05-26 15:28:31+00:00","Add Italian versions as supplied in bug #1722142: 'GOB: italian md5 of Ween
and Bargon'

svn-id: r26940
"
"da8097896efd5e74ff7c50e072238fc89de682ba","2007-05-26 15:59:54+00:00","Fix wrong error message as pointed out by jvprat. I.e. ./scummvm -g produced:
'Option '(null)' requires an argument'

svn-id: r26941
"
"83c713d9b445bb67fe1dfcb2c9120184605e636c","2007-05-26 16:17:31+00:00","Slighty modified patch #1701058: 'Correct some graphical glitches for
Brocken Sword 1 Mac'

svn-id: r26942
"
"cdc949439b6db437cce428108ea8fc7e463054c8","2007-05-26 16:59:13+00:00","oops

svn-id: r26944
"
"a26a36dad668f4ab04d89722b33298b1369d3cc0","2007-05-26 17:01:32+00:00","typo (interpretator => interpreter)

svn-id: r26945
"
"cc24af3671418deb49de795fe5f59ab53d60c3f0","2007-05-26 17:08:33+00:00","Fix Enter key behavior under MacOS as mentioned in FR #1273746: 'BS1: Some
smaller refinements to the GUI'

svn-id: r26946
"
"f1e29981edb66f5427d0bbada073875788ba992f","2007-05-26 17:39:33+00:00","Patch from bug #1722153: 'FT: Error on loading a game saved during a dialogue'

svn-id: r26947
"
"ac45c5b33d834acbc9718f89be76e49d403a4d2c","2007-05-26 18:12:12+00:00","Fix bug #1709430: 'FT: CAPSLOCK + V enables cheating for all fights'

svn-id: r26948
"
"ff3e0ebff9433f3d113f4cdd419a036dfaf489a9","2007-05-26 23:51:30+00:00","Update default location for the config file under Windows versions.

svn-id: r26950
"
"305d009dee130497205ac65be24ea943b4239373","2007-05-26 23:58:35+00:00","Mention change of config file location under Windows.

svn-id: r26951
"
"584d465b468f2a5681dbfb36f7e8627e53bcd05c","2007-05-27 00:17:07+00:00","Correct line wrapping in my last commit, and add note about previous default location of config file under Windows.

svn-id: r26952
"
"6511a329058f78bb32f9297c6fca09dc41307329","2007-05-27 03:01:20+00:00","Correct error in printStats opcode for Elvira 2.

svn-id: r26953
"
"ac1265a010a018240a1b56c944e1d28cb6649ff9","2007-05-27 03:18:18+00:00","Add font table for Elvira 1/2 and Waxworks.

svn-id: r26954
"
"6a1290a1d327c0d1f4a93bb8a143edcb5a514280","2007-05-27 04:33:19+00:00","Reworked game saving so that restored games don't fire off hotspot activation scripts, and conversation bugfix to keep characters in place

svn-id: r26955
"
"f33ea9c7f9cb2fa60435996c6442bdcb5ed3dc48","2007-05-27 05:17:39+00:00","Add extra mouse cursors used by Elvira 2.

svn-id: r26956
"
"6ce23ced4841a9ff16714ec8fff95687655a8e6c","2007-05-27 05:18:30+00:00","Correct cursor used when entering saved game name in Elvira 2 and Waxworks.

svn-id: r26957
"
"4f76f959422ba009210a2083c3d3b01285896dd9","2007-05-27 05:21:50+00:00","The 'i' and 'l' charactors only have a shorter width in Simon the Sorcerer 1/2.

svn-id: r26958
"
"006c0441ff5d24f10fa3d23da2ba752b3cbb3d1d","2007-05-27 06:49:43+00:00","Replace tabs by spaces

svn-id: r26959
"
"1f0bbd664ea30bee73c0f73e7bc35ff41469df05","2007-05-27 07:32:32+00:00","Resolve TODO for language selection.

svn-id: r26960
"
"33f17c57a5f9a57a85a220e11226db1caf265086","2007-05-27 07:37:08+00:00","Patch #1726251: Reject long commandline parameters that lack the option

svn-id: r26961
"
"d37e8b62b65d75cee73fbfe0494aa769255cb53f","2007-05-27 08:22:04+00:00","Removing debug leftovers

svn-id: r26962
"
"2d43de587acb02be9822cd5397395583d0b60875","2007-05-27 10:46:47+00:00","Commit of patch #1715310 ('WIN32: Dynamic Plugin support with MinGW').

svn-id: r26963
"
"78953e1818e308e47788b7888a1d747abfc59228","2007-05-27 10:53:09+00:00","fixed warning and add assert for potential uninitialised src

svn-id: r26964
"
"c42c65686e3d2783be960181f23a876ed2389114","2007-05-27 11:18:33+00:00","Updated error message.

svn-id: r26965
"
"7d8619350f70f6ca82970b8a12ae0d35c0dacca2","2007-05-27 11:32:19+00:00","Fix loading restart state in Waxworks for now.

svn-id: r26966
"
"86104e0bf0b76c06160eb299989262d0e9619c1c","2007-05-27 11:40:03+00:00","Reverted r26922.

svn-id: r26967
"
"5cc524d17e91930abc9137b5b6a0106c64bf66a4","2007-05-27 11:45:54+00:00","Updated MSVC8 files for commit #26929

svn-id: r26968
"
"5f84a9ce71d239b2e1533de997fdd994d1e8a6c6","2007-05-27 11:46:42+00:00","Add minor code differences in Elvira 2 and Waxworks.

svn-id: r26969
"
"13541d3e96fad9dd24fa5d2d01a4454505d50fef","2007-05-27 11:49:08+00:00","Verb actions are working correctly now in IHNM. Some verbs are still non-functional

svn-id: r26970
"
"e2af13a7f688f6447b4ec1ad30b7127323245924","2007-05-27 11:54:01+00:00","Adjust code for paranoid compilers.

svn-id: r26971
"
"3144ab58a6063e6658d228c4bdf22827c2249a49","2007-05-27 12:43:06+00:00","Paranoia changes (shouldn't have any real effect, though...)

svn-id: r26972
"
"c77a956e015d171d920f8acd19a7adf3e5af18a2","2007-05-27 14:21:42+00:00","Fix for bug #1726330: 'SCUMM engine abuses stack' from same bugreport.

svn-id: r26974
"
"5543e61e403d79785b15d30bd6cbc49cc7e0939f","2007-05-27 19:00:28+00:00","simplified code by moving key naming to the sdl port (where it belongs)

svn-id: r26978
"
"13e42a77b1a17f65035c5772956b3addc1fab386","2007-05-27 19:05:51+00:00","getting screen extents from the sdl backend. Builders must use the newer sdl port lib

svn-id: r26979
"
"e9351887ba902920a51d107541a63e0333f245d0","2007-05-27 19:09:09+00:00","use better optimization flags

svn-id: r26980
"
"7ef19181ca1cc54f0b7858a05fcef6b6cbe9a983","2007-05-27 20:28:43+00:00","documenting 'Mass Add' and changing wording on the alt-f5 (original dialog) section

svn-id: r26981
"
"6d05afa38e611371ef5a2f53940fc4661b1fd424","2007-05-27 23:28:24+00:00","Fix bug #1726115 - FREDDI1: Tiny graphics glitch when reading message.

svn-id: r26982
"
"233971ed3199c63813541d45211731900394a617","2007-05-27 23:30:21+00:00","Made verbs 'push' and 'swallow' work in IHNM. It's now possible to choose a monitor with Ted

svn-id: r26983
"
"56123c3edb86b49da7b195cd2c637ae9a5a8fd9e","2007-05-28 00:10:21+00:00","Correct the lockWord check in pokePalette video opcode.

svn-id: r26984
"
"572a4b3191ba90a0740370acd7e43a1824f9e5af","2007-05-28 00:36:11+00:00","Changed the frameOffset sanity check in Script::sfPlaceActor to throw a warning instead of an error. In IHNM, it's now possible to use the knife with the rats when playing with Garrister

svn-id: r26985
"
"45e8fbe8f52ca7d4dd774884eae2718d4ca6422f","2007-05-28 01:11:43+00:00","Rename script opcode in Elvira 2.

svn-id: r26986
"
"bd67214c96c1bb1b194cfc31abf05a08afc9cf64","2007-05-28 08:02:10+00:00","Improved version of patch to fix bug #1722153: 'FT: Error on loading a game saved during a dialogue'

svn-id: r26987
"
"0d789e074e6ff1ed76e75619eae9d337d3faad29","2007-05-28 08:54:13+00:00","Fix glitches caused by interface differences in the AtariST verison of Elvira 2.

svn-id: r26988
"
"9d041cc0598212bb2ef95584f0213aa4d286e2a6","2007-05-28 11:22:53+00:00","Add sound effects code for Amiga and AtariST versions of Elvira 2.

svn-id: r26989
"
"0cf2c680dc63c25406e71bc8dc58b2e236686a62","2007-05-28 11:31:31+00:00","reenable console in debug compilation mode

svn-id: r26990
"
"30142129c0effaf3974c2ce7f9605c5eec8cc2db","2007-05-28 11:36:08+00:00","Added saving of scheduled scripts, and set script activation times to match original game

svn-id: r26991
"
"5e0fd79a5ae5655360124715edc06c7cd65a0b8a","2007-05-28 11:36:59+00:00","Implemented new script methods

svn-id: r26992
"
"75e87b4c8b2d119b87faf10df4524e1b2498a3a2","2007-05-28 11:38:10+00:00","Added saving of scheduled scripts, and set script activation times to match original game

svn-id: r26993
"
"5af5c3b0a7328b0fe12f3d0adf06db754985e5af","2007-05-28 11:38:57+00:00","Impelemented game as far as dragon cave entrance

svn-id: r26994
"
"0cdcfd4740aaae7a83668b111656209866d4ac1c","2007-05-28 11:42:14+00:00","revert last change

svn-id: r26995
"
"0c27b668076af14e5d117cdaa44679728f8f78cd","2007-05-28 12:42:10+00:00","Fix loading restart state in Amiga and AtariST versions of Elvira 2.

svn-id: r26996
"
"d877a0a8d1bde533ef558c8f7dffb15275285e4a","2007-05-28 13:01:08+00:00","Fix glitches in AtariST demo of Elvira 1.

svn-id: r26997
"
"97afe587d2dfce6b6e071fb3e79d01ee6841fac2","2007-05-28 14:10:19+00:00","Use zone number to detect interface height differences in the AtariST verison of Elvira 2.

svn-id: r26998
"
"baea10979c794550098c2458016d6762bc9e59c5","2007-05-28 16:36:18+00:00","Partial fix for walking speed in IHNM.

svn-id: r26999
"
"a2d19ddfe1c0972fd06888bf4686e98501a4b42b","2007-05-28 17:43:21+00:00","re-enable console for debug mode, this time it works :)

svn-id: r27000
"
"847f794b90dc8f3ace434f64e912b01e36f2831f","2007-05-28 19:12:08+00:00","point wince users to the port readme in sec. 5.4

svn-id: r27001
"
"c87cf11c76548b953fc6b4ad13e4a69925c07704","2007-05-28 23:14:50+00:00","Add missing mouse cursor in Elvira 2.

svn-id: r27002
"
"438ba78387fdffa63b2f1724a55c2a69a12ad4bc","2007-05-29 12:55:17+00:00","Corrected actor walk speed in IHNM

svn-id: r27003
"
"c739b43bc738269125d9ed2059b6d3931ae7dced","2007-05-29 16:21:09+00:00","Color 0 should always be black in IHNM. The panel backgrounds don't erroneously change color now when moving between rooms

svn-id: r27004
"
"f66fb127186b8b944a8426954e4f08f37ae65243","2007-05-29 20:07:19+00:00","added EVENT_PREDICTIVE_DIALOG event to bring up the predictive dialog on demand by the backends

svn-id: r27005
"
"73210b4aa3f27402e66ec778c20ab21353d31cc1","2007-05-29 20:22:20+00:00","added code for freePartRange, freePartEntry and freeOverlay (also renamed some functions and variables).

svn-id: r27006
"
"137140b7e98be5ba09a18af148cc87f1c226d74a","2007-05-29 21:06:07+00:00","removed some resource related memory leaks

svn-id: r27007
"
"ed02fb1443c39d04de56ace9f7eb9bfce6b3e24c","2007-05-29 21:35:13+00:00","Fix warning caused by not handling all enum values in a switch (caused by the newly added EVENT_PREDICTIVE_DIALOG constant)

svn-id: r27008
"
"39fafdc3033e4d1e5b8a8505cfcfbfe3affc7b8f","2007-05-29 21:50:32+00:00","Fix for bug #774783 - INDY3: problems in Berlin with Hitler (submitted after talking with Fingolfin)

svn-id: r27009
"
"0504f18e9f2a4d03f4b5ce7cfb60cd7a2a383a42","2007-05-30 10:20:21+00:00","- Added a workaround for bug #1705338 (Seg fault when trying to switch screen in music land) which is actually a script bug.
- Fixed the scrolling bug (#1709574) (the mouse cursor is still shown, that's an instance of the global cursor visibility issue)

svn-id: r27010
"
"5aeb9d8b3e902eeedaa6a85f1f38afff06f85ac9","2007-05-30 14:38:17+00:00","Several const correctness fixes

svn-id: r27011
"
"c9bee38839c83282b8b55890901e1f4076535c57","2007-05-30 16:40:11+00:00","Modified version of patch #1727045 INDY3: IQ Points Dialog

svn-id: r27012
"
"04ee67bd7105ed72d413a0b08f9594657b9416dc","2007-05-30 16:42:19+00:00","Hash<T> is an UnaryFunction (very pedantic and effectively effectless change *g*)

svn-id: r27013
"
"9d7312f8fde9626bebb38718c2c9affa39727f7c","2007-05-30 16:52:35+00:00","Added a copy of the SVG icon to our icons/ dir

svn-id: r27014
"
"c07b5f6147a0539285ca0080c83b9a4ee18d10d6","2007-05-30 16:54:01+00:00","Slightly modified version of patch #1728192: Fix for Debian packaging scripts

svn-id: r27015
"
"147a9037b4f5037d9118cb5f8a1c5eae2c59689b","2007-05-30 16:55:11+00:00","LaTeX is no longer needed to build ScummVM docs, so we can remove this build dep

svn-id: r27016
"
"995d3da8a32eaabe8842d2f288b60c7ac41cd88f","2007-05-30 16:56:18+00:00","These days, man pages are usually stored in /usr/share/man, not in /usr/man

svn-id: r27017
"
"0de170c980709dcfe5a2eae8ed4da9901acf72e2","2007-05-30 17:44:52+00:00","Removing useless common/fs.h includes

svn-id: r27018
"
"974dc86817712205b9d36f2441d7ed6790ea5dc6","2007-05-30 18:22:47+00:00","updating readme now that i shows IQ points in Indy3

svn-id: r27019
"
"5006dbd932bb548b1f648a33576b22d8b5210c26","2007-05-30 18:39:35+00:00","AdvDetector changes: made upgradeTargetIfNecessary internal; cleanup to findGameID

svn-id: r27020
"
"45b721d3cc47c6682edbf3e8cf30c31ca72c5a3c","2007-05-30 18:43:28+00:00","cleanup, don't rely on assert() to ensure a gamefile/savefile is opened. Also removed the use of Common::File global objects.

svn-id: r27021
"
"346b12d701849e8987ddee930e44c67f8e824e26","2007-05-30 19:49:33+00:00","properly direct pred. dialog's output, when started thru the event mechanism

svn-id: r27022
"
"10764e965cb3fcd92e3f680e0e093ac5fa1867f3","2007-05-30 19:51:08+00:00","fixed predictive dialog messing up state if another dialog was already shown

svn-id: r27023
"
"218e132e37017b64a61cce53c5dd26267a81784a","2007-05-30 21:56:52+00:00","Updated legal headers in source files, based on what Pidgin (the IM client formerly knowns as Gaim) does; added new (incomplete) COPYRIGHT file; updated copyright dates in a few spots

svn-id: r27024
"
"7bd01608d66abe9898008e4c77d6eebb389dfc6e","2007-05-30 22:51:08+00:00","added comment to cloneToFadeOutTrack()

svn-id: r27025
"
"2937ed2234956c841577a20bae0910503de4ae9f","2007-05-31 05:36:12+00:00","Add Macintosh filenames differences, for several CUP previews of HE games.

svn-id: r27026
"
"280d2533d2728e37c9b89c33d764453932e5be30","2007-05-31 18:23:07+00:00","svn-id: r27027
"
"56869c21a3d29a247d197a9a08544a9c60e6007a","2007-05-31 18:29:38+00:00","ADded makefile for SVG icon

svn-id: r27028
"
"4fc6ab4d269b6ef40e4a672d923a3c6c1d1f34d9","2007-05-31 18:31:34+00:00","ADded special SVG to work with S60v3. Does not handle embedded bitmaps to well.

svn-id: r27029
"
"22c0403e0dfec16badf156afa842c6c37e850263","2007-05-31 20:28:29+00:00","Re-added Revolution Software copyright to BS2 engine

svn-id: r27030
"
"e29263611a61ac2d0ef2111f7dfbf03b5924742b","2007-06-01 08:47:22+00:00","Fix bug #1727457 - WATER: Unexpected crash at the end of level 15.

svn-id: r27036
"
"73623fb326b0a891b341276d52e28c166beef5e9","2007-06-01 08:59:21+00:00","added comments for imuse digital variables

svn-id: r27037
"
"4e08f9d1b1a8c9b7b4be55d8d0fbc1365b8efa4a","2007-06-01 09:02:16+00:00","small correction of comment

svn-id: r27038
"
"e51845f053d9f6c9711ee2d16e8be288affba061","2007-06-01 11:22:49+00:00","rename some imuse variables

svn-id: r27039
"
"75e3c7d4c5d062b54c6cd1de57684708a79eed9c","2007-06-01 11:41:07+00:00","rename some imuse variables

svn-id: r27040
"
"1a915d076c92e490844b99c4251deab881627591","2007-06-01 12:18:33+00:00","cleanup names

svn-id: r27041
"
"c983e879e11a38d98f038a43943f92e93fdc58b1","2007-06-01 23:12:22+00:00","Fix regressions, caused by VGATimerEntry type changes.

svn-id: r27044
"
"a7fb55c028dd71cf79baa9402337912ae6252a34","2007-06-02 05:27:34+00:00","Fix inventory icons display in Amiga version of Waxworks.

svn-id: r27045
"
"26971aa6ab5109eaa68befe0973f0d8b22474c13","2007-06-02 06:53:52+00:00","kill misplaced cursor, refresh only when necessary, add some (cheap) visual feedback on keypress

svn-id: r27046
"
"f935b6981b0d39434c9cdb2319d5820acc59a594","2007-06-02 08:15:06+00:00","permit only one instance of predictive dialog, add handling of keypad keys

svn-id: r27047
"
"a01eda95b85081f94dc42f794ab7697e38a95951","2007-06-02 08:21:09+00:00","oops, remove debugging output

svn-id: r27048
"
"8ca6751b2181fbc24a7fe0e56086d80c0700b638","2007-06-02 09:07:29+00:00","renamed variable in IMuseDigital music code

svn-id: r27049
"
"f85871b1fc9540c77b43d8ed200059e7d31948be","2007-06-02 12:01:09+00:00","Make InfoDialog::setInfoText a bit more useful, by making it public & reusable

svn-id: r27050
"
"95ba2986d353cbc6a8cd4262cb9980b6071499b1","2007-06-02 12:42:40+00:00","Enhanced Common::String by adding char constructor and operator+ for chars

svn-id: r27051
"
"89abea6b517c5f6b9e1925c53fe0fcbd9aa50dad","2007-06-02 13:35:24+00:00","Fix display of conversation responses in Waxworks.

svn-id: r27052
"
"475abaf9dc80b14c35cb287439dc0ec22f970ac6","2007-06-02 15:20:43+00:00","Actually drop the DXA frame (i.e. don't update the screen) when we say we do.

svn-id: r27053
"
"9896ce253e9eda4bb8bb612d269ef114541ec281","2007-06-02 15:21:42+00:00","Moved a sanity check before some relevant asserts

svn-id: r27054
"
"f4299e81c13ae16d8c12c71192c9c195512ad1a2","2007-06-02 15:26:05+00:00","Implemented the sfWaitFrames script function for IHNM. Many animations should display more correctly now (e.g. actor 'zapping' animations, Ben falling off the stairs). They're still not correct, as frameCount is not updated properly

svn-id: r27055
"
"8d97729ee85070c001bbdfa69d475c3e4496e304","2007-06-02 19:32:57+00:00","adding multi-tap alpha input

svn-id: r27056
"
"299cbcb059879c71947825cd0a094938b435ebdb","2007-06-02 19:56:18+00:00","better handle mode changes and command line length

svn-id: r27057
"
"9b0d6d08986415923ecf0cb56760edc4d45035c1","2007-06-02 20:39:04+00:00","implement most-recently-used scheme for dictionary words

svn-id: r27058
"
"476088e8224ff484c55418c94756fec98f20d24f","2007-06-02 21:02:35+00:00","Silence an MSVC8 warning

svn-id: r27059
"
"3ba184b21f31e24f58a594b82ef72cc05802d822","2007-06-03 02:39:44+00:00","Moved the updating of framecount to a more appropriate place

svn-id: r27060
"
"09ae91b118938bf92ff0c6ee84f4f07fa1974142","2007-06-03 08:11:19+00:00","Fix bugs mentioned in #1730147 'GUI: Classic themes need to be updated'

svn-id: r27061
"
"a5f34ae1da559b8733b478d24c9c684d4684c931","2007-06-03 14:14:51+00:00","Initialized _stream.avail_in (and fixed a typo in a comment) after discussing
with Fingolfin. This seems to fix the mysterious bug #1726120, though I'll need
to test that a bit more before closing it.

svn-id: r27062
"
"b159645be4bfe53f8f050be768325e3c777e8ed9","2007-06-03 14:29:52+00:00","Initialise _stream.next_in as well, to silence another Valgrind warning in at
least some versions of Freddi Fish 1.

svn-id: r27063
"
"89b80a3f8bc1586c25629b109203a7a98619ae92","2007-06-03 15:50:25+00:00","Opcode 11 is sfLockUser. Also updated Scene::getHeight() for this change. Now, the interface is locked when the scripts lock it. This prevents erroneous actor movement when skipping speech by left clicking, and other incorrect behavior. Special thanks to h00ligan for all his help

svn-id: r27064
"
"4481238faaf0c84f238f63143be34f9dc2c4debb","2007-06-03 15:55:07+00:00","Fixed serious memory leak in AGOS engine (sound looping code was leaking)

svn-id: r27065
"
"0d77f50d6bfd651c1b66cd7a291a62befb86e286","2007-06-03 15:56:14+00:00","Removed dead code

svn-id: r27066
"
"66f9032d014c4a1bd0076a93b97412549614152a","2007-06-03 16:14:57+00:00","Simplified check for scene height in IHNM

svn-id: r27067
"
"cd6f145577453c8025b9b4cb2b062fe80d5034f7","2007-06-03 17:32:42+00:00","Modified version of patch #1723779: SCUMM: Improved ctrl+t subtitle cycling

svn-id: r27068
"
"5df28554acb998b7df686122bb26cb897e40e075","2007-06-03 18:44:03+00:00","Adding the new kFeatureDisableKeyFiltering OSystem feature.
This feature is used by agi's prediction dialog and is a hint to the backend
to temporarily switch off any keyboard mapping, used in devices with limited
keyboard input. Also, supply some comments to the newly added event & feature.

svn-id: r27069
"
"7201437206f62d9be004cca263ee92d2e671510f","2007-06-03 19:15:59+00:00","The animation frame counter is updated correctly now, so all animations in IHNM where the engine is waiting are displayed fully. Big thanks to sev, once again :)

svn-id: r27070
"
"83c5c2ae4eedf789fe5b23163fcc5b1ef43c9dcb","2007-06-03 19:29:13+00:00","new functionality for the predictive input dialog for smartphones

svn-id: r27071
"
"f6b8c98c13918508814b6d5ad21dfb8c772d8df9","2007-06-03 22:00:18+00:00","SAGA: When trying to access a wrong hitzone, adjust it to a valid one and continue with a warning instead of exiting with an error . We don't normally get invalid hitzones in ITE, but we do in IHNM, so this is used for now to bypass the places where IHNM crashes. It's now possible to climb the steps to the second floor of the zeppelin with Gorrister

svn-id: r27072
"
"48b8ee4d4fe4ef2db70116db894f6dd7c7bcc671","2007-06-04 04:41:46+00:00","Fix sign issue, which caused invalid writes, when entering saved game name in Elvira 2 and Waxworks.

svn-id: r27074
"
"43511e8ed2b42de6363d3bf4bd19783940c4394d","2007-06-04 05:02:22+00:00","Change printChar variables to signed, to allow removal of work around for The Feeble Files.

svn-id: r27075
"
"6f3d87314ea737d8e62fb4a69f00c047713c8e6f","2007-06-04 05:05:02+00:00","Change printChar variables to signed, to allow removal of work around for The Feeble Files.

svn-id: r27076
"
"c3a346fb1608d5638ba813822f9cedd0f24b5194","2007-06-04 05:18:11+00:00","Virtualise a few sound functions.

svn-id: r27077
"
"78c9061cff0a67fd5f146934d0edf8298f91936e","2007-06-04 07:04:42+00:00","Fix invalid writes in Elvira 1, the original game would overwrite into _window6BackScn.

svn-id: r27078
"
"6dd52b592e9e9bf09fa558132b16ca25c8fa0b1c","2007-06-04 08:56:00+00:00","Fix inventory arrows in Amiga OCS version of Simon the Sorcerer 1.

svn-id: r27079
"
"64413f9cc8492a3f278575b21927b5ee8ee40ba1","2007-06-04 14:25:02+00:00","Only call MIDI code, in games which use MIDI based music.

svn-id: r27080
"
"ae264533f3379a273d345f6b6646aba1ee22602e","2007-06-04 17:52:23+00:00","Fix compilation of AGOS

svn-id: r27081
"
"1fe7b427dd1171a3314c81471aad1928a885e964","2007-06-04 18:08:44+00:00","Properly define max text width in IHNM

svn-id: r27082
"
"9774d3b80ab16db07074acd5e0c71bda27ecbfb6","2007-06-04 19:00:41+00:00","Fix for bug #1730511 ('KYRA1: Brandon's text isn't cleaned properly').

svn-id: r27083
"
"abc879f2d8d84c87a6bcc4e94ada39f2bed56d52","2007-06-04 19:29:28+00:00","Fixed incorrect placing of converse information for IHNM. Dialog options should work in IHNM now, although they're still not placed properly

svn-id: r27084
"
"2b593f30a14a23f7ef4db9048a5d429ec4bc22ee","2007-06-04 23:10:59+00:00","IHNM: Add a temporary hack for the crash that occurs when climbing the staircase to the second floor of the zeppelin in chapter 1

svn-id: r27094
"
"8e927dd4c787a11f5ac4d2a4ba85cc7ea426520e","2007-06-05 00:36:33+00:00","Hopefully more reliable display of inventory arrows.

svn-id: r27095
"
"b23eb038eaeff19a97feb62d7ee14802501710ba","2007-06-05 00:46:58+00:00","Fix regression when listing saved game names, in Simon the Sorcerer 1/2.

svn-id: r27096
"
"27083f8fb43424a415d83469b211bc64f66588f2","2007-06-05 06:04:07+00:00","Fix loading and saving game through the options screen in Amiga CD32 version of Simon the Sorcerer 1.

svn-id: r27097
"
"83797aa33a595d291ee52e9f00e085631ed75556","2007-06-05 06:05:28+00:00","Trigger palette update, when setting the mouse palette in Elvira 2 and Waxworks.

svn-id: r27098
"
"1304f53af1ee652f6f6427eaaa707dc0c5cf5f48","2007-06-05 06:43:53+00:00","Add workaround for the scrolling glitch in The Feeble Files, the occurs when the repair man comes to fix the car.

svn-id: r27099
"
"06d9b8ea39e719bcc457739c3ecd224ba03f543e","2007-06-05 08:48:30+00:00","Fix palette glitches on printScroll background, during many scenes in Eivira 1.

svn-id: r27100
"
"de826820714a8fbae70677fa51644eef9e4aa7bf","2007-06-05 09:13:42+00:00","Update sound ranges in debugger, for earlier games.

svn-id: r27101
"
"3547c13e49f14e07a054f77f4cc6f92daa71dd87","2007-06-05 09:14:59+00:00","Updates, to keep Amiga demo of Elvira 1 working.

svn-id: r27102
"
"56cde56d4b138bd840a6031e8dd8bd647b1296d8","2007-06-05 11:38:26+00:00","Fix input issues in earlier games, and split handleMouseMoved() due to difference in earlier games.

svn-id: r27103
"
"ce903d557a98daf2bc152c4a17441f288e8b9722","2007-06-05 11:46:39+00:00","Add option to dump all subrountines in a game, to help with bug reports.

svn-id: r27104
"
"df324b90d81ff78088b242f23db443fb49235f3e","2007-06-05 11:49:01+00:00","Fixed crash on exit (bug #1726185).

svn-id: r27105
"
"f11c51f487eadbbba9c6ed1e3230843ff4905c9c","2007-06-05 12:32:43+00:00","Fix background of pause options in Amiga and AtariST of Elvira 1.

svn-id: r27106
"
"95821c97eee8d46557dc4637877bd54f1db9b3e8","2007-06-05 13:19:47+00:00","Inventory and conversation arrows are working correctly now in IHNM

svn-id: r27107
"
"2f033e7a4c844bc8747ca5c7f6789a94277a48a6","2007-06-05 15:04:25+00:00","Check if a zone type is NULL for both ITE and IHNM, as it's done in the original. This fixes the crash in IHNM when entering the second floor of the zeppelin and the crash in ITE when interacting with the bowl in the tunnel, outside the prison. Removed the two relevant hacks

svn-id: r27108
"
"158193fe51c7cc578b056481024e264252675121","2007-06-05 16:29:15+00:00","Add the hack for the staircase in the zeppelin in IHNM once more, apparently the cause for it is different than what I thought

svn-id: r27109
"
"ab6fb8e9c3cd6853f23f7251e891c13da9472a33","2007-06-05 16:31:58+00:00","Filtering specific verbs is used in ITE, but not in IHNM. It's now possible to use the jukebox in the honky-tonk in IHNM

svn-id: r27110
"
"b6bc1ef9a6dff1d1a0f09f9331ee1b3ecb8736e0","2007-06-05 18:55:41+00:00","the FT cheat key is now called multi function key (pending commit for sucker punch in indy)

svn-id: r27111
"
"fb8a569fdf4290409766fecfb8a3037f8f4e3be1","2007-06-05 19:06:54+00:00","renaming to multi-function key. Also, reverting to softkey A for default keymap (compatibility on first run)

svn-id: r27112
"
"c3836b338c64a1322dc95da3946f3bff561edbe8","2007-06-05 22:18:12+00:00","branch-0-10-0 is 0.10.0pre

svn-id: r27117
"
"bb41be14d833604c8b75eb5cf23d46b68d241f9e","2007-06-05 22:39:36+00:00","Avoid compiler warnings.

svn-id: r27119
"
"ec81f3bb03c2fc599a38df3f6ec309bffdf7d9b5","2007-06-06 00:47:35+00:00","Add alternative hack, to skip largest speech segment in Simon the Sorcerer 1, when using DS port.

svn-id: r27120
"
"2b160bff917cc5ebcd7ac1038e6fa140febb163a","2007-06-06 00:48:27+00:00","Fix regression caused by commit #27108

svn-id: r27121
"
"21b6b2f66d42c6a82d9b03a13ede3b126e89f50d","2007-06-06 03:38:57+00:00","Fix possible crash issue, if music volume was set by 3DO versions of HE games.

svn-id: r27126
"
"ca6ae048eb9e47ce9f565d1074cb9eea56f01770","2007-06-06 05:53:55+00:00","Fix crash, when the hitarea array overflows in the Amiga demo of Elvira 1.

svn-id: r27127
"
"0918e476c2763f286587eab56a5f699c99c8b60a","2007-06-06 10:41:36+00:00","Fix the Unholy Barrier spell effect in Elvira 2.

svn-id: r27131
"
"48386e8741e81bee8b2e4ccb596c53427d864a0d","2007-06-06 13:26:39+00:00","Backport potential memory overwrite fix.

svn-id: r27133
"
"16873bcb112c100b8319470e5f54e95329abba42","2007-06-06 13:30:47+00:00","Backport another potential memory overwrite fix.

svn-id: r27135
"
"98cbd87072e5039bbf58ba066ef462410a19a61b","2007-06-06 13:34:31+00:00","oops.

svn-id: r27136
"
"51266c73838bbbd19d538d5151138785c27624b2","2007-06-06 14:00:11+00:00","Fix glitches when highlighting words in Elvira 2, the characters were drawn at the incorrect location, due to difference in column offset used for new lines.

svn-id: r27139
"
"7f31dacffd64d3b5f4f14c8d458298c6bfcc21ba","2007-06-06 23:35:42+00:00","Fix glitches when highlighting saved game names in Elvira 2 and Waxworks, caused by incorrect position of characters.

svn-id: r27147
"
"f9f325efe17a0ce305b07332e9fe104900379de3","2007-06-06 23:39:33+00:00","Add Italian Amiga version of Elvira 2.

svn-id: r27149
"
"591b76a1bb519602396f131ee8e6e629dda472c9","2007-06-06 23:48:45+00:00","Fix pausing sound effects in earlier games.

svn-id: r27151
"
"3a8e7e31214bef33f340e1e260b4e1d918b003a4","2007-06-07 00:25:06+00:00","Add case for font data in Italian versions of earlier games too.

svn-id: r27153
"
"fca93de0d331c83d2a90df695f08cca4d0361315","2007-06-07 00:54:50+00:00","Fix incorrect position of characters in Elvira 2, caused by column offset difference in clearWindow.

svn-id: r27155
"
"50bb29334d5388059137c5bcbff0c9f9baaaf49d","2007-06-07 01:55:16+00:00","Fix non-MIDI music still playing, when the game is paused.

svn-id: r27157
"
"ab323f143314e077da371494570a1097315ef606","2007-06-07 02:45:19+00:00","Limit MIDI driver, to games using MIDI music only.

svn-id: r27159
"
"7a22114d10695db54742e967db9dde74eacc6536","2007-06-07 02:51:48+00:00","Fix memory leaks on when quiting game.

svn-id: r27161
"
"3541c40533ad5438aaf95da497fef6fabfb479d9","2007-06-07 04:09:41+00:00","Fix invalid writes in the Amiga demo of Elvira 1, caused by video window 20 using larger height.

svn-id: r27163
"
"b218678d5dc7ca68103dc878db4223e08a18c1e5","2007-06-07 09:39:47+00:00","Add details for French and German Amiga versions of Elvira 1. Remove restart state from Elvira 1 detection, due to two byte difference in the restart state on each disk of Amiga versions.

svn-id: r27165
"
"7bf5dcf6ae84e4e8d398bbcfeded0d4834978087","2007-06-07 15:44:11+00:00","Fix inventory arrows in Elvira 1.

svn-id: r27171
"
"ad5a4745bec918067da45600aa2bd9f3a115b57d","2007-06-07 20:52:30+00:00","Symbian PORT updated with CE mappings

svn-id: r27177
"
"feb862b1bed5b6831afc071f462824ccefee5f0e","2007-06-08 01:49:28+00:00","Fix inventory arrows still been shown in Elvira 1, when inventory is removed.

svn-id: r27182
"
"2c9d350fbd0295505b1c3288b870d7dfb1c9b38e","2007-06-08 02:19:22+00:00","Fix window scrolling in earlier games.

svn-id: r27184
"
"d42d004f16c6832f60d4bdde6fb85e49a735a52c","2007-06-08 06:10:16+00:00","adding F1 for bargon and KP0 for indy3 functionality to multi function key (sync)

svn-id: r27186
"
"dc393bf2094631a8390b711c1b5e6dc4deb7d203","2007-06-08 06:19:11+00:00","fix bug #1674683 (GOB2 can't save): send 0xD for enter (sync)

svn-id: r27188
"
"c34c5a0f044e6c9ed79793564c6b3906bd7d4702","2007-06-08 06:29:49+00:00",".txt is the device-friendly extension for text files (backport)

svn-id: r27190
"
"7655f34e6e4c3c0301d01ee6de99726f98a8c06b","2007-06-08 07:51:44+00:00","Fix load/save interface in Elvira 1.

svn-id: r27192
"
"57ac2d0b073fed99a3e7b026155c67e54ddb894b","2007-06-08 08:13:07+00:00","adding navigation with arrow keys and enter; did away with some ugly gotos (backport)

svn-id: r27194
"
"e01423a2ad2e74ac79f3a2ca651bb577faa601cd","2007-06-08 08:41:26+00:00","Don't save game, when no saved game name is given in earlier games.

svn-id: r27196
"
"3a281d809edc7665a455024af41ce2727189c7e9","2007-06-08 10:14:03+00:00","Disable Waxworks.

svn-id: r27197
"
"1a71b55879c3a1e7b135181f565558059c932add","2007-06-08 10:58:28+00:00","Add details for Hebrew Windows versions of Freddi Fish 3 and Pajama Sam 2 demos.

svn-id: r27201
"
"f9dd9076a3ec8315ade72f6b2ffd73ea7011f01a","2007-06-08 11:00:59+00:00","Remove duplciate entry.

svn-id: r27202
"
"590a0a7d41f02e94a6d90ff5e8dd8938223a9e52","2007-06-08 18:07:12+00:00","In AGI only set prediction to enabled if dictionary was found.

svn-id: r27204
"
"dadf5518710e02dfb67ca85097dcc0450ed91bf9","2007-06-08 18:07:39+00:00","SymbianOS updated for prediction input

svn-id: r27205
"
"8977dbea92099276b8fb068ab52186027833b515","2007-06-08 19:30:22+00:00","Fixed some Valgrind warnings (overlapping source and destination in strcpy()).

svn-id: r27208
"
"03d5fc8ca8ac8c72e36242ae0450328be1efa5bd","2007-06-08 19:44:17+00:00","Add default predictive dialog dictionary

svn-id: r27210
"
"cf36c135b4215a8f82388c4f43721fff7506b951","2007-06-08 20:04:30+00:00","Update configure to set the new EXEEXT for the GP2X port (.gp2x rather then .gpe) on branch.

svn-id: r27212
"
"802859282a2d6c8bf35950a33c910aa5b4fe6914","2007-06-08 20:09:51+00:00","Added read file sharing by default. Required for Gob2.

svn-id: r27214
"
"a0ca85d304bc8b0157477c805c66820be4dd9b90","2007-06-08 21:10:30+00:00","Removed line in makefile not needed anymore

svn-id: r27217
"
"d02a9e976526f2db4c4b48e89cf296ca7ddb9d3d","2007-06-08 21:30:04+00:00","Updated filesharing mode to full sharing. Now scummvm.ini works again.

svn-id: r27219
"
"b396fff4224f4b61bc68346db9d011af2138c1b5","2007-06-08 22:19:06+00:00","add new games to package description; use mpeg2dec 0.4.1

svn-id: r27220
"
"2e5b7c525b2441bdc8c6691af0f1c9eedc11d692","2007-06-08 22:26:09+00:00","pass --enable-release to configure when building .rpm

svn-id: r27221
"
"d72b3878d51512ba4e9b4180bdaab1458f8f8043","2007-06-08 23:05:24+00:00","Fix crash when closing Kyrandia demo. (backport)

svn-id: r27224
"
"37879929e858f570fbf2d1fe1b256b8cb50110a7","2007-06-09 07:50:26+00:00","Fix gltich when listing saved games in Hebrew versions.

svn-id: r27230
"
"526f276f3e346cee4838056ab534e42acf32988a","2007-06-09 07:51:58+00:00","Revert extra commit.

svn-id: r27231
"
"8c434b5a94ee77b20a7146f3ee7acbe58fcb71ce","2007-06-09 08:41:22+00:00","fix keys getting stuck in virtual keyboard (backport)

svn-id: r27233
"
"c3e1dcb1cefed38d603d489474c16d1235384163","2007-06-09 08:58:35+00:00","Fix position of name text in Hebrew versions.

svn-id: r27235
"
"7fce395e98aadf1b1ad80a2cb9d823a49a3ab9f4","2007-06-09 09:25:27+00:00","Silenced warning on WinCE.

svn-id: r27237
"
"bdd4f1157490637e4563eb6376a1b56d6876499c","2007-06-09 09:28:22+00:00","Changed makefiles to default to armi binaries

svn-id: r27238
"
"f7d9ba5f06eb95548068f0dd9eddf395caf8ebee","2007-06-09 09:43:16+00:00","disable lure and cruise engines

svn-id: r27241
"
"47b139704ba48b21565fa57a9fa973349a53a57e","2007-06-09 09:43:34+00:00","update version number

svn-id: r27242
"
"3a7b986ef9d51ec4ba7b5968d73f073f0c1ae566","2007-06-09 10:06:23+00:00","add nippon support

svn-id: r27245
"
"c2e036e1891582100ed68bf1d86b2056d5c10f28","2007-06-09 11:07:39+00:00","oops

svn-id: r27247
"
"22543c49ffb194db30c67ff59e913f536a6a4e5a","2007-06-09 13:32:34+00:00","Fixing scrolling issue in 'IDOL'-screen (bug #1734007)

svn-id: r27249
"
"090f5cd336f23ef1ca47b74b0ff8c3b650940404","2007-06-09 17:26:08+00:00","fix bugs 1734068, 1723144: cursor trails when scrolling

svn-id: r27251
"
"e59e8b3c67c3a57b97caff130a2ea757482e5df0","2007-06-09 17:29:47+00:00","Cleanup of GP2X port for 0.10.0 branch. Still issues with AGI engine to resolve. Also committed binary kernel module used by ScummVM on the GP2X to save tacking its build process onto the end of an 'official' build.

svn-id: r27252
"
"16e743376df96399b09a3df74acf0b2d50b1d36b","2007-06-09 18:09:26+00:00","Fix for bug #1734064 (FOA: Speech volume can not be set) -- we played speech as SFX, not speech, in many SCUMM games (backport)

svn-id: r27254
"
"dbf122d47ea78b88d3bc321735dd5dcf91c1f559","2007-06-09 21:13:32+00:00","Updated actions for paralall

svn-id: r27255
"
"db7087c48e8d1b8d01f93d281459f52e38c3a3c0","2007-06-09 21:15:21+00:00","Disabled serial for release.

svn-id: r27257
"
"a39b6e8ecf43932a8937ce189e3f0c9b47270225","2007-06-09 21:20:05+00:00","Disable debug file creation for 0.10.0 release.

svn-id: r27258
"
"c4dc75156b67b7a131446aa20db5097763e9ef2d","2007-06-09 22:03:15+00:00","increasing the default priority of the sound thread for release

svn-id: r27259
"
"7605a22f8e10280ab4b71961f1a4ec0569731802","2007-06-09 22:03:59+00:00","Makefile for release

svn-id: r27260
"
"173e11ca8c6330ed3ab671116a8602bba620383d","2007-06-09 22:04:39+00:00","update list of tools packaged

svn-id: r27261
"
"3f461b7e1cf32e03a46470051f3ff71bb508fe2c","2007-06-10 01:01:31+00:00","Fix single sound effect, failing to play multiple times regression, caused by changes for PP in the past.

svn-id: r27265
"
"cc528f7c8dc27c1e2f67dade6f1bb52356fadbb3","2007-06-10 01:05:37+00:00","Fix single sound effect, failing to play multiple times regression, caused by changes for PP in the past.

svn-id: r27266
"
"ab29ca7f11b68185e05f9a0ec10bd42ce60af8bb","2007-06-10 01:07:09+00:00","Fix adjusting music volume in Puzzle Pack games.

svn-id: r27268
"
"34646905bf6736e3efbd4974597ac0e0b971273a","2007-06-10 01:17:05+00:00","Fix crash via assert, when string for subtitles exists, but is only set to zero.

svn-id: r27271
"
"7749da21d94e4fac74c4de205b345b79f869de8b","2007-06-10 02:24:11+00:00","Fix load/save regression in Puzzle Pack.

svn-id: r27273
"
"4e1fb4a28c1dff74383500a1c6a320c385d98569","2007-06-10 04:16:04+00:00","Fix timer code in Puzzle Pack, to match original speed.

svn-id: r27276
"
"fc68701c58848ac219b3e655cb33e5c968f8a527","2007-06-10 04:37:45+00:00","Restore DIMP specific timer code.

svn-id: r27278
"
"5fa662d581d438b21a1b37001a4818d5278d8cdf","2007-06-10 05:40:20+00:00","Fix toggling music on/off in games, when using non-MIDI music.

svn-id: r27279
"
"4d89c6453c399a98c80db5ec76ce9d736dd163d0","2007-06-10 05:43:08+00:00","Add hot keys used by Puzzle Pack.

svn-id: r27280
"
"af607a570bc8d8fbb14910c0bba552e79994e443","2007-06-10 06:07:24+00:00","Fix muting music on startup in games, when using non-MIDI music.

svn-id: r27283
"
"7bfc8569c1699e4e17411c85f636583e7b8460ae","2007-06-10 08:19:35+00:00","formatting (backport)

svn-id: r27286
"
"94cfd4b76431cff0bae1944b391763d5fcbb0e7f","2007-06-10 08:20:31+00:00","drop some debugging leftovers (backport)

svn-id: r27288
"
"b8981c5531772ad63d48291b66016c166589ce19","2007-06-10 08:23:51+00:00","re-add flac support which I had totally forgotten about. Builders must update to the newest libpack. (backport)

svn-id: r27290
"
"8d65d586634d3a1ccc3c2a222220a7648bae8099","2007-06-10 08:35:11+00:00","Update cutscene details for Broken Sword 1/2 games, as we provide the cutscenes in DXA format, with FLAC audio now.

svn-id: r27291
"
"90807c6d1ff1c3ba284c34591e143fe65987d08d","2007-06-10 08:44:13+00:00","briefly mention wince changes (backport)

svn-id: r27294
"
"4a1cae645cc077396e8332a8f76cbc36f10b1db6","2007-06-10 08:48:48+00:00","Fixed opcode number for opp_iconifyWindow(). Regression from cleanup?

svn-id: r27296
"
"1092756e73c16bc11fd338e4991be437c9c371d2","2007-06-10 08:56:53+00:00","improve grammar

svn-id: r27297
"
"27b7d629795dd9e744a8b8b968d24a65f3eef5ac","2007-06-10 09:06:33+00:00","An OmniTV cutscene pack, with be provided for Amiga and Macintosh versions of The Feeble Files.

svn-id: r27299
"
"3dbac8b190edc10cc61d2e41feed04e700d1f71a","2007-06-10 10:15:27+00:00","Modified version of patch #1734263: Patch for some of the TODOs in the ScummVM 0.10.0 README

svn-id: r27302
"
"f32943946d8f10a71ae12b4302e0b271622a2436","2007-06-10 12:12:00+00:00","update the port readme (USE broom WITH cobwebs) [backport]

svn-id: r27308
"
"94021df65254c71af3f9b6d35d3ebfe7c88a09f2","2007-06-10 12:51:26+00:00","Move Ctrl F hot key, to specific engines that offer the option.

svn-id: r27310
"
"c1e55dc76abfddd12083ceaf67b4e94ea551b2b4","2007-06-10 15:05:19+00:00","Describe keys for Future Wars and Nippon Safes

svn-id: r27314
"
"fae568db9fd2a436d7435cb1fcb4b64207bc6983","2007-06-10 15:21:52+00:00","Move hardcoded predictive dictionary name to config manager.

svn-id: r27316
"
"aad07646a3174ae96498c9da7d2090a0ee770c0b","2007-06-10 16:10:01+00:00","Update the list of supported games of version 0.10.0 in the README

svn-id: r27317
"
"37e622944057702da10c5b00a181274998fcee6d","2007-06-10 16:28:50+00:00","Added information about AGI Predictive Text Info in the README

svn-id: r27321
"
"3d7c468f4404d9b25deb98363305bf529fcb61de","2007-06-10 17:46:39+00:00","Update the GP2X bundle.sh to copy COPYRIGHT file into the distribution zip file. (Branch 0.10.0)

svn-id: r27324
"
"1c5543bd0ea0ce215307f47043807ad7aea97ad7","2007-06-10 18:15:39+00:00","Added reference to COPYRIGHT file in various places (port to 0.10.0 branch)

svn-id: r27326
"
"43388dfa42dd75b06df3a16c074d440d35044b96","2007-06-10 19:43:15+00:00","Updated makefile scripts with correct documents.

svn-id: r27328
"
"674692b96dd6caf388077b44b5705dfef0b9c609","2007-06-10 19:51:25+00:00","Added default certificate for Scummvm to use on Symbian OS 9. Password is scummvm.

svn-id: r27331
"
"ca879f8863e04e6ad9ab62403ebbb2b53ffff61e","2007-06-10 20:03:04+00:00","Added change list for DS port

svn-id: r27332
"
"f244ccf95f5e4d0e39989c464de2a78ee8003a5f","2007-06-10 20:15:16+00:00","rephrased and restructured the notes on pred. dialog (the reference text was never meant to be used for user guidance). if this is too formal, feel free to lighten it up. [backport]

svn-id: r27334
"
"83ffa13c3813fe840db9a06ec729279646bf801d","2007-06-11 00:13:55+00:00","Sort games alphabetically, in hot keys section. Remove mouse click information, in hot keys section.

svn-id: r27335
"
"6d212191c4401baabcd72e6e2813444803071d6a","2007-06-11 06:17:33+00:00","Restrict workaround, to prevent regression when inverting conversation responses in scrolling locations.

svn-id: r27339
"
"12f094dd10981f063c6e614cd5a871380a8e6c29","2007-06-11 06:48:53+00:00","Backport fix bug #1734582: 'AGI: missing words in predictive dictionary for KQ3'

svn-id: r27342
"
"d29c96878364c06b232fb4164c781d287dbc7d4f","2007-06-11 08:04:11+00:00","Backport fix for bugs #1709323 and #1677997

svn-id: r27347
"
"b58eeb49e31e8ce84b815963190e670d599e9783","2007-06-11 08:19:23+00:00","Backport for PSP button overlapping fix.

svn-id: r27349
"
"0a64286028540081ce215d04c4816c80165b4fd7","2007-06-11 08:26:07+00:00","trivial fixes (bakcport)

svn-id: r27351
"
"74d271812515b1028e4f81e398afbb4c346e06e6","2007-06-11 08:38:56+00:00","adding compilation pointer (backport)

svn-id: r27354
"
"bda192377630bbfb52f2e00abcc3cbd99a01b362","2007-06-11 08:41:26+00:00","Backport fix for bug #1719463

svn-id: r27355
"
"96eff93eb72cd69a62875fbadf39d885845eab2d","2007-06-11 13:26:41+00:00","Fix restoring screen, after spell wall effects in Elvira 1/2.

svn-id: r27360
"
"f6357b9d8fbae1c610298093ed50c4832d7213be","2007-06-11 14:03:11+00:00","Add hot keys section for Touche.

svn-id: r27362
"
"2c30ed61933a955f98ce717aec50d16aeb5b0bd6","2007-06-11 19:29:53+00:00","Include Kyra.dat and sky.cpt in the sis file. queen.tbl not included due to the size.

svn-id: r27363
"
"c29aff135a4573cb0cd9abfca19882739521e6ec","2007-06-11 19:52:34+00:00","Updated NEWS with Symbian details

svn-id: r27366
"
"23a9fe6df3172865788ea15b7d5f6c1ce2ac617d","2007-06-12 00:51:27+00:00","Fix crash regressions in The Feeble Files, due to _currentTable not been set.

svn-id: r27368
"
"582a9b8a1386b19e0a205408fc0be95970f40492","2007-06-12 06:47:40+00:00","Add support for pausing/resume cutscenes shown on the OmniTV in The Feeble Files. Back ported with permission.

svn-id: r27372
"
"f632e588bd68bcece20cf40b6e199d48a0631137","2007-06-12 06:50:31+00:00","Sync with trunk

svn-id: r27373
"
"6b18463a51e54810acffb32e496a6392d09e2110","2007-06-12 07:14:04+00:00","NDS : Attempt to not buffer overrun VRAM when doing saveGameBackBuffer/restoreGameBackBuffer ported to branch 0.10.0

svn-id: r27374
"
"e791e5e9f698966ba8cc9b3972f0cc815bbe1169","2007-06-12 12:50:30+00:00","Fix for #1733238 - FW: crash in copier room

svn-id: r27377
"
"64370bc6d864fdebb76a2cd2c4939e76b622ca80","2007-06-12 21:21:21+00:00","add DATA_PATH to directory search list when starting game

svn-id: r27380
"
"a22a6b100da8c98950dab0790c2c2fba8d70cbaf","2007-06-13 12:58:20+00:00","implement predictive dictionary using ascii based operations, replacing the 10ary tree (backport)

svn-id: r27384
"
"4807cb3d9e91d90f336c73b7004349d0882936d3","2007-06-13 20:37:44+00:00","Backported updated about dialog to 0.10.0 branch

svn-id: r27392
"
"aa4733c7fa23e74321106a76402a3e65c5bcad33","2007-06-13 20:54:08+00:00","Slight tidy of the GP32 Makefile to see if the port can be cleaned up enough to build. (Branch 0.10.0)

svn-id: r27394
"
"cd514d472e2a1826c4aee0710dd15958c12b97ec","2007-06-13 21:07:15+00:00","Add some crude shell scripts used to speed up GP32 builds. (branch 0.10.0)

svn-id: r27395
"
"0fe667d6379f4b03a28ff7d0b429c07ec866f673","2007-06-14 11:04:45+00:00","DS : setKeyboardEnable should synchronize SUB correctly when CPU scaler is on

svn-id: r27399
"
"fc8b36e73c7181df31f26f5ac3a9db91e69fb831","2007-06-14 11:14:55+00:00","DS :
* grabRawScreen should work with the scaler enabled
* the address given to DC_FlushRange in grabRawScreen was mixing a u16 base address and a u8 stride, skipping every odd line and buffer-overrunning (if I'm not mistaken :) )

svn-id: r27400
"
"623685d5d2c4bfda740ab4a49bc29608558882e8","2007-06-15 16:34:20+00:00","Backport launcher fix to 0.10.0 branch

svn-id: r27420
"
"d3d671ce17d3caa0e7001a7c03fe04385bbad4c6","2007-06-15 16:38:05+00:00","Disable IHNM (I have no mouth, and I must scream) and OS (Operation Stealth) in the 0.10.0 branch, as they're not stable yet

svn-id: r27421
"
"42c7d31899bfa04392c3f0806ccbc9a64f84136c","2007-06-15 18:39:58+00:00","add game data files to rpm package

svn-id: r27429
"
"30a352c1202840529fc0572b69b97278740d75eb","2007-06-15 18:42:40+00:00","Typo

svn-id: r27432
"
"a497be40283c567eb1a7728cbd0cf86eab94985d","2007-06-15 20:39:29+00:00","Fixed wrong file included

svn-id: r27434
"
"bdbd38d78bae276f8c00a3869afcb448316644cb","2007-06-15 21:22:14+00:00","Backported fix for bug #1690813: BASS: Crash when changing scalers during intro

svn-id: r27436
"
"7189d8c2a182e381b0be1218ec91cd12fbbc6ae3","2007-06-16 08:51:30+00:00","Remove frame skipping code for Amiga demo, as it fixes Honest Chan not appearing correctly.

svn-id: r27444
"
"00dab0abf94e123888e29a78f38ea5064559b0c8","2007-06-16 09:57:14+00:00","Fixed arrow keys hard and emu

svn-id: r27448
"
"638646741bb2402a67ec306f73657ba1ddf97bc3","2007-06-16 09:58:22+00:00","Fixed compilation

svn-id: r27449
"
"33c7a3a256de176ffb374a4b929ef5e047cb5e71","2007-06-16 10:15:08+00:00","Use the old and faster 1.5x scaler when available

svn-id: r27450
"
"5cb672a4b14df713d7955ec20ec0dbbe9db51a30","2007-06-16 10:22:06+00:00","Cleanup

svn-id: r27451
"
"69658814b1b68497b18d00622601a6dbc127cf80","2007-06-16 10:25:01+00:00","Cleaned and updated project file

svn-id: r27452
"
"46c30f29ba3d061c50ec2a320d45dfb0a5558079","2007-06-16 10:47:09+00:00","Fix quit command failing in certain locations (ie character/language selection) for now.

svn-id: r27457
"
"f0e6347365c6722de8bc0abef086035615f57aad","2007-06-16 18:54:47+00:00","Fixed link order, make exit() works properly

svn-id: r27477
"
"48f97c3cd776a9aa0733b6e3dd31369d322abae1","2007-06-16 19:07:20+00:00","Update file with all who contributed patches to the project (backport)

svn-id: r27479
"
"e21751ad8e12026663aedc62e1335b45fadf89cb","2007-06-16 19:26:19+00:00","Sync credits changes

svn-id: r27483
"
"35188cef66a15d9c84aa95c42f7864480c89960e","2007-06-16 19:29:14+00:00","Backported rubustness changes when reading SAVEGAME.INF. We shouldn't have to
do this, of course, but since a mutilated SAVEGAME.INF could cause you to lose
the ability to load any of your savegames, it's not completely unwarranted...

Sometimes, I really dislike engines using this kind of 'index' file for their
savegames...

svn-id: r27485
"
"0f4e1826a7eab8b31aad8343a66ce51a46c0cd7c","2007-06-16 20:29:39+00:00","Fixed invalid read from odd address in some cases (Gob1 EGA on PalmOS)

svn-id: r27486
"
"79cd6f920c953dba496af814ecaf9f4616b47d22","2007-06-16 20:37:44+00:00","Set release date

svn-id: r27488
"
"0c8221f1dc4b67715c094c7e416a937540f4b35d","2007-06-16 20:38:38+00:00","This is 0.10.0 release

svn-id: r27489
"
"c9771418f9c979e64d4fdfcfe7cfcea5bcb1d9c8","2007-06-16 20:40:52+00:00","No TODOs in README

svn-id: r27490
"
"3261da1029620972a2ef3b360a8d3317823ee7fa","2007-06-16 20:43:09+00:00","Fix another spot with version number

svn-id: r27491
"
"fea7318502ec01f2cdf210c945f7345508d26873","2007-06-16 20:46:09+00:00","Fix duplicate entry

svn-id: r27492
"
"c89e0c5f53837f94b67ce387680967a0810f5c5c","2007-06-16 20:49:18+00:00","Fix more duplicates

svn-id: r27493
"
