"commit id","commit date","commit message"
"7bc422a8e94fedbb70470222b155ced1163d0a81","2007-11-17 12:48:28+00:00","Use unique save game naming for PC versions of Elvira 2 and Waxworks, due to the save game format differences.

svn-id: r29539
"
"dbbce1985aee049e5bb1690ec9d8368934a4d6a7","2007-11-17 21:26:03+00:00","Implemented portrait mode, fixed a few issues with the dirty rects handling, fixed some cursor positioning issues, and redirecting stdout and stderr to a log file when ScummVM is launched from the Springboard

svn-id: r29541
"
"ee4d7dc54d252cd98f0d902946d083c31440d287","2007-11-18 01:14:20+00:00","Increased sound buffer size to avoid some skipping issues, and re-added a timer callback that had somehow gotten lost

svn-id: r29542
"
"70c4f25aef09d7e15d13090909cd6713cd4572e6","2007-11-18 04:02:11+00:00","Fix loading restart state file in Amiga version of Waxworks.

svn-id: r29543
"
"4ce9b7fa15b28944338be190030649d58b103810","2007-11-18 04:34:08+00:00","Switch invalid items back to error message, since restart state issues are fixed now..

svn-id: r29544
"
"2670862c3311793865400b392664704da61fab4e","2007-11-18 04:42:40+00:00","Update comment for workaround for bug #1745996.

svn-id: r29545
"
"4d214711550eb51114c70b06a96d725c671ed204","2007-11-18 05:10:56+00:00","Cleaned up animation player and added support for a set of sounds to be played during an animation

svn-id: r29547
"
"eadb5b7292dc2d62e79e01834ec671ac13ed5d57","2007-11-18 05:11:38+00:00","Added sounds to endgame animation sequence

svn-id: r29548
"
"3364e035172e9e0498a683211f446e7b95d57f8c","2007-11-18 06:14:53+00:00","Reordered savegame content to fix bug where restoring a savegame from after a fight caused the opponent to briefly appear alive again

svn-id: r29549
"
"7b458c96b02e99d57b730876d314d3db02667743","2007-11-18 06:16:58+00:00","Bugfix to only delay showing a new talk dialog if there isn't one active in the current room

svn-id: r29550
"
"c0cebe93bb189d0aa94ceb9fc9eca26a8b2242e4","2007-11-18 06:24:40+00:00","skip silence VOC block (used in Igor)

svn-id: r29551
"
"0867e09a8129775de703516ca37108237b5d5c77","2007-11-18 06:25:23+00:00","- added CTMF music support
- fixed dialogue in PART12

svn-id: r29552
"
"ab445635cb9352400f5af406fe0024324e634e61","2007-11-18 07:42:49+00:00","Added some extra mutex locks to the sound code to hopefully prevent randomo crashes

svn-id: r29553
"
"91959050080f5823a700a661d597c166775f14bb","2007-11-18 08:11:29+00:00","Further fixes to sound code (thanks to eriktorbjorn)

svn-id: r29554
"
"ade0b5a21222c705a8fe3a3e67d6c783904c6d5e","2007-11-18 10:08:43+00:00","Fixed sluggish mouse cursor on restart/restore screen.

svn-id: r29555
"
"6471eb84f25d156a98bcf0447862e4839f8cc24d","2007-11-18 13:22:38+00:00","Cleanup.

svn-id: r29556
"
"6a4ce78789a4297a46e3528eaaf48601c1461549","2007-11-18 17:58:53+00:00","Implemented soft keyboard support, and added a workarond for engines that can't handle mouse-down and mouse-up events coming in two subsequent calls to pollEvent()

svn-id: r29557
"
"9e58b0253d40efb2513755e7f09b17e12fdecdc8","2007-11-18 18:04:41+00:00","Removed other paranoia code from the original engine (as in revision 29505).

svn-id: r29558
"
"c76c6e22567b7b2f89acdf53cb73ed2cf9cac2d3","2007-11-18 20:27:31+00:00","added rjp1 module specific pattern playback

svn-id: r29559
"
"7d984d1a67a43e14e3fc32e9c1bbe91b3157b792","2007-11-18 21:13:08+00:00","factory functions should be documented at least roughly...

svn-id: r29560
"
"7731af9833dbc01e5ae66bbce4b3e364e414b99a","2007-11-18 21:16:27+00:00","Partly decoupled rendering from game data update. Graphics routines to draw/erase animations and labels are now invoked explicitly instead of being handled in the job list.

svn-id: r29561
"
"28289fb694b1766a672bfc77f01e0cc3e88723de","2007-11-18 21:32:22+00:00","Cleanup.

svn-id: r29562
"
"40a5f8028a861d64540ffe98a20395101b781a33","2007-11-18 22:22:38+00:00","Muting the compiler :P

svn-id: r29563
"
"b1f6be7baa5c2d2c8c9441ea447db3145d9fc535","2007-11-18 23:35:09+00:00","Moved Gob's square wave generator to sound/softsynth/pcspk.h

svn-id: r29564
"
"ed824ae03b51014160709a43a7d0fb81dc3e7c75","2007-11-19 00:38:38+00:00","Updated the MSVC8 IGOR project file for commit #29552

svn-id: r29565
"
"24d1eff8e4d4b3c049df93e834a26b6ec15a9160","2007-11-19 00:45:58+00:00","Define M_PI if it's not defined (seems not to be defined under MSVC)

svn-id: r29566
"
"2a339d8ea3deb7b8ef28224ada00c1180bc260e3","2007-11-19 12:44:54+00:00","Don't use M_PI, rather use our very own PI constant

svn-id: r29567
"
"d86246308d31b898ca22462de3a68910b52e0eb1","2007-11-19 20:23:01+00:00","Walk and script handling are now directly handled by the main loop, instead of relying on the job list.

svn-id: r29568
"
"8a145bbb53eb82e18a31b39dcb5eba522940fd6d","2007-11-19 20:34:26+00:00","Hook PC Speaker to Troll's Tale. Though pitch and duration are wrong

svn-id: r29569
"
"7270c8113e0bd2bd826d3166716773a603b67c51","2007-11-19 20:41:13+00:00","oops. that's what last minute moves may result in.

svn-id: r29570
"
"f8e1da5b60b1ce9ea3a7e590cb40fdcfb860fa0b","2007-11-19 20:46:28+00:00","* made engine use Inventory and InventoryRenderer
* inventory drawing is now performed directly in the framebuffer instead of using the game screen buffer
* specialized jobs to handle inventory drawing have been deleted as they had become obsolete

svn-id: r29571
"
"3996e3daac13778d79cc572f63825b7a88a96bca","2007-11-19 22:29:02+00:00","Fixed a silly palette issue, and added a toggle for a click-and-hold-mouse-button mode

svn-id: r29572
"
"2d3316a570475c01cd6fed60f35e2f5ab497e0ee","2007-11-19 22:37:52+00:00","_speakerStream should be public. Also, when preAGI engine closes, the speaker handle is freed

svn-id: r29573
"
"e010c59277474715b5f02af72e0645fb4d87022b","2007-11-19 22:47:58+00:00","Oops, made _speakerStream private again

svn-id: r29574
"
"ea569b48d0f3f59321b90402f15c04c015803643","2007-11-20 00:26:36+00:00","Implemented music in Mickey's Space Adventure, thanks to the now common softsynth square wave generator

svn-id: r29575
"
"5eb9b10bbd16c7bddd66dd5dd6c82e61e1122d4e","2007-11-20 12:26:06+00:00","Changed calls to pollEvent to be in while loops to ensure all pending events get processed

svn-id: r29576
"
"724d99b74f83d6dce642881c51e879cd867031c9","2007-11-20 12:39:24+00:00","Changed the copy protection dialog event loop so the fourth digit pressed will be briefly displayed

svn-id: r29577
"
"2393e87a7a3d76e7a86896e585a1f82479a2cf47","2007-11-20 12:48:59+00:00","Added a check to keep the cursor active when entering a savegame name on backends that provide a virtual keyboard

svn-id: r29578
"
"338f8aa99eb3221fcc6571e66e3ac70a086b8323","2007-11-20 16:44:16+00:00","Slight fix for the sound in Mickey's Space Adventure

svn-id: r29579
"
"f7fd695e794ad810fbc83affb26e4434f8f6b206","2007-11-20 18:46:01+00:00","Fixed unterminated string in countSaveGames(), which may be the cause of the
problem with Feeble Files savegames not being shown that was described on the
forum recently.

svn-id: r29580
"
"045d5f5c08c73be63f6569e8a892d74c8ca4f02a","2007-11-20 19:15:11+00:00","Muting the compiler :P

svn-id: r29581
"
"f2f5a090405976ecfc48e51051ee14d2484f78c2","2007-11-20 19:42:41+00:00","Cleaned up some formatting

svn-id: r29582
"
"94a584c6876c9bf4183e1a8758ef0fd8c67caedf","2007-11-20 19:54:06+00:00","Cleanup.

svn-id: r29583
"
"c9a7cbf6ee74698a74be94f4522f427fc09a9c12","2007-11-20 19:59:29+00:00","Cleanup.

svn-id: r29584
"
"3cb597a0463ccdaf295a4cf65ba5b0dc50b48732","2007-11-20 20:25:37+00:00","Cleanup and simplification

svn-id: r29585
"
"cbd9963af7f157e70182a8fd40ab2ffac1194449","2007-11-20 21:00:41+00:00","fix bug #1834852

svn-id: r29586
"
"0bc6fbd435e628a085b7e81e506f6b561c77a6ec","2007-11-20 22:20:52+00:00","Optimized dirty rects handling a bit, makes AGOS engine games run better

svn-id: r29587
"
"e17acaa1c6d9343e48b983b392bc3186759e1bc0","2007-11-20 23:42:45+00:00","Fix regression with the menus

svn-id: r29588
"
"e069ce6129bf5b9b338fe96d9d78471f39b9a09a","2007-11-21 00:34:32+00:00","Common::FixedStack is used now for AGI flood fill routines

svn-id: r29589
"
"f05712548e39c75080431555574adc89b21ee0ac","2007-11-21 00:39:12+00:00","Oops, Common::Stack should be used instead of Common::FixedStack

svn-id: r29590
"
"b39ee7ec3c8ad944cc0401f54ae199e0b142bc21","2007-11-21 00:41:51+00:00","Fixed usage of Common::Stack.

svn-id: r29591
"
"634595e0738cfb55d922ab91cdea7460156306a9","2007-11-21 16:55:24+00:00","Cleanup

svn-id: r29592
"
"6af9577e84341630c00a29faa23d65a0d671aa81","2007-11-21 20:04:14+00:00","* moved label drawing into Gfx, to be drawn directly in the framebuffer
* changed low level blitting function to accept Graphics::Surface to ease development
* temporarily disabled labels/subtitles in BRA

svn-id: r29593
"
"247a6fb8aaea64a8e695e73a0117083e4309d7d1","2007-11-21 21:46:30+00:00","use mutex to prevent race between MidiParser & MidiDriver

svn-id: r29594
"
"7167e0274e537ae400eb476218cc296c82ca4f4c","2007-11-21 21:47:01+00:00","code conventions

svn-id: r29595
"
"e28fd1edb7de36a513789c33b657016d90fc44ab","2007-11-21 21:48:06+00:00","update IGOR.TBL with more static data (sounds offsets/strings)

svn-id: r29596
"
"a9f42051dd9e62ae4cf38f18fa918cd856ac4ff4","2007-11-21 21:50:11+00:00","sync with latest IGOR.TBL

svn-id: r29598
"
"7dc07028d2285ec4bb26da50a99232e8c743d3ae","2007-11-21 21:51:21+00:00","remove _ADVANCED_DETECTOR_DEFINE_PLUGIN_HEAD

svn-id: r29599
"
"982a2fce7554600d95dc227f9f736f37380da1ef","2007-11-22 08:20:28+00:00","Refactore the AGI floodfill code

svn-id: r29600
"
"d9863ff237b92c676f4f0ba5b77b599ae51fcbdc","2007-11-22 10:06:47+00:00","Re-enabled detection of French and German versions

svn-id: r29601
"
"a03f51893c9ad47d6c96aab684d810067d09390b","2007-11-22 10:07:47+00:00","Fixed menu data for German version

svn-id: r29602
"
"b6fbe6ec4ef8ec17875b89d50fffd550ba94d787","2007-11-22 10:09:26+00:00","Changed animation constants to clarify standard indexes versus custom voice bubble Ids

svn-id: r29603
"
"78c1f8504a59ea5c4e8ff1e1921d304cb58ae3b1","2007-11-22 10:10:35+00:00","Talk data bugfix - create_lure was reading past the end of the talk data list

svn-id: r29604
"
"40abab62af0bb8e27b23521e316e1fe687b12cdf","2007-11-22 10:13:43+00:00","Removed deprecated language variable

svn-id: r29605
"
"ddaa391110aedaac4597c946519daf2bb6951486","2007-11-22 10:15:20+00:00","Bugfix to talk data reading invalid data, and added French and German versions

svn-id: r29606
"
"207ecdb33239b51b9afdeb621a8ff0dbffecee3a","2007-11-22 10:32:36+00:00","Change the AGI image stack to use Common::Stack

svn-id: r29608
"
"c7b3130b660e7eec88e77e9e287f184e882d7ef0","2007-11-22 11:21:04+00:00","Bugfix for the Escape key to close the Save/Restore dialog

svn-id: r29609
"
"c277ac699f1accaf3ea2fd9e818ad945f1e45e95","2007-11-22 14:01:00+00:00","Made iPhone Info.plist be generated from Info.plist.in, like all other source files which contain the version string; also fixed the CFBundleIdentifier (we have .org domain, not .com). TODO: Somebody check which keys are supported by the iPhone's Info.plist

svn-id: r29610
"
"78d347e00832648ef160d8a7f76127dec312ce68","2007-11-22 14:04:46+00:00","updated backends/platform/ds/arm9/makefile.in to match changes made to backends/platform/ds/arm9/makefile (next time, please modify makefile.in then run tools/update-version.pl)

svn-id: r29611
"
"cd3f548407f90128c95deda368f3fd46613e1d5d","2007-11-22 20:54:46+00:00","Objects in Mickey's Space Adventure are shown correctly now

svn-id: r29612
"
"d8e8050015086f4139fb327a2a25a6859b858d8f","2007-11-22 21:19:44+00:00","* added (incomplete) explicit state machine handling in engine class (see _inputMode)
* added service routines to Gfx
* changed displayCharacterComment to work with the new state machine and gfx routines

svn-id: r29613
"
"f4946e64008ebebcbba340c7b0d51ad466219e85","2007-11-22 21:24:50+00:00","Fix bug with rotating shapes in funshop games

svn-id: r29614
"
"919c0a2833273d3ae92d0eb3635a479c34e1ced9","2007-11-22 21:51:33+00:00","* added adapter from Graphics::Surface to Frames
* changed all Disk routines to return Frames* instead of Graphics::Surface*
* changed displayItemComment to use new gfx routines
* merged code for Examine zones into displayComment

svn-id: r29615
"
"2f6343c9cd6214691a7bb1b2d182c5b7115941be","2007-11-22 22:32:58+00:00","Implement soccer logic opcode 1003

svn-id: r29616
"
"402a3dbbe34e326ffffcef607be206a1a8818a7b","2007-11-23 10:51:16+00:00","cleanup

svn-id: r29617
"
"c38ccb18c7e4215ae49673b5c261fe3116461129","2007-11-23 18:19:32+00:00","don't pass a pointer in a middle of a resource buffer with mixer AUTOFREE flag set (untested but probably fixes #1754525)

svn-id: r29618
"
"e9c02760728ea869c17ff9b59a2b4114629da23c","2007-11-23 18:28:40+00:00","Minimized screen updates for Mickey's Space Adventure, and correctly set the hint for Uranus

svn-id: r29619
"
"5295bde22a766cbd3153ff0f7268ce819214c66a","2007-11-23 19:46:03+00:00","Cleaned up some screen drawing offsetting issues

svn-id: r29620
"
"a1edea156f115c0dc6f49a6c6cbd27f1004ef417","2007-11-23 23:13:55+00:00","Some minor display and mouse cursor optimizations

svn-id: r29621
"
"01f32b60b0411d099a168311c53c76b6b75aa275","2007-11-24 00:47:29+00:00","Removed some unnecessary code which was common for two cases

svn-id: r29622
"
"a4bbdd229256b4206828b2e1572e5eac4a6ac14f","2007-11-24 09:47:19+00:00","Fixed call to create puzzled/exclamation voice bubbles

svn-id: r29623
"
"1a353d743037f4d36bac9b2197674dbb5147239a","2007-11-24 11:39:23+00:00","Support for IGOR in the build system.

svn-id: r29624
"
"40a74b3b08f694f26261fb825158c9f6ed67ec55","2007-11-24 11:41:54+00:00","Symbian build system does not cope with include file with the same name, specific sub include path will fix this depency.

svn-id: r29625
"
"c37df6a7b3f1be5cc21d072956e735aedf675369","2007-11-24 11:50:43+00:00","updated makefile due to new dependencies of a new lib

svn-id: r29626
"
"54aea9bd7460838acb8c2c2bbc26e5fbd16a42d1","2007-11-24 12:57:08+00:00","Fix for keymappings not working properly for S60

svn-id: r29627
"
"31bd8ec3c01bcff86e2d5e4465f74371c873629b","2007-11-24 18:10:27+00:00","Updated main features for Symbian with the latest game engines

svn-id: r29628
"
"1d5392d56f61165b2730e43548e972bf519c00c3","2007-11-24 21:45:39+00:00","Now always sending a mouse-moved event before a click (some engines don't update the mouse position on click events, it seems). Also added a workaround for an event not always being received when the secondary finger is lifted from the touchscreen.

svn-id: r29629
"
"e10aa928c16fc5b71f05c34df230f4c23ddb0036","2007-11-24 21:56:36+00:00","Implement soccer opcode 1006. Nothing is tested and is pure processing
of bb86 utility.

svn-id: r29630
"
"f47add1b7ed57a0ca7cb6a869e575436ec3af436","2007-11-24 23:58:09+00:00","Add notes (From wiki) for u32 codes used in Backyard Soccer.

svn-id: r29631
"
"28e0985061e96cc96f8fb08faaa1437db09df673","2007-11-25 03:17:48+00:00","Add stub for wizImages thickLine code.

svn-id: r29632
"
"ece4ee33604d90a0e24e3cbabeaaa52745de6878","2007-11-25 09:37:15+00:00","Suspend ScummVM when the button is hit (or a call is received), putting it in a sleep loop until it's resumed

svn-id: r29633
"
"1266b7eb15ca9d095da8eef310726c3bf10899ad","2007-11-25 10:04:23+00:00","Fix regression in Fun Shop titles, when starting activites.

svn-id: r29634
"
"8d228219c9121b0152fbf1f1fcab6a477574e9a2","2007-11-25 10:27:50+00:00","Switch to our common drawLine routine

svn-id: r29635
"
"9e65796914fcda59db4ce391a9065ffe516688fe","2007-11-25 12:03:09+00:00","Switch AGI to common drawLine() as well

svn-id: r29636
"
"8151e1672f461f12467dd3b821ce32965a72159a","2007-11-25 12:49:03+00:00","Add md5 details for Blue's Art Time Activities.

svn-id: r29637
"
"7844ad6f2c5499a1dfd9430cd57686ed36d908c9","2007-11-25 13:33:28+00:00","An attempt to implement thick line drawing.

svn-id: r29639
"
"3d59f805202bd1d2161baa69902d377fa01ee7c6","2007-11-25 23:26:50+00:00","don't expose the Common::drawLine implementation details in client code, keep it local to graphics.cpp.

svn-id: r29640
"
"798ce43e19f1f4ee5b95f4de291217bf25a342f9","2007-11-25 23:27:51+00:00","- enabled speech sounds
- added end of demo check for demo 1.10
- simplified parts loop
- populated strings table in IGOR.TBL
- updated and packed charset data

svn-id: r29641
"
"808dbdaaa0d3edd03c75490e8e5d974b640e27de","2007-11-26 11:02:00+00:00","Update MSVC8 project

svn-id: r29644
"
"794b1a361e50c9a2ee219a1097690027b806ab3a","2007-11-26 15:59:22+00:00","Moved port specific build rules from Makefile to ports.mk

svn-id: r29645
"
"ffe4f9006db08ee9dba26cc389802b08e95fa888","2007-11-26 16:54:56+00:00","Fix keyword expansion in asm sources

svn-id: r29646
"
"664ab3ea7ee82cb5db619dcc7e18e69eb610e01b","2007-11-27 10:02:53+00:00","Removed old commented out debug code

svn-id: r29647
"
"cdd9fa3556483e9e8e9d031550c39fa9babd982d","2007-11-27 10:09:42+00:00","- Changed sound creation to automatically reset volume so that introduction sound sequences play correctly
- Cleaned up my channel sharing code to allow for either cropping the number of channels used or use the same channel multiple times. Ideally, though, I need to find out if the MidiParser can be set to use less than 8 channels

svn-id: r29648
"
"25314ef591f8da82b72f848214b35a2f88c1a80b","2007-11-27 14:00:34+00:00","Added detection fallback for Lost In Time

svn-id: r29649
"
"3f03a8d22454c5db9d29e2e7eb0af3794b6a6b22","2007-11-27 15:00:54+00:00","Apparently, I can't write...

svn-id: r29650
"
"1d458bae991ac347f7390fffda8b17dc72830f21","2007-11-27 23:10:32+00:00","Possible fix for bug #1838622 - 'IHNM: Benny can't help the boy'. It seems the corresponding dialog option is too big in the Spanish version

svn-id: r29652
"
"44ac9cb7ae66657fc1cea26811dd247c6e53a4f7","2007-11-28 01:11:09+00:00","Fix regression from r28850 that rewrote all pattern data. Fixes agi v3 circle plot patterns

svn-id: r29653
"
"4e3090377f8f6043fdcb99b8c10f96100e31fb85","2007-11-28 10:37:40+00:00","Added detection of Spanish version

svn-id: r29654
"
"81c7b9a78689d5e22fdaf7760b5b9d3ee20b014a","2007-11-28 10:40:46+00:00","Added resource extraction from Spanish version

svn-id: r29656
"
"a556368c9942cfb8e43727ac06d73afefad6ccdc","2007-11-28 15:00:41+00:00","Update mouse coordinates onn *all* mouse events, i.e. also after click events

svn-id: r29657
"
"6cf80bbe863ee2421cefb1c27097999c3cfd1b7e","2007-11-28 23:42:08+00:00","Fixes Mickey and Gold rush. Not the cleanest fix but tested and works

svn-id: r29658
"
"77d7e0133278314ab37ca4b554fde2ccc33ddfaa","2007-11-29 14:38:12+00:00","Added the french floppy version of 'Lost In Time', as supplied by Arshlan in the forums

svn-id: r29659
"
"c1877ac20fcd977531f9d152fab49465d5e5bdd7","2007-11-30 04:10:28+00:00","Indentation.

svn-id: r29660
"
"50c6920d6fd104db25d78a3a552975f5a99ff998","2007-11-30 10:47:33+00:00","Add additional German version of Lure of the Temptress.

svn-id: r29661
"
"480d1873220fb9266f30e659e5fa635afd312a36","2007-11-30 17:59:02+00:00","Commiting on behalf of jvprat.

Add a line to configure to set a vpath for .asm files; otherwise build
fails when compiling from a different directory than the one with the
source.

svn-id: r29670
"
"13e9079e8974ab0f1bb60c8c73951fe8b482bca1","2007-11-30 19:05:10+00:00","indentation

svn-id: r29671
"
"98545ad4e539ee42f87f3ad2399e55d0bafcf8b7","2007-11-30 19:05:53+00:00","sync'ing with local tree for now
- some minor changes to detection code
- added missing spanish strings to IGOR.TBL
- fixed '@' charset index

svn-id: r29672
"
"5cf2a45b77887ddb0fed7d1ad7d75474bcf2c7de","2007-11-30 23:58:29+00:00","Fixed endian bug in the decoding of strings

svn-id: r29674
"
"e696469148c168ff4d6648a68ae13474e55e0c03","2007-12-01 04:53:13+00:00","Corrected animation offsets for German version

svn-id: r29675
"
"044100c0975babf7f823802f9f7760eccf7d954e","2007-12-01 08:15:30+00:00","Experimental 'focus rectangle' support. I don't have any way to actually test
it myself.

svn-id: r29677
"
"30af5576d7a242ff976e412bf675a355efb072b5","2007-12-01 10:34:22+00:00","Fix for Valgrind warning - at least one animation read a single byte beyond the end of the source data just prior to finishing decompression

svn-id: r29678
"
"91c73e6c76722d4842ac4cec017d08128f1752b6","2007-12-01 10:35:24+00:00","Fix for give method - one object range was incorrectly being reported as not being valid objects

svn-id: r29679
"
"a77f6157dc1fce96e9c376aa2d17aeb209eaadfa","2007-12-01 15:37:48+00:00","Fixed Valgrind warning by freeing _lines with Memory::dealloc() insead of
delete.

svn-id: r29680
"
"d4831be986e88edfc0384c2482a401b20128218f","2007-12-01 16:31:10+00:00","Slight cleanup and commenting of the ADPCM decoder

svn-id: r29682
"
"c43782a5dfbb1e7a14db1fc629330efe59724610","2007-12-01 17:56:24+00:00","vpath handling for C, Objective-C and soem more asm variants

svn-id: r29683
"
"7bc6a3a47a37acabedb57b80f07b1bdce2f90a98","2007-12-01 23:57:22+00:00","Changed assert for missing animation to explicitly give the animation Id

svn-id: r29684
"
"547ad715e92237cb8d64ea2c56e7c98a84167545","2007-12-02 01:13:31+00:00","Reworked the RoomResource structure to make the game easier to compile on PalmOS

svn-id: r29685
"
"4031b98349b8848133033d90ccf05b4923c14f34","2007-12-02 01:17:51+00:00","Reworked the RoomResource structure to make the game easier to compile on PalmOS

svn-id: r29687
"
"3472e16a73a5d7e4813a8bc47029a44e79d0c7dd","2007-12-02 02:33:50+00:00","don't call actorWalkStep if all an actor have to do is turning to a new direction (confirmed against disasm, seems specific to v8). fixes bug #1834814.

svn-id: r29688
"
"804c821ab1079a7ab426d08773b08d50e382ffb3","2007-12-02 04:49:33+00:00","Enhanced savegames to store any active dialog when the game was saved

svn-id: r29689
"
"11e29ca4d4ba5cc9f9ec82ab61be7e6d9ede7ff0","2007-12-02 04:52:01+00:00","Bugfix to make any animation the player is doing uninterruptable

svn-id: r29690
"
"bc58491c7505620f834917bc401c715af8f2038c","2007-12-02 07:24:41+00:00","Modified the loadScreen method to accommodate some screens decoding to a single byte more than the actual screen size

svn-id: r29691
"
"28a29061229fe69e58983d9a5cc89c5dca0a2fd1","2007-12-02 07:53:25+00:00","Changed the spelling of two of the Spanish strings

svn-id: r29692
"
"692d64f9342a99e45c3950fc472e1a07df927276","2007-12-02 08:32:21+00:00","Added some more code to the savegame load process to correctly handle previously saved savegames (from version 25)

svn-id: r29693
"
"bf3d5579f5c2e6695061df1883ddeb4b5629911f","2007-12-02 09:41:44+00:00","Add patch #1842503 - Added HE99 version of french PUTTTIME.

svn-id: r29694
"
"82e27486501f927eddc8a9963ea835439be000ff","2007-12-02 11:05:29+00:00","Cleaned up the iPhone configure stuff, and added a new make target for statically linking a binary with the external libs

svn-id: r29697
"
"c4a4c96db4971d34970c8cae8bd1ac3942ced9b9","2007-12-02 11:11:28+00:00","Minor comment clarification

svn-id: r29698
"
"1cf6278fb1a93c22197c814981fb2a0f9e9a2d48","2007-12-02 12:08:45+00:00","fixes for cygwin build

svn-id: r29700
"
"9bda6cdefcb352001d1d774d6e817bd92a3135c8","2007-12-02 12:11:59+00:00","fixes for cygwin build. In particular: move the _mak_plugins environment after LDFLAGS has been defined in config.mk, to allow building in case of non-standard lib paths (thru LDFLAGS). Also, silenced a nasm warning.

svn-id: r29701
"
"55a24b3b321660e492e44cdbc642d3405f164af8","2007-12-02 13:16:40+00:00","Update NEWS file

svn-id: r29704
"
"1a2d4c9c28e0c44fbf6f5af936e7a59a9e1ebc45","2007-12-02 14:34:33+00:00","revised mutex handling a bit in dimuse :
- protected access to Track.used in startSound
- removed mutex lock in cloneToFadeOutTrack as it's always called with mutex already locked on (shouldn't change anything, though, due to mutex re-entrancy)

svn-id: r29705
"
"411688ef8f6b8598201aac8119e925eff0d1870c","2007-12-02 14:45:13+00:00","update queen changelog

svn-id: r29706
"
"40474c5acbf9210022649890f755cc0df91edeb3","2007-12-02 20:59:19+00:00","Abort configure run if no matching datatypes are found; some tweaks for cross compiling (do not try to link when you don't use the resulting binary; but *if* we want to link, we must pass the LDFLAGS in case there are require linker flag modifications)

svn-id: r29707
"
"8713d1f7dbffc632f01e8a16491d6fff9ad68775","2007-12-03 12:26:45+00:00","Reworked the fight loop and event handling so fights run at the same speed as in the original game

svn-id: r29709
"
"deca7aa82140ae1b58f144ec23092fbc128694bb","2007-12-03 19:38:05+00:00","remove code duplication

svn-id: r29710
"
"3cd1e6588164a729528d203b44a30542ff634647","2007-12-03 22:41:23+00:00","Add patch #1842862 - Support for Freddi3 french.

svn-id: r29711
"
"1e49111dc71002c6b9ed9af5ea52bcc206ba455d","2007-12-04 00:48:02+00:00","correction based on disassembly

svn-id: r29712
"
"4c36219beaff904f8728553d248f241d1c6f7a7a","2007-12-04 08:18:43+00:00","Mention COMI/SCUMM fixes in the NEWS

svn-id: r29713
"
"a8b5484086452c09aeb017052f15b4c1591b1366","2007-12-04 11:45:20+00:00","remove code duplication

svn-id: r29714
"
"60397448e98cb3cdaf74084516cf97faf47e6cbf","2007-12-04 13:07:22+00:00","update NEWS with development since 0.10.0

svn-id: r29715
"
"fdb20177b455f3ec65dc712a3ce421df239bacce","2007-12-04 20:38:45+00:00","Broke up parseDialogue into more manageable and focused short routines.

svn-id: r29716
"
"5068d08ebb7ba029d1cdbc3eb121bf4945f89d86","2007-12-05 08:03:47+00:00","ARM ASM blitting routines from Robin_Watts

svn-id: r29717
"
"fbaac4895790563a8a21336cf42f8bd7dca54191","2007-12-05 09:34:02+00:00","Tidyup of a few small things in the GP2X port.

svn-id: r29719
"
"7aed821b1f1e8da7414d4ce7f3ba4766a3b53a1b","2007-12-05 09:46:22+00:00","Add a few small GP2X things to NEWS

svn-id: r29720
"
"33df167a40d5654467fa6bf813ed6d4fff9a1eb1","2007-12-05 09:47:53+00:00","Change to default volume levels on the GP2X to prevent some nasty 'clipping'.

svn-id: r29721
"
"e1f6d3b2f8944d6b536b5c3e405bb7e898c868b9","2007-12-05 20:42:31+00:00","update Touche section

svn-id: r29722
"
"cf23e14e7c41670e355ebd28dda8c3491e839b2e","2007-12-05 21:36:11+00:00","Declare Winnie supported

svn-id: r29723
"
"e82f4a25acbc02601c76f86c3539a37f1af9665b","2007-12-05 22:19:33+00:00","NDS : The CPU scaler checkbox is back (and can be removed with a #define)

svn-id: r29725
"
"0070e3da126f72262037a0d75d11e05e940f0a06","2007-12-05 23:16:12+00:00","NDS : params reordering to match C scaler and ARM one

svn-id: r29728
"
"ee5fc9675a6871504d35043aa9be5c0bad200868","2007-12-05 23:28:30+00:00","Remove now obsolete comment

svn-id: r29729
"
"2f078b303bbd8ab1727cf6cf90339464aae393a9","2007-12-05 23:49:07+00:00","NDS: Reporting hi-level opti from Robin in the c++ software scaler ( a1r5g5b5 swizzling )

svn-id: r29730
"
"10844ea1727d9faece5d172f594037eaf4e04c96","2007-12-05 23:53:45+00:00","NDS: Disabling the buggy ARM blitters so that the CPU scaler works

svn-id: r29731
"
"e92c67d5a043e5044864ae9325d2adb97a5151e8","2007-12-06 00:50:22+00:00","Attempted fix for the DS blitters; looks like I was reading from dst and
storing to src. D'Oh. Still untested, but this code is broken anyway
(apparently) and is disabled, so I can't really make it any worse...

svn-id: r29732
"
"6cf6b9d89b29d49f93b68ffd6732c929c91b380e","2007-12-06 11:47:38+00:00","Do not use time() needlessly

svn-id: r29733
"
"218dcf2c18cc0b0e88b83cd230ea6640a6c8ff1b","2007-12-06 12:10:41+00:00","Switch Lure engine to AdvancedDetector

svn-id: r29734
"
"99acbe79af5603e86a0b2fc925520fa6dc3c890b","2007-12-06 12:46:29+00:00","Move AGI engine back to custom line drawing routine as it caused regressions

svn-id: r29735
"
"d3a9cfc2cbcbdc8e8676bffb64df1ac9b6f2f16e","2007-12-06 18:48:44+00:00","Reverted commit #29733, as RandomSource() is called before g_system is initialized (e.g. from sound/fmopl.cpp)

svn-id: r29736
"
"f41fa7b428a263efd0dc2bcfd3595603b7ee018a","2007-12-06 19:38:05+00:00","Mickey is now supported

svn-id: r29737
"
"4806a5f673648b29c36b9a1f4f985bd7666da102","2007-12-06 21:01:54+00:00","NDS : ASM cpu scalers fixed, USING_ARM_BLITTERS back

svn-id: r29740
"
"65779599de285edb707c4a5fa4e8506385bfc54a","2007-12-06 21:11:26+00:00","reverted commit #29736 with a proper fix (I think) to fmopl code

svn-id: r29741
"
"3c9c3fffc7d94f7e67b67a477437c012ba6c7787","2007-12-07 00:01:12+00:00","NDS: A few cycles saved in the inner loop of the CPU scaler

svn-id: r29742
"
"f313c83ccdc9c0770b850a60ebb1ffb31a630cdd","2007-12-07 08:16:52+00:00","Fix for bug 1843961: Assertion on talking to a NPC - initial 'hey wait' dialog was resetting the destination character just before the conversation started

svn-id: r29743
"
"ec54c02ff80477fb114a604cbc82c28340f66dd2","2007-12-07 10:17:58+00:00","Changed startup error messages to use a modal GUI dialog

svn-id: r29745
"
"870edd1b58ab7eb68ee7a443fd4e3d5325346f44","2007-12-07 12:01:44+00:00","Bugfix so player will move out of the way if he's blocking an entrance a character is entering by

svn-id: r29746
"
"5d9ca5d1a7e03108745989bc7340a8dbb64cc6fa","2007-12-07 12:41:53+00:00","Added missing hack for the tools to allow building on MinGW with SDL backend. (see bug #1800764 TOOLS: MinGW tools building broken)

svn-id: r29747
"
"4ae85163b777e4414cafcc13bfef42c6520f5034","2007-12-07 17:59:24+00:00","fix unterminated string (causing intermittent savegame listing problems in scumm)

svn-id: r29748
"
"126f55fd0ec2cea7e8a397c4ba810d4c562ce3ae","2007-12-07 20:45:51+00:00","backported some changes for OS
- added parsing of VOL.CNF to get the (filename,bundle) mapping (should be more efficient than testing every bundle file)
- delphineUnpack allows 'inplace unpacking', use this instead of allocating temporary buffers
- relation script run count should be set in _localVars[0]
- added comments for some 'special' script variables

svn-id: r29749
"
"0718e41c82144d0a617b5a1ec254c34c8a9bf13d","2007-12-07 20:51:53+00:00","Properly centered the image on screen after aspect ratio correction

svn-id: r29750
"
"a34df6e72d298ecccdaaf881809184fc4b3f0623","2007-12-07 20:53:06+00:00","add Common::Rect::center (handy for ::setFocusRectangle())

svn-id: r29751
"
"c0920e02248562354c2c53fcd91f6b972299d999","2007-12-07 23:39:19+00:00","don't use str functions with binary data, should fix bug #1845760

svn-id: r29752
"
"0522c55faf3837f8e018a270e62f01b4d13b9683","2007-12-07 23:49:27+00:00","Enabled click-and-drag mouse mode for the right mouse button as well as the left button, and fixed a the mouse cursor being able to go 1 pixel off screen on one side

svn-id: r29753
"
"c488384f194c13a04c99e536d98f1be1db57fdd4","2007-12-08 02:24:12+00:00","Cleanup and simplification

svn-id: r29754
"
"e905723b1ed12340d4da0239aa17d5eb778bc4af","2007-12-08 02:38:04+00:00","Cleanup and simplification

svn-id: r29755
"
"e82c2b3fb95d101ac6e046ead4b516dc8881ec67","2007-12-08 08:48:31+00:00","reverted part of commit #29749, inplace unpacking doesn't work with .ani data

svn-id: r29756
"
"6b68c156ae509577756259988c04ff8ef0d0a3d2","2007-12-08 08:49:22+00:00","made timing closer to the original interpreter and simplified manageEvents function (no need to recurse)

svn-id: r29757
"
"c271093fbbd9cf40622f203b50e998230de6cfb9","2007-12-08 09:10:08+00:00","simplified gfxConvertSpriteToRaw, some renaming

svn-id: r29758
"
"b7f9d4797dc073c6035ccef8cfc1e063ce9a3105","2007-12-08 09:20:18+00:00","doc

svn-id: r29759
"
"aae704f6cd99e07f2e37c38e5ed3f1e517bc91a4","2007-12-08 09:51:24+00:00","amiga demo version of OS has a VOL.CNF file so I assume full versions of the game also use it ; enabled readVolCnf for all versions of OS.

svn-id: r29760
"
"1ed6cae306345134cadc1405cb28f11f6ad7bfbb","2007-12-08 10:13:44+00:00","Fix compiler warning

svn-id: r29761
"
"e204af821f035deae3367b249cf91b34efe91ee3","2007-12-08 10:30:43+00:00","Added some missing deletes of temporary objects

svn-id: r29762
"
"bf2bc3db80030c68325ac3c37ccf692f3b420df2","2007-12-08 11:07:03+00:00","Fix for bug #1837503. Location switches can be scheduled recursively, so now flags needed to be handled in a safer way to prevent inconsistencies.

svn-id: r29763
"
"7f019cfdee4a425ee892cab3266d41726fa0ac52","2007-12-08 14:58:06+00:00","Fixed bug in glob matching function.

svn-id: r29764
"
"9f43e2cf8a7c42db3521bfa408ddbf40cb03d845","2007-12-08 15:11:20+00:00","Use 'new' framework for compressed saves...

svn-id: r29765
"
"6ef7e3748876e799cf37b8af15e95e5d3adce744","2007-12-08 15:24:42+00:00","reverted parts of commits #29447 and #29446 (caused regressions in ADL music playback) and properly (I hope) fixed the sound issues described in tracker item #1763053.

svn-id: r29766
"
"c07894bcea475c6bc3d658e65adce41733f8c3c8","2007-12-08 17:48:51+00:00","ioFailed() is now checked when saving a game

svn-id: r29767
"
"621f798241e8818b68a2b0353377fb3bd1328abc","2007-12-08 17:51:23+00:00","Saving and loading in Mickey's Space Adventure should now be endian and alignment safe. Note that this breaks older saved games

svn-id: r29768
"
"b24f10dde0951702bc02a0ea749a9ac5a03e1f93","2007-12-08 18:16:30+00:00","The variables nFrame and iItem can also have negative values

svn-id: r29769
"
"f1a1254581498d87c4db1e8a185ca84e7dc63013","2007-12-08 18:19:09+00:00","Renamed SAVEGAME_VERSION to MSA_SAVEGAME_VERSION

svn-id: r29770
"
"3980bd73ea7a00de469ae64d90485dcd197689fa","2007-12-08 18:25:00+00:00","Saving and loading in Winnie the Pooh should now be endian and alignment safe. Note that this breaks older saved games and it's no longer possible to use saved games from the original game interpreter

svn-id: r29771
"
"a39ddab09a3738199984f1e286b19fe83b7b4a05","2007-12-09 05:57:08+00:00","Added new debug category for string handling

svn-id: r29772
"
"41f8a2ff6a3aa40d6d28e0480bb7f166f25a7f28","2007-12-09 05:59:01+00:00","Added extra debug statements

svn-id: r29773
"
"770d0b88d67ad86e08f6dcaa6dab00e1897bda19","2007-12-09 06:06:22+00:00","Added extra debug statements

svn-id: r29774
"
"f89dbfe91c6382acfce89c9636e760cc73b0bcb2","2007-12-09 10:08:41+00:00","Added code to set ACTIVE_HOTSPOT_ID and USE_HOTSPOT_ID fields correctly when an action is performed

svn-id: r29775
"
"04bfc7158a0f4fc6ab16caa5570bda965005e324","2007-12-09 10:39:50+00:00","Bugfix to correctly display a hotspot name in message dialogs that include it

svn-id: r29776
"
"1cfadf725cd1129b4b9e676f231f2b4b913c02b3","2007-12-09 10:39:57+00:00","Hack to workaround struct padding added by some compilers (mainly on PalmOS)

svn-id: r29777
"
"0aaf5587db39aa0a6e4d94a25c8452ed174c3aa2","2007-12-09 11:07:22+00:00","Fixed return key

svn-id: r29778
"
"a8a1cbf15a1c087aff9753fc97ecd89af44c673a","2007-12-09 11:08:23+00:00","Prevent manual screen rotation after application launch

svn-id: r29779
"
"77d1b544a5dcb1db2fdcd147562ac73b670d61a4","2007-12-09 11:09:44+00:00","Added functions required by T3 to prevent screen rotation

svn-id: r29780
"
"55c07ca8455109281a08661ba3a9390a9ff39b07","2007-12-09 11:12:42+00:00","Use the same define as in C++ code

svn-id: r29781
"
"6b2b33661c91f145753812407c5aeaf9a0ba1355","2007-12-09 11:15:55+00:00","Cleanup

svn-id: r29782
"
"40ad7ee6a9a04e99991d220e283b4ee4fada40b3","2007-12-09 11:21:39+00:00","Added support for Drascula and Igor

svn-id: r29783
"
"fd1f39f12e262a413217ec0e1f7f014e96865668","2007-12-09 11:21:49+00:00","Added support for Drascula and Igor

svn-id: r29784
"
"f9dbfd0daf2c7781704cc7c9a30f65fc75f0ecfe","2007-12-09 11:23:06+00:00","Remove obsolete 68k version related code

svn-id: r29785
"
"75aa388c310e1e0fdf7acb1a3bf84c90fe02bb39","2007-12-09 11:23:52+00:00","Remove obsolete 68k version related code

svn-id: r29786
"
"3c6bfc37422a5122f19ff5ff96530d7a024d6297","2007-12-09 11:24:51+00:00","Only for ARM code

svn-id: r29787
"
"062b2e8ab74af2ac527bf963558e968e372a5706","2007-12-09 11:26:01+00:00","Send default themepath

svn-id: r29788
"
"65b11e7a34e1fbdd15e4cd69b13616517aefa20a","2007-12-09 11:32:05+00:00","Obsolete file

svn-id: r29789
"
"a94fada0ae13b04d54684d470d5b86ab68a2df55","2007-12-09 13:41:59+00:00","- minor screen fix for OS
- added new debug channel for sound
- updated 2 opcodes comments

svn-id: r29790
"
"b1a8b8a76be67d126172c1f29a0d1c74222cf694","2007-12-09 14:43:31+00:00","Fix for bug #1845876: MACOSX 10.2.8: sqrtf undefined

svn-id: r29791
"
"0758feea628249e6cdc8d194057dc08905ccdcc1","2007-12-09 14:48:36+00:00","cleanup

svn-id: r29792
"
"09028cc7aadf49dbd7926e52ca5b529bacc7d76e","2007-12-09 14:53:15+00:00","Fixed typos

svn-id: r29793
"
"5ebdedc75e2bc1f3280b35c961c771b0c7870d17","2007-12-09 15:17:37+00:00","Backport changes made in scummvm.rc to the file it is generated from, scummvm.rc.in

svn-id: r29794
"
"87fadf6b459183a383f66103721d5b0060ca832c","2007-12-09 15:24:06+00:00","cleanup

svn-id: r29795
"
"c84d9c1588ec3c7531dd4c0146369e6b35e5c059","2007-12-09 15:43:08+00:00","Fix to prevent having an incorrect sprite assigned to some objects in IHNM when those objects are dropped in the scene

svn-id: r29796
"
"66a1c085c0bf09f9e42cc68e7514ecf1197f62c8","2007-12-09 17:28:29+00:00","Expand ~/ to the HOME env var (see also patch #1846545)

svn-id: r29797
"
"7bef63537d385f0f8f7c80a5c9152eea7d539f24","2007-12-09 17:29:41+00:00","Going back to uncached mode for graphics resources of Examine zones. This prevents engine to crash when trying to cache a resource out of the currently selected archive.

svn-id: r29798
"
"e036a8b37686b6bd9c8bc4c329990e7fb9fa132d","2007-12-09 17:31:36+00:00","Fix for bug #1777053. Engine was ruling out valid passwords because of wrong implementation.

svn-id: r29799
"
"25c34c4e51a30012220063ed8e1529827732e1b0","2007-12-09 18:46:49+00:00","Add Russian font for Zak.

svn-id: r29800
"
"14a3873568711d8af9ecb28a172c54bc4fe2b0a4","2007-12-09 18:52:57+00:00","NDS : Integrated write gathering by Robin (+ fix)

svn-id: r29801
"
"805b05ec4cff39213156105132d4e0067128dea8","2007-12-09 19:32:35+00:00","NDS : Unrolled the scaler inner loop twice to do 16bits loading

svn-id: r29802
"
"142d47ef9d4443c1da95ae5a6367f0fb34c301f5","2007-12-09 19:33:30+00:00","NDS : Improved scaler profiling

svn-id: r29803
"
"3f5436a3d21933fa0a8b4b4ae9007b632b5c1a41","2007-12-09 21:44:21+00:00","Updated settings

svn-id: r29805
"
"e946eff2059e6b8b72b0a08e0df8017ace824a41","2007-12-09 23:55:57+00:00","Added a hack to allow adjustment of Adlib volume. (see bug #1497961 'KYRA1: music/sfx volume settings not working')

svn-id: r29808
"
"209ebf33830c02f771888bebb3cd210ecbfe2fd7","2007-12-10 01:25:18+00:00","NDS: Integrated Robin's LDRB * 2 -> LDRH + fixes(endianness & stack space) 14ms -> 13ms

svn-id: r29809
"
"7f97dfe610fa790438a072635d4f4b747c9b8adc","2007-12-10 02:04:42+00:00","NDS: Put all blitters ASM functions in ITCM (can't hurt as long as there is still room)

svn-id: r29810
"
"e78d3fc7bf6dcaa0c391e1a07f5b72437428106d","2007-12-10 09:18:17+00:00","Added jvprat's changes to Spanish text strings

svn-id: r29811
"
"2b3d1663da2187f8728cd53352b1e56792bcd2a8","2007-12-10 09:38:47+00:00","Readded lines from the spanish text strings I accidentally deleted

svn-id: r29813
"
"1af72d09712fe3a6f3f1cec6f5b98d12b59882ce","2007-12-10 09:40:49+00:00","Changed over warning messages for save/load errors from the debug console to their own dialog

svn-id: r29814
"
"3edb4018971295add66cf89185b0ab59e417dc95","2007-12-10 09:47:03+00:00","Remove old warnings, since errors are displayed via load/save interface.

svn-id: r29815
"
"dd2386cde49d42467df520c177d0acf2bdce6ee0","2007-12-10 18:51:48+00:00","It's now possible again to import saved games from the original interpreter of Winnie the Pooh

svn-id: r29816
"
"f625562aff39af1150bd941cf56c50ea0d1f52e6","2007-12-10 18:57:17+00:00","Oops, fixed some problems with the last commit

svn-id: r29817
"
"cd740a547471f080cd60f44c85ce4c7112e42d1b","2007-12-10 18:59:18+00:00","When renaming a savefile, close the old file before deleting it to avoid errors.

svn-id: r29818
"
"32a3b601670e14ad48b5fa0ce548f412421f382c","2007-12-10 20:19:53+00:00","Save game header is 32 bits, not 16

svn-id: r29819
"
"0b0ec8ee00c6fb7b4c0ce2f19f0865704f5a5b4a","2007-12-10 20:29:51+00:00","* Switched Nippon Safes to use new names for savefiles. User will be asked to perform conversion on engine start.
* Special files used for keeping track of completed parts of the game have been replaced by special  savefile 'nippon.999'.

svn-id: r29820
"
"15d7ff3c6b99d0118087254bb44042df152c2c70","2007-12-10 20:32:06+00:00","Added 90 extra save slots for Nippon Safes.

svn-id: r29821
"
"1d239097f307a49cce8ca08ca04d81f14e5b4e41","2007-12-10 20:34:02+00:00","Updated outdated comment.

svn-id: r29822
"
"8417aa0a801afe222261d68962bb30cc126cf484","2007-12-10 21:25:55+00:00","Added notes on currently supported preAGI games (Mickey, Winnie and Troll)

svn-id: r29823
"
"4a8cca094c0576cf67c32dc0832b25aa26914495","2007-12-11 09:20:24+00:00","Bugfix to make the Use action work correctly

svn-id: r29824
"
"f826e62771c43b601258dad6436760835e83dced","2007-12-11 10:12:12+00:00","Bugfix for the display of ASK, GIVE, and TELL actions in the status line

svn-id: r29825
"
"e74af15a7f3bda7ca49c68cfca6bd8007f429e07","2007-12-11 20:21:44+00:00","Workaround for bug #1763018. Since Amiga key doesn't work as a modifier with SDL, we're allowing Amiga users to quit with Ctrl-z or Alt-x. This also fixes bug #1762886.

svn-id: r29826
"
"fb7ec452d212346ef5eff2a7aef5d6864ce08338","2007-12-11 22:36:05+00:00","Make sure that text in message boxes in IHNM is always centered, regardless of language

svn-id: r29827
"
"9ec7588e4956dd7ea5092ec738aad49a90319c51","2007-12-11 22:40:39+00:00","Fix for bug #1848016 - 'IHNM: Wrong Subtitles Color (Spanish)'. The colors of the default palette in the Spanish version of the game are shifted by 1.

svn-id: r29828
"
"f5a537d6f81f60bc2a0bb5f2d6ea61098f08ed99","2007-12-11 23:06:12+00:00","Changed some swaps to use the template SWAP

svn-id: r29829
"
"99453537f17bda1174c946fd620a6bd0872a7588","2007-12-11 23:16:15+00:00","Cleanup

svn-id: r29830
"
"34102e197baf8247c25619a176d4c286886028e2","2007-12-12 08:44:49+00:00","Moved the language articles list to end of text strings to allow for increased size

svn-id: r29831
"
"2b9859f2ff74291eaffb641c7c9619b0ac5dfb3f","2007-12-12 08:49:09+00:00","Redeveloped the processing of language item article prefixes to match how the original handles the various languages

svn-id: r29833
"
"a5f429c3515da7c2ea0892d04679f0cef3d15ee1","2007-12-12 08:49:41+00:00","Incremented the required version of lure.dat because string resource has changed

svn-id: r29834
"
"c6871d145e13de0465a26af93791baf84d5fda06","2007-12-12 08:56:34+00:00","Bugfix to return correct article indexes

svn-id: r29835
"
"69b1c7b4dd10eea8e16587ce4726e9563f289d40","2007-12-12 09:45:51+00:00","Dynamic fix for several incorrect accented characters in the Italian version

svn-id: r29836
"
"6d157c24b72067193756196da811d7c6c35300a8","2007-12-12 20:55:32+00:00","simplify gfxModuleData_field_60, sync with cine code

svn-id: r29837
"
"dcf4755dc16765d7d51840f45836056a7274bbd9","2007-12-12 21:39:00+00:00","Cleanup, removed duplicate code

svn-id: r29838
"
"6589dba7f56f9ee6d883574cae831abfd27a1b39","2007-12-12 21:56:22+00:00","Fixed warning about casting away constness.

svn-id: r29839
"
"0f16772c4628d8f76eb866deb40b2bf802d95428","2007-12-12 22:11:19+00:00","Workaround for bug #1738485

svn-id: r29840
"
"8968f7e616d10595f651b282e921a364ea93f97b","2007-12-13 10:06:53+00:00","Changed the C style malloc/free to the C++ style new/delete

svn-id: r29841
"
"a9e1f39a167bf3894a8c9d1c7028b42d63d6c8cb","2007-12-13 10:47:14+00:00","Cleanup and simplification

svn-id: r29842
"
"2f7539e8659d186a9291973ee661335e0d4395c9","2007-12-13 11:11:38+00:00","Cleanup

svn-id: r29843
"
"8b7f3fae3511893499f71fd4b20007ccf9b04e56","2007-12-13 12:33:31+00:00","Cleanup

svn-id: r29844
"
"2991b03cc4a38dfb85b6f3155bc83a0656f1c25e","2007-12-13 13:17:45+00:00","Cleanup and simplification

svn-id: r29845
"
"1d338096f074d469f5ec3f341d188b6c7c67272c","2007-12-13 13:26:49+00:00","Muting the compiler :P

svn-id: r29846
"
"2cb9ea3c104c95bb22e9a99f69e367d29741023e","2007-12-13 13:51:04+00:00","Fixed a regression from the latest cleanup

svn-id: r29847
"
"dd14a43cacf6aaf04299e0eefc6ccb7d907f5656","2007-12-13 14:04:36+00:00","Fixed one more regression from the latest cleanup

svn-id: r29848
"
"30be44055791c1951e15928984ca7eac8ffa9e58","2007-12-13 15:10:52+00:00","Fixed regression introduced by the latest cleanups

svn-id: r29849
"
"280d634455cd08846904cf4b897467f709f0c88e","2007-12-13 17:03:14+00:00","Fixed an incorrect copy/paste

svn-id: r29850
"
"3240d0636a59c7a8c1f00bb73aa08894e3b80a2f","2007-12-13 17:47:54+00:00","Fixed a regression from the latest cleanups

svn-id: r29851
"
"ee56120fcff9fdbc5a4e068f104c4d4658b43507","2007-12-13 17:53:31+00:00","Added a proper fix for bug #1733238 - 'FW: crash in copier room', taken from next_ghost's patch #1848173 - 'ScriptVars class implementation for CinE'

svn-id: r29852
"
"e1b73e47f826ebf96db54567a4fade6e1f1c4484","2007-12-13 19:07:10+00:00","use CLIP template for clipping, made an array static const and renamed MAX_OBJECTDATA to MAX_VAR

svn-id: r29853
"
"40661e56987299640445d6c25933cd0723794641","2007-12-13 19:44:27+00:00","Use CLIP template for clipping in the AGI engine

svn-id: r29854
"
"1e483cc8572000707fe7bdd00c94b55f2376b7b9","2007-12-13 20:10:13+00:00","Use CLIP template for clipping in the SAGA engine

svn-id: r29855
"
"79e22d29f4500bf8d2310702cc5aa493944581e0","2007-12-13 23:27:36+00:00","Adding a method to check whether a note currently playing

svn-id: r29856
"
"4c54a8caee2588a35205819f1b7752cc2c44ed2b","2007-12-13 23:28:07+00:00","Fixing bug #1850343 (GOB1: Long beeping noise after cutscene)

svn-id: r29857
"
"729c843091ccbcffb280dcee817de1d67cee3eb2","2007-12-14 13:51:41+00:00","Cleanup

svn-id: r29858
"
"57460c21b3991944edacf75dbe5b8cfbe197b6f9","2007-12-14 13:55:18+00:00","Added a note, switched to CLIP template for clipping, some cleanup

svn-id: r29859
"
"bb30d560b2edaade39ce5fea556ed0106d1cea0d","2007-12-14 19:21:19+00:00","renamed several structures, variables and functions

svn-id: r29860
"
"9b77034daf75a32d2162c0ab1d7e97a286fd7ced","2007-12-15 12:01:01+00:00","Added missing symbol definition

svn-id: r29861
"
"3dd11b260b49aa524897eaff1c7eeca1b20886cb","2007-12-15 12:02:47+00:00","Remove bad workaround and change compiler options (no optimization, no inline)

svn-id: r29862
"
"d632206248f2910afe6a9628d82c08e5b180fd6b","2007-12-15 20:56:05+00:00","Added halfbrite effect to Nippon Safes Amiga. Implementation is not complete, since the spotlight during Donna's dance is not moving yet.

svn-id: r29863
"
"6dcbc00b238c1cb85720ee44f580e9242ee268be","2007-12-15 21:20:56+00:00","debug(C) parameter type fixes.

svn-id: r29864
"
"01b6e025ffa455507514d7fbf065d0cc4ba0a4c6","2007-12-15 22:54:00+00:00","Fixed typo in comment.

svn-id: r29865
"
"35e8a6651864dd8dc6c4607b0aefa32a571f29be","2007-12-16 00:41:30+00:00","Workaround for bug #1487382 ('SWORD2: Game freezes'). It appears to be a script
bug.

svn-id: r29866
"
"9a7f4865f6b681d3cc8fae87d00eec8122a2163f","2007-12-16 01:22:31+00:00","Add Spanish fan translation of Elvira 1 (DOS).

svn-id: r29867
"
"3071db8f84e7d452d96b529883bc80595b167609","2007-12-16 01:29:39+00:00","Add alternative Spanish version Elvira 2 (DOS).

svn-id: r29868
"
"a9ced688bc02a69ddcbfb8fce8ab3b9c5983d06a","2007-12-16 03:47:24+00:00","Bugfix for followers doing an Ask action in another room

svn-id: r29869
"
"2a8166dde54a164a408453cf31730906ae2bc378","2007-12-16 08:10:47+00:00","Changed delay method to not break when a modifier key is pressed

svn-id: r29870
"
"258bd20a837c727744c57c1746b4d3da7bf4267a","2007-12-16 08:11:52+00:00","Changed interruptableDelay method to not break when a modifier key is pressed

svn-id: r29871
"
"02beb045c5aa8b8b89cf40d2a2416e95b5d479fd","2007-12-16 08:14:14+00:00","Added a debugger method to show a specified entry in the string table

svn-id: r29872
"
"706e7792362e5be479d7fdaf4d0cc0bb2ffc886d","2007-12-16 08:19:56+00:00","Hooked up the sound code to use the configuration for sfx and music, and added code from the original game that used the high bit of sounds to distinguish between the two

svn-id: r29873
"
"11cebee5e39a77b18778fe68b62c049342c75c83","2007-12-16 08:20:35+00:00","Tweaked the delay for several of the introduction message screens

svn-id: r29874
"
"aa96ec99400b76b0bf9cc0efc00d6cf6c2984c2b","2007-12-16 09:36:07+00:00","Bugfix for walking to hotspots - if the mouse was already highlighting the hotspot when a room was entered, clicking on it would cause the player to walk to an arbitrary exit

svn-id: r29875
"
"bd7bef0fe662ab26ffb2fd979cdaabc4aa27cc47","2007-12-16 09:44:04+00:00","Clear the EXIT_CLICK_ID variable when entering a new room. Otherwise, if an
exit warps back to the same room, clicking on the same exit again is
misinterpreted as a double-click, and that only works if we're already walking
towards that exit. Otherwise, the game will hang. This fixed bug #1851502
('SWORD2: Black-out in Forest').

svn-id: r29876
"
"0b74448ded1acd0e52cf61622ac44cb782894bb1","2007-12-16 13:28:00+00:00","An element was missing in the initialisation of sounds during the endgame
sequence. It seems to correspond to the original's end_seq_data, so this should
be the correct value. I hope.

svn-id: r29877
"
"943ab421a47d543002d1e503a893ec68526c1672","2007-12-16 14:46:48+00:00","The _nativeMT32 in MidiMusic was never initialised. Rather than storing it in
two different classes, use the value in SoundManager instead. As a consequence
the engine now remaps the instruments from MT-32 to General MIDI for me, since
isRoland() is true and hasNativeMT32() is false. Earlier, it didn't since the
uninitialised _nativeMT32 happened to be true for me.

svn-id: r29878
"
"8da3b3a0eab089672f0d569b01cfed8e3fb01a10","2007-12-16 16:03:04+00:00","Changed an explicit warning/remainder into a code comment.

svn-id: r29879
"
"4a3dedfe7e14d0309b7b046efd96775d87c9583e","2007-12-16 18:48:43+00:00","Commit of patch #1848147 'KYRA: SoundTowns Update' with some changes. Thanks to Florian for the patch.

svn-id: r29881
"
"e861cf567d66f52f99274e24f11cdf0b11f24ce9","2007-12-16 20:01:41+00:00","use the virtual keyboard facilities if available, when needed

svn-id: r29882
"
"b5ab73075c24adb4904fa285a425a19a8eed8519","2007-12-16 20:07:01+00:00","adding clickable menu functionality, which is very good to have on devices with fixed/cumbersome/synthesized left and right click events (wince, palmos, ...)

svn-id: r29883
"
"45b03eadf0d4b6e7a2d8030c1d413553dc204cdb","2007-12-16 20:08:56+00:00","adding preliminary lure support

svn-id: r29884
"
"25103d11e255f71988802ed66803214a20b957da","2007-12-16 20:20:09+00:00","Removed unused variable.

svn-id: r29885
"
"e7a132728cf51510e0a933282fa7060049f2df3e","2007-12-16 20:21:19+00:00","reimplemented the freelook action to be more usable, ultimately targeted towards lure but all engines benefit

svn-id: r29886
"
"4d895c4a14ce424d9d7986bb726a914800bb365e","2007-12-16 20:37:14+00:00","default is not to build plugins yet, until the plugin system is reworked

svn-id: r29887
"
"73398deb6c53041d97e169592011c203caff9282","2007-12-16 21:35:15+00:00","Small change to ports.mk to make cross compiling a bit easier

svn-id: r29888
"
"7599b2cb960b972570948a0541fc30cfbb6385e5","2007-12-16 21:41:10+00:00","Patch #1847599: Several enhancements for the build system

svn-id: r29889
"
"4e94b3273c1c126e6c5ad33071f1144302061c01","2007-12-16 21:46:34+00:00","Patch #1851568: INDY3 Mac: Grail Diary Fix

svn-id: r29890
"
"08f1f2c3d3512a0c67399327550f4e03bb3dfd79","2007-12-16 22:41:51+00:00","Bugfix for Use actions to work correctly

svn-id: r29891
"
"fb222b0afab02c11ebbdb3b58672aa9591128bf5","2007-12-17 03:29:02+00:00","Changed Credits display to avoid the brief flash as the palette changed

svn-id: r29892
"
"20db7b7d28b8efa634ad2d052ce4d28e2cc20a84","2007-12-17 11:21:26+00:00","Added some casting of fields in debug statements

svn-id: r29893
"
"e2e846a4b29eae605bfc507b8024d601c4a44c4a","2007-12-17 11:23:19+00:00","Added extra debug statements to the talk dialog display process

svn-id: r29894
"
"bfbf992907e2f97727459b1e48b6ae8e07e30223","2007-12-17 19:21:59+00:00","Fix glitchy cell sorting

svn-id: r29895
"
"993e5b9c2459766a729130d31acbe9c5d2c1e14e","2007-12-17 22:36:16+00:00","Patch #1852017: INDY3 Mac: Biplane Manual Fix

svn-id: r29896
"
"5cc1313ffe20baf44addd2d156deb83835af8a1d","2007-12-17 22:40:58+00:00","Fix dangling pointer
Fix low color background
Fix input

svn-id: r29897
"
"86ee7a94af9bbd63bde36a985c49a327c1335d3a","2007-12-18 07:00:39+00:00","Add Japanese 3DO version of Putt Putt's Fun Pack.

svn-id: r29898
"
"550aea90ff5a5c73c231c69a6f478522c61e374a","2007-12-18 08:05:19+00:00","Bugfix for font sizes indexing - dereferencing a character > 128 was giving a negative index

svn-id: r29900
"
"aa62d6355a3d4729d3f013d5ec11a15b52ac227f","2007-12-18 20:12:42+00:00","Fix loading savegame from original interpreter

svn-id: r29901
"
"62a344bbed1ca00bc57ffe6e6878100c99ca60ff","2007-12-18 22:30:25+00:00","Fix for bug #1853110: Error in configure on MacOS X (head -c is not portable, sed hopefully is)

svn-id: r29902
"
"b4043cb4035677319c3e3455e7724896d9f32250","2007-12-19 01:47:45+00:00","Bugfix for correctly handling \n characters in WordWrap method

svn-id: r29903
"
"8695b4583fb196380bc637964fed80311b70f88a","2007-12-19 09:28:35+00:00","Include SQRTFS missing fix also for Symbian OS

svn-id: r29904
"
"272f02e001e4138e3a8c20c8eaa514462b849818","2007-12-19 14:02:03+00:00","Replaced sqrtf by sqrt (the former causes more problems than the tiny potential improvement is worth it)

svn-id: r29905
"
"00ce6ac98dc233cd73a3bdf4355a72f375c64fc8","2007-12-19 14:03:53+00:00","Patch #1853322: Patch for Atari ST/FreeMint

svn-id: r29906
"
"15a94b7c0c9d53ec2ae7fa4dce4c62daac6040ae","2007-12-19 17:26:48+00:00","Removed a switch that's only in the AGOS MSVC8 project file and is set to false by VS 2008 (MSVC9) - I'm assuming that it's not necessary

svn-id: r29907
"
"f44a19608792ac884ca4654eb89514d848fdeedd","2007-12-20 09:43:46+00:00","Moved all time() calls in AGOS to a single new method AGOSEngine::getTime(); also replaced an evil function-static variable by a member variable (lastMinute)

svn-id: r29908
"
"a0b10efb4b40650fe59f55c4d39cebc170d68064","2007-12-20 11:44:03+00:00","Sort files alphabetically

svn-id: r29909
"
"b52e7582badadc711a6dd9d8c0385a6c3f91a33e","2007-12-20 11:52:07+00:00","clear executable bit

svn-id: r29910
"
"a796c9c617a5f66e8935d421b48cfa33b0fc574c","2007-12-20 11:58:33+00:00","Removed unused tag (removed by VS 2008)

svn-id: r29911
"
"54aeecf15094a09e82f0591b6cb805ff09a4136c","2007-12-20 12:59:03+00:00","clear more executable bits

svn-id: r29912
"
"d53c0b9fa0cd7fa4962ced8fcaa9fc9d6b3aff55","2007-12-20 13:20:42+00:00","Adding MSVC9 project files

svn-id: r29913
"
"cd230a4ae88b877485242ef0dd9ba17e89a0552e","2007-12-20 13:23:53+00:00","Added batch files to convert MSVC9 project files to MSVC8 and vice versa

svn-id: r29914
"
"1e0dc7705484a6480bd0cb9693176baa08a3c973","2007-12-20 13:29:52+00:00","Added comments on top of each batch file

svn-id: r29915
"
"a47446600afaca54521527f1bdc1ac034fd7cfbd","2007-12-20 14:26:03+00:00","get rid of unused globals

svn-id: r29916
"
"d7e358acfa3f387b17e27883af0a31ca0451b6de","2007-12-20 14:28:40+00:00","More cleanup

svn-id: r29917
"
"93ccd61b7e94ff8c49946144814ec5c0322450b3","2007-12-20 14:29:09+00:00","cleanup due to jvprat

svn-id: r29918
"
"6d37f5ccd8a2f5859ec69bd4924bc50eb4293464","2007-12-20 14:29:58+00:00","Do not #include time.h globally (ideally, we should provide a localtime clone in OSystem so we can completly get rid of this)

svn-id: r29919
"
"564fc06cf7196f44c46be24d15c18da0c4992795","2007-12-20 14:30:51+00:00","Multiple fix/cleanup
One bug remains before the game is completable without hack

svn-id: r29920
"
"44effa32eb748e6d7d8458f9833de659411f1c08","2007-12-20 14:57:05+00:00","Further changes to the AGI keyboard code, matching it against the original Sarien SDL input code. There are still quite some bits which are unclear to me, though

svn-id: r29921
"
"1b285398b3551242828c95101d9baae2a227e887","2007-12-20 15:00:09+00:00","Fix compiler warnings

svn-id: r29922
"
"276c67407b07b40a9e8f567f03e86479baaa7231","2007-12-20 15:38:22+00:00","Fix compilation under MSVC9

svn-id: r29923
"
"193760a40f5361ad8b319fe256a0b03d2b949a60","2007-12-20 17:04:15+00:00","Fix for isalpha() assertions

svn-id: r29924
"
"094f1748876f97d4bfdd3cfa7bcfb9057c18d5f9","2007-12-20 18:21:27+00:00","Fix title screen line drawing code

svn-id: r29925
"
"0e744e491b785a8983fc5f4ab35d7ec644caa45e","2007-12-20 18:52:05+00:00","Fixed compiler warning, and a potential (but very unlikely) out-of-bounds read.

svn-id: r29926
"
"335e9da41dfe5f019c83478f8ffe95b0a8807dd4","2007-12-20 19:00:10+00:00","Removed clamp() and used the common CLIP template instead

svn-id: r29927
"
"b9aaa43bfba4f37705c03b053536bd7cf064a795","2007-12-20 19:02:16+00:00","Fix palette manipulation code
Add one missing opcode

svn-id: r29928
"
"aac7886ac937288cad4a9122a15c85903ce222bf","2007-12-20 19:17:00+00:00","Fix for bug #1851030 - 'IHNM Spanish CD - Wrong Dialogs color'

svn-id: r29929
"
"4b897807c570de9d1f14138af6a306f384153a7a","2007-12-20 22:14:50+00:00","Clarify AGI FIXME

svn-id: r29930
"
"9f6a40acbd53fd2cb6f19b2c30e0b088c8a3e600","2007-12-20 23:23:29+00:00","Do sound callbacks from the main thread instead of a separate one, to avoid some concurrency issues. Increased sound buffer size. Removed the extra mousemoved event sent before each click, no longer needed. And finally some minor gesturing tweaks.

svn-id: r29931
"
"61e872408997940445b161e429827b6102d7dd8d","2007-12-21 02:06:08+00:00","Turn off an MSVC warning, thrown with some escape sequences

svn-id: r29932
"
"18dd1881c5adcc23da37eccd82032451fc9244d7","2007-12-21 02:08:30+00:00","Added some hard coded strings for the Italian fan translation of ITE (still not supported). Merged those strings with the hard coded strings for the Italian fan translation of IHNM

svn-id: r29933
"
"46ee7e679125a8141c9a676ebce65f3de1b1a00e","2007-12-21 02:43:21+00:00","Slight cleanup

svn-id: r29934
"
"5c5e5cddef6ff331732639d33a8f2cacbab64685","2007-12-21 03:56:10+00:00","Changed animation Ids for Spanish version

svn-id: r29935
"
"dca07a9d14293333d9967fdfad530ac215a72159","2007-12-21 09:10:31+00:00","Bugfix to prevent axe animation appearing in room 6 when returning there after the fight

svn-id: r29937
"
"72e899d164d58cf7f4a6ce087cd650cc4bb30629","2007-12-21 09:20:31+00:00","Naming consistency fixes.

svn-id: r29938
"
"1ecbde083f09ff545dcc6db4553c6c03e8ccf26a","2007-12-21 09:28:27+00:00","Reverted too complicated (and unneeded) volume settings code for towns driver.

svn-id: r29939
"
"df33fdd79ed64def3409be869a845dcf069c8d0b","2007-12-21 18:28:59+00:00","Fix memory leak in audiostream (I think)

svn-id: r29940
"
"b4a661632ec1437a1fb0a559c54d58f412035c58","2007-12-21 18:29:47+00:00","Fix compilation error on DS port (template expects parameters to be same type)

svn-id: r29941
"
"8183d564076609e381fb44203ee02a9b4617da1d","2007-12-21 18:30:25+00:00","Implement exists() in DS file system

svn-id: r29942
"
"1cfedb217ab5bbf0545e92fc0649bfb368c1ee1b","2007-12-21 18:34:08+00:00","Remove a comment

svn-id: r29943
"
"764dc651012c07f8820b9001321f4f66f15116c6","2007-12-21 18:36:40+00:00","Scaler corruption fixes, scaler console fixes, adding Lure target (except it doesn't quite work yet), adding function keys to virtual keyboard

svn-id: r29944
"
"f483d7ce261300095be0fe5409fe3a4765f1407f","2007-12-21 20:45:25+00:00","Cleanup.

svn-id: r29945
"
"f509e6bccb4c30e4f062871ded73eb2cffd4f4e4","2007-12-22 11:14:33+00:00","Fixed Spanish animation entry for Goewin, and added missing fight animation

svn-id: r29946
"
"c0bc7bb7d68fc2de2ba2c7d3e2eb3a610c949eca","2007-12-22 11:16:57+00:00","Incremented required lure.dat version number, and adjusted animation indexes to account for added fight animation entry

svn-id: r29948
"
"9dc39c302ad21f1e6b4fa0bfce6557610446bd5d","2007-12-22 11:24:29+00:00","Tweaked the calculation for player position in new rooms to use the original game's rounding - the current code was causing the player to be placed inside the exit area when entering room 6 from room 5.

svn-id: r29949
"
"337db5d4c785df251f79b8778e74e6b9294c7383","2007-12-22 11:34:10+00:00","Bugfix to not allow animation fast forward when restoring a game - it was causing occasional crashes due to tick handlers referencing animations not yet loaded (it's only meant to be done during room changes)

svn-id: r29950
"
"f00ebbf8d908b6865c67edcd59eba55d99d223b0","2007-12-22 11:53:04+00:00","Fixed mutex handling, and reverted sound callbacks to be from another thread again

svn-id: r29951
"
"019ad448223a0dc881737e5f7766142c3862765f","2007-12-22 13:16:01+00:00","Document that we expect recursive mutex locking behavior

svn-id: r29952
"
"0cbff0fc423587e38b72407aa60fc71aa8e00475","2007-12-22 23:29:15+00:00","Logic fix for MixedSoundDriver::init.

svn-id: r29953
"
"c9891423e3155e943aab536f1de44db061f88a14","2007-12-22 23:41:14+00:00","Added FIXME comment.

svn-id: r29954
"
"275c91be33968f17bf1ad2cad2cccdece598ce98","2007-12-23 00:34:48+00:00","Fix the FIXME ;-)

svn-id: r29955
"
"5b74b676ce35172cae45278a8e6008c0858bf4d4","2007-12-23 02:33:58+00:00","Disable voices when voice files do not exist (like the original interpreter does), instead of exiting with an error. This is necessary for devices with little space

svn-id: r29956
"
"5e29703ea8eea204d663802e094bbf5fd395bdab","2007-12-23 10:52:18+00:00","Bugfix for Town Hall room: Captive Goewin's bounds were frequently and incorrectly preventing the player from talking to the Skorl

svn-id: r29957
"
"33545452f0ce8c6793635ee57441be06e32f190a","2007-12-23 11:34:22+00:00","Fix for problem that the player could stop themselves changing back from Selena if they left the current room too quickly after the change back had been scheduled

svn-id: r29958
"
"eb0817971de5efffac0fd246ef0628bbf57e93c1","2007-12-23 11:54:06+00:00","Copy engine-data from standalone trunk to dists/

svn-id: r29959
"
"d6788c3291541761be6043407efaa1856da68449","2007-12-23 12:27:43+00:00","Workaround for unterminated look description in Italian version

svn-id: r29960
"
"d3f01bb79ad55eb8add21d8406139471c82254ee","2007-12-23 14:43:15+00:00","Fix for bug #1842260: INDY3 FM-TOWNS: Modified version does not start (what a beautiful & embarrassing endless loop that was...)

svn-id: r29961
"
"6fa1de14ad45627da5a4b4d8ae726fa5b7d1bcc8","2007-12-23 15:23:01+00:00","Slight perturbation of the code gen for the sake of NDS Gobliiins

svn-id: r29962
"
"d61f3d7601bc562de5806ceb307587dfa23c298b","2007-12-23 16:02:58+00:00","Fix for bug #1837375: MM: Walk behind mask char data

svn-id: r29963
"
"49fca52c9b88d28b75df568177d586e22892f87d","2007-12-23 16:25:28+00:00","Removes warning about shadowing a previous local declaration of filePtr introduced by r29962. Hopefully NDS Gobliiins still works after this!

svn-id: r29964
"
"cc84bec06e0b277d352711d497ee34ccfcacaf53","2007-12-23 16:31:21+00:00","Style :P

svn-id: r29965
"
"f7c8a64c4f75cf4d5828e0a0a29a64dc0cc579de","2007-12-23 17:27:33+00:00","Fix for bug #1846049: COMI: wrong subtitles color

svn-id: r29966
"
"15469b47b5c9883636e775a31e44e6b4bc43dccb","2007-12-23 18:12:03+00:00","SaveFileManager::setError is an internal method; also, pass string to it by-ref not by-value

svn-id: r29967
"
"2d9d0f1b1ff9c76aedb587b89bc4e87d81f87ae2","2007-12-24 01:05:36+00:00","-Fade in/fade out
-Implement background mode 5

svn-id: r29968
"
"def62fef5e819efe4ff9400eb061e87f6a059dc0","2007-12-24 02:42:58+00:00","MenuItem member renaming.

svn-id: r29969
"
"35b1521e68d738fa01ccfe7b452638c2b8c55579","2007-12-24 02:59:23+00:00","Fix sprite mode 5
Fix backgroundIncrust system

svn-id: r29970
"
"68eb28a6f6a2fdd0e2b05cbdc29ff346820b8ef6","2007-12-24 03:01:21+00:00","Fix for bug #1670082 'GUI: Modern theme gfx glitch in launcher'.

svn-id: r29971
"
"8b0ae7983c055413dc4eb36cfa691ddfd5bb054e","2007-12-24 10:10:21+00:00","Change 3 remaining free() to delete, which were not changed with commit #29841 (part of patch #1848173)

svn-id: r29972
"
"50cf084a6b992c588cd8c9da9c175dc907335544","2007-12-24 10:11:41+00:00","Cleanup

svn-id: r29973
"
"138263ec035bc7a38fe49aa7296adfaa6d0bf6e1","2007-12-24 14:20:53+00:00","cleanup

svn-id: r29974
"
"d973d3736c60d2510ff779a4584e67d2b05c958b","2007-12-24 14:40:39+00:00","cleanup; workaround for bug #1852635 (INDY3 Mac: Crash When Playing Sound 54)

svn-id: r29975
"
"3c5d0b1afbdce0c7e4884ae1fa7c3432e7da87bf","2007-12-24 15:36:50+00:00","Enhanced support for Indy3 Mac sounds (added functionality disabled for now)

svn-id: r29976
"
"b6ec364eae08f8dffef92808583729f6887a8914","2007-12-24 15:47:52+00:00","Fix save/loading

svn-id: r29977
"
"af754ff2c451eae3acd13d1b6d2ddf06a4d77348","2007-12-24 16:00:20+00:00","New version of palettised screen scaler for DS; uses LDMs and STMs to improve
performance on slow VRAM.

svn-id: r29978
"
"be737e074dfd82a00e8cdcbc69f53fe4614e63c2","2007-12-24 16:57:14+00:00","Fix background save/restore

svn-id: r29979
"
"22dca84d30fdbb6b9c2bcd8accdbb6595f89e12d","2007-12-24 18:32:18+00:00","ARM version of central ADPCM decoding block for NDS. Define ARM_ADPCM to
enable.

Apparently may not be required as this isn't speed critical - but I've
written it now, so seems a shame to lose it.

svn-id: r29980
"
"fd22ebb2692d97a0b9fbf673fbf9a46fe175080e","2007-12-24 19:13:32+00:00","Fix regressions (crashes) introduced in commit 29860

svn-id: r29981
"
"6b722c2f1c2dd328e02808a5a8b2eee0b58034f0","2007-12-24 19:49:28+00:00","_Properly_ fix lock-up introduced introduced in revision 29860. A typical
c/p error.

svn-id: r29982
"
"28a57c434a190fa3f40b3c428f9ee5642a3d04cc","2007-12-24 22:27:30+00:00","Cleanup(/formatting).

svn-id: r29983
"
"c10f74411ec9bb1323551a3958eebd58e06c134a","2007-12-25 16:17:22+00:00","Show objects always using priority 15. Fixes bug #1858037 (AGI: show.obj priority error).

svn-id: r29984
"
"37d8bed89be174f37aeba1993f724c3889d88d10","2007-12-25 16:37:12+00:00","Fix cell sorting
Fix palette loading

svn-id: r29985
"
"a2d2f01835975aa28cbb03d56468abbc894643dd","2007-12-25 18:11:35+00:00","Bunch of gfx fix

svn-id: r29986
"
"7159cc26df94e5c75c58804c035d8649601d958b","2007-12-25 18:36:08+00:00","Fix blinking character

svn-id: r29987
"
"a3f1767009a692d1edaa3d1f0fd29c0de455a95c","2007-12-25 19:32:51+00:00","Fix title screen regression

svn-id: r29988
"
"b2ab69f455978a4dffc4fcb8cd6148edbb886327","2007-12-25 20:16:59+00:00","Fix palette issues

svn-id: r29989
"
"1b62e2758c198f92956815fc66b979f4673c3cbe","2007-12-25 21:03:20+00:00","Fix input
Fix timming

svn-id: r29990
"
"1796c147fc1dc633827c253f270a711d884642e7","2007-12-25 21:17:35+00:00","Muting the compiler :P

svn-id: r29991
"
"fa1052e1b20d70f2924d8827173c25fc41f6d25b","2007-12-25 23:16:52+00:00","Removed obsolete comment

svn-id: r29992
"
"27bd7ef2f475fd2592fcdc13d758532618ce34c8","2007-12-25 23:20:46+00:00","Added FIXME regarding fopen usage

svn-id: r29993
"
"d104637a3acf2dcf32950ffa73dfa976c9f1f141","2007-12-25 23:33:08+00:00","Do not use abort (for that matter, shouldn't used exit(), either, but we (ab)use that in various places anyway...)

svn-id: r29994
"
"df7ece45f6122278f7154f1f81acf41193cc12e1","2007-12-26 00:07:19+00:00","remove & rename are not portable

svn-id: r29995
"
"a65b5a6d5c8c5815c8b015bf5550a8166b1aa7cf","2007-12-26 00:22:32+00:00","Fix for bug #1858080: FOTAQ: game terminates badly

svn-id: r29996
"
"35e72866ec5472adccdbe16e55fef1fc5d059205","2007-12-26 01:09:46+00:00","Simplification of GM vs MT-32 detection.

svn-id: r29997
"
"956b69b655026c6c84bd4f3ab5b9b97dc91fea8f","2007-12-26 01:17:58+00:00","Update comment.

svn-id: r29998
"
"58959568bd250b1f890c739fb905eb99603578b5","2007-12-26 01:19:05+00:00","Style :P

svn-id: r29999
"
"5327417c562da6c293ca0d2f5f6b118ece73735e","2007-12-26 01:19:16+00:00","Style :P

svn-id: r30000
"
"d9f28974ef5737ad77595986195a4893a000a88b","2007-12-26 01:28:03+00:00","Add alternative hack to main branch, to skip largest speech segment in Simon the Sorcerer 1, when using DS port.

svn-id: r30001
"
"e16fd0a2628a5a026cfb89f590bc19a16ea74ed0","2007-12-26 12:24:27+00:00","Added a couple of iPhone-notes to the README

svn-id: r30002
"
"cab99bf1a495cad7f1f92a79074652b4d02b64b8","2007-12-26 12:44:41+00:00","iPhone credits

svn-id: r30003
"
"a7397ecfccbba6c6d89fa91e00643ea22d50b729","2007-12-26 21:40:32+00:00","Patch #1837119 (COMMON: Common::HashMap iterator rework) with workaroud for Mac OS X compiler bug

svn-id: r30004
"
"4aacb020a450bd037fc02207fbf59fc490b6eeb2","2007-12-26 21:45:22+00:00","cleanup

svn-id: r30005
"
"9b0dc6f757ff6601d1d4b884e517221cb099a82b","2007-12-26 23:00:18+00:00","Do not use SDL_WM_ToggleFullScreen, it's buggy on too many systems. Should fix bug #1705410.

svn-id: r30006
"
"9ada2910f7cab90187c1b01470e2b8d5fab060dc","2007-12-26 23:06:22+00:00","don't clear owner of invalid global object 0 (fixes #1857697)

svn-id: r30007
"
"1bafd03a698130c21c222edb0bc011fc39a6e003","2007-12-27 03:32:15+00:00","The HE70 version of Fatty Bear's Birthday Surprise will only work, if DISABLE_HE isn't defined.

svn-id: r30009
"
"410a4a974ef78324ba6d8bd5535b2b46b231b0f7","2007-12-27 11:40:29+00:00","Enable Windows version of early HE games by default, to match already enabled 3DO/DOS/Macintosh versions of early HE games. Adding only the minimum code required for HE70 games.

svn-id: r30011
"
"f953ed4dde2600da2a4075e29614379a1fb05ea9","2007-12-27 12:05:43+00:00","Early pathfinding

svn-id: r30012
"
"e36f79fcdf43d25b66a44d3787435822b317c547","2007-12-27 16:01:59+00:00","Fix for bug #1858824 'AMIGAOS4: Build Process breaks due to regression'.

svn-id: r30013
"
"1312d4b3fd81facd1680a42eb0171a8d76b7cc55","2007-12-27 16:40:58+00:00","same bug on arm-wince-gcc 4.1.0

svn-id: r30014
"
"c87ad51470fb11103e620cf0b09cb36c6a08439f","2007-12-27 17:37:38+00:00","Nearly working pathfinder

svn-id: r30015
"
"884e1e9ae9036c1e9e761dac1f1694e847a0b94e","2007-12-27 17:47:31+00:00","Muting the compiler (Sorry again, yaz0r :P)

svn-id: r30016
"
"c144f4366459ff7cc5dd8f2e58812ad3b7432774","2007-12-27 23:15:10+00:00","Update msvc8 project files.

svn-id: r30018
"
"81205217d610c65f561afefc944a10f318946299","2007-12-27 23:19:19+00:00","Update msvc9 project files (too).

svn-id: r30019
"
"b90740d2037726becc3c4398443d47d55b5f4d8f","2007-12-27 23:41:15+00:00","Ensure files in the Mac OS X bundle get the right permissions set

svn-id: r30020
"
"9b0db4be37d023798dc321eec417f863a4774901","2007-12-28 00:08:23+00:00","Move more HE code to HE71, to reduce code size, when using DISABLE_HE option.

svn-id: r30021
"
"1eeaaab15dfb39eec074f9c4148c164a7b311e18","2007-12-28 00:08:29+00:00","Fix hashmap.h properly (this is not a bug in GCC 4.0 etc., rather it's a bug in newer GCC versions that they *accepted* the old code...)

svn-id: r30022
"
"8f540e9b672b5fea582eaa08c4d1159993d0873d","2007-12-28 00:18:06+00:00","Move more HE code to HE71, to reduce code size, when using DISABLE_HE option.

svn-id: r30023
"
"244987b7185fe3f2143670efe4ebf628a5832b21","2007-12-28 00:20:56+00:00","Fixes compiling on msvc7.1, it seems like it has problems to decide when to use operator bool.

svn-id: r30024
"
"ecb2b2cddf3debcf4155833be612083d955e5029","2007-12-28 01:02:52+00:00","Update to msvc71 project files from _Q.

svn-id: r30025
"
"ada25791c6404092db58aea1ecedb33e2c0ef8d2","2007-12-28 04:00:15+00:00","Bugfix for action perform timeout to correctly show an question mark bubble. Also changed a writeSint16LE call to be more correctly writeUint16LE

svn-id: r30026
"
"e657e74ee8cd6944fcfccb825540870a80e57b56","2007-12-28 06:33:20+00:00","Now --disable-he does not disable HE70 games.

svn-id: r30027
"
"f3fc9e0ff6b4cff0bbe551fa1c6070c7a955b836","2007-12-28 07:28:39+00:00","This is 0.11.0pre

svn-id: r30031
"
"5285b1f3f14a5bca4435d42522d9f7dc11b564aa","2007-12-28 07:39:57+00:00","backport patch #1857121: Refactoring of the getSavePath method

svn-id: r30033
"
"c6fdb0d6539f9e4f38b05ca4210def1961f89455","2007-12-28 07:44:40+00:00","Backport patch #1859448: Add OSystem::getTimeAndDate API

svn-id: r30035
"
"d533ef1637e6c71baed2deae916a7c9a0ef47038","2007-12-28 07:49:10+00:00","Bugfix for string decoding to use the article of the destination character rather than the talking character

svn-id: r30038
"
"04f4cdfa301007ca4202c363d1d99551022b2405","2007-12-28 07:49:36+00:00","Bugfix to correctly display a message when a used item is no longer in the room

svn-id: r30039
"
"34c6af496ea7844e075247e552aff7129136cb6d","2007-12-28 07:49:51+00:00","Disable Operation Stealth detection for the release

svn-id: r30040
"
"ae7ad09184cfddb8b4b279c194bccfda35e4442d","2007-12-28 07:56:00+00:00","Backport patch #1858158: BUILD: Plugin building cleanup

svn-id: r30042
"
"188b35827e0ac9320fae5a3e96f3eb009d670711","2007-12-28 08:43:54+00:00","Added missing files from patch #1858158.

svn-id: r30044
"
"9d346805292bafa0bce9d02fcb1a994f1447327a","2007-12-28 09:25:47+00:00","Disable music in the PC version of Waxworks, since it read invalid data and can cause crashes~.

svn-id: r30045
"
"70e6580b5c21d2bfbc1e29dc56115132179525e5","2007-12-28 10:28:38+00:00","Updated paths to engine-data files

svn-id: r30047
"
"dcb3d7764635823cb3dad6c7d196b0009374cab0","2007-12-28 11:29:47+00:00","Fix to prevent the F5 key allowing the game to be saved during player conversations or viewing a remote room

svn-id: r30049
"
"dbf56c25bd7c1187ad77767e36afa692da04578e","2007-12-28 11:46:20+00:00","Updated the OS X bundle creation to point to the new location for the engine data files, and added lure.dat as well

svn-id: r30051
"
"fd4b41a35fbf49e24d1ebc6865fd7849ac9d0dfb","2007-12-28 11:58:48+00:00","Disabled detection of Kyra2/3

svn-id: r30053
"
"f0caabe2dc5644aec0d71a29afb24100800c051a","2007-12-28 12:07:12+00:00","Add another German version of Freddi Fish 2 (Windows).

svn-id: r30056
"
"a364775ae6ab7f433c4e53d6a9fad37af9f74e1e","2007-12-28 12:18:20+00:00","Updated OS X image file creation with the right volume name for the version

svn-id: r30057
"
"d909d6bfb51f142204466c7552286f1b1b20fa33","2007-12-28 12:36:06+00:00","Disabled detection for Big Red Adventure.

svn-id: r30058
"
"fb652736f272675031d2e756ced783088aebdcd5","2007-12-28 13:51:11+00:00","Disable detection of unsupported gob engine games

svn-id: r30059
"
"d1319892c57bff6878974c691cd13d767d64a6ae","2007-12-28 23:03:26+00:00","Fix for correct dialog sequence when giving an object to an arbitrary NPC

svn-id: r30064
"
"05d9a442edf0413ab119d4147bcf6479dad56724","2007-12-29 04:27:04+00:00","Fix to ensure any active conversation data or selected hotspot is cleared when restoring or restarting a game

svn-id: r30067
"
"5abd9eb96e3b1505da456eb731427900f8a6769d","2007-12-29 12:04:30+00:00","Backport to 0.11.0 branch: Update MSVC8 and MSVC9 project files for patch #1858158

svn-id: r30073
"
"4ec30e8300b58765e25eebeaf181e39f83055128","2007-12-29 18:27:38+00:00","Backport MSVC71 project updates

svn-id: r30076
"
"69c1e863c07f71f1a26c6f5ac100de9851b16e83","2007-12-30 13:17:13+00:00","Removing these TODOs from the README for now, to make sure we don't forget them again in 0.11.0 ;)

svn-id: r30080
"
"415ff903ad0d863c309f73dc83a2b8043f8d83ac","2007-12-30 16:32:57+00:00","Backport to 0.11.0 branch: Fix for bug #1635361

svn-id: r30082
"
"28a9c1567f918a6b0be111020c1972416d1e92cd","2007-12-30 17:18:01+00:00","implement new gettimeanddate method - fixes bug 1834822 WINCE: Save games have incorrect time & date (sync commit)

svn-id: r30084
"
"0afe37b1ca7535743976a6977be774b0e96175c5","2007-12-30 22:28:55+00:00","Back-ported fix for drawing subtitles over the CoMI verb coin, instead of under
it.

svn-id: r30089
"
"d3dee17ada6b6db140e8124c30dbceb06a7d4830","2007-12-31 01:21:34+00:00","Backport to preserve processUpperActors() behaviour, in case v8 games ever use
the VAR_BLAST_ABOVE_TEXT variable. (I don't know if they do.)

svn-id: r30092
"
"5f032a45ef31010922f593964bda9d5606c1753c","2007-12-31 11:53:19+00:00","(backport) Enabling the SMUSH/sound ARM optimizations for the iPhone. Converting any numerical expressions in the asm to absolute values (moving the expression to comments) since the iPhone assembler can't handle them, and prepending an underscore to the exported symbols (with some preprocessor magic similar to the hq3x asm for handle ports where it's not needed)

svn-id: r30100
"
"2b6e2fba19f421a08209f38124257de8930372b6","2007-12-31 11:55:00+00:00","(backport) Added support for landscape mode in addition to the upside-down landscape mode we already had, and a few minor optimizations

svn-id: r30101
"
"16c54cf7d56b14e7e43f910898466261d5a34794","2007-12-31 16:35:12+00:00","Backport:Removed obsolete _insaneRunning flag

svn-id: r30108
"
"344aa15e742dee89de45497b52353e515a9f95dc","2007-12-31 22:46:12+00:00","(backport) Fix for bug #1861126 - 'IHNM: Crash when Gorrister cuts sheet in the mooring ring'

svn-id: r30110
"
"af029f2122a479864a83316723c6a586cfcb2eca","2008-01-01 15:26:18+00:00","Backport fix for bug #1811732: 'MANIAC C64: German version not supported'

svn-id: r30120
"
"1a1fa0f4642f4fff77b53e386b966fcace7011c4","2008-01-01 16:26:22+00:00","(backport) Mention that Nippon Safes Amiga is now supported.

svn-id: r30123
"
"e8cf94ed349463995013ddf29213fc7d2be3ca0d","2008-01-01 17:39:17+00:00","backport fix for bug #1766072: MANIACNES: Music Doesn't Start On Load Game

svn-id: r30127
"
"85de371cb9185596762a66cb2314100db7ead335","2008-01-01 20:27:40+00:00","fixup to prevent a crash, pending the overlay rework

svn-id: r30130
"
"dcf88cbee8adc8141ae9678ce164219b11fd89c8","2008-01-02 00:03:17+00:00","Quick swipes across the screen now triggers arrow key events. Also, some mouse cursor fixes for landscape mode

svn-id: r30133
"
"2e9c790cd9cc89d7515d39d65826d913c66d012e","2008-01-02 00:48:18+00:00","Backport of commit #30136: Set amount of free memory (v8 i.e. vFreePages) to maximum value (Also when loading a saved game!). Fixes Gold Rush's help screen and bible passage showing.

svn-id: r30137
"
"0c052f1c59124d6f70795280ef3f3eca65e84eb4","2008-01-02 05:54:34+00:00","Disable detection of Kyra 1 Amiga.

svn-id: r30139
"
"c2127e45e76d131c219e4b1fea83fdfdf5245578","2008-01-02 11:31:21+00:00","Backport fixes for Maniac Mansion (C64).

svn-id: r30145
"
"d3438ff34cc6967bbd9b3b74a13b94d89cc35117","2008-01-02 12:59:10+00:00","Backport fix for bug #1206994: 'FOA AMIGA: Black cursor and text in Dig Site'

svn-id: r30148
"
"c867742aefb339f7f7cf3fbde192467e7c3d042d","2008-01-02 13:12:10+00:00","Backport narrowing fix for bug #1206994 only to FOA

svn-id: r30150
"
"8eed08bcbed11e88743f30f6df22192ca4bd52c6","2008-01-02 13:33:19+00:00","Fix dmedia.cpp to not use stdafx (likely fixes building on IRIX)

svn-id: r30152
"
"27b1615d63b498c4606dbaebf7a09e8d0d070ea2","2008-01-02 17:35:11+00:00","Backport fix for bug #1846886: 'PUTTZOO: Windows version cursor/pointer drawn
wrong'

svn-id: r30155
"
"e9cbb39ff3015832d1df4f53af7f27291025f4bc","2008-01-02 17:37:27+00:00","Sync with trunk.

svn-id: r30157
"
"f4a37e1489c918d959afd392dd7827ea11a91fd9","2008-01-02 17:39:03+00:00","cannot handle key mods in ce and unicode is dodgy to say the least. fixes bug #1748135 (sync commit)

svn-id: r30159
"
"dc22eb87d93b4c28e47cdc7f3e8cc8179ea86d4d","2008-01-02 18:46:16+00:00","Backport workaround for bug #1804278: 'MONKEY: Mouse is invisible after loading'

svn-id: r30161
"
"26928bf3baac8eef0aae0803773ec704c45c01cb","2008-01-02 18:59:33+00:00","Backport fix for last commit

svn-id: r30163
"
"095d7a5c213282f8b67987603223255400dd3b38","2008-01-02 20:31:36+00:00","Disabled serial for release.

svn-id: r30165
"
"253aabf7a4042fe83ecb5b9222f52e79e4f7d409","2008-01-02 21:16:09+00:00","Backport fix for bug #896489: 'DIG: Missing subtitles when talking to Brink'

svn-id: r30168
"
"8375a704e8c1d9a81f5dab29f71031cf98243a69","2008-01-02 21:30:08+00:00","Removed debug printf.

svn-id: r30170
"
"91f8b22296664762cf7721915222fba41daacef3","2008-01-02 21:33:57+00:00","(backport) Fix for bug #1829409. Character now changes expression accordingly with available dialogue answers.

svn-id: r30172
"
"54f078891927010e302859a7ee4be1192dec88dc","2008-01-02 22:08:09+00:00","(backport) Fixed bug in Nippon Safes for Amiga, Italian version. Game now doesn't crash anymore when starting introduction.

svn-id: r30174
"
"c510906faccb669f26f027ee50e78a3a9f4d160d","2008-01-03 03:22:14+00:00","Backport fix for endian issue in redimArray.

svn-id: r30177
"
"793d15d17026865b6ae90587d5d9b8778830fa09","2008-01-03 03:34:40+00:00","Back port fix for endian issue in checkArrayLimits().

svn-id: r30179
"
"7f76628a733aa5ce58836c95808fbcb976a58bc5","2008-01-03 07:23:12+00:00","Remove $(srcdir)/common from the include path (fixes <zlib.h> conflict).

svn-id: r30180
"
"0aead927c0fd7208f2477476a95d0c61f1f8e917","2008-01-03 07:30:35+00:00","(backport) Fix for bug #1861863 - 'ITE: Crash when using Eeah with Eeah'

svn-id: r30182
"
"16b493217b36c95b0f5e4251bbc487b44cdeb0fe","2008-01-03 07:33:01+00:00","Updated build requirements.

svn-id: r30183
"
"1187e56fe632602d3fe7e6cdc562ccad6093935a","2008-01-03 07:51:55+00:00","Disable compilation of default savefile manager, to avoid having it pulled
in by --whole-archive when building with plugins.

svn-id: r30185
"
"c49418080b8d088fc04f0b5a9a4dac65abf76a90","2008-01-03 08:36:16+00:00","Different zlib.h included paths for Symbian OS to differenciate between system and user includes

svn-id: r30188
"
"474b3965d85086112b24c7a0d4d5f863f3fa253e","2008-01-03 08:58:25+00:00","Backport of commit 30190: Fix for the Space Trek sprite duplication bug (#1659209). Makes commands position and position.v use coordinate clipping for Space Trek.

svn-id: r30192
"
"2963fac57b98cf9612835c2c3da8960d09e88fa8","2008-01-03 09:52:24+00:00","Backport of commit 30193: Made AGIPAL-loading more lenient with errors. Added AGIPAL-flag to Naturette 3. These together fix Naturette 3's intro (No more long shakings).

svn-id: r30194
"
"f80c66f70c005689f816d13e8cb156acfb79ef6d","2008-01-03 10:43:50+00:00","(backport) Properly fixed bug #1861863 - 'ITE: Crash when using Eeah with Eeah'

svn-id: r30196
"
"f5551585f7c88beba02f3c18b46147696fd490f4","2008-01-03 13:28:04+00:00","Use system call to return to DC boot menu rather than relying on exit()
to do the job.

svn-id: r30197
"
"d3abcdedc5bc3acbc51800ab33bd081d9acb1bc7","2008-01-03 19:55:21+00:00","Backported fix for bug #1498785 ('LOOM: Unknown Roland MIDI music events').

svn-id: r30203
"
"03a67cd6865201621289388f46705585059dbdc7","2008-01-03 23:37:02+00:00","Silence a -Wuninitialized warning

svn-id: r30206
"
"03de90b625f83462a4224202e2be92e8db99f6df","2008-01-03 23:37:32+00:00","Patch from bug #1854550: This fixes a race condition which has already been fixed in the trunk

svn-id: r30207
"
"3053297820595373e35d541f87c94ad6aa7e140a","2008-01-03 23:38:18+00:00","Another minor part of the iMuse Digital patch in the trunk: If we set toBeRemoved to true, don't contiune processing the track

svn-id: r30208
"
"e705a47a58fb84cc4fb5bb27b33023459ad7e6c7","2008-01-03 23:45:18+00:00","Backport fix which prevents Common::Strings being silently converted to FilesystemNodes

svn-id: r30209
"
"0ef546dd5ff13ffc048101d741c8844c5133bf95","2008-01-03 23:47:38+00:00","Backport: fix another -Wuninitialized warnings - n could have been returned w/o having been set first

svn-id: r30210
"
"f247b6cc99e3f7eb8bd383ea73100f7c285450f8","2008-01-04 00:28:45+00:00","Backport of commit 30213: Make AGIPAL also accept 'pal.100' (Original hacked interpreter also does this).

svn-id: r30214
"
"3356e947c73eaf06a9c4efa4846cf9bc704bebed","2008-01-04 16:09:14+00:00","fix a race - bug #1863961 (#1769503) (sync commit)

svn-id: r30219
"
"b625f9b0f91711d76f4e64e8128d0e5bd6cd4c15","2008-01-04 21:32:55+00:00","(backport) Fix for bug# 1729307. Fonts are now displayed with shadows when needed on Amiga and the correct font for intro screen has also been selected everywhere it's needed.

svn-id: r30223
"
"db51810af000b593e521f6fd1c1e31dc87b2570e","2008-01-05 17:43:53+00:00","Backported fix for polygon slot leak.

svn-id: r30250
"
"9b835ff6a16bd47cc8d5c46c49358a673be76911","2008-01-05 20:38:26+00:00","Backport of fix for bug #1795755: LOOM/FLAC: Pauses (temporary lockups) after speech

svn-id: r30253
"
"d8ab174973ec46356b85c4931392ac148a5152b8","2008-01-05 20:43:26+00:00","Backport of r30251: Implement unknown test command 19 (hopefully) properly and name it unofficially as the in.motion.using.mouse-command.

svn-id: r30256
"
"38a125e4b3791dc3f8ec0ddd19d200b5ceeb1ab2","2008-01-05 20:53:23+00:00","Backport of r30259: Implement a workaround to hide.mouse-command for Amiga's Gold Rush. Fixes walking with mouse in room 192 (The hanging scene i.e. the copy protection failure scene).

svn-id: r30261
"
"d387f5c1064e6c54f2789adf92f7af90a4c5ce66","2008-01-05 21:11:29+00:00","Backport of r30263: Workaround for Amiga Gold Rush's broken picture 147 by patching it.

svn-id: r30264
"
"298a2f64828f6e72d87e3647950811db0d55a1f0","2008-01-05 23:02:35+00:00","Fixed warning in 0.11 branch, too. (It's in a debug message, so it shouldn't
break anything.)

svn-id: r30270
"
"ce33a9117c55ab38d45a5c44bfe4c94217ef7b50","2008-01-05 23:56:16+00:00","Removed unnecessary newline in debug message.

svn-id: r30278
"
"69d127d42f02548ca7404199a7928eccc5cd90ff","2008-01-06 03:04:45+00:00","Backport of r30287 to tweak the frame delay for part of the introduction animation sequence

svn-id: r30288
"
"47d1d729a49ea6fb2d8f6e560a05a5dd2bfe5a30","2008-01-06 11:58:39+00:00","Small update to ensure engine-data is automatically bundled by the GP2X bundle script. (Quick sync with my local tree).

svn-id: r30293
"
"dd7f6e4086df013cf356679aac2d25e6d984f614","2008-01-06 13:30:44+00:00","Backport fix for regression in Let's Explore the Farm with Buzzy demo.

svn-id: r30297
"
"286c24d27b2c74ab5c3f550b6259b5722972b0a7","2008-01-07 03:55:11+00:00","Backport of r30317 to disable debugging keys by default

svn-id: r30318
"
"d2877b69a3a6bd0750008a6959f3b8163231c70e","2008-01-07 10:36:31+00:00","Backport of r30322 to have debug keys enabled by default if a Debug Level is specified

svn-id: r30323
"
"3fad2cfe90536c04ca61cd3dfd906ab6aa341332","2008-01-07 18:33:19+00:00","Backport of r30324: Add detection data for a finished fanmade AGI game Naturette IV (2007-10-05).

svn-id: r30325
"
"58e2b991ef847693cc4206b92d353d64397290ea","2008-01-07 19:01:29+00:00","Backport of r30326: Reject AGIPAL-files with over 6 bits per color component. Makes at least fanmade AGI game Naturette II's colors not be messed up anymore.

svn-id: r30327
"
"3d97ae690a3d836aedc21ef7b689a7557b0169b4","2008-01-07 19:57:14+00:00","Fixed typo.

svn-id: r30329
"
"2a27b40a0c77e941c837fedb28c8ddc1118edfc2","2008-01-07 22:44:11+00:00","backport adding Buddha and david_corrales to credits.

svn-id: r30333
"
"8cf4c81ba0942ddb56fc6d69525d16affb8ae395","2008-01-08 03:10:12+00:00","Backport of 30336 - fixes crash when waiting for patrol

svn-id: r30337
"
"d10277a7ae2a3ec06089fa742b1e4dda8ca575eb","2008-01-08 06:12:29+00:00","Enhanced NPC walk-to logic to handle separately several special Ids that were previously handled identically

svn-id: r30338
"
"deaa050679411285f2d73c1f9c677a8d27602182","2008-01-08 06:20:21+00:00","Changed method parameter name to prevent shadowing warning

svn-id: r30341
"
"2778a243d8a2ef3411be8c1943e89ca7667fb7bf","2008-01-08 10:04:05+00:00","Update a few files with changes in the preview 3 GP2X release.

svn-id: r30342
"
"101a36de190f0602396d936f9c7535039b9b829f","2008-01-09 09:15:05+00:00","Backport of r30347: Fix for #1866777 - adds saving of hotspot layer to savegames

svn-id: r30348
"
"f5a46dd306142b5c91455eea337cc0d80ecd85da","2008-01-09 11:13:15+00:00","Bugfix for #1866782 - fixes the issue with the Blacksmith being reactivated after earlier being deactivated in the middle of hammering the anvil

svn-id: r30352
"
"1165fd8583a08fadeccf2174979f23192df6ec0e","2008-01-09 12:39:45+00:00","Backport of r30354 - Castle Skorl can be activated multiple times

svn-id: r30355
"
"31f3902a11405cfdc630759404ea73eb5af105fd","2008-01-09 21:27:26+00:00","(backport) Added handling of home/end keys in input dialogs and properly filtered out non-alphanumeric keys

svn-id: r30359
"
"e6180452d8b0e1b2c5f69067d293093a45528706","2008-01-09 23:00:54+00:00","(backport) Change an error to a warning

svn-id: r30364
"
"dc16f66a834f2d8991a9660d98b804ff99149872","2008-01-10 09:26:28+00:00","Backport of r30365 -  bugfix for incorrect data being saved for the current NPC the barmen are serving

svn-id: r30366
"
"06ed94977b4bac66f8ca57b6c53eefd249ae2e09","2008-01-10 09:45:19+00:00","Backport of r30367 - Added proper reset of barmen data when game is restarted, and added missing barman data to savegames

svn-id: r30368
"
"c7f2beef24a8f90b7aea5a83a19b96a276c62526","2008-01-10 10:35:25+00:00","(backport) Changed an assertion to a warning

svn-id: r30370
"
"66dfa7e4c7925098559a8e22a79f90c3678c7618","2008-01-10 20:39:44+00:00","System includes must be before project headers to prevent compilation errors on PalmOS

svn-id: r30380
"
"920e5e151c0d86b684a4aead39152e08b45bdf2e","2008-01-10 21:00:38+00:00","System includes must be before project headers to prevent compilation errors on PalmOS

svn-id: r30381
"
"f111222840f9ff808897662a0990ec4032f7b46d","2008-01-10 21:04:09+00:00","Required to make compiler happy

svn-id: r30382
"
"2220efe9a2d6c57546d2dd2ce38876fdb5836a59","2008-01-10 21:19:34+00:00","System includes must be before project headers to prevent compilation errors on PalmOS

svn-id: r30383
"
"8a77a6a8049db4c43b4e6e6ba5569bf38afd6df5","2008-01-10 21:28:59+00:00","Disable this tab for now. Was related to old 68k version (considering reimplementation in ARM version)

svn-id: r30384
"
"6804995e02b382d33e5450549b87bcc14eb60eae","2008-01-10 21:29:42+00:00","Fix to npcWalkingCheck to pass the correct hotspot id to characterWalkingCheck

svn-id: r30385
"
"1ebe5d03a6246681611802f187f3aa8e794bd33e","2008-01-10 21:39:06+00:00","Updated project file

svn-id: r30387
"
"61525350723c5d125cf76feac95aa3f5d9a34f75","2008-01-10 22:05:34+00:00","add virtual keyboard show/hide calls (sync commit)

svn-id: r30389
"
"7e05807466750940089c30549455821763193b73","2008-01-10 22:13:41+00:00","update version for 0.11.0

svn-id: r30390
"
"9af85da121ca611ddef7e6622991e302e6a903ed","2008-01-10 22:14:17+00:00","disable drascula, cruise and igor engines for 0.11.0

svn-id: r30391
"
"f418f6efcba1fa489fca52b40b82b22abe5e5620","2008-01-11 07:31:06+00:00","use dists/engine-data for data files; include lure.dat

svn-id: r30399
"
"1e3b380a2e83a58d50263f4cdff9fedd2a674ee9","2008-01-11 08:09:51+00:00","include extract_parallaction in tools package

svn-id: r30401
"
"b1fca720594a4ca7dcd9ce270ad1735459cfbef7","2008-01-11 12:53:53+00:00","Backport fix for assert that can be triggered in non-English versions of The Feeble Files for Amiga/Macintosh.

svn-id: r30407
"
"00118db3326a95e837de00c7749720693a05d18f","2008-01-11 13:00:56+00:00","Update.

svn-id: r30409
"
"ea1b69b14fa0806685fa3d4d0770a6c98a9453f3","2008-01-11 14:35:31+00:00","(backport) Fixed capitalization

svn-id: r30413
"
"0a6085c498649c6119f52601ff5cd861fe5111ac","2008-01-11 14:36:09+00:00","(backport) Added support for the Italian fan translations of Inherit the Earth. The original DOS CD, DOS floppy and the Wyrmkeep multi OS re-release CD have been translated to Italian. Also, did some cleanup

svn-id: r30414
"
"7a7e0f48f16cf32a71d2b6ff07e3daf90d0e9c24","2008-01-11 19:23:08+00:00","sacrifice some speed for widest compatibility, for this release

svn-id: r30415
"
"5922b95a3939607dfcce5902736962d05ce753c0","2008-01-11 20:10:13+00:00","doc update for 0.11.0 (sync commit)

svn-id: r30417
"
"a045f6d7aaa807ffeda6188550a8dfdd31607480","2008-01-11 22:17:00+00:00","Set date for 0.11.0 release

svn-id: r30421
"
"2cd94580d1019479ee8da4a27d44b30526582009","2008-01-11 22:30:07+00:00","2008

svn-id: r30423
"
"2506b12ef6c137f1680ba2a36dfd80a17b2d2993","2008-01-11 22:38:15+00:00","First part of Maemo port

svn-id: r30425
"
"ba6f09b2a6cc841535a8621e3ca1459148454649","2008-01-11 22:48:41+00:00","Update ScummVM version

svn-id: r30428
"
"e22f20bacf03135b2cb74877c1aad9ba05fd9ec7","2008-01-11 23:00:35+00:00","Fix Maemo patch to configure

svn-id: r30430
"
"60a087dc23520785a18f47c62ffeccefacc362a4","2008-01-11 23:06:32+00:00","Update version in PS2 port readme.

svn-id: r30432
"
"37d48545877e1bf7902558216f2fe8eecc95583f","2008-01-12 02:34:51+00:00","Backport of missing line from saving barman list data

svn-id: r30434
"
"0cd4600d45aea8a3f092ee47d67f2847e693d42b","2008-01-12 06:41:57+00:00","Backport of r30435 - Bugfix for actors getting stuck (losing their schedule)

svn-id: r30436
"
"950e2e863735ea29673005b1bf65683fd5ea8adc","2008-01-12 16:55:07+00:00","- Swapping the screens while the software scaler is enabled no longer causes odd effects
- Fixed CPU scaler in FM Towns games
- Enabled use of CPU scaler in menus even when turned off in the game
- Fixed function keys F5 and F7 in AGI games.
- Rearranged DS Options Menu to make things clearer and not allow conflicting options to be selected together

svn-id: r30444
"
"078ab9a7fa38b5bea22d1f2ecd8cabc9faef0a37","2008-01-12 17:06:08+00:00","Changes to makefile to not use THUMB, since it causes compiler errors.

svn-id: r30445
"
"f7882bb3ee2c90bdc03c0edc65723c8f80bcee74","2008-01-12 17:06:51+00:00","Removing debug printfs.

svn-id: r30446
"
"57ed8b45b89dc6d531d19b33d7d39e21cde88c51","2008-01-12 17:19:52+00:00","Adding port-specific readme

svn-id: r30447
"
"86bdb0ff08a17e460991584625483fdaff987be7","2008-01-12 17:54:44+00:00","Add fanoush to credits

svn-id: r30449
"
"0bae4004b89cabf29007d8ae27da912e523b1331","2008-01-12 17:55:34+00:00","Add fanoush to COPYRIGHT

svn-id: r30450
"
"1ebacbce35ef02a5e6fe71dbc249ff37ef0f791c","2008-01-12 17:58:37+00:00","This is now 0.11.0

svn-id: r30453
"
"53fad49d27646779d2180034079b1447925c4eaa","2008-01-12 18:01:56+00:00","Adding script to build all binary versions in one go

svn-id: r30454
"
"2dbde3d9225f4d3ad071b4e321065222922ba774","2008-01-12 21:25:18+00:00","Updates to readme

svn-id: r30456
"
"c2323e885cc44a310f9dce3e0d0f5b2ba6d86997","2008-01-12 22:27:28+00:00","Patch #1869152: 'MAEMO port preliminary patch'

svn-id: r30457
"
"65c03041d08bfa17ea4cbe91fb82a887cf00c29b","2008-01-15 12:25:20+00:00","backport of WORKAROUND bug #1870304: Solaris does not provide INADDR_NONE

svn-id: r30492
"
"02454525985c86e9d807900a580920c889a01ec1","2008-01-15 12:28:56+00:00","Backport hashmap.h changes

svn-id: r30493
"
