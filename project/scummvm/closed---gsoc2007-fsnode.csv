"commit id","commit date","commit message"
"3b96c7fad54ff7f5000667be494e50e7ca11e69a","2007-06-05 21:02:35+00:00","Renamed methods in the FilesystemNode class to match the AbstractFSNode implementations.
Also exposed the new methods (exists, isReadable and isWritable) in FilesystemNode.

svn-id: r27113
"
"c0a33c57b3b1f173c60f655913010e39e4c284d3","2007-06-05 22:16:36+00:00","Trunk becomes 0.11.0svn

svn-id: r27116
"
"248d527a566e3adc8cd9a90e330d6b665861272c","2007-06-05 22:38:43+00:00","Avoid compiler warnings.

svn-id: r27118
"
"55607e9c998c22f4af98b43f719bafb07dec31e9","2007-06-06 00:51:07+00:00","Fix regression caused by commit #27108

svn-id: r27122
"
"b82e88638bc36accee6569c0cb0a91bb213696c2","2007-06-06 00:52:46+00:00","Properly implemented the converse panel in IHNM (though the colors are still wrong)

svn-id: r27123
"
"735530bdc8908aa9d900366c9c6e674a3797b269","2007-06-06 00:56:29+00:00","Implemented differences in Actor::calcScreenPosition for IHNM. Now the stitching on the second floor of the zeppelin and the whiskey in the honky-tonk are shown correctly

svn-id: r27124
"
"c8259673b7753b288a4ccb391f7435942d741b6c","2007-06-06 03:38:45+00:00","Fix possible crash issue, if music volume was set by 3DO versions of HE games.

svn-id: r27125
"
"0a7c2b66b30c11cd198c5d712103bc8ee995b945","2007-06-06 05:54:03+00:00","Fix crash, when the hitarea array overflows in the Amiga demo of Elvira 1.

svn-id: r27128
"
"5e62538708cea1bfc2acd35b550117aa6c017f8a","2007-06-06 10:41:27+00:00","Fix the Unholy Barrier spell effect in Elvira 2.

svn-id: r27130
"
"99d2736c9d8f6929b1c52d21263df3f185f96e46","2007-06-06 13:25:48+00:00","Fix potential memory overwrite

svn-id: r27132
"
"603ef8689426b61bf51af74ddc9258f8628ec30b","2007-06-06 13:29:27+00:00","Fix potential memory overwrite here too.

svn-id: r27134
"
"7151050fc081ab3257e925e234832f2530420791","2007-06-06 13:35:41+00:00","oops. MAX -> MIN to prevent memory overwrite.

svn-id: r27137
"
"44d98de023f65d5d51407b8d27eba47c79795f1b","2007-06-06 13:59:04+00:00","Fix glitches when highlighting words in Elvira 2, the characters were drawn at the incorrect location, due to difference in column offset used for new lines.

svn-id: r27138
"
"a265844351bc145d2254c23e69d629a049bdafc3","2007-06-06 16:37:10+00:00","Added sanity checks for hitzones in SAGA, after discussing with h00ligan and sev. Removed a hack for IHNM which is not needed anymore and removed a redundant check for zero object types

svn-id: r27140
"
"a6c476b292bab8652ff1dc748335dfc994ce529e","2007-06-06 18:02:33+00:00","Added palette fading in playCutaway()

svn-id: r27141
"
"00dac8c10f3bdd0737d3e8be025bd8d51f9d7a05","2007-06-06 18:04:25+00:00","Implemented the sfScriptFade opcode

svn-id: r27142
"
"5d46606bb0d4d57f00655686e541f86593109799","2007-06-06 18:09:52+00:00","Fixed the parameter order in sfScriptFade

svn-id: r27143
"
"9e651592ec9d58d8f5c0d2dea0e351bf048d2743","2007-06-06 18:35:37+00:00","Adv detector: Merged upgradeTargetIfNecessary() into detectGameForEngineCreation()

svn-id: r27144
"
"9b14f5faedef513be2f17da57b7fb9182a751150","2007-06-06 19:46:10+00:00","Implemented the sfGetMouseClicks and sfResetMouseClicks opcodes and created the skeleton for sfScriptStartVideo, sfScriptReturnFromVideo and sfScriptEndVideo opcodes

svn-id: r27145
"
"0eb630d9899e935f45a209c0f856fbd5acb52f72","2007-06-06 23:33:31+00:00","Fix glitches when highlighting saved game names in Elvira 2 and Waxworks, caused by incorrect position of characters.

svn-id: r27146
"
"2fd518ff73e9151a10dcd44fc35ccc0a1c0ffbb2","2007-06-06 23:39:18+00:00","Add Italian Amiga version of Elvira 2.

svn-id: r27148
"
"06aa0fb25e8970c65f639a543f5821e4669f10d1","2007-06-06 23:48:07+00:00","Fix pausing sound effects in earlier games.

svn-id: r27150
"
"cd73da05cc1ff69cc5823a47a955531c29f2369f","2007-06-07 00:24:23+00:00","Add case for font data in Italian versions of earlier games too.

svn-id: r27152
"
"bcd4dfb86a4fa064f92da4b975bd12dc7443dea8","2007-06-07 00:54:17+00:00","Fix incorrect position of characters in Elvira 2, caused by column offset difference in clearWindow.

svn-id: r27154
"
"8bcf073444813366e15989e08941bd993914c85d","2007-06-07 01:54:35+00:00","Fix non-MIDI music still playing, when the game is paused.

svn-id: r27156
"
"f0acfc0a28530c00eb285389e37428347a1ad57f","2007-06-07 02:43:03+00:00","Limit MIDI driver, to games using MIDI music only.

svn-id: r27158
"
"a18357580ba33029251ad96bf2d3fea775ca22ed","2007-06-07 02:51:09+00:00","Fix memory leaks on when quiting game.

svn-id: r27160
"
"6db23fa056dd2bebb2821ac0f130f1141a9c48a0","2007-06-07 04:08:55+00:00","Fix invalid writes in the Amiga demo of Elvira 1, caused by video window 20 using larger height.

svn-id: r27162
"
"3f819b90852bc7f64faeff0f3d7585d55285a0f5","2007-06-07 09:37:22+00:00","Add details for French and German Amiga versions of Elvira 1. Remove restart state from Elvira 1 detection, due to two byte difference in the restart state on each disk of Amiga versions.

svn-id: r27164
"
"7bd240ea8f63401d0cbb9a459e34e01619f6957d","2007-06-07 12:11:33+00:00","Implemented video playing for IHNM (still needs work). Also, updated a comment regarding the intro

svn-id: r27166
"
"7e29cf35de64988c28e3770501b95be49a5a84d5","2007-06-07 12:39:38+00:00","Limited frame count hack to apply to videos only

svn-id: r27167
"
"0bebe25e0f3dc49eec52a0a09b676e5a537fe71b","2007-06-07 15:14:58+00:00","Added TabWidget::removeTab method; and updated some comments in TabWidget.h

svn-id: r27168
"
"a6db69102b34b3319c3815301e30ac8a282f31fc","2007-06-07 15:17:01+00:00","Extended comment on TabWidget::removeTab() a bit

svn-id: r27169
"
"bb476586b751a0f6546b1988e37005a7259a1253","2007-06-07 15:42:59+00:00","Fix inventory arrows in Elvira 1.

svn-id: r27170
"
"ed8bd9494a94540f8255ca6b03f11168a0c7a28b","2007-06-07 15:47:47+00:00","Fixed regression: panel mode should be set to video at the beginning of IHNM

svn-id: r27172
"
"d52cb6c62bea0e50bc2f4e7949e810b74222fbd2","2007-06-07 15:49:12+00:00","Fixed video display and removed a hack for it

svn-id: r27173
"
"4ecce505db20108038e026af6f97227d97ed104e","2007-06-07 17:36:47+00:00","Added a FIXME/TODO regarding the volume override control in the 'Edit Game' options dialog

svn-id: r27174
"
"c7169a36ff5f0b2eacdd04b1c3bfb38d16be3045","2007-06-07 17:55:39+00:00","Added partial workaround for bug #1677997

svn-id: r27175
"
"a7271cb9dd6fedabea6ce12dc8de249cc220b284","2007-06-07 20:34:15+00:00","NDS : Attempt to not buffer overrun VRAM when doing saveGameBackBuffer/restoreGameBackBuffer when CPU scaler is on

svn-id: r27176
"
"e35ba53b7e358e1ba4f29a9d0af75dee78f7acc9","2007-06-07 20:52:49+00:00","Symbian PORT updated with CE mappings

svn-id: r27178
"
"90d840de4578dde36afcec8a4408b8b61747b6ef","2007-06-07 23:37:32+00:00","Implement more Actor::calcScreenPosition differences for IHNM

svn-id: r27179
"
"a9b81750cfcc7036353a71258d3507c43b2bc871","2007-06-07 23:39:31+00:00","Also include this file for the last commit

svn-id: r27180
"
"56a7a29c4275f829134ed869cf74ea5a312dcec2","2007-06-08 01:47:29+00:00","Fix inventory arrows still been shown in Elvira 1, when inventory is removed.

svn-id: r27181
"
"c03fe8e8cf1bfa2115c6288598628d26ab86f8bc","2007-06-08 02:18:22+00:00","Fix window scrolling in earlier games.

svn-id: r27183
"
"6433964b689bf3955f0fca30dd47cde7d4e9f000","2007-06-08 06:09:09+00:00","adding F1 for bargon and KP0 for indy3 functionality to multi function key

svn-id: r27185
"
"e8cb48e28d7e6b0d0415948862e341e3ae957ac1","2007-06-08 06:15:14+00:00","fix bug #1674683 (GOB2 can't save): send 0xD for enter

svn-id: r27187
"
"067f43a21247e34d6010d1000aac83d223526d7f","2007-06-08 06:28:59+00:00",".txt is the device-friendly extension for text files

svn-id: r27189
"
"fff80bc489d6cd9c30705b54506aaef41c4f6780","2007-06-08 07:50:28+00:00","Fix load/save interface in Elvira 1.

svn-id: r27191
"
"b59f4be4d16e93d86c84261268888be16e988ad5","2007-06-08 08:12:18+00:00","adding navigation with arrow keys and enter; did away with some ugly gotos

svn-id: r27193
"
"95fe36a8284f51855c3210695159965d283fc14c","2007-06-08 08:40:23+00:00","Don't save game, when no saved game name is given in earlier games.

svn-id: r27195
"
"a816397cd174c518937567f8076bbcecdce7d91c","2007-06-08 10:46:40+00:00","Add prefixes used by Hebrew Windows verison of Freddi Fish 3 and Pajama Sam 2 demos.

svn-id: r27198
"
"de1da3af5dec17518957b27aa032d5249f1c17d4","2007-06-08 10:52:42+00:00","Add details for Hebrew Windows versions of Freddi Fish 3 and Pajama Sam 2 demos.

svn-id: r27199
"
"1255681d0d4b52cd5a5d3b62666f6f3e2ab4e1de","2007-06-08 14:45:25+00:00","IHNM never sets scriptModuleNumber to 0 in Script::doVerb(). Now, all items will have the correct script assigned to them (e.g. the fruit at the fruit tree screen in Benny's chapter, the icon in the chapel in Ted's chapter etc)

svn-id: r27203
"
"a3e8f765a6be500357b99d693b21266dbc428137","2007-06-08 18:09:24+00:00","Updated Symbian OS Prediction handling
Updated AGI to only enable predictive input after dictionary was found.

svn-id: r27206
"
"059ba7326ca0d96203d7eefcffdd65daef655eec","2007-06-08 19:29:48+00:00","Fixed some Valgrind warnings (overlapping source and destination in strcpy()).

svn-id: r27207
"
"aef938d5bfdc0eb50a24a1a63b680343adf91cc0","2007-06-08 19:42:45+00:00","Add default predictive dialog dictionary

svn-id: r27209
"
"688fb71bfa13669953785292bf3e1e36dadbd8df","2007-06-08 20:01:40+00:00","Update configure to set the new EXEEXT for the GP2X port (.gp2x rather then .gpe).

svn-id: r27211
"
"d0d4c4da34e142ea05e3b8984392630f3cf03a69","2007-06-08 20:09:36+00:00","Added read file sharing by default. Required for Gob2.

svn-id: r27213
"
"e1fbe5f02f0ebb26f3ca1e1710e581471f3c47bc","2007-06-08 20:41:35+00:00","Updated actions for SymbianOS

svn-id: r27215
"
"3f5084497a9fc3ac5935bf73930c3f5b67113937","2007-06-08 21:10:01+00:00","Removed line in makefile not needed anymore

svn-id: r27216
"
"6c9e50c8a81315afe76246800962cdf4f15d5fb5","2007-06-08 21:29:18+00:00","Updated filesharing mode to full sharing. Now scummvm.ini works again.

svn-id: r27218
"
"e42343d4d3989e124643c1733e0f62d8e4f5c838","2007-06-08 22:27:49+00:00","sync .spec files on trunk with 0.10.0 branch

svn-id: r27222
"
"b9d77d2d402c51c324f33bb588485ea11345fd6a","2007-06-08 23:04:13+00:00","Fix crash when closing Kyrandia demo.

svn-id: r27223
"
"78cf0243519608eb08f8502ba5588f0122f553db","2007-06-08 23:33:35+00:00","fix IHNM pathfinding engine. now TED(Chapter 5) interacts with the books properly

svn-id: r27225
"
"4ae78ea22d741e1fe57a0aaa4cd2bf33d97cebc9","2007-06-09 01:33:58+00:00","Silence some unneeded warnings, remove some unneeded test code from Actor::getActorFrameRange, as the function is the same in both ITE and IHNM

svn-id: r27226
"
"14aa27c4771059382bf9e1094263e11eabfda428","2007-06-09 05:30:20+00:00","Add dirtyClips code for Simon the Sorcerer 1/2.

svn-id: r27227
"
"48601a4e70f49754da5031916c67ecc32657c6b0","2007-06-09 06:17:04+00:00","Clarify purpose of the endRepeat opcude, used by video script.

svn-id: r27228
"
"037e545dc1589504fc21f3fe5e5fc3c09feaa2ca","2007-06-09 07:48:27+00:00","Fix gltich when listing saved games in Hebrew versions.

svn-id: r27229
"
"910ff9289b7024f2b2264c088116be2828ff3373","2007-06-09 08:40:39+00:00","fix keys getting stuck in virtual keyboard

svn-id: r27232
"
"80bf4126a19ec36407935521f7e47f2987ff44b6","2007-06-09 08:58:18+00:00","Fix position of name text in Hebrew versions.

svn-id: r27234
"
"bc727771a652a5c79cd50488a8257169c8789e90","2007-06-09 09:25:18+00:00","Silenced warning on WinCE.

svn-id: r27236
"
"a170e6e01840aeb8fed6bf35a665ccac7a9a06c2","2007-06-09 09:29:07+00:00","Changed makefiles to default to armi binaries

svn-id: r27239
"
"8eae29816ae7036ef4401747863ad770c44efc51","2007-06-09 09:41:45+00:00","disable lure and cruise engines

svn-id: r27240
"
"3e416bf6013ea3c26ccd979d3fcdc09c08419d86","2007-06-09 09:44:52+00:00","enable lure and cruise again; I accidentally committed this to trunk instead of branch-0-10-0 previously =)

svn-id: r27243
"
"80432ef36a514065a190290a7bacc456996cc486","2007-06-09 10:06:05+00:00","add nippon support

svn-id: r27244
"
"1243fc11451c5ef30fefb12887ba32a9a9481233","2007-06-09 11:07:23+00:00","oops

svn-id: r27246
"
"ac0c3802689f5bab86f70df64bdcbdb6aa2235f3","2007-06-09 13:32:31+00:00","Fixing scrolling issue in 'IDOL'-screen (bug #1734007)

svn-id: r27248
"
"7e6efd8eac713b000caedb8625d72f6ecfc225d1","2007-06-09 17:25:46+00:00","fix bugs 1734068, 1723144: cursor trails when scrolling

svn-id: r27250
"
"a7e0fbe1a86d3ce7e2c387090ce1c373430dd289","2007-06-09 18:09:12+00:00","Fix for bug #1734064 (FOA: Speech volume can not be set) -- we played speech as SFX, not speech, in many SCUMM games

svn-id: r27253
"
"62ca2f9d51543be39489977bc1f541f665e21156","2007-06-09 21:13:47+00:00","Updated actions for paralall

svn-id: r27256
"
"d2bc07cfdf016346055ab60ec1524a31f13dbc22","2007-06-09 22:05:45+00:00","sync .spec on trunk with 0.10.0 branch

svn-id: r27262
"
"86f6aaf206fadd6970b300c953a525804d7d84df","2007-06-09 22:45:03+00:00","fix IHNM protagonist state loading routine. now Ellen's animations are showing well

svn-id: r27263
"
"3fd5347421710bb21d47c57dca2b11c6dd9da7aa","2007-06-10 00:36:01+00:00","Fixed conversations in IHNM. Now, when a dialog option is selected, the protagonist will say it out properly before we hear the other character's reply. Also, added some more code for sfScriptFade and made it a stub for now, as it still needs work

svn-id: r27264
"
"8dc7accf2dfa2f6272f665c9113a0fcaeaecd73c","2007-06-10 01:05:55+00:00","Fix single sound effect, failing to play multiple times regression, caused by changes for PP in the past.

svn-id: r27267
"
"574f687c854f2d36b28592658cc488101df62711","2007-06-10 01:08:15+00:00","Fix adjusting music volume in Puzzle Pack games.

svn-id: r27269
"
"741aed5047eebc2991bed0e59462d1124b56a3ad","2007-06-10 01:16:29+00:00","Fix crash via assert, when string for subtitles exists, but is only set to zero.

svn-id: r27270
"
"55addca7ff2c3667dac140bd0cd3095e5e01b91a","2007-06-10 02:23:13+00:00","Fix load/save regression in Puzzle Pack.

svn-id: r27272
"
"a121e4ce05842859f69928e02bd73cda0c123213","2007-06-10 03:21:16+00:00","Fixed an incorrect check in Script::finishDialog

svn-id: r27274
"
"2d2bda501e549169f4b6726e60d21b10dcfdf982","2007-06-10 04:14:53+00:00","Fix timer code in Puzzle Pack, to match original speed.

svn-id: r27275
"
"60a8c969f7d7cc29f8bb54f703fbf015eb77d16e","2007-06-10 04:36:44+00:00","Restore DIMP specific timer code.

svn-id: r27277
"
"3d37cdabdee6a94802aa202ebd0ab6652e13da1d","2007-06-10 05:43:29+00:00","Add hot keys used by Puzzle Pack.

svn-id: r27281
"
"3cd6c3c2758e4447622663399d3eb39be15e5189","2007-06-10 05:43:56+00:00","Fix toggling music on/off in games, when using non-MIDI music.

svn-id: r27282
"
"0a11c241d578733a268be7db31a47d108a52d556","2007-06-10 06:08:59+00:00","Fix muting music on startup in games, when using non-MIDI music.

svn-id: r27284
"
"f164c6c14e6484e553256d81e5ea861dfb9a9e5c","2007-06-10 08:19:16+00:00","formatting

svn-id: r27285
"
"2687f21df558206a9db1f8fce87fbb87e4eb1baa","2007-06-10 08:20:16+00:00","drop some debugging leftovers

svn-id: r27287
"
"6e399af2e56da0e73a075e91696729803cdb6e1e","2007-06-10 08:23:12+00:00","re-add flac support which I had totally forgotten about. Builders must update to the newest libpack. Also enable parallaction by default

svn-id: r27289
"
"59b5af3272cc7a1eac0f8c45a93c5ad3ca257fda","2007-06-10 08:35:27+00:00","Update cutscene details for Broken Sword 1/2 games, as we provide the cutscenes in DXA format, with FLAC audio now.

svn-id: r27292
"
"a496ae57c7232eb5baa9848438925e8fbf101d92","2007-06-10 08:42:02+00:00","briefly mention wince changes

svn-id: r27293
"
"08379fb74bd228df4830a52e8cc96d13aa4fb291","2007-06-10 08:48:17+00:00","Fixed the opcode number for opp_iconifyWindow(). Regression from cleanup?

svn-id: r27295
"
"91b4555fa8ec5b2f2b3668096fa809385e865375","2007-06-10 08:57:46+00:00","improve grammar (sync trunk wih branch)

svn-id: r27298
"
"82cf767d97cf8ae711977b34af4b38de35be7590","2007-06-10 09:07:23+00:00","An OmniTV cutscene pack, with be provided for Amiga and Macintosh versions of The Feeble Files.

svn-id: r27300
"
"ddd1869b13d76c88e8774ac0d4eb6f6aa0d3b2f5","2007-06-10 10:15:19+00:00","Modified version of patch #1734263: Patch for some of the TODOs in the ScummVM 0.10.0 README

svn-id: r27301
"
"79c30552ca53f40252273f3344f3c6c07bd14b40","2007-06-10 11:08:12+00:00","Don't call getNextItemPtr(), when the result is simply ignored.

svn-id: r27305
"
"0da6062bb27fc0b2a881e9318e57473897f8abf8","2007-06-10 11:51:33+00:00","Remove obsolete testing code

svn-id: r27306
"
"ef4cfc38d40c9f233063b35bd36d879774f8db32","2007-06-10 12:11:36+00:00","update the port readme (USE broom WITH cobwebs)

svn-id: r27307
"
"ede78ba7170d228555b5a9cc4b602a21e924f1ce","2007-06-10 12:50:38+00:00","Move Ctrl F hot key, to specific engines that offer the option.

svn-id: r27309
"
"85893e457d53aac998a4e83ab651952d954a6d7a","2007-06-10 13:56:10+00:00","Extended the fix for bug #1677997 to also cover the global options dialog; also made the code a bit more flexible

svn-id: r27311
"
"3c359449ad865fbc81bb232c678bbbd84b171b92","2007-06-10 14:23:26+00:00","Oops, fix crash when opening globals options dialog

svn-id: r27312
"
"4d729a8ea4856a1c25279c9b279f8b317bf97f30","2007-06-10 15:04:38+00:00","Describe keys for Future Wars and Nippon Safes

svn-id: r27313
"
"1cbcf395a6c4a87df10f4dfca0ecd5b23b428712","2007-06-10 15:21:19+00:00","Move hardcoded predictive dictionary name to config manager.

svn-id: r27315
"
"5a4c0bd1d5313ba1b6b2d7f42f4fb0884a419d44","2007-06-10 16:10:41+00:00","Update the list of supported games of version 0.10.0 in the README

svn-id: r27318
"
"7ac2361b2726764fae3259029b22b6be67041051","2007-06-10 16:28:28+00:00","Added information about AGI Predictive Text Info in the README

svn-id: r27320
"
"e6383eb8c3383a9342f21d452d65b940548827ac","2007-06-10 18:15:27+00:00","Added reference to COPYRIGHT file in various places

svn-id: r27325
"
"a896ec3aad99f0f4ee930b808dc569de5d53c7f2","2007-06-10 19:43:48+00:00","Updated makefile scripts with correct documents.

svn-id: r27329
"
"d7412b65f4926306857539a4841b13e46fe93321","2007-06-10 19:50:02+00:00","Added default signing keys for Symbian OS 9. Password is scummvm

svn-id: r27330
"
"63fc173d71f08de86301bbd125f5a6c0a7a0c69c","2007-06-10 20:14:49+00:00","rephrased and restructured the notes on pred. dialog (the reference text was never meant to be used for user guidance). if this is too formal, feel free to lighten it up.

svn-id: r27333
"
"e0b8d4ef53c8ba9b6fa2eb8dbc68a84200f1f68b","2007-06-11 00:14:37+00:00","Sort games alphabetically, in hot keys section. Remove mouse click information, in hot keys section.

svn-id: r27336
"
"7522d4ea51201b8c234725adcb60e9348a0e9021","2007-06-11 01:22:45+00:00","Fix for stacked objects in IHNM. It is now possible to interact with the chalk in Ted's chapter

svn-id: r27337
"
"7ab15fa3c9118b22f26aa886373e7ec58c89484c","2007-06-11 02:30:04+00:00","Implemented Scene::RestoreScene and fixed some animation bugs. Animations and videos in IHNM should display correctly now

svn-id: r27338
"
"c9f1dea6b028059d31426dc6516d2cedfd92f026","2007-06-11 06:19:33+00:00","Restrict workaround, to prevent regression when inverting conversation responses in scrolling locations.

svn-id: r27340
"
"8dcbd6434748cbfd5d8241e83855b5705eb91fea","2007-06-11 06:47:51+00:00","Fix bug #1734582: 'AGI: missing words in predictive dictionary for KQ3'

svn-id: r27341
"
"7f7abe8706cc24e6bca0eb33c6199e6a218019fd","2007-06-11 07:35:52+00:00","Revert commits:
r27175: Added partial workaround for bug #1677997
r27311: Extended the fix for bug #1677997 to also cover the global options dialog; also made the code a bit more flexible
r27312: Oops, fix crash when opening globals options dialog

svn-id: r27344
"
"2982a6ebb3aaf41f80bb29ec0f02102edd412a51","2007-06-11 07:57:39+00:00","Fix bugs #1709323: 'GUI: Button overlapping' and #1677997: 'GUI: Switching
options dialog between 1x and 2x' by introducing Volume tab to all resolutions

svn-id: r27345
"
"b9b9d6adbcab399195d40cb0ff198fd3e7b5e672","2007-06-11 08:00:35+00:00","Bump theme version

svn-id: r27346
"
"347545dcdf21a1e8afd5d258ff2e6019665658f5","2007-06-11 08:18:38+00:00","Fix for reported button overlapping in PSP resolution.

svn-id: r27348
"
"e63041fcb747ec92083cd59567e525fc99380e24","2007-06-11 08:25:47+00:00","trivial fixes

svn-id: r27350
"
"add3243e5e564bb730ac57af2fd9ce15e6d54309","2007-06-11 08:38:23+00:00","Fix for bug #1719463: 'DETECTOR: Launching undefined target adds launcher entry'

svn-id: r27352
"
"d27ceffef186a2f32b5951cf05871cbd002ee893","2007-06-11 08:38:33+00:00","adding compilation pointer

svn-id: r27353
"
"2084bd461079022f764d924d4a7db16348e2ee6d","2007-06-11 12:12:59+00:00","When using some items in IHNM, it was possible that the verb would incorrectly change from 'use' to 'use with' (e.g. the jukebox in the honky-tonk). This has been fixed

svn-id: r27356
"
"daff536420f5129265c74136c35f70742e13668f","2007-06-11 12:14:06+00:00","The waiting thread will no longer wait forever for some videos to finish in IHNM

svn-id: r27357
"
"5e49fb7bc7da4ba4302976133d83e50759ba6f06","2007-06-11 12:39:44+00:00","Make sure the waiting thread stops waiting after an animation in IHNM. Ellen's path is completable now

svn-id: r27358
"
"860f13e4e40f56c8ca57cc815a7081f42b4376d6","2007-06-11 13:26:32+00:00","Fix restoring screen, after spell wall effects in Elvira 1/2.

svn-id: r27359
"
"cdc11961d4378c4d25b3948801ebf3df2d1f6cfc","2007-06-11 14:02:38+00:00","Add hot keys section for Touche.

svn-id: r27361
"
"86f433b3c41500a456dcbf523a0cb51b848966a9","2007-06-11 19:30:24+00:00","Include Kyra.dat and sky.cpt in the sis file. queen.tbl not included due to the size.

svn-id: r27364
"
"9e582b48dbd9db13b4ec84636e2a09ac6100a796","2007-06-11 19:52:18+00:00","Updated NEWS with Symbian details

svn-id: r27365
"
"d6e5de3df39e192732bd3d8c7dc47d41ac613457","2007-06-11 23:24:46+00:00","wording (subfolders to subdirectories) for consistency -- from salty-horse

svn-id: r27367
"
"138d4335d7a8e5d69beaa6fe77b6ddfdfc4252d5","2007-06-12 00:52:13+00:00","Fix crash regressions in The Feeble Files, due to _currentTable not been set.

svn-id: r27369
"
"9c07235a938e668cf3b4728a11ec8161d7d67c6b","2007-06-12 01:30:15+00:00","Auto-use no-walk hitzones in IHNM, like the original. This fixes the pathfinding problems in Benny's chapter

svn-id: r27370
"
"12c9fb03820c383d5d10fa3c3ba8e2cffad8db98","2007-06-12 06:08:47+00:00","Add support for pausing/resume cutscenes shown on the OmniTV in The Feeble Files.

svn-id: r27371
"
"72cfa9d8293aa897a89d577d9844a2a286d8f0e2","2007-06-12 07:14:04+00:00","NDS : Attempt to not buffer overrun VRAM when doing saveGameBackBuffer/restoreGameBackBuffer ported to branch 0.10.0

svn-id: r27374
"
"6e5b70f5e9f8690b467ea8837e727e1048838788","2007-06-12 12:22:25+00:00","Patch #1733764: 'Fallback detection patch'. GSoC student.

svn-id: r27375
"
"5dc568e7a73c73841a96175a11b86f4218fa0d33","2007-06-12 12:49:07+00:00","Fix for #1733238 - FW: crash in copier room

svn-id: r27376
"
"110db592c0e2645ddc3789b3c8c5d6d003abb076","2007-06-12 19:45:39+00:00","Make keys 5-9 work during dialogs in IHNM

svn-id: r27378
"
"5db4ab48bc83f9ab0158160367ee3c84c67b23e3","2007-06-12 20:36:08+00:00","Corrected actor walk speed when exiting from zones in IHNM

svn-id: r27379
"
"3b7b86947623cdc0f88eb4727abff7dc29cca8a0","2007-06-12 21:21:40+00:00","add DATA_PATH to directory search list when starting game

svn-id: r27381
"
"ee78a7427bce0b8a127560a4a8140e56902d18c6","2007-06-12 22:47:12+00:00","Fixed several colors and fonts in IHNM

svn-id: r27382
"
"a0cd025a16a365a5ef366ef8149c7e26216e7832","2007-06-13 12:48:14+00:00","implement predictive dictionary using ascii based operations, replacing the 10ary tree

svn-id: r27383
"
"85658095525c9472b1c2b59fbde3ac496830a2d2","2007-06-13 13:00:25+00:00","IHNM: Fixed sfSetSpeechBox, now the dialog of Nimdok and Mengele will show up correctly. Also, done some preliminary work on sfScriptGotoScene and changeScene to return to the character selection screen, but it's not right yet

svn-id: r27385
"
"cbb378de1fe5ef2638ba9bfa5e4784f0a18e3495","2007-06-13 13:26:46+00:00","Some cleanup to the pred.dic AGI code

svn-id: r27386
"
"7af7e3f192e12f8abcc99f708b9cc9f79f55e780","2007-06-13 15:31:45+00:00","Fix the quit panel in IHNM

svn-id: r27387
"
"0d4a3c28d9cf092c5308bca529efcb0b46f21271","2007-06-13 19:41:27+00:00","IHNM: Button textures are loaded correctly now for buttons in the option and quit panel. Also, implemented the voices/subtitles toggle functionality and fixed widget placement a bit

svn-id: r27388
"
"607b2f3476bb716d8c1ba001db44c72ec9435ca1","2007-06-13 20:00:39+00:00","Added full version of Nippon Safes for Amiga (EN/FR/DE) to detector.

svn-id: r27389
"
"5b395c739778b17c33e82ca9687b4ef8a97bd76a","2007-06-13 20:13:06+00:00","Moved a check for game type after engine initialization

svn-id: r27390
"
"d6b073961e8be6d06d2fb632adc1d5d4eef441ca","2007-06-13 20:37:24+00:00","Updated the about dialog (2006->2007, and added a header similar to our new source code legal header; also moved the GPL header after the engines list (it seems wrong to list it at the *very end* of the about dialog scroller, after all it is our license)

svn-id: r27391
"
"810390393538842286205974568c287b5ffcbdc3","2007-06-13 20:41:47+00:00","Removed redundant code

svn-id: r27393
"
"99c65ce24d42d72d7182c9c35a92e669a77e8868","2007-06-13 22:23:12+00:00","IHNM: Button texts are read from the game data files, instead of the hardcoded ITE strings. The IHNM-specific strings have been removed from the ITE hardcoded strings. Also did some cleanup

svn-id: r27396
"
"585e0781dd7aecdc5a4452d0ae2d5c619cc97a1a","2007-06-14 04:22:23+00:00","SAGA: Added sanity checks for speech box coordinates, like the original. Now, there won't be missing subtitles in certain scenes

svn-id: r27397
"
"24daa86bdd71cb2f13f9efcce49198d290d3acb3","2007-06-14 10:12:25+00:00","oops wrong platform.

svn-id: r27398
"
"4d4cd489f5c544f2b1e3e56d595a5f876ffa56af","2007-06-14 12:06:12+00:00","Patch #1735773: 'WAG file parsing patch to AGI's fallback detector'.
Slightly modified, split into separate files.

svn-id: r27401
"
"ac1eea6265167c7356904054ffb5e5c322653317","2007-06-14 17:11:09+00:00","Fixed warning about signedness issues

svn-id: r27402
"
"e7aa6b996b54cec0a3dc2cb91feb4f1529cc27e5","2007-06-14 18:40:27+00:00","Fixed a TODO about checking that the savegames path is writable.

svn-id: r27403
"
"16a6dc45c0831b12a292c55d81fa013a432a03ae","2007-06-14 23:28:30+00:00","Added several console commands for SAGA. Also, fixed a regression in the IHNM introduction caused by commit #27357. Finally, animation IDs are checked for validity now, so ScummVM won't try to play invalid animations

svn-id: r27404
"
"708e006059da1af312e142ebc7ce8de015ff74ee","2007-06-14 23:42:39+00:00","Added another console command for IHNM

svn-id: r27405
"
"f4407b5ad2ed67bfe5213caabe87b08a306d03b4","2007-06-15 00:37:51+00:00","Microsoft VC 7.1 project files update from Quietust.

svn-id: r27406
"
"163e77cd79dadac79c57820ac5549ba3332a5589","2007-06-15 02:26:30+00:00","Microsoft VC 8.0 project files update

svn-id: r27407
"
"cb15724147dd1695a9b17b4fd34ba1adf4554d37","2007-06-15 02:29:08+00:00","It's normal for cutaways to only have 1 frame

svn-id: r27408
"
"3b78d79ec0a6051afc99a72340613be370f91654","2007-06-15 03:16:06+00:00","The frame count should be updated when the background frame is shown in a cutaway

svn-id: r27409
"
"4f8f854ee6bd1e681af589a3565ac11ef8bcbc55","2007-06-15 03:58:21+00:00","Forced text is now handled correctly. It's now possible to interact with the video screen in the elder's cave

svn-id: r27410
"
"388b8689a6e7d0fd2574bcf589d66fa2cb3393da","2007-06-15 04:05:57+00:00","Add basic support for Amiga version.

svn-id: r27411
"
"e5c1149cdec3edd55f71a2264bebbd51c4bc8ccd","2007-06-15 04:15:41+00:00","Enable language screen in Amiga version.

svn-id: r27412
"
"ef14ab45df2c1e1994a66f9103ae181dcda1df60","2007-06-15 04:22:21+00:00","Another adjustment for Amiga version.

svn-id: r27413
"
"f8b030991dc63ff39df3836029d0725f294de156","2007-06-15 06:30:44+00:00","When selecting language, ignore request for language that doesn't exist.

svn-id: r27414
"
"03d82560c76e6dc61b63afc1897bd239f1e8550f","2007-06-15 09:04:08+00:00","DS :
* grabRawScreen should work with the scaler enabled
* the address given to DC_FlushRange in grabRawScreen was mixing a u16 base address and a u8 stride, skipping every odd line and buffer-overrunning (if I'm not mistaken :) )

svn-id: r27415
"
"6c3a81cd4eeadef58d89f315f14ccb2e3f6fbcb0","2007-06-15 14:28:14+00:00","More adjustments for Amiga version.

svn-id: r27416
"
"021a66a0ab3a56234de28a1e27828e500d256be5","2007-06-15 14:39:57+00:00","More adjustments for Amiga version.

svn-id: r27417
"
"e6fe560ad19f2efcb0a573f93865277ffc26418f","2007-06-15 16:26:14+00:00","IHNM no longer crashes during character selection if the mouse cursor is over a character before AM finishes his speech

svn-id: r27418
"
"a5c2c06a974032daa240756b567552c668fe9b90","2007-06-15 16:32:14+00:00","If we failed to compute any description for a game target, create a dummy description (this ensures that the entry is at least displayed)

svn-id: r27419
"
"e627cddd19968dcff709518e7d159475249576be","2007-06-15 17:13:13+00:00","Added some doxygen comments to (Plain)GameDescriptor, and added a findPlainGameDescriptor convenience function

svn-id: r27422
"
"a097a11ce7847bd33e98aa48af8748ecbd07e390","2007-06-15 17:29:49+00:00","BASE code: renamed detectMain to detectPlugin and updated some comments for clarity; added some TODO/FIXME comments; added a dialog that's shown if the user tries to start a game for which no plugin feels responsible

svn-id: r27423
"
"d6e47d5fd322cf7cb61bee94b946096ecef64abb","2007-06-15 17:36:41+00:00","ADV detector: Refactored findGameID() a bit, making it possible to use it outside the AdvancedDetector framework; also made it generate somewhat more user friendly desc for obsolete game IDs

svn-id: r27424
"
"0a7bb215d9d4888c7106b41f6ca2ee46e09bca70","2007-06-15 17:37:28+00:00","Added a FIXME comment to the adv. detector code regarding (not) using FSNode/FSList

svn-id: r27425
"
"a0983ff7bbd90bc3f712d5e9da53b4fe3a09fd41","2007-06-15 17:40:59+00:00","Changed SCUMM engine to use findDescriptionFromGameID, Common::ADObsoleteGameID and Common::AdvancedDetector::findGameID

svn-id: r27426
"
"fdafdbbe9cb668ce8951c627771900b69930085d","2007-06-15 17:44:06+00:00","Made Engine_SCUMM_gameIDList use the convenient GameList(PlainGameDescriptor *) constructor

svn-id: r27427
"
"5e587fde8e72a85646a31376925dd4bd08b3ca27","2007-06-15 18:28:44+00:00","Clear the forced text flag if it's set when a speech with forced text finishes. Now, ScummVM won't wait forever when talking to an actor after using the computer screen in the elder's screen at Ben's chapter in IHNM

svn-id: r27428
"
"08fe332154592eaa44c3fc4ada6b745e4ff68339","2007-06-15 18:41:05+00:00","add game data files to rpm package

svn-id: r27430
"
"bb3c02086844311a0fa054e539ca94a41c3cd053","2007-06-15 18:42:00+00:00","Typo

svn-id: r27431
"
"26a6c42b8f053585712c5960c070e56c310f036f","2007-06-15 20:38:55+00:00","Fixed wrong file included

svn-id: r27433
"
"f80799cd5be7489fb4ab3fbb7fc55ecac25d1a6d","2007-06-15 21:21:42+00:00","Fix for bug #1690813: BASS: Crash when changing scalers during intro

svn-id: r27435
"
"85ce1d85cac75ba7937a4819a69b11ba5d58e9d2","2007-06-15 21:40:02+00:00","All known versions of Nippon Safes are now enabled with all features except for half-brite effects. Please keep an eye out for regression.

svn-id: r27437
"
"b37161bafd8045b3f094620e7cb42549db2e6db5","2007-06-16 01:58:03+00:00","IHNM: Added a temporary workaround for the nightfall scene in Ben's chapter

svn-id: r27438
"
"edce8944147846adc71f55659a0daff0b58e90e9","2007-06-16 01:59:04+00:00","Fixed chained cutaways in IHNM. Ben's chapter is completable now

svn-id: r27439
"
"ce8a015c1cd1f4521a3c748a190bd9ea0e28fb75","2007-06-16 02:38:17+00:00","Rewrote the cutaway initialization part

svn-id: r27440
"
"4362692684bf5d937b3fbffb6081acd2ee52e914","2007-06-16 02:43:31+00:00","Add GF_LANG_MULT game flag, for detecting differences between the two Amiga versions.

svn-id: r27441
"
"ab1b2e04a91d075bc226ce0be0bca34d6abb2d74","2007-06-16 06:36:16+00:00","Remove code to skip frames in the Amiga demo again, as it fixes Honest Chan not appearing correctly.

svn-id: r27442
"
"fb1a6fcbc2ee6376efb74df2a5c744e89a039a0f","2007-06-16 08:27:53+00:00","Enable the options panel during chapter selection in IHNM. The icon is not yet functional during chapter selection, but the keyboard shortcuts work

svn-id: r27443
"
"332a2e23d863f7e0530de8e08e45f57ebd890975","2007-06-16 08:53:46+00:00","IHNM: Implemented cutaway fadeout

svn-id: r27445
"
"e8b89bcca1fc94a4d9b0c1e0652fd011418b61a2","2007-06-16 08:56:50+00:00","Update comment.

svn-id: r27446
"
"37021c43a49aaaaa5f1c6866f9dddce961d842d9","2007-06-16 10:33:48+00:00","Fixed arrow keys (hard and emu)

svn-id: r27453
"
"6e9200f73944ac5ad56efa40201375dc508b0bcc","2007-06-16 10:34:48+00:00","Fixed compilation

svn-id: r27454
"
"7a5b89309e22f0ff71e6c13f04fef8c85c243afd","2007-06-16 10:37:59+00:00","Use the old and faster 1.5x scaler when available

svn-id: r27455
"
"0d53aa1e99fe0f5f0e842aed4bce43d9b275d0b6","2007-06-16 10:38:44+00:00","Cleanup

svn-id: r27456
"
"ae3a2b70fb3ca2298688a48af513db5e771660e2","2007-06-16 10:47:27+00:00","Fix quit command failing in certain locations (ie character/language selection) for now.

svn-id: r27458
"
"987aaa6d81bf4aff816d5fc0ea69cf02262547bb","2007-06-16 11:13:36+00:00","Reduce code duplication.

svn-id: r27459
"
"d3ced30c81411513855ea241f74b4e062c7b2666","2007-06-16 11:22:23+00:00","Fixed regression: crash when loading objects on Amiga.

svn-id: r27460
"
"860f9613b5ae9c1b820f76631aef5bc4e402f9dc","2007-06-16 11:28:07+00:00","Made language selection screen policy clearer.

svn-id: r27461
"
"5b7d2d2f10c080abefe9604929e17c522dc724eb","2007-06-16 11:35:29+00:00","Add code difference in Amiga versions, when selecting character.

svn-id: r27462
"
"9b62d2a6ea68d6f488dfcb84d980b4248d01c237","2007-06-16 11:43:07+00:00","Fixed - embarrassing - broken password check.

svn-id: r27463
"
"f4518cd34400b9296510a6269ebc18563ac80b25","2007-06-16 11:45:40+00:00","The codes difference when selecting character, only applies to the Amiga multi-lingual version.

svn-id: r27464
"
"d9abc85fbd772a7874d9ad6e91159e2f4dea4365","2007-06-16 14:06:17+00:00","An attempt to fix restoring from cutaway. Still not perfect.

svn-id: r27465
"
"c7c2cb498ccff9f67cd88f356d0050ce58af59d6","2007-06-16 16:44:33+00:00","Simplified LURE detection code a little bit

svn-id: r27466
"
"6498d669d0597897951e4c9eebb73419750a94c4","2007-06-16 16:46:13+00:00","Patch #1721826: ARM asm versions of sound rate conversion/mixing code

svn-id: r27467
"
"2f127122b3405aa70df2c149dd0c40fe231de979","2007-06-16 16:52:52+00:00","Fix legal header for new files.

svn-id: r27468
"
"e44b518c23a30cd9800bae527fd2fd192f9ec9a2","2007-06-16 17:09:54+00:00","Patch #1717419: Optimisation for sound rate conversion code

svn-id: r27470
"
"b7412d21fd442a7886b2ccd83bee690d4e653f7d","2007-06-16 17:12:08+00:00","Tiny changes to help optimizer resolve array aliasing

svn-id: r27471
"
"b405220ff2990b01b93c03a664ae9247b2fc422c","2007-06-16 17:20:46+00:00","Fixed several TODO's concerning path validation.

svn-id: r27472
"
"f7ea7e666da6e484577d0341fb0331dff75c69f7","2007-06-16 17:31:36+00:00","Removed the isValid operation from the FilesystemNode class in favor of the much richer combinations possible with the new operations (exists, isReadable and isWritable).
The work on the Common::File class is far from complete. Only the necessary was updated.

svn-id: r27473
"
"fe4ee4740d76b0aee2032814095f1d2b81dbde14","2007-06-16 17:41:31+00:00","Small bugfix. Wrong logical operator.

svn-id: r27474
"
"77acf1bd382f56b9498498c1b4b10245f22c9ec8","2007-06-16 17:55:45+00:00","Silence MSVC8 warning

svn-id: r27475
"
"405f4110a82164a51be85eeeda0928bd4294a523","2007-06-16 18:50:25+00:00","use USE_ARM_SOUND_ASM for arm-linux target

svn-id: r27476
"
"2e471cfa7ac14b19f9308246860e9abce1a6ef34","2007-06-16 19:06:41+00:00","Update file with all who contributed patches to the project

svn-id: r27478
"
"e080f493973ebed929df463aa19e85a01a4e648e","2007-06-16 19:11:55+00:00","Options button is now working in the character selection screen in IHNM

svn-id: r27480
"
"bdc6007c8fc1b40bf8d9f4ad1e195cb8ed673d8c","2007-06-16 19:22:58+00:00","Remove duplicate entries

svn-id: r27481
"
"276cdc54166cf002dfecba0e1417db3aa70eea19","2007-06-16 19:24:43+00:00","Update credits with some nicks from SF.net

svn-id: r27482
"
"fe8a7163cdd39c292e46e9713b26c6e07bf7faf0","2007-06-16 19:27:05+00:00","Try to be more robust/paranoid when reading the SAVEGAME.INF file. Apart from
being a sensible precaution, it should work around some bugs like #1737801,
where the file is obviously corrupted. (Possibly mutilated by some file
transfer program.)

svn-id: r27484
"
"546fcc6195a831fd584494f143fa6e7ddcb923a7","2007-06-16 20:30:32+00:00","Fixed invalid read from odd address in some cases (Gob1 EGA on PalmOS)

svn-id: r27487
"
"03d621646a42b885651d69165a8d5225aa117e9a","2007-06-16 20:52:20+00:00","Add more nicks to credits

svn-id: r27494
"
"1281707d294e8851df83b5a7588df1b00f83b914","2007-06-16 21:14:21+00:00","Update GP2X configure rules to support the new ARM ASM mixer code (i.e. USE_ARM_SOUND_ASM) it has been in my local tree for some time and works well with the port.

Also fix typo that has been bugging me for a while ;). 2 spaces between Broken Sword 1 and (without mpeg2 cutscenes) on the echo statements.

svn-id: r27497
"
"a435757699352ff6afa0caf40c6db7335062bf23","2007-06-16 23:07:25+00:00","Avoid using the 'st_sample_t out[2]' arrays inside tight loops, as some compilers are bad at optimizing array access due to pointer aliasing

svn-id: r27499
"
"1b28bd464444f2f08d402c15a3ba3a7ba6aec3ed","2007-06-16 23:41:37+00:00","cleanup

svn-id: r27500
"
"e01c9392291ce60a37717f90426ee4a4bd5b98d0","2007-06-16 23:50:57+00:00","cleanup

svn-id: r27501
"
"f7b28b95adc5d5492d9a16f93404fd97ce5ecf5d","2007-06-17 01:00:06+00:00","More efforts to implement proper fade after cutaway. One little glitch is left.

svn-id: r27502
"
"ae2c382fc9146dc184ea55b8441e6a1ac977e768","2007-06-17 01:35:28+00:00","Update win32dist.

svn-id: r27503
"
"3c24b118b4c4512f40e0a73bd4157747900d4c14","2007-06-17 01:50:49+00:00","Fixed the remaining glitch with fading after a cutaway is shown

svn-id: r27504
"
"65a39ab0d03de94be58d3c4db74ee15d812b23c3","2007-06-17 02:59:56+00:00","Some updates on the save/load system in IHNM. It still needs work, though

svn-id: r27505
"
"29bfadcdd76c746b4fc12edc9bc264a7a538db49","2007-06-17 10:30:34+00:00","NDS: Compile fixes

svn-id: r27508
"
"9666e69d2ab49dd6afb730f7ed9a8003336c7537","2007-06-17 11:16:20+00:00","Re-added NDS NEWS

svn-id: r27509
"
"2a7c76d4e4e2663edeb38cd37262f196bfc7e14f","2007-06-17 14:50:49+00:00","Added support for FLAC encoded music in Broken Sword 1. (The compression tool
knows nothing about this, and since they're being rewritten as part of the SoC,
I'm not going to do anything about that.)

svn-id: r27511
"
"6dc0a1b234e4395d42dc3d73da098fe0ca355a27","2007-06-17 15:45:09+00:00","Some more updates for saving/loading in IHNM

svn-id: r27512
"
"e477ca37b314bf40cd360840985cef2bf605f735","2007-06-17 16:21:05+00:00","Normalize event names.

svn-id: r27513
"
"8ebf479bc5db8cf4996cc0820269aaf04139b940","2007-06-17 17:17:38+00:00","Added a new parameter to the getChildren function, which allows including hidden files in the results.

svn-id: r27514
"
"e5107cb9807b884e8b84ff25733d60575902039d","2007-06-17 19:37:07+00:00","NDS: setKeyboardEnable shouldn't overrun VRAM anymore when CPU scaler is on

svn-id: r27515
"
"f0581bab4a4b1b4102a7fbdd4a3d54d4397e00e9","2007-06-18 06:12:54+00:00","Fix bugs #1738867 and #1738872, the code for clearing the effects of fire wall and ice wall spells was always enabled.

svn-id: r27516
"
"1e048c1de6c68a9900ed5fa6de7852652317e74e","2007-06-18 07:06:24+00:00","NDS : Suppressed unneccessary complications regarding the backbuffer when CPU-scaled, basically it has the same stride than the regular one (512b) so most code doesn't have to change

svn-id: r27517
"
"71f2f4f6bdcd8261c0fd2cb65c93840ab2aa90a7","2007-06-18 09:07:03+00:00","Fix bug #1738870 - Elvira1: Glitch after opening a sarcophagus.

svn-id: r27520
"
"f95c8450cbde8f3e73ead3399fb8ec817023d843","2007-06-18 10:57:50+00:00","Fix line wrapping of text in Elvira 2.

svn-id: r27522
"
"019cbf0e6c7957543379115cb95d1b96704405e6","2007-06-18 12:34:29+00:00","Added FIXME to dsmain.cpp about it not using SCUMMVM_VERSION (thus adding one more headache to the release process)

svn-id: r27531
"
"1fff4333e30fbaa03054da67e9733008f36ee0fb","2007-06-18 12:35:28+00:00","Add details for music compression in Puzzle Pack too.

svn-id: r27532
"
"e5c205a3241dddaa49856bc8f2f09856e5dae3ad","2007-06-18 12:43:39+00:00","Added backends/platform/ds/arm9/makefile(.in) to tools/update-version.pl

svn-id: r27533
"
"2aab31df971b2570c7b14f4ef6d67bf05b71d088","2007-06-18 12:58:15+00:00","Updated tools/version.pl once more, to handle dists/slackware/scummvm.SlackBuild

svn-id: r27535
"
"8c881acd48ea9b58ef0b38b0fd2f9c3fddb20a70","2007-06-18 13:41:51+00:00","Update versions.

svn-id: r27536
"
"dc62023190055f909d1a5183b8c1396051a7cfa2","2007-06-18 14:18:42+00:00","Use the SCUMMVM_VERSION macro from base/internal_version.h in the maemo backend code, instead of hardcoding it (one potential headache less, yippie)

svn-id: r27537
"
"3f5202ea383b6e9c21a54e142eca578bb000cba5","2007-06-18 19:56:36+00:00","Change some regular integers to short integers

svn-id: r27538
"
"f6e2c67cbb4365547851b6805b4900279a5a0aa8","2007-06-18 20:11:49+00:00","Mouse is now properly hidden during dialogues, and is restored after load/save dialog boxes are closed. Moreover, kEngineMouse constant has been renamed to better match its meaning.

svn-id: r27539
"
"153f325004c70fd94e3a5fb4e60d9b9f3ef9e5a6","2007-06-19 01:37:48+00:00","More updates for the save/load system in IHNM

svn-id: r27540
"
"3c424d98cd23c139bf1863630711b94a3a826ecd","2007-06-19 01:41:10+00:00","Removed obsolete comment

svn-id: r27541
"
"8bc226b0e595ebb90e1fd237a44d040ba4678b21","2007-06-19 02:42:59+00:00","The correct music track is now played when loading a game in IHNM. The save/load mechanism in IHNM seems to be working correctly now (although it needs testing), however there are still some graphical glitches with the save/load dialogs. Also, moved some unfinished code for returning to the chapter selection screen to a more appropriate place

svn-id: r27542
"
"e6543817177c3e565c86eda99a7492c9f7cdf0c5","2007-06-19 10:13:41+00:00","IHNM: In chained cutaways, clear the previous cutaway immediately

svn-id: r27543
"
"fc19079902896d03a557a98501bcae9677f97382","2007-06-19 11:12:56+00:00","Fix masking regressions, caused by dirtyClips code.

svn-id: r27544
"
"4ffd38a19999053dcd6796df4e0bda9d25001032","2007-06-19 11:23:20+00:00","When saving the game in IHNM after a chapter point change, the chapter point change music will no longer be incorrectly saved, and the normal chapter music will be saved instead

svn-id: r27545
"
"aeb9668d6641059866d745df4026ccc88985f864","2007-06-19 11:41:06+00:00","When loading a game from the same chapter as the current chapter in IHNM, the game will now be loaded correctly

svn-id: r27546
"
"ab9b9a1bf362e68f5f6a69462ef2b7c146e6e08f","2007-06-19 11:50:22+00:00","Cleanup, could cause regressions.

svn-id: r27547
"
"b51f2f3212ae8a5abbdce4d947ec2d1cad1a0b6f","2007-06-19 22:39:59+00:00","Implemented the OSystem framebuffer API, as discussed on scummvm-devel. All changes are just fine, and won't cause any compile problems or regressions, despite the fact that I can't test most of the non-SDL backend changes, at an improbability level of two to the power of two hundred and seventy-six thousand to one against - possibly much higher. Anything you still can't cope with is therefore your own problem. Please relax.

svn-id: r27548
"
"0ac96302fe9c04df79cb01a77d19535b45fe2db0","2007-06-20 00:28:04+00:00","Initial implementation of the lookupFile() function. It's meant to search recursively for given
filename within a set of directories.

svn-id: r27551
"
"61c91cafb9376b10d643269d55e409da6a87f667","2007-06-20 01:01:29+00:00","Cleanup.

svn-id: r27552
"
"6689a6607be844740b7f27e2d9021d36538001aa","2007-06-20 01:45:38+00:00","Fix crashes with some savegames in IHNM

svn-id: r27553
"
"05ecd1bcc4ffd89aa204945ae97b420e31f5d858","2007-06-20 14:29:45+00:00","Fix reading the speech_mute setting, the global setting was read, instead of the domain specific setting.

svn-id: r27554
"
"8f2714cc77454ea2ecdfff00d8381608327ca662","2007-06-20 14:41:19+00:00","Fix regressions, due to playSpeech() no longer been virtual match.

svn-id: r27556
"
"5624ba23d0f399f2ac9bd2d143601687af64257e","2007-06-20 16:36:29+00:00","Added a workaround in IHNM for the compact disk in Ellen's chapter

svn-id: r27557
"
"218a2da5d4e19089b6cb99199bb18493ef6e25af","2007-06-20 17:52:24+00:00","typo - (returh => return) -- jvprat

svn-id: r27558
"
"129955ab5511a8dbcd78560ee6f46d6a67e43e92","2007-06-20 19:11:36+00:00","Fix for bug #1740241 (PSP: revision 27553 doesn't build)

svn-id: r27559
"
"8b4b8a95a04e002d260d333959a84561ae33359a","2007-06-20 22:16:18+00:00","svn-id: r27561
"
"9f1ec5cb7af887372e0ec75c1a668aa55000846f","2007-06-20 22:39:14+00:00","Add AGI256 and AGI256-2 game feature flags to games that use them.

svn-id: r27562
"
"ae74b067561e72f2804b39eed0cc6279efc32580","2007-06-20 22:54:51+00:00","Add an additional AGI screen for 256 color data (For use with AGI256 and AGI256-2).

svn-id: r27564
"
"582fa4cdf07c3c9a510b0fd9d5473f72ed133d44","2007-06-20 23:12:38+00:00","Add AGI256 picture resource decoding support to PictureMgr::decodePicture.

svn-id: r27568
"
"d5822afe9ebdd22cd97650a58b4afbf763f0842e","2007-06-20 23:18:24+00:00","Add AGI256 picture resource loading using AGI command unknown170. Uses parts of patch #1728713.

svn-id: r27569
"
"dbac0054c19fa7f7ab63f508fcf02bd05f84f599","2007-06-20 23:36:59+00:00","Make drawing & blitting always use the correct screen
(Always 16 color screen for vector stuff, 256 color screen for everything else in AGI256 mode).

svn-id: r27570
"
"0ebf986a1ff35b4a13ab37485421f9634c032700","2007-06-20 23:42:38+00:00","Make putPixelsA-function use correct mask (0x0f normally for 16 colors, 0xff for 256 colors in AGI256 mode).

svn-id: r27571
"
"c8bbb6140f05b14515f132481dbbe5af09bdd4aa","2007-06-20 23:56:08+00:00","Add AGI256-2 support (On top of already present AGI256 support).
AGI256-2 means handling 256 color views/sprites (AGI256 means handling 256 color picture resources).
The code can now handle both 16 color and 256 color views/sprites in the same game.
FIXME: Background in AGI256-2 demo may be incorrect.

svn-id: r27572
"
"3f5eb0f976e3e6cf0d8e4306ffd3767759eb707f","2007-06-21 01:47:00+00:00","Add Italian DOS version of Elvira 2.

svn-id: r27573
"
"89b2cf75e22fd76b48e9e27d70ba617d5b2468b6","2007-06-21 03:14:20+00:00","Use frameBuffer directly, in order to drop extra buffer (frontBuffer) and cleanup code.

svn-id: r27577
"
"64cafa0270e0e912c3efe04b660e264833a3e7f8","2007-06-21 05:10:42+00:00","Fix regressions, due to buffer changes and cleanup.

svn-id: r27578
"
"d2e7058b59e8f3a26f8e2fdbfd104749854ce950","2007-06-21 05:26:47+00:00","Fix regressions, due to zoneNum changes.

svn-id: r27579
"
"00829f15c87689e649489ec4d97c78d8b8748f83","2007-06-21 06:37:00+00:00","Minor cleanup.

svn-id: r27580
"
"b4041c450f2b4965769fe64e98727e2a6a940744","2007-06-21 07:34:06+00:00","Add font table for Spanish version of Elvira 2.

svn-id: r27582
"
"c42dada4653f860f45e1b46e4f647041e9116af4","2007-06-21 07:34:54+00:00","Revert debug output.

svn-id: r27583
"
"8e2fd2ee7385c1a089e96d1cef3150637e107e41","2007-06-21 17:24:27+00:00","Fixed freeing of invalid pointer, which would cause Operation Stealth to crash.
I don't know if the loadSet() / loadSetAbs() functions are every used in Future
Wars. If so, we should commit this to the branch as well.

svn-id: r27590
"
"bd9ba26109ff741a541204481b6ad8ef15fefd0b","2007-06-21 18:35:15+00:00","Modified version of patch #1740493 (EVENTS: Event Key Codes)

svn-id: r27592
"
"db8e5332fc4109898f44b01dd7d4faa362debbe2","2007-06-21 19:33:05+00:00","Use the KEYCODE constants.

svn-id: r27593
"
"b61738b270f11642f5e8d10c8c9087fb0c4c25c9","2007-06-21 19:55:22+00:00","Use KEYCODE constants. (Except for '~' which doesn't seem to have one.)

svn-id: r27595
"
"6f655ddbe5746c40ae25542b5c148ab7bb9d2a1b","2007-06-21 20:04:10+00:00","Use KEYCODE constants.

svn-id: r27596
"
"245c9972604895a6143a659e50610d328c85cca3","2007-06-22 07:34:07+00:00","Use KEYCODE constants.

svn-id: r27597
"
"4305483ad01292482b5f2ea6fa6116418288ba90","2007-06-22 07:49:02+00:00","Use KEYCODE constants.

svn-id: r27598
"
"2db2fbfc51158e4e45d8b6f2b8f80114abd6028d","2007-06-22 07:52:53+00:00","Use KEYCODE constants.

svn-id: r27599
"
"e42da8f24c92f0828543d75377bf4b8ed1390392","2007-06-22 09:27:13+00:00","Use KEYCODE constants.

svn-id: r27600
"
"cabcfdcae11e9b6cc361a27f82215db9060873d0","2007-06-22 12:19:59+00:00","Added missing scripts and animations for remainder of game, as well as missing fields from room data structures

svn-id: r27601
"
"b923618844aa4a57770e11d12b9cebae268e9ceb","2007-06-22 12:26:10+00:00","Added extra information to some methods, and a new method to show an animation sequence

svn-id: r27603
"
"5e92ea378f6eebf85b082ca9a9b63bd21070093f","2007-06-22 12:30:18+00:00","Initial commit

svn-id: r27604
"
"707e62e669b227e0baf7a8c976283b32cef20b9d","2007-06-22 12:31:27+00:00","Implemented remaining script methods

svn-id: r27605
"
"8b3821e9ff5b60ee75d180514ca8b067bd5a0105","2007-06-22 12:36:04+00:00","Lots of bugfixes - game is now completable

svn-id: r27606
"
"5cb367681b4024ab9bd731581975660cc0352b78","2007-06-22 12:36:49+00:00","Added entries for fights.cpp and sound.cpp

svn-id: r27607
"
"47bd4e500bb35ef9aa301736a1bb96ae8be11b60","2007-06-22 12:40:30+00:00","Removed old debug input files no longer being used, and the Lure disassembly folder

svn-id: r27608
"
"73f760becd167a201607b2c0f4434a64bf255574","2007-06-22 12:42:28+00:00","Don't include sdl_keysym.h. Use our Common::KEYCODE constants instead of SDLK
constants.

svn-id: r27609
"
"39405cbb25b5376660dfb0852f2aa1cf1e337888","2007-06-22 17:51:17+00:00","Changed default buttons of MessageDialogs and mass add dialog to accept 'return' as hotkey for the default button, instead of 'enter' (resp. even 'nothing' on some systems)

svn-id: r27611
"
"55f93678b8589b74922609d55774222ee7119f55","2007-06-22 17:51:51+00:00","Heavily modified/reduced version of patch #1741454 (EVENTS: ASCII enum)

svn-id: r27612
"
"2496c5b5549f7b3b3f1d7777812631505f8d578f","2007-06-22 18:57:07+00:00","fix compile (thanks salty-horse!)

svn-id: r27614
"
"2b23374468549722c8068d448d9bbf5e100d7301","2007-06-22 20:04:44+00:00","Converted lots of code to use Common::ASCII_* and COMMON::KEYCODE_* constants. This also revealed the evil mixing of keycodes and ascii we do in many places :-/

svn-id: r27616
"
"90e11695813db724a4ead1057a4a7c129b94005e","2007-06-22 20:20:34+00:00","Work around a crash when quitting Simon 2. If this is the proper fix, it should
almost certainly go into the 0.10 branch as well.

svn-id: r27617
"
"17a75e7bd3f44eacdef2d8c48afc24f73d30b83a","2007-06-22 20:30:52+00:00","Replace tabs by spaces in keycode enum, to ensure proper indention

svn-id: r27618
"
"8a658e01878150f0163c91f88ab0747294a740be","2007-06-22 20:33:51+00:00","Added 'ASCII_' enum values for certain standard keys, and update comment

svn-id: r27619
"
"4b50a4ffe2fca6004a742fcb94cb0ebc1522475b","2007-06-22 20:40:17+00:00","Potential fix for PSP build problems

svn-id: r27620
"
"264008f2b34e90f8f81649fa56baa76f2cf9a7e4","2007-06-22 20:43:30+00:00","Oops, forgot Common:: qualifier

svn-id: r27621
"
"85bf0f6d6b03097290fbcbc18357756c048f8a8f","2007-06-22 20:51:13+00:00","Added Common::KEYCODE_INALID

svn-id: r27622
"
"e8a4d396fe08cde375c9193a4dbb8847f663e774","2007-06-22 20:51:37+00:00","Get rid of FOTAQ's own KeyCode enum in favor of Common::KeyCode (attention: the F12 quickload hotkey used to be incorrectly mapped to F6, this change 'fixes' that)

svn-id: r27623
"
"54d668ac13f57d8acf5d8e627a5daeaa8166ecb3","2007-06-22 21:10:57+00:00","Changed more code to use Common::KEYCODE_ enum

svn-id: r27624
"
"2fa0a5c457e0aea4edffb49aa80a04a59b6e9994","2007-06-22 21:16:07+00:00","Cleaning up after myself (I blame it on, err, uhh... the Vogons?)

svn-id: r27625
"
"753eee6d0c25b5b3767c4ab7e7a95488753423a7","2007-06-22 21:32:49+00:00","Promoted the struct inside Common::Event which captures the keystate to a full-blown independent struct named KeyState (makes it easier for engines to capture the full keystate, instead of only the keycode or only the ascii/unicode value)

svn-id: r27626
"
"c9030e4653d8dd3a96724681a6423f1b1b296d4d","2007-06-22 21:34:03+00:00","Made BS1 track the full KeyState upon KEYDOWN events (this makes it possible to remove to workaround for Mac keyboards)

svn-id: r27627
"
"d21b8c43d05b99ac5ad6b340fabbe2a52b49e533","2007-06-22 21:38:34+00:00","Converted some more code to make use of Common::KEYCODE_ / Common::ASCII_

svn-id: r27628
"
"f974a3c48e3f7f49c39f682f67684fe215d35d87","2007-06-22 21:42:00+00:00","Update MSVC8 lure project file for commits #27604 and #27608

svn-id: r27629
"
"8cfb778bfae1adb575a9e835a7b5211eb8595095","2007-06-22 21:58:32+00:00","Adding two missing #includes to fix compilation. *sigh* I am really bad at double checking my commits tonight. Sorry, folks

svn-id: r27630
"
"1441f0d044548e32507954e42b6cb5332a5c591d","2007-06-22 22:00:46+00:00","Converted rest of BS1 to use Common::KeyState (removing two more hacks)

svn-id: r27631
"
"cd8f5dc52129e82edcbf24ea881b52271f610fb3","2007-06-22 22:06:25+00:00","fix compilation by casting the %, {, }, | and ~ keycode 'magic' numbers to Common::KeyCode

svn-id: r27632
"
"b85320fa69fd4392d1a755e2136c8db74e4ff8ff","2007-06-22 22:14:35+00:00","Fix MSVC8 warning

svn-id: r27633
"
"c690cad67f91fea90be949e29b2d218952c79859","2007-06-22 22:18:15+00:00","Added constructor & reset() method to Common::KeyState

svn-id: r27634
"
"05ca0d86ba28ffa724b30c309943fa02eda124b9","2007-06-22 22:18:56+00:00","Converted BASS to use Common::KeyState

svn-id: r27635
"
"d0ee1b3c8ff521707a6f5064ee54638460aaee21","2007-06-22 22:19:17+00:00","BS1: Make use of Common::KeySate::reset()

svn-id: r27636
"
"a041ef23174a21eb42285e8c518f38b81468b13d","2007-06-22 23:03:12+00:00","Slightly updated key handling in BS2, Kyra, and Touche

svn-id: r27637
"
"8a721de91ca4fa2f4043dfab49aff0db79e7272f","2007-06-22 23:12:24+00:00","AGI: Properly handle backspace key on all systems, not just OS X

svn-id: r27638
"
"86dffa1dc9813483c42bc3dc28e8a8c5454e59eb","2007-06-22 23:14:33+00:00","0xD -> Common::KEYCODE_RETURN

svn-id: r27639
"
"e7a58d9369af9a416898866465edfcdae3abeae7","2007-06-22 23:20:50+00:00","Moved keyboard stuff to a separate header file

svn-id: r27640
"
"d9718b068446add78e62c92f104e1ad6243d19ef","2007-06-22 23:27:32+00:00","Do not use SCUMMVM_USE_LONG_INT on _MSC_VER anymore (if it *is* needed after all, speak up -- that FIXME has been in there for far too long, however)

svn-id: r27641
"
"05a70fc8e404bd2003e8faa3bc1d4564918eca03","2007-06-22 23:43:17+00:00","Produce 'correct' keycode/ascii values for function keys

svn-id: r27642
"
"f97cbb8294eb35fbd3af38fbe37ac35a82c64121","2007-06-23 00:05:32+00:00","Update GUI::Key constructs

svn-id: r27643
"
"d8dc693578e3616e4385e54cec30154770512f6e","2007-06-23 00:42:26+00:00","Update MSVC8 ScummVM project file for commit #27640

svn-id: r27644
"
"f311ca82ce10688246747f0db00a48ab10c9a365","2007-06-23 07:25:50+00:00","Fix alignment issue in setWindowPalete video opcode.

svn-id: r27645
"
"ee143c01edb01b5e99a0e2d392d5d7275b56b90b","2007-06-23 07:40:25+00:00","Minor cleanup.

svn-id: r27646
"
"d36ca0f7a5c87e3f7ce6429454672fbd92b52cb7","2007-06-23 07:49:17+00:00","Ooops, adjust Elvira 2 specific offset too.

svn-id: r27648
"
"55058015338f46f9c35afaecfef4d24dd198a363","2007-06-23 08:26:18+00:00","Minor cleanup.

svn-id: r27649
"
"62a28d0864976103f678ab16d3401f05cd337693","2007-06-23 08:42:30+00:00","Applying patch 1669536: Kyra2: Intro fixes

svn-id: r27650
"
"d4aeb680cf598bea13d20d2e11f5749b6b997179","2007-06-23 08:58:36+00:00","Minor formatting fix

svn-id: r27651
"
"40e7a533ee30bc578a02b7ea76c4144a9ffeb549","2007-06-23 09:29:06+00:00","MacOS X bundle changes (copying in engine data files, pred.dic, and updated DS_Store

svn-id: r27652
"
"2bbe67afdf4d4df36fc100690cf87c8a75d5a354","2007-06-23 10:06:39+00:00","Added more flexible KeyState constructor; updated comment in gui/Key.h

svn-id: r27654
"
"4e4358e8c33bfcf8213c5b9938551835d583f747","2007-06-23 10:38:03+00:00","Made SCUMM use Common::KeyState, too (but implemented almost no fixes/optimizations based on this)

svn-id: r27655
"
"3ce5f8abf3a1d293071eba7f640caa1ead0a9596","2007-06-23 10:46:32+00:00","Made use of full Common::KeyState in SCUMM (there is still lots of room for improvements, though)

svn-id: r27656
"
"302da0b8550081a8716b26043ab02124125a49b6","2007-06-23 11:53:24+00:00","SCUMM: Added three FIXME comments to the _keyDownMap code, and made it use KEYCODE_ constants for clarity

svn-id: r27659
"
"8151111ee822e51a00c734c0ccfe2fe7bbd03719","2007-06-23 12:16:43+00:00","Add missing semi-colon.

svn-id: r27660
"
"8345f679a50d386fb7f3bc0596b3d4aa43172630","2007-06-23 12:22:23+00:00","cleanup

svn-id: r27661
"
"0a21b0c1f15ad1987a63074f25f0460e0e061811","2007-06-23 12:24:49+00:00","Correct typo.

svn-id: r27662
"
"518cedec9d32902bede6e839878fa02d886f1f4c","2007-06-23 12:31:42+00:00","Moved F1 key remapping in COMI to a more appropriate place

svn-id: r27663
"
"83172bc8b0eacbd8a918416cc583b4d4ffd6ad90","2007-06-23 14:10:44+00:00","Changed input routine to use KEYCODE.

svn-id: r27664
"
"dcae6d14a4f475c42c5f759ff422b0e2808f427c","2007-06-23 14:16:04+00:00","Changed the way VAR_VERSION_KEY is handled

svn-id: r27665
"
"9f1e47aa536f82fb20324a54da9510291ba9cccc","2007-06-23 14:19:54+00:00","Compare Common::KEYCODE_ against KeyState::keycode, not KeyState::ascii

svn-id: r27666
"
"6ef494ab28e0c326e874d85aebd333daedf1a54f","2007-06-23 14:59:58+00:00","Converted LURE code to use KEYCODEs

svn-id: r27668
"
"04afb9bc7dbc022f76c11fa2f36966c20e415421","2007-06-23 15:09:22+00:00","Using KEYCODE_f and KEYCODE_g instead of 'f' and 'g' to check for fast-mode-keys

svn-id: r27669
"
"c99515be864ca71c89a6f171b62583ae30425934","2007-06-23 15:40:28+00:00","Changed BASS to use more KEYCODEs

svn-id: r27670
"
"ea5bce6a3ccb41bac0cf57ac4932a7e9d8c304d9","2007-06-23 15:59:00+00:00","Added GOB FIXME

svn-id: r27671
"
"4297ccc96481872e9b47428c5ed36d6db0a450de","2007-06-23 16:02:50+00:00","Revised SCUMM's input code. We now fix the keys F5, '.', space, escape for mainmenu, talkstop, pause, cutsceneExit; this simplifies and clarifies the code, and ensures consistent game behavior

svn-id: r27672
"
"f18132f5b83495510eb5cf52a69d0cd265094f00","2007-06-23 16:05:38+00:00","Simplify code: Since processInput() always overwrite the value of lastKeyHit if KEY_ALL_SKIP is seen, we can never encounter KEY_ALL_SKIP at this spot

svn-id: r27673
"
"558a28f69deedc3da905f322526eb29efb071a5a","2007-06-23 16:07:38+00:00","Removing WinCE specific code in ScummEngine_v7::processKeyboard -- it made no sense at all. If this breaks something, please contact me so that we can properly fix it together

svn-id: r27674
"
"1a07bfb2215b1e218fc1694ede1d734211f979e9","2007-06-23 16:27:28+00:00","Reworked the SCUMM input code even more: Merged various code paths and streamlined stuff; as a consequence, e.g. talkstop works in V0-V2 games, too; but also regressions may turn up. Also don't rely on Common::ASCII_F1 etc. values to compute SCUMM specific key codes

svn-id: r27675
"
"f0a25f7a9b221f7f7a4ae38cbc1df13b78589b42","2007-06-23 16:37:42+00:00","Tweaks to WinCE makefile.

The choice of which libraries to use (zlib, tremorce, mad, mpeg2 etc) is
now made by a single define per library towards the top of the makefile.

Given that developers tend to have different options selected on their local
builds, hopefully this will minimise the changes on aubsequent svn updates.

svn-id: r27676
"
"24f080ab561670839cfa954ba2f111e50c18a0d6","2007-06-23 16:46:00+00:00","Cleanup; also fixed Alt-F5 (orig. saveload menu) in COMI

svn-id: r27677
"
"1665d158f4a09a57c33bdfe742394a76d310e69a","2007-06-23 16:51:06+00:00","More cleanup

svn-id: r27678
"
"8953674a2f7d29cae0bcc5a3f8f42fae4db0ea81","2007-06-23 17:00:27+00:00","Fixed the FIXME (by making Util::_keyBuffer an array of Common::KeyState)

svn-id: r27679
"
"90c2210dae8c91fa8babc6b05564e15c9d445d18","2007-06-23 17:15:36+00:00","Add a couple of casts from int to (Common:KeyCode) in the WinCE specific code.

2 of the 4 casts are lifted from the standard sdl/events.cpp file. The other
2 (casting the results of mapKeyCE before assigning to event.kbd.keycode look
correct to me too, but might bear double checking.

svn-id: r27680
"
"cacd7a28fd51d960947de88abbf30c487e66529d","2007-06-23 18:51:33+00:00","Merged the FSNode branch with trunk r27031:27680

svn-id: r27681
"
"7091babe4ddb1b84a44b4fd53b17649e47d4181b","2007-06-23 19:04:15+00:00","Missed some files in the branch/trunk merge.

svn-id: r27682
"
"2fb22f2eea03a2e45daef5adcf35237c8e7cf923","2007-06-23 21:42:45+00:00","Now clipping frame # to avoid crashes because of bad behavior of game scripts.

svn-id: r27683
"
"caa69a55fc3b449b02c4b1ecd03d52f9257d7c75","2007-06-23 21:53:13+00:00","Made changeCharacter restore the previous open Archive after completing its duties: this fixes known crash when mini-Dino activates robot, and possibly many unknown others.

svn-id: r27684
"
"c88567aa79eb5a88b54f1c47d36b65b0a3ddae2b","2007-06-24 07:02:55+00:00","added arm assembly from patch #1742112 for codec47. (and really build arm code this time)

svn-id: r27685
"
"347f7f8830af0b92c97bb1c94fb58a1474480c8d","2007-06-24 07:08:47+00:00","should be smush not codec47

svn-id: r27686
"
"71e696094ef08d48506b1cc61ec9921a748d1c5c","2007-06-24 11:02:43+00:00","Update credits

svn-id: r27687
"
"61af086e8e3131e7c32ad2ed3c12dc253f8b6191","2007-06-24 11:40:00+00:00","Mod code cleanup

svn-id: r27690
"
"2ea999a3c14b182d40f274303640137edfd56b8f","2007-06-24 11:41:05+00:00","Renamed add_flag_to_config_mk_if_no to add_to_config_mk_if_no and changed the comment on it; got rid of _mak_asm_arm_rate & _mak_asm_arm_smush again

svn-id: r27691
"
"a106f01d2f1b1c7cef36f8bd90d502add1f9235e","2007-06-24 12:35:50+00:00","Remove useless startPlay override from ProtrackerStream

svn-id: r27692
"
"997253fe6aa52795289a1d0e3c5955652212ed14","2007-06-24 17:42:36+00:00","Small tweak to the readBuffer routines of sound/audiostream.cpp; by counting a
variable down we save 1 cycle per sample copied (at least) on most
architectures.

svn-id: r27693
"
"0a7022709178011ac977bb477e3589d8b26ceb42","2007-06-24 17:55:47+00:00","Update the WinCE makefile to use the USE_ARM_SMUSH_ASM define to enable
the ARM version of Codec47 from Smush.

svn-id: r27694
"
"0b1ce0774a8891081c380cf8b822cfe2d4f440d5","2007-06-24 18:49:48+00:00","Use keycodes instead of the (bad) ascii code for function keys in the DC backend

svn-id: r27695
"
"bcdbd9084942c75a3a56beec7e8fe508fb6ba568","2007-06-24 18:51:06+00:00","Not necessary to have a LINUPY hack in the GP2x backend

svn-id: r27696
"
"54a1136f5b4295fd2464a0378d3853bc04abea8f","2007-06-24 20:35:02+00:00","some configure reorg

svn-id: r27697
"
"22f06325d47783f2b4b24300b7ef804cc46b6c68","2007-06-25 07:01:13+00:00","Patch #1742574: 'GUI: Unify 'Default' options text'

svn-id: r27698
"
"0d467367d2b02787dfab9418f11b0f39cf106213","2007-06-25 07:13:53+00:00","Patch from bugreport #1742561: 'GUI: Missaligned text'

svn-id: r27699
"
"f7d90395cdc89c87f59a51cbfb6cd8c26f8aa347","2007-06-25 07:44:16+00:00","Fix bug #1742561: 'GUI: Missaligned text'

svn-id: r27700
"
"cac0c0f2569e8cb89ca546acdbe9f518152f8cd9","2007-06-25 07:49:08+00:00","Patch #1742050: 'GUI: Enlarge some labels in the themes'

svn-id: r27701
"
"bf4e75b678b3a81829b60b56a112aa670ac5dac4","2007-06-25 11:11:31+00:00","Updated NEWS

svn-id: r27702
"
"a741f3c0100127d009272689f6507b57ed2ca419","2007-06-25 14:40:40+00:00","Fix priority screen showing when using AGI256 or AGI256-2.

svn-id: r27707
"
"db529f9c8f577f05118d8955092f8236b94b8635","2007-06-25 16:15:35+00:00","Adding info for Goblins 3 Mac (supplied by fac76 in #1742716)

svn-id: r27708
"
"bfa84a05bfe9cf981cbc8e2bbb46ea5a8785f051","2007-06-25 16:16:34+00:00","Added a workaround for bug #1726130 ('WEEN: Long delay in the intro')

svn-id: r27709
"
"696b99e9b74017ffe529cbeea9d504a03915e12a","2007-06-25 17:18:51+00:00","Unified GfxMgr::putPixelsA-function's priority info handling.

svn-id: r27710
"
"057d26e2f3a3d29f0694a5e9781b700812161430","2007-06-25 18:21:40+00:00","Added entries for ITE compressed files to the detector. IHNM is not added yet, as it needs more testing

svn-id: r27712
"
"23c8240048209cd53d5d12874e28d9f9382f64c5","2007-06-25 18:23:01+00:00","Add support for compressed sound effects, digital music and speech to the SAGA engine

svn-id: r27713
"
"4d7d3d96f587ad29ecb722e3537e3af83b950d01","2007-06-25 18:32:40+00:00","Removed obsolete code for setting transparent debugging console colors.

svn-id: r27714
"
"78addd0d66c6b0623313a9a02a933a0a22c1ff0b","2007-06-25 19:10:50+00:00","Put a comment in its correct location

svn-id: r27716
"
"2c3cbf444a421a4e64db43c228ee1b49dcc1d6ca","2007-06-25 20:20:59+00:00","Improvements to the SAGA compressed sound support

svn-id: r27717
"
"b53cebe62dcfab9270e86d8c67ceff1032485da8","2007-06-25 21:09:08+00:00","Fix for a stupid typo in yesterdays sound fill tweak.

This fixes bug 1743016. Thanks to erictorbjorn and md5 for pointing me at it.

svn-id: r27718
"
"38cbbf14fc36f96e022d348d582d3d3a64d0df41","2007-06-25 22:06:58+00:00","Add workaround for Gold Rush intro skipping bug #1737343.

svn-id: r27719
"
"9cee28492d5c7d4beb0763aee138be570c5156c8","2007-06-26 03:08:03+00:00","Add FLAC support for speech in Broken Sword 1.

svn-id: r27721
"
"2e3ce7dc8eec143f1e94afbb122923e394f09f3b","2007-06-26 05:51:47+00:00","Fix FLAC support for speech in Broken Sword 1.

svn-id: r27723
"
"c967312d747aa299b2e92ff38d96499cf8666c94","2007-06-26 08:01:32+00:00","Explicitly mention the bug we work around (makes it a lot easier to deal with the workaround code in the future if necessary)

svn-id: r27725
"
"cf0eb563adb10454b1a4c9b0d7c387526b348b30","2007-06-26 08:37:40+00:00","Update GP2X configure rules to support the new ARM ASM SMUSH code.

svn-id: r27726
"
"11fccdbff242ec238d9ccd86525bfa5a41be01bc","2007-06-26 08:50:11+00:00","Cleanup of the GP2X port to fix compile issues (and the odd warning).

svn-id: r27728
"
"bf24bff17e1f6c69e59fbdcc58dcdd487be44d3b","2007-06-26 13:38:24+00:00","Move to the correct file offset when using compressed sounds in ITE

svn-id: r27729
"
"f55d08a2d99a41cfe6cabf4243100d812c9fd53b","2007-06-26 16:06:58+00:00","Fix saving & restoring with AGI256 and AGI256-2 games.
(Should save, restore and use decodePicture's agi256-parameter correctly now).

svn-id: r27730
"
"1af6b35edb6ab14c877ba91beb48f2cd57c4388d","2007-06-26 22:33:07+00:00","increase mt-32 sysex delay to prevent buffer overflow (see FR#1393726)

svn-id: r27731
"
"9263d7cd6c2cf5d549db6006d1f8dd336689c8db","2007-06-26 23:38:21+00:00","Remove some unneeded includes

svn-id: r27733
"
"137862b00b6f97b8ab94273a0bd162d6f78c8e8c","2007-06-26 23:40:22+00:00","Add support for compressed digital music in ITE

svn-id: r27734
"
"6d7e938ca06124cb880a73c6a752f8b6ba89b8dc","2007-06-27 01:31:08+00:00","Fix crash regression, when playing OmniTV videos in The Feeble Files. Caused by _fd not been reset, after been delete.

svn-id: r27735
"
"23426fcea594e20c55b04f00e1e7dce402492247","2007-06-27 01:46:04+00:00","Clear any paused OmniTV video, when playing another video. To fix crashes in The Feeble Files, when another video is played between the pause and restart of an OmniTV video.

svn-id: r27737
"
"b939c15f9d217597c21733667ce94f885c248dc8","2007-06-27 02:24:19+00:00","Fix compiler warning.

svn-id: r27739
"
"3165e380c50d792a6850a9da25e2c0503a201ecd","2007-06-27 09:28:09+00:00","Patch #1743196: 'GUI: Remove trailing spaces in some strings'

svn-id: r27741
"
"3d694b7c5bf689d1460edf496fb0b5e11a8ad494","2007-06-27 09:30:37+00:00","Mention support for compressed sound and music in SAGA.

svn-id: r27742
"
"8c36fcf64ce05b10a094e7ec63c029fc52965b4c","2007-06-27 09:32:42+00:00","Path #1743892: 'Fix for segmentation fault in theming code'

svn-id: r27743
"
"bebaccbe65aa1151003c5b888bf8c4bc58443f82","2007-06-27 09:53:22+00:00","Patches #1743201: 'GUI: Reworked modern theme'

svn-id: r27744
"
"cc052109343b25d100585bad401f10720e03b96d","2007-06-27 10:19:56+00:00","Mention AGOS crash fix

svn-id: r27746
"
"154aed2104b42539b3c68d548c6ceb641f555ec3","2007-06-27 16:38:05+00:00","Mention that compressed SFX in SAGA is now supported as well

svn-id: r27748
"
"535f08e022c7ab51bf2e445f8195d011a337397c","2007-06-28 05:37:55+00:00","Added a debug message for game loading

svn-id: r27755
"
"7a709b3c79255131f0b7605e06e867bafb344e7a","2007-06-28 06:55:00+00:00","Added a workaround to prevent the making fire animation from breaking at the beehive scene in ITE

svn-id: r27756
"
"1a7b91b7e2a27b97f044cad7d9ac0f1179a0ace5","2007-06-28 14:33:17+00:00","Removed superfluous comment and converted an int to bool conversion to a more usual way.

svn-id: r27757
"
"c69fe68112729d8cdf49df195eedf8d7852d95ca","2007-06-28 16:39:04+00:00","Minor cleanup

svn-id: r27758
"
"2249db2c6d7603bf3fc81241fa4b87b0a7f72610","2007-06-28 17:42:57+00:00","Started to refactor the Paula / Amiga MOD code: Made some stuff in class Paula private and added accessor APIs instead

svn-id: r27759
"
"6dfa44dbd58e0a8c1a6b4e31c2fe605b75fce6ed","2007-06-28 19:35:48+00:00","Moved some fixed point code to its own header file; simplified the LinearRateConverter code a bit; corrected some comments; split makeRateConverter into two funcs (one of them being a template func), for easier maintenance

svn-id: r27760
"
"21aa642e7aa255c439c5ce84d57eed70653fd53e","2007-06-28 19:47:47+00:00","Some optimizations to the Paula sound chip emu code (removing common sub expressions and stuff)

svn-id: r27761
"
"675fc8ab719a2600fb9a0487a056e58b2876ff7d","2007-06-28 19:48:41+00:00","Whitespace fix

svn-id: r27762
"
"d35861fc4ae5f23126dd7b1a0e512f79b64ff481","2007-06-28 20:09:58+00:00","Changed GOB to use common/frac.h

svn-id: r27763
"
"5b75e49182fd66306ff00c37114dc22d9d9d4309","2007-06-28 20:15:10+00:00","Fix a bad, bad out-of-bounds write in the Protracker code

svn-id: r27764
"
"1a3724b59b4c89411c748fd3b645a627b4f599cd","2007-06-28 20:18:56+00:00","cleanup

svn-id: r27765
"
"f058edf860b33086f473720dc790280c563bebcb","2007-06-28 22:21:32+00:00","Switched Paula (Amiga MOD) code to use fixed point math instead of doubles (caveat: this only works for samples < 32k right now; if this ever turns out to be a problem, I can fix it, though)

svn-id: r27767
"
"92a4555472be61ee451d44413e3955f53798b67d","2007-06-28 22:47:06+00:00","Update of the MSVC8 project files for commit #27760

svn-id: r27768
"
"fc373c954439e93bb2b1c72b22caca82566782d3","2007-06-29 02:06:46+00:00","Fix some scripts failing to start in Elvira 2, due code difference in isCalled opcode.

svn-id: r27770
"
"49242a9e34b41c3e763128c45b82352ef85cbb8f","2007-06-29 14:55:45+00:00","Fix display of experience in Elvira 2.

svn-id: r27772
"
"3a03470caa6b03b3f529762b92e14666e737ce06","2007-06-29 15:58:48+00:00","Set AGI monitor type variable (vMonitor/v26) according to render mode.

svn-id: r27774
"
"2ff0ffadb8fa11de23b6b8c49d325d8035e6a77c","2007-06-29 18:41:06+00:00","Oops. An extra comma in the enum list's end. Removed.

svn-id: r27775
"
"328858d454cfdd727a7eecdf6ebe8952a37f735c","2007-06-29 22:36:56+00:00","SCUMM: Moved code for handling KBD_ALT combos (well, really only one: Alt-W) in MI2 to processKeyboard; some cleanup

svn-id: r27776
"
"314ef72bb188240bb145e13c620310af142b693e","2007-06-29 22:39:52+00:00","SCUMM: Handle all triggers for the debugger console in the same spot, to ensure uniform behavior

svn-id: r27777
"
"0723e3e24a906c2935965df2ccd555ef314c58cb","2007-06-29 23:08:15+00:00","Introduced ClickArea enum, some related cleanup in runInputScript and checkExecVerbs

svn-id: r27778
"
"b62ef0496c6e4e73848aa8db919e9df5444cb9e1","2007-06-29 23:33:16+00:00","Added small explanatory comment

svn-id: r27779
"
"3535eaec2095e685e9a4be0ace8a813ca441dc89","2007-06-30 00:03:32+00:00","Tweak LinearRateConverter code so that opos is in the range [0,1[ instead of [-1,0[ when entering the interpolation loop (this allows us to get rid of '& FRAC_LO_MASK')

svn-id: r27780
"
"dd77f8e1537272c395f99585edbc13153a1589d3","2007-06-30 08:24:36+00:00","Move the redrawing of dialog windows (options, save, load, ...) so that we do
not redraw it in the middle of changing to a different dialog. This should fix
bug #1745090 ('TOUCHE: Glitch in the menu').

svn-id: r27781
"
"252d18329168bfdfd141a0dbaa07175f2cb2b1c8","2007-06-30 11:57:50+00:00","SCUMM: Moved code which re-mapped arrow keys

svn-id: r27783
"
"fc6da0b436ed1ebf4585e3519f2d79b2379d342c","2007-06-30 12:01:27+00:00","Removed/clarified various FIXME comments

svn-id: r27784
"
"9720742722bc61bb3cb0c8240417816855ea4ef7","2007-06-30 12:07:51+00:00","MI SegaCD related cleanup

svn-id: r27785
"
"2243197f502c06076f493151429e3188b9c2a760","2007-06-30 12:26:59+00:00","Changed GUI system to use Common::KeyState state

svn-id: r27786
"
"45aea284d1673f56fa45d796af6da647630ccb2b","2007-06-30 12:39:12+00:00","whitespaces

svn-id: r27787
"
"c7fa7baf1f424d6e003473879d8d015067817fe7","2007-06-30 12:43:53+00:00","Added global support for the (so far undocumented) confirm_exit config key

svn-id: r27788
"
"b9c8c6c868ebf335c359cf7fa339d2cfdcdea88c","2007-06-30 12:54:07+00:00","Update the ARM version of the rate conversion code, in line with Fingolfins
optimisatins of the C version last night. Saves about 5 cycles per sample.

svn-id: r27789
"
"6290f0b20af5196cfed2b55621f8b51254a7d2d8","2007-06-30 13:40:52+00:00","Tabs -> spaces

svn-id: r27790
"
"21624d3eb7514f8ca8a21a7567d34a8621800f70","2007-06-30 16:11:20+00:00","typo

svn-id: r27791
"
"206d167457efe684478a7947535a9c58b790e31d","2007-06-30 16:25:59+00:00","AGOS: Introduced ChildType enum

svn-id: r27792
"
"a5352e9a97daa92c8d6f5f4dfafc859937302508","2007-06-30 16:29:14+00:00","Also update menus.cpp with ChildType enum

svn-id: r27793
"
"a6210289f5e22c135bd3c0738350bf2df3c8f7d9","2007-06-30 17:34:49+00:00","AGOS code cleanup

svn-id: r27794
"
"a8260011761d3c71148c033bb13fa14c9568103d","2007-06-30 18:09:17+00:00","Don't tracke time we take for loading (it should be less than a second anyway)

svn-id: r27795
"
"6064b876259ce7beca2c32d1b48ea0817149136b","2007-06-30 18:10:39+00:00","Added minimal doxygen comments to CursorManager::isVisible() and CursorManager::showMouse()

svn-id: r27796
"
"fed38a794f8cd810e7b50f59d71b4c0fc581d6fc","2007-06-30 18:22:21+00:00","Added Engine::pauseEngine method (allows outside code, like the backend, to pause/resume the active engine); made the global 'confirm exit' dialog use that feature; implemented ScummEngine::pauseEngine

svn-id: r27797
"
"93b1a53c72f1c181439b7dcd43c94d911a2e30ee","2007-06-30 21:02:58+00:00","Changed semantics of Mixer::pause*() methods -- if you pause n times, you have to unpause n times before the sound resumes (this means pauseAll works correct in engines which selectively pause/resume single sounds)

svn-id: r27798
"
"dc91dcde00db746a934fe3ebf6094bee9145347b","2007-06-30 21:20:47+00:00","Adding some missing stuff to the PS2 port (it still will require quite some work to get it working again)

svn-id: r27799
"
"f445d8c8004536d12b049ec189ea6dd218295c88","2007-06-30 22:21:29+00:00","Changed AGOS to use full KeyState, not just ascii value, in key events

svn-id: r27800
"
"9027076e5d1f7dbf8677cd7f919bab77ef30461b","2007-06-30 22:22:25+00:00","Split Engine::pauseEngine: It now does pauseLevel handling, while engines can provide a simpler pauseEngineIntern method; provided default implementation of the latter which simply (un)pauses the mixer

svn-id: r27801
"
"dc512c6dafeec519a76ee43e0f35acabd336606d","2007-06-30 22:23:16+00:00","mention 'confirm exit' in NEWS

svn-id: r27802
"
"75a05652e5851d9b6189088093a13b391e2a8b0c","2007-06-30 23:03:03+00:00","- Show mouse cursor option
- Support for SAGA, CINE, and AGI
- Key bindings for Gob3
- Assembler optimisations submitted by Robin Watts

svn-id: r27803
"
"951ffd0684b8d8c2b594a990c9e60cffc63f5fb0","2007-06-30 23:10:03+00:00","Just a test

svn-id: r27804
"
"b49b2b7db386b5be961bf9388c6cdc47329a1e68","2007-06-30 23:42:58+00:00","Adding mistakenly deleted file

svn-id: r27805
"
"6a2bbea165c26ca167886e9a57bbd701b383f700","2007-07-01 02:01:19+00:00","Applying agentq's screenshot loading fix to the trunk as well

svn-id: r27816
"
"d2189e7111fc4aab508395ed136d094e8893717b","2007-07-01 10:07:59+00:00","Removed some paranoia screen updates. May cause some minor glitches.

svn-id: r27817
"
"e2ad271bd854369b437524cde60bfcb462225b82","2007-07-01 12:47:07+00:00","Removing non-ASCII chars from source code

svn-id: r27818
"
"9353ee6356de205ce747ad681b4b5a9bdea0ecb1","2007-07-01 12:47:36+00:00","Update comment.

svn-id: r27820
"
"4f8f14d14e54362015c219a1c23ebaf7ffb37ae4","2007-07-01 12:52:46+00:00","Correct md5 checksum for restart state file in the French DOS version of Elvira 2.

svn-id: r27821
"
"5acf6b76c4792174401cfcdefbaecf778734eedc","2007-07-01 14:19:12+00:00","Compile fix: ascii should be state.ascii, I assume.

svn-id: r27825
"
"94fab1c1513b26520cef88d5f9baf4ee2f4e094f","2007-07-01 16:12:21+00:00","Wrapped dialogue functions into a new DialogueManager, and some basic refactoring.

svn-id: r27827
"
"f7041f94ce0a28ed21b918d1fb05ba66f131ea6d","2007-07-01 16:31:26+00:00","Once again rewrite Paula code (addings lots of comments, doing proper wrap around at the ends of samples and some other tweaks). More to follow

svn-id: r27828
"
"e1bcd70436656ed48933aadca38636f70348c842","2007-07-01 18:18:43+00:00","Re-added __attribute__(packed)

svn-id: r27830
"
"a64b12bb039cbcca11826a661feeca79dbe637d1","2007-07-01 18:22:25+00:00","Only invoke g_engine->pauseEngine if g_engine != NULL

svn-id: r27831
"
"7bf493939b7e8ed97fd855695326214f401aa0c1","2007-07-01 18:40:35+00:00","Fix for bug #1746059 (WEEN: The intro hangs, and sound is corrupted)

svn-id: r27832
"
"675227e81f8a2bb4f6048c9517f586e112565e37","2007-07-01 19:28:32+00:00","Introduced new flatBlitCnv to reduce code duplication.

svn-id: r27833
"
"89a7005148d40efc25e75bed2824c86c42a8babf","2007-07-01 19:29:09+00:00","Applied new flatBlitCnv and little refactoring to dialogue code.

svn-id: r27834
"
"19bb631e9493ea3586acdef2cd8c13f3aac4f217","2007-07-01 19:59:42+00:00","Fix looping effect (at least DrMcCoy says it fixes it somehow, and I trust him in that :)

svn-id: r27835
"
"a14485da5f1a809a8b49dc8acd4997313769d03d","2007-07-01 20:16:24+00:00","Fix for bug #1746112 (SCUMM: Crash when pressing SPACE (Pause))

svn-id: r27836
"
"9f6922ddd2801a7099084f1a70e7f09e70821b2f","2007-07-01 20:28:57+00:00","Patch #1595026: engine init/shutdown OSystem methods

svn-id: r27837
"
"8fcece52ac068eb0b89513ffe8c9dc811016ce4a","2007-07-01 20:29:28+00:00","Patch #1595026: engine init/shutdown OSystem methods

svn-id: r27838
"
"7e83dfd275599b1f12de2140e5ff16253a6b7026","2007-07-01 23:42:34+00:00","Fix bug ##1746094 - Elvira 2: Strange behavior a - counter of P.P.

svn-id: r27839
"
"3f82a451efa0d1e4ee409de4b074cbf9e4662aa4","2007-07-01 23:45:15+00:00","Add cases for using '-' and '+' keys on the keypad too.

svn-id: r27841
"
"d768edcd3aa7c743784c4bb7d755a11807f05dda","2007-07-01 23:57:49+00:00","Fix bug #1746107 - Elvira 2: Crash Catacombs lev2.

svn-id: r27842
"
"3ef882041b5029a0de253af8332482f7f2ddb21c","2007-07-02 00:14:53+00:00","Add work around for possible script bug in Elvira 2.

svn-id: r27844
"
"24b09cdc087d4464186c54ed97a0dd7099431565","2007-07-02 00:22:03+00:00","Use warning for that last work around.

svn-id: r27845
"
"9a6bf869afccff63ca61a55350307ac974182ba6","2007-07-02 00:25:15+00:00","Correct typos.

svn-id: r27846
"
"3a0e0916d63e3d6e4c2fc00d48fad80cfaa6f028","2007-07-02 07:07:47+00:00","Fixed glitch: protection code appearing over prompt.

svn-id: r27848
"
"99df4dd7e29541e1af7bee6ab67439af73c0c263","2007-07-02 07:32:06+00:00","Removed special displayBalloonString routine.

svn-id: r27850
"
"7782ac40b8454a1057df85bfe19b8edc4963a02f","2007-07-02 13:44:29+00:00","Renamed a variable, to avoid confusing it with another variable with the same name

svn-id: r27853
"
"fddc9fb3f605863ef39e933996d06f7c14ba61be","2007-07-02 22:41:29+00:00","Memory block sizes for Simon 2 on DS port

svn-id: r27869
"
"c43f68e5540923d04504f1ab3e4c967e04ae6257","2007-07-02 22:42:35+00:00","Fix bug where an object was accessed after it was deleted in cine engine

svn-id: r27870
"
"91648d68e09dbd09b6b296135a3c685cad4c459f","2007-07-02 22:45:21+00:00","Adding hooks for word completion interface on DS port

svn-id: r27871
"
"7b958d56650d0571cb4fc24c999c41d4d44147db","2007-07-02 22:46:17+00:00","Added Indy3EGA IBM 1.4 11/07/89 - English (US) 5.25' floppy version data from report #1746189; also added version data on various other game versions

svn-id: r27872
"
"e2495f1d214308ccc879cef9063f9da54deee8cf","2007-07-02 22:48:39+00:00","Fix for launcher detecting DS configuration section in config file as a game

svn-id: r27874
"
"0601dbd31b4932d84deb93f7683661a59706b546","2007-07-02 23:02:54+00:00","Optimisation for resource loading in Kyra engine

svn-id: r27875
"
"e8e2ddc8e6abdb5a63faadf5430ec2841ed18f39","2007-07-03 19:27:44+00:00","Some cheap renaming and cleanup.

svn-id: r27886
"
"87594aae7343a3540eb744bc49ec0ee390f7b27f","2007-07-03 19:44:31+00:00","Changed Dialogue from a typedef for an implicit n-tree of Questions to a plain-vanilla array. This greatly simplify management and doesn't require obscure flagging of tree leaves.

svn-id: r27887
"
"f30142a55c4f7c12c5c99680c72dbd34cc99adb3","2007-07-04 00:58:26+00:00","Fix bug #1747154 - SIMON1: Another crash in dwarf cave. Another regression, caused by code cleanup.

svn-id: r27889
"
"3c94b096f6d28893f8b1de81f2a3ecbf2981ec64","2007-07-04 11:17:37+00:00","Fix introduction in Amiga multi-lingual version. Specifically characters for the introduction are only available in disk1

svn-id: r27897
"
"dd2538fb771098447661cde028bfb20d01d23bb9","2007-07-04 19:25:10+00:00","Add clone2727 to contributors list

svn-id: r27903
"
"91125a15ea6dc871ed3bffe0ff366ae5d0cb373d","2007-07-04 21:38:30+00:00","Fix typo

svn-id: r27906
"
"8d81d720d3728987a026f13abe4e2aca0e678a23","2007-07-05 03:37:23+00:00","Implemented the rest of the differences of the sfScriptGotoScene opcode in IHNM

svn-id: r27916
"
"be61cff6d1fadd957019f2cc002f4fcd74ff6b37","2007-07-05 06:38:54+00:00","Fix incorrect face frame been shown during dialogs, due to regression in revision 27834.

svn-id: r27917
"
"bb37b9b839ca347ac7d1df53a681e12630f4b36f","2007-07-05 07:39:53+00:00","Skip DLTA frames for now, when loading character face data in the Amiga multi-lingual version. To prevent reading past the end of data.

svn-id: r27918
"
"8e35049c9eff4eb1dc326e9d7f9c2805bc1e4a4c","2007-07-05 14:35:35+00:00","Tidy up of the GP2X config.sh and bundle.sh scripts. Add support for libMPEG2 (software YV12 for now). Now needs the latest test Open2x lib pack to build (http://wiki.open2x.org/open2x/wiki/index.php?title=Prebuilt_Library_Packages#Test_Releases).

svn-id: r27922
"
"51458026fe8dfeea337994914a13bbcc7981f129","2007-07-05 21:19:47+00:00","The prisoners at the entrance of the prison in Nimdok's chapter are displayed correctly now

svn-id: r27931
"
"38f3b09e58a458616365a4ab74f1f64fe10a8960","2007-07-06 12:39:00+00:00","IHNM: sf103 is sfQueueMusic. Now, when doing a good/bad deed in IHNM, the music changes correctly

svn-id: r27936
"
"1332a69b077ae012de92dfd18686d3e90021bd4e","2007-07-06 12:42:50+00:00","Tidied up and simplified AGI mouse cursor management.

svn-id: r27937
"
"ceca6a82f1f64c3a9e950628e1930f5f18aceb23","2007-07-06 12:53:58+00:00","Added Amiga-style mouse cursor. Used with Amiga-render mode.

svn-id: r27938
"
"3efcdd7a4316d41fa9626ceee0f8491b463a76c7","2007-07-06 13:21:43+00:00","Modified ticksToMSec in IHNM, so that it waits for the correct amount of time. Many animations which were not displayed quite right are fixed now, including some small syncing issues with video and sound in some places

svn-id: r27939
"
"118181e848014684272f095f4c323826cd7c9fa3","2007-07-06 16:50:44+00:00","Added data for an Amiga-style busy mouse cursor (An hourglass). Not used yet though.

svn-id: r27941
"
"8e7269a10042720997e8a0a56489d800a472168f","2007-07-06 17:50:27+00:00","Only redraw the save/load dialog when something in it has changed.

svn-id: r27942
"
"737216e52efbbba2955393ece5fb078a8d0783b0","2007-07-07 00:36:10+00:00","When loading a scene, start showing actors only after the scene background has been shown. This prevents some cases where some actors are shown prematurely before the next scene is loaded (e.g. in IHNM, when entering a chapter, after AM finishes his speech)

svn-id: r27946
"
"c72633b539227dc5a5b7864296a203490f6bea18","2007-07-07 00:53:16+00:00","IHNM: Benny will no longer start walking backwards for a bit after talking with the child via the monitor. This glitch occurs with the original interpreter as well

svn-id: r27947
"
"a43eb567ccc2860326bb3dd8a1ce0247390c6b36","2007-07-07 01:11:43+00:00","Clear the cutaway via an event in sfScriptGotoScene, instead of calling the function directly

svn-id: r27948
"
"d87e8c81aaf66dbba0b33ebeff124b49d051a688","2007-07-07 14:56:30+00:00","DLTA tags in multi-frame images are now supported.

svn-id: r27949
"
"65ac39fb8b3ca65042b9c87e34544505378a2891","2007-07-07 15:12:01+00:00","Oops. Crappy dump code doesn't belong to global repository.

svn-id: r27950
"
"214cbc40f5ea1efe8f53da49a64c4d9e808e2487","2007-07-07 19:42:06+00:00","Moved SaveLoadChooser class to saveload.cpp and adjusted dependencies.

svn-id: r27954
"
"7a2949dcfc3d1ff90679af873cdea239f32f99b2","2007-07-08 02:33:47+00:00","The mouse cursor is shown during dialogues in the Amiga versions (Demo and Multi-lingual).

svn-id: r27955
"
"256e4d9521b79160d1f9ed670656097a96dc5a34","2007-07-08 07:19:50+00:00","Initial patch to the listSavefiles method. Now only the existing savegames are marked as available.

svn-id: r27957
"
"674f2e93c23457161808b9dbe7153094f2560c08","2007-07-08 08:13:32+00:00","Location background sound (different from music) now implemented.

svn-id: r27958
"
"cdae0280bee62f5d98e1834d51bb5dc2cd7aa4d1","2007-07-08 08:34:19+00:00","Parser is now able to deal with missing quotes at the end of instructions in location scripts.

svn-id: r27959
"
"a7a62d3c9ddbb66c19035144a827b7ce832d9e90","2007-07-08 09:22:08+00:00","Made parseNextToken *really* work this time.

svn-id: r27960
"
"41c68ac3e42b157529cf8fd670e774f5be72911a","2007-07-08 12:02:38+00:00","Removed various obsolete methods from OSystem (screenToOverlayX/Y, overlayToScreenX/Y)

svn-id: r27961
"
"373cadce5b5f4e58d77e366f5e4ef7f00ec1394d","2007-07-08 12:39:39+00:00","Finally fixed parsing of labels.

svn-id: r27962
"
"c6c06a922e25a09ad78508ba476bf18cfa16c10f","2007-07-08 12:50:24+00:00","Little renaming.

svn-id: r27963
"
"41989652df45b73abc8353072f386f1099b01281","2007-07-08 12:59:00+00:00","Fix for disappearing text in FM-Towns end sequence.

svn-id: r27964
"
"925f75636951b9697a2c8f97d4c93fb1510fd617","2007-07-08 13:26:55+00:00","SCUMM: Handle platform override a bit differently during startup; specifically, be more gentle if no perfect match against the specified platform value was found

svn-id: r27966
"
"3036c37dd817545b4571f01625954c9c74c635ae","2007-07-08 13:39:23+00:00","Yet another fix for broken parsing/displaying of strings. Now quotes are properly considered when they are needed, and ignored when they aren't.

svn-id: r27967
"
"17da12ca07a1f18f3fe1ef5b0c2c0cd9fd8359b4","2007-07-08 13:53:56+00:00","Oops.

svn-id: r27968
"
"9bfe5d53540af7dc9bf0214202f4e35b272320ea","2007-07-08 16:58:54+00:00","Merged the FSNode branch with trunk r27681:27969

svn-id: r27970
"
"779f702b695977b5d8c0e03b8a24bd9c107b7cfe","2007-07-08 17:44:26+00:00","Fixed a very strange bug with strings. Also added a couple sanity checks.

svn-id: r27973
"
"d1b9002bb07bc671ab0e34e4c9c5b7f92d0a4843","2007-07-08 19:56:12+00:00","Cleanup inventory code.

svn-id: r27974
"
"a641ee4fbe8b82333131bdde1b25a9b7593440cf","2007-07-08 20:15:43+00:00","Changed inventory graphics update from synchronous to lazy.

svn-id: r27975
"
"697f945e002246226631e8734fb01d96736fd770","2007-07-08 20:46:21+00:00","Reverted commit 27948. Cutaways in sfScriptGotoScene are cleared by calling clearcutaway directly again, as calling it using an event does not clear the cutaway when it should (which caused problems in the character selection screen)

svn-id: r27976
"
"dd40c72327b707915a9bdea8edf41bbb8b5d66de","2007-07-08 21:25:09+00:00","cleanup

svn-id: r27977
"
"3762bcdfe1c421eee1c45995d11a5b5016a3f2fd","2007-07-08 21:39:46+00:00","correct typo

svn-id: r27978
"
"14244685f3674f156a202dcb87bc3c01678e12f2","2007-07-08 21:42:39+00:00","SCUMM: hercules gfx code cleanup

svn-id: r27979
"
"0a662bfb7e057b0d5302a78687387543836c8c32","2007-07-08 22:13:50+00:00","cleanup in ScummEngine::drawStripToScreen; in particular, the code is now more efficient for The Dig, FT and COMI

svn-id: r27980
"
"8a36379d55afbfd5e322c1e216a11447a4de8a51","2007-07-09 01:16:13+00:00","Fixed a couple compilation issues in the windows build.

svn-id: r27983
"
"1a965aad9568b296545890b7bb61e0de7b052e26","2007-07-09 01:26:54+00:00","Update the interfaces for the getChildren method to include the hidden flag.
Also added some missing method stubs to the gamecard dc port.

svn-id: r27984
"
"705c1e8403dc0b96ddfc488c93e2631a146cbb85","2007-07-09 02:27:38+00:00","Fix masking crash in Simon the Sorcerer 1 (Floppy DOS Demo), the address and pitch wasn't set for state->surf2.

svn-id: r27985
"
"c1961f1f76e91595624a2e49e48b0fab5f412f27","2007-07-09 02:57:47+00:00","Kirben's fix to Simon the Sorcerer floppy version crash.

svn-id: r27986
"
"9782c35eaf4d34a13fae63151ba226d0ed1fd60d","2007-07-09 09:21:25+00:00","SCUMM: use the _compositeBuf, with 'natural' line pitch (implying linear memory access for potentially better performance)

svn-id: r27988
"
"e10a6e65155deb86812aae4a89190c652b237f4f","2007-07-09 12:03:53+00:00","Fix for bug #1746661: 'KQ3: Lockup when pressing ESC (Amiga version)'

svn-id: r27989
"
"11b43f877d47965773fa9b0f7127cc22f7000db6","2007-07-09 17:39:47+00:00","Fix for bug #1742432 - AGI: Engine crashes if no game is detected

svn-id: r27993
"
"945be6e5f220a92e92cf715c80ee72a108cfe9b6","2007-07-09 19:19:56+00:00","Moved mouse cursor tampering from inventory.cpp to Gfx class, and some cleanup.

svn-id: r27996
"
"aaa987201ee15fcb48ad349911e9e41655a001dc","2007-07-09 21:56:35+00:00","SCUMM: more cleanup in ScummEngine::drawStripToScreen, added a big TODO comment explaining how to potentially speed up this code a lot

svn-id: r27997
"
"1db83059b0a33f910c1d2f78630dccde2dd167b9","2007-07-10 00:39:12+00:00","Preliminary (and buggy) Kanji support.

svn-id: r27998
"
"3ac5498ec79e1081aa947dbff26f345bd9c25098","2007-07-10 01:26:12+00:00","Reberting accidental changes.

svn-id: r28000
"
"40905f7ca230b685049029b9bff4d56ef6f0b059","2007-07-10 09:30:56+00:00","Removed leftover empty function.

svn-id: r28004
"
"c16f636acf9baeed686bbbe66e0d9d773615c546","2007-07-10 13:03:11+00:00","Update create_kyra dat for Italian fan translation (see fr#1727941 'KYRA: add Italian CD Version to kyra.dat').

svn-id: r28005
"
"728fe1ff86e26f781a0bd0656822b6845ef5707a","2007-07-10 13:25:54+00:00","Add md5sum for Italian fan translation of CD version (see fr#1727941 'KYRA: add Italian CD Version to kyra.dat').

svn-id: r28007
"
"80cdd532bc8460d23b2562cafe336bedcbe6fb18","2007-07-10 15:28:43+00:00","Add AgiButtonStyle and create correct style according to render mode (Supports PC and Amiga styles).

svn-id: r28009
"
"be23a6e1889f35cfa086729b7bd360d5cd5939bf","2007-07-10 15:45:30+00:00","Change AgiTextColor's default color to black text on white background.

svn-id: r28010
"
"b2cae8fe15e243f1403aa27a18dafbca74831c21","2007-07-10 17:04:09+00:00","Oops. AgiButtonStyle::getColor's color parameters were bool rather than int. Fixed.

svn-id: r28011
"
"0a5654fefc147fb67796bf5cb33f1f761041c018","2007-07-10 17:28:48+00:00","Cast the pointer to long instead of int to possibly fix the amd64 compile
problem mentioned earlier on the channel. Neither seems like a particularly
nice thing to do, but this is how we do it in the SDL backend, and it has
apparently worked fine there...

svn-id: r28012
"
"83e038de191888758fdc2e2d741b12f1c28f7e2b","2007-07-10 17:41:40+00:00","For some reason, AgiTextColor(amigaBlack, _olderAgi? amigaOrange : amigaPurple)
caused a linking error on my computer. Worked around that, and added curly
braces for (IMO) better readability.

svn-id: r28013
"
"969df42d016ae1fcc528c4c96ba02f1297712816","2007-07-10 18:08:35+00:00","Make AGI's button drawing use AgiButtonStyle. Doesn't use Amiga-style yet. It's next.

svn-id: r28014
"
"6e77abc07f20736fe7d50d3f3f3211839c630b53","2007-07-10 18:32:24+00:00","Add Amiga-style menus (FR #657645). Used in Amiga-rendering mode.

svn-id: r28015
"
"b1feb9c65c715862d70b25cfa4e37df3a912cac5","2007-07-10 20:20:50+00:00","This commit adds a new build define USE_ARM_GFX_ASM (and sets it for the WinCE
and DS builds). This causes the scumm engines graphics code to call ARM
routines to do drawStripToScreen and copy8col.

These routines were originally written for the DS port, and have now been made
available to any other ARM device out there that wants them.

I've tested this change on WinCE, but can't test it on the DS as I don't have
one. We know that the routines work there though.

svn-id: r28016
"
"7a7212b9c17a195111d4e43c73bfda65437b4ec3","2007-07-10 21:24:58+00:00","Fixed bug #1751385 ('LSL: Impossible to enter 'Number 9''), which was
introduced when migrating to KEYCODE constants. Considering how silly the bug
was, I probably introduced it myself.

svn-id: r28017
"
"0ed332acba26adb741e3ee7d3146eac2a9e4af60","2007-07-10 23:22:44+00:00","Fix for bug #1751344 - 'ITE: p2_a.iaf not played correctly'

svn-id: r28018
"
"994a1918585f9c2c26d50c4ec4d457f3874cc7d0","2007-07-11 03:21:29+00:00","IHNM: Narrowed down the places where the actors stop being drawn when changing scenes

svn-id: r28022
"
"3f2c527b0eb2ba4baa1e2af0d020f396c348be4d","2007-07-11 11:19:41+00:00","Provide more language.tab file sizes

svn-id: r28023
"
"1dfc0614b7015f14d42cabd3fc5c2c542282966c","2007-07-11 11:46:02+00:00","Fix for bug #1751390 in LSL1. When choosing a menu option, an appropriate event is set. If that event is equal to 0x20, it was incorrectly triggered when the space bar key was pressed

svn-id: r28024
"
"61d4dda19a4ace8f41dbd1268bccbd2703cb4a4a","2007-07-11 12:28:07+00:00","Fix for SQ1 Amiga (v 1.2 1986): menus are forced in this version too, like with KQ3 Amiga

svn-id: r28025
"
"24344fe6ce2ddd62d34bf09f1084758374c05218","2007-07-11 13:25:21+00:00","Should fix gui strings in Italian fan translation.

svn-id: r28028
"
"1b17f2d6a7b9e05031d5892a0b4a1b5871733082","2007-07-11 16:49:44+00:00","Enable menus for Space Quest 1 (PC) 1.1A

svn-id: r28033
"
"ec742cb4fdbf144a50b2473c2c9275e126e481d8","2007-07-11 16:52:56+00:00","Cleaned up comments

svn-id: r28034
"
"4ff76adab5ee72999780187e65dede4b02a553d7","2007-07-11 16:55:46+00:00","Tool for extracting palettes from Amiga AGI games' executables. My first Python program, yay :-)

svn-id: r28035
"
"17a4539a65c5813862b85691cca094ba616e027c","2007-07-12 08:52:07+00:00","Renamed a variable, so that it makes more sense

svn-id: r28042
"
"720c974fafaca16b6e86f28ffc14c8c3aa574e15","2007-07-12 17:58:15+00:00","Changed SaveFileManager::listSavegames() function to be engine agnostic. It now returns a list will the full paths of existing files that match a given regex.
Additionally, modified the 5 engines which use the default manager (Agos, Queen, Saga, Scumm and Touche) to parse the filename list and mark the available saves bool array correctly.

svn-id: r28046
"
"10eeb453d60f220077d2224c89c811818a396f4a","2007-07-12 18:21:46+00:00","Some optimisations to the DXA player to reduce the amount of needless mallocing
and memcpying it does.

This commit also contains some code protected by #ifdef DXA_EXPERIMENT_MAXD
that allows for reading an extended header on a .dxa file and using a MAXD
chunk, if found, to reduce the amount of memory required to play a movie.

Whether this gets enabled or not will ultimately depend on whether the savings
are justified (i.e. if we can find a case where it makes enough difference).

svn-id: r28047
"
"bceca175debb70664a6035818d4870ff9451791b","2007-07-12 19:07:23+00:00","Added wildcards and a preliminary test which doesn't require unpacking the colors. Helped like a gazillion percent, or so :-).

svn-id: r28048
"
"ada3153767a966e48af7ebd91a5dcafa67a1bf5a","2007-07-13 09:58:39+00:00","Rename AGI palette extractor

svn-id: r28054
"
"3e652273cc21cc605b097743f0856306ea7e3bbc","2007-07-13 14:22:11+00:00","Some more fixes for Italian fan translation.

svn-id: r28055
"
"52f4d0b7d93ccaa78267fd218b44ad95b3ff9505","2007-07-13 16:20:32+00:00","Add TODO: music looping does not work with compressed digital music

svn-id: r28056
"
"eedec897f83beac6f5603bd93016c284ee73b529","2007-07-13 16:37:37+00:00","Rewrote and greatly simplified the SAGA detector, removing many duplicate and unneeded entries
- Digital music will now always be enabled for all versions if the digital music file is present. The duplicate game entries with and without this file have been removed
- Changed the way compressed sound files are detected. All the duplicate compressed sound entries have been removed
- The Wyrmkeep Windows CD version is now properly distinguished from the DOS CD version
- Unified all the different patch file entries (apart from the Mac patch file entries, which are of a different type). If a patch file is not found, it's ignored

svn-id: r28058
"
"355ac5db2f380d972925baf1ac2013514a30028b","2007-07-13 16:45:11+00:00","Oops, deactivated the actor debug flag again, which was incorrectly activated in commit #28058

svn-id: r28059
"
"5a851033744189a53886a8db0992b54d5fd1ef3c","2007-07-13 20:50:57+00:00","Full screen updates aren't automatic after palette changes anymore now. Traded some code pollution with SPEED!

svn-id: r28061
"
"9efa640f9c8f32b5c1a0b6b40621c55ef4b2b730","2007-07-14 03:44:47+00:00","Fix graphics glitch in the rat caves in ITE. Closes bug #1735437 - 'ITE: Sprite priority in rat caves'

svn-id: r28064
"
"009b100094363f1e1f167d9792a35af8a3c63793","2007-07-14 13:41:03+00:00","Cleanup of the digital music code. Now all kinds of music (uncompressed and compressed) are handled by the same class, DigitalMusicInputStream

svn-id: r28069
"
"101dc5cb20afcce72107fdb3314a1b74637eced4","2007-07-14 14:18:45+00:00","Improved check for the patched sound file used in ITE intro

svn-id: r28070
"
"ba3c55cd135ef50e6a025c40a330564a8f5bac9c","2007-07-14 15:06:06+00:00","Some more updates for looping of compressed digital music. It's still not working, though

svn-id: r28071
"
"c8a8d806e27442cad680ce1d9643d28e6b4af97c","2007-07-14 15:09:30+00:00","Renamed a variable, so that it makes more sense

svn-id: r28072
"
"a7adb5888c5a88e8b88a707f7740bcf211c011a6","2007-07-14 17:39:47+00:00","ITE: Fixed some of the incorrectly drawn dots of the menu buttons

svn-id: r28076
"
"5aba81d3e756e340f5acee051f1f036d0d50fcf6","2007-07-14 18:11:14+00:00","ITE: Fixed some more incorrect dots on dialog buttons

svn-id: r28077
"
"af21e132a25655239071b3da53841253b6db59c9","2007-07-14 18:26:43+00:00","Fixed compilation.

svn-id: r28078
"
"198b6ac8e64044823922420afaeb948508f41775","2007-07-15 03:13:15+00:00","ITE: Music looping works now with compressed digital music. However, there's still a small pause when a track restarts

svn-id: r28082
"
"6376321e5a486fb6fba867e0e80205282826b806","2007-07-15 06:24:39+00:00","Enabled menus in some old AGI games (released in 1986) which did not have menus them originally: KQ1 Amiga and ST and early versions of KQ3 Amiga, SQ1 ST, SQ1 DOS and SQ1 Amiga. The GF_FORCEMENUS flag has been remaned to GF_MENUS. Also, two problematic versions of KQ3, a problematic version of SQ1 and a problematic version of Mixed up Mother Goose have been disabled. Finally, a duplicate detection entry for SQ1 has been removed

svn-id: r28095
"
"d725c5fab68e761784086631c16eac8a91eff41e","2007-07-15 09:52:08+00:00","Changed some additions to += as Python supports that operator (Didn't realize that before).

svn-id: r28096
"
"9b4cfc5bbe70176a4b944af8e6c4897fc3e013e0","2007-07-15 10:10:48+00:00","Screen update is no more triggered automatically when performing full screen-size blits on Front buffer. Menu code has been changed accordingly to retain consistency.

svn-id: r28097
"
"5fc39e7a305d570b9a4bb9b2548f37f063330a16","2007-07-15 15:12:24+00:00","ITE: looping of compressed digital music is now done by the respective compressed streams themselves

svn-id: r28104
"
"4594202aaf5b25608e84d1e79fcd78cf476301cc","2007-07-15 15:27:42+00:00","To loop a music track forever, the number of loops is set to 0

svn-id: r28105
"
"2f7f5271ac0cc4781cea5b4ea235dc6458700cc2","2007-07-15 16:04:34+00:00","Refactored selectCharacter so that menu code doesn't need auxiliary buffer kBit2 anymore.

svn-id: r28106
"
"e07e5eeb1dbe83f23de230481568ac5d977b1f0a","2007-07-15 18:26:21+00:00","Added new Mac SCUMM MD5, tracker #1749232

svn-id: r28108
"
"11b2806741da02dde2e2e4c1d5fa8ebb26d64233","2007-07-15 18:29:05+00:00","Removed the old (obsolete) audiostream factories for MP3/Vorbis/FLAC data which took a File pointer and a size (these were only implemented as brain-dead wrapper around the newer factory methods anyway)

svn-id: r28110
"
"f4c0b853cc8453acac0c9e6f6901c0056a2288fa","2007-07-15 19:24:00+00:00","Fixed sound factory messup caused by my previous commit

svn-id: r28111
"
"86d015c0551f98aec3924d85c2507462ae0ba73a","2007-07-15 19:26:00+00:00","Added FIXME comments regarding use of AudioStream::openStreamFile

svn-id: r28112
"
"16529e58e6ac81f38f9dfa686adcf5e46423800c","2007-07-15 21:33:28+00:00","Added 3 different Amiga AGI palettes (From oldest to newest). Changed initPalette so its easier to enable the usage of those palettes later.

svn-id: r28114
"
"e4950ea52f98d40bb4ff40484dd4bfd754edae65","2007-07-16 01:49:34+00:00","Add Japanese 3DO version of fbpack.

svn-id: r28119
"
"af0229d5332aa68ae4fac3c5747289b15ba36cdb","2007-07-16 14:10:36+00:00","Add Bear Stormin'

svn-id: r28121
"
"1b5f06dce59c39458c12bfadd91286a00449c84d","2007-07-16 22:46:49+00:00","Word completion code that uses predictive dictionary ported from branch0-10-0

svn-id: r28124
"
"91426f82c6f4e3edc8217e8c5122847f583095fa","2007-07-16 22:55:44+00:00","Porting DS word completion keyboard changes from branch0-10-0.

svn-id: r28125
"
"5b7df04da9001d79c4cf5704b5d86de130e481f0","2007-07-17 18:04:30+00:00","Possible fix for bug 1754613. It's now possible to have an uncompressed music.rsc file when the rest of the data files are compressed

svn-id: r28126
"
"332f74486e5bab77c3577d1a5579e48414aed390","2007-07-17 18:18:50+00:00","Possible fix for bug 1754613, part 2: changed the way compressed digital music is detected

svn-id: r28127
"
"a5e6b75edbbff5d5bc725905a6d5114a8825e988","2007-07-17 20:17:28+00:00","Re-enabled the 3 entries that can't have menus (KQ3 ST, KQ3 DOS 1.01, SQ1 DOS 1.0X). The ESC key will pause the game in those 3 games

svn-id: r28129
"
"d04b653378d92facccf597f80fb3911d7d22f5c9","2007-07-17 21:35:01+00:00","added engine stubs code for Drascula game

svn-id: r28130
"
"d2d49e224b5aa0839a5636f1c751062dc9a613c7","2007-07-17 21:59:44+00:00","Implemented FR #1754616 - 'GUI: Add option to delete games using the 'Del' Key'

svn-id: r28131
"
"40e7b7555b61446d66d4068c4babccb08c1c6ebf","2007-07-17 22:29:09+00:00","added english and spanish version of drascula detection

svn-id: r28132
"
"af4d04100e57d8a9aeb49bf88a0f902cf6e0ae87","2007-07-17 22:46:58+00:00","forgot about drascula.vcproj

svn-id: r28133
"
"32c87556de72593a6d6aff021dc599cf7ff9b13d","2007-07-18 16:14:40+00:00","The SFX resource for the IHNM demo is different

svn-id: r28138
"
"21f352b2df2b45b9bcff6a0c21d57a1e480d4802","2007-07-18 20:51:26+00:00","Added error codes to the SaveFileManager via the SFMError enum. Also, solved TODO's in the default-saves implementation.

svn-id: r28140
"
"d9932d110a544452ad624764c0082c65857ef5da","2007-07-19 00:40:11+00:00","Fix for bug #1754613 - ITE: crashes using compressed audio. The digital music information was missing from the ITE versions that did not originally include digital music

svn-id: r28141
"
"470dac5f8b2c0d57879fbc636aacc2087a916777","2007-07-19 01:28:41+00:00","IHNM: Correct mapping of the arrow and save reminder sprites for the IHNM demo

svn-id: r28143
"
"3ffd5dea2aec39d40a662e8585fe9e730fbe9785","2007-07-19 02:51:36+00:00","Some more resource mappings for the IHNM demo

svn-id: r28144
"
"c4a3e064ba739d16fbf0345210101e6a3ffd6e14","2007-07-19 06:46:25+00:00","Patch #1756556 (MSVC71 project files update) by quietust

svn-id: r28145
"
"a50b03a9fc280cbd09b63776d6102bd780cc41dd","2007-07-19 10:24:34+00:00","Some small updates on the IHNM demo

svn-id: r28146
"
"b95b3fe4f39dee9f46a522c05791628d085b2704","2007-07-19 20:21:47+00:00","Fixed a subtle bug when browsing directories in the main game chooser.

svn-id: r28149
"
"f42108e63399f4329bb1cadfd2e21d808aea8a89","2007-07-20 19:42:38+00:00","Added a remove() function to the Common::File class. Also changed the exists() function to account for new capabilities in the FSNode layer.

svn-id: r28150
"
"a88189b73d77030eab2f8877b817f753cab4fae9","2007-07-20 21:35:56+00:00","Add Japanese MI1 for SEGA CD

svn-id: r28151
"
"b01f07a548fa883ffde48ac00599de69fab93f5c","2007-07-20 21:45:28+00:00","Prevent crash in MI1 SegaCD Jap.

svn-id: r28152
"
"b16d398eb1ad11d3c976ae81427d02609584a571","2007-07-21 14:39:12+00:00","The mixer no longer allows unpausing channels that aren't paused. So don't.

svn-id: r28155
"
"7a6f0b7460ecb5be663e53d12ce226d9ae9a2d12","2007-07-21 19:53:18+00:00","SCUMM/iMuse Digital: Pause sounds after loading them

svn-id: r28158
"
"4fa5583af415251bef28ff0cd308aa3befc90872","2007-07-21 22:40:02+00:00","More support for Chinese COMI. Still some character conversions are
missing. Most notable in difficulty selection screen where 'q' characters
slip in.

svn-id: r28159
"
"cfb4b08efcb0c608eca19fccda15f8e24a1cb2f0","2007-07-21 22:57:21+00:00","Proper height for Chinese characters, also remove obsolete hack for computing
character base.

svn-id: r28160
"
"425e6e278b323f95af5b223d06bec74f0db8d047","2007-07-22 09:17:23+00:00","cleanup (in particular, don't call something 'soundHandle' which is not a Mixer::SoundHandle)

svn-id: r28162
"
"19ad20c201adca6bac5dff1cea4da34d8a99a6c3","2007-07-22 11:54:35+00:00","Don't be so strict about un-pausing sounds which are not paused currently

svn-id: r28163
"
"8c21abc990c3130b2e76bb33b8642a74ce145574","2007-07-22 21:01:31+00:00","Fix Chinese character widths.

svn-id: r28166
"
"b6eedda8858eca9926619fec03dd3075ed4fa7ac","2007-07-22 22:59:08+00:00","- Fix wrong languages in Chinese COMI
- Fix credits rendering in Chinese COMI

svn-id: r28167
"
"ceeb35c1e17b3274db8a2116df3565018f00010a","2007-07-22 23:00:38+00:00","Mention Chinese COMI as supported.

svn-id: r28168
"
"e243dc8e365cf3066699679ab2c84cae19091c3f","2007-07-23 02:34:21+00:00","Add support for FLAC compression of sound bundles in The Dig and COMI.

svn-id: r28173
"
"bb44161189101838e8d22a87fb82d955b1c5fb31","2007-07-23 03:01:07+00:00","Remove recommended FLAC options, as they are now default.

svn-id: r28177
"
"f4fb06845c01c4ad88af4b9293422560fbcbd929","2007-07-23 12:32:08+00:00","Fix regression, the incorrect key was been used for highlighting items in Simon the Sorcerer 1/2.

svn-id: r28179
"
"d95056ce785907ffc01d4523eb8d858ca21f52e6","2007-07-24 06:11:38+00:00","Fixing bug #1749688 ('GOB3: Objects Disappear')

svn-id: r28181
"
"9bb903ee6b73d2c04a5585fffbb75dfc076ab4f9","2007-07-24 09:50:24+00:00","fixed some issues in pathfinding code

svn-id: r28183
"
"38b282b31312b827dce14f64cbbd88b74783741c","2007-07-24 09:53:28+00:00","renamed some fields for clarification

svn-id: r28184
"
"09c2ea82de295fab011bcddcc7c2bf0ba6dd72d7","2007-07-24 23:24:40+00:00","- Separated game type and features
- Added feature constants for a 640x480 resolution and adlib
- Added support for game with a 640x480 resolution. Woodruff now inits the screen before it segfaults

svn-id: r28185
"
"e0ead7947deb937bcb6e1562e43e9125e78e971b","2007-07-24 23:42:07+00:00","Oops, forgot I've modified the entries for testing

svn-id: r28186
"
"7490b935c5ca769f52c13e92d07f05f8c430836f","2007-07-25 00:01:31+00:00","- Removed Adlib from Woodruff's freatures
- Added a fallback for Woodruff

svn-id: r28187
"
"5c588e1f5e4b80fb345f14a3a2cafcf8c6fdc352","2007-07-25 04:52:12+00:00","Updated loadExtData() for Woodruff. Now the Sierra logo is shown (then it crashes / freezes)

svn-id: r28188
"
"cf3719d613a0947ce46b5541e378532b4cbcf394","2007-07-25 11:29:47+00:00","Add eriktorbjorn's patch for bug #1498158 - AOGS: Itemheap overflow on 64bit systems.

svn-id: r28189
"
"3b9286784808f5fbbc2cb1858bbb306c3c5c635c","2007-07-25 15:46:13+00:00","Added one (commented out) 'The Last Dynasty' MD5

svn-id: r28190
"
"3bafb8cd61b7cde3f0b470f28c27675f420e8671","2007-07-25 16:00:23+00:00","Add A.J's World of Discovery. Compatibility is perfect.

svn-id: r28191
"
"a433d54b32e9c73c690614329dc1c5fe61d01cd3","2007-07-25 16:00:57+00:00","Menion ajworld in news.

svn-id: r28192
"
"983306c1525f4a43a10e6d23b6d1cc3b59fbb8ce","2007-07-25 16:07:18+00:00","It was too early to announce ajworld. THere are still open problems.

svn-id: r28196
"
"4f403f4dd356693b1ca3ef02d3b17ef8fef118e7","2007-07-25 16:12:19+00:00","Use default to 1x scaler for 640x480 games to avoid superbig resolutions.

svn-id: r28197
"
"0998a2440afa101f9db1ee141f3674f8fbd85c4e","2007-07-25 19:56:43+00:00","The drawStripToScreen() does nothing if width <= 0. In bug #1759925 ('COMI:
100% crash in SVN (not in 0.X.0)'), height was a fairly large negative number,
so I've added a test for that condition as well. This seems to fix the bug.

svn-id: r28199
"
"12bec1c4948760aabaa1c8f83f731f9bfc88903d","2007-07-25 20:03:31+00:00","workaround for bug #1751149 (original game issue).

svn-id: r28200
"
"d88354a8533c36c4187ba856807a488e3b53981f","2007-07-25 20:05:35+00:00","renamed wrongly named parameter

svn-id: r28201
"
"d0780a59549cbbad11ffde3bb165722124c99fa4","2007-07-25 20:12:41+00:00","removed hotkey, as there's no debugger in touche (this just sets a variable which doesn't seem to be used by any of scripts)

svn-id: r28202
"
"99a707d89e62ef4a59a58e0e946ae3db9fe804fa","2007-07-25 20:36:14+00:00","Added a few safety checks. Now Woodruff shows the loading image (closely followed by a crash).

svn-id: r28203
"
"e151167dd89a3be0524103c83e49593242a6e66d","2007-07-25 21:02:30+00:00","Some more safety checks and the first room's background can be seen

svn-id: r28204
"
"3d2c1c5ab860ca62adba669d56433de62a883a72","2007-07-25 21:48:47+00:00","- Added Inter_Woodruff, alongside with the first Stub (OpcodeFunc 0x18)
- Yet another safety check
- Removed another hard-coded screen height

svn-id: r28205
"
"88f265d5847d178e389e6d173e4eeb008495b16b","2007-07-25 22:55:00+00:00","Renamed Inter_Woodruff to Inter_v4

svn-id: r28206
"
"459868da77de9cb6a4f1820fd7274b2bb38ecc52","2007-07-26 01:01:00+00:00","sub0x18 is o2_addCollision().
It already existed in Gob2 (alongside with sub0x19 - o2_freeCollision()), but wasn't used there.
Hotspots and menus work now (in a way)

svn-id: r28207
"
"b644e460aac65a7aa2770845336f5a255c1a9d72","2007-07-26 03:17:54+00:00","Corrected Woodruff's hotspot text positions.

svn-id: r28208
"
"872a1ea36970af4a5440b81ac434a4e109e9cc51","2007-07-26 03:29:45+00:00","Fixed o1_fillRect() again

svn-id: r28209
"
"cfff436ca7b294557f0833044c2751c37a4853da","2007-07-26 10:11:31+00:00","Added proper room change fading effect

svn-id: r28212
"
"f5a682f5876ce04d14f10fc9960af3dce9f48bc1","2007-07-26 13:22:26+00:00","Updated the MSVC8 project file for the gob engine for commits #28205-#28206

svn-id: r28213
"
"4785ae9cfc770746baca65ba70e014c77a24e98f","2007-07-26 13:26:34+00:00","Removed some unnecessary file existence checks

svn-id: r28214
"
"da7d87e410a363754ee5f75d8e9ab29f04149386","2007-07-26 14:39:05+00:00","The demo version of IHNM has 3 font types (like ITE), not 6 (like the full version of IHNM)

svn-id: r28215
"
"75517ae813cbecbea0c95b99790e1ded4d5e8d99","2007-07-26 17:13:29+00:00","Only queue the IHNM company and title videos in the full version of IHNM, not the demo

svn-id: r28217
"
"d3e7e81c8abdc3c57f82c482dc7efbbd237baf7d","2007-07-26 18:23:09+00:00","Dos full version of Big Red Adventure is detected now. The engine crashes immediately afterwards.

svn-id: r28218
"
"236634662c1aa8c8bd7784584cbf99986908e8b7","2007-07-26 18:30:27+00:00","Made screen size parameters properties of engine instead of compile-time constants.

svn-id: r28219
"
"f89e907998d1dd2a1ab4e73b0fdf457d70878ee3","2007-07-26 19:52:18+00:00","added more drascula code (it still NOT WORKING)

svn-id: r28220
"
"2b219db314319484b6eaf34d3bdac09e81e6acbe","2007-07-26 20:22:51+00:00","Merged archive.cpp into disk.cpp.

svn-id: r28221
"
"f04c56fb69b08e435b6906646bd910f589bf8c71","2007-07-27 00:11:36+00:00","The meta resource table is now properly initialized for the IHNM demo. The starting chapter is also set correctly

svn-id: r28222
"
"0704d5af92579480f2a7cedd41c95a546c42e39a","2007-07-27 00:17:22+00:00","Updated the MSVC8 project file of the parallaction engine for commit #28221

svn-id: r28223
"
"eb7877b251bac08081c487017768b4d492c6c298","2007-07-27 00:18:03+00:00","Updated the MSVC8 project file of the drascula engine for commit #28220

svn-id: r28224
"
"6dd6ea5fc7d34e207dbcaaec1cb9463635fa8a6a","2007-07-27 00:25:06+00:00","Fixed some MSVC8 warnings

svn-id: r28225
"
"533ebe13d2f552bd7d06c04d10e9a20c8033a1ff","2007-07-27 00:59:12+00:00","Fix for bug #1761530 - 'COMI: iMUSE-related crash on startup'

svn-id: r28226
"
"de29c28483567c84c9b875f8b12202797985d74f","2007-07-27 01:33:05+00:00","Only set soundMode, if compressed segment exists.

svn-id: r28227
"
"d6b08fc7514ec6c857613756a7d05f31648ffbcf","2007-07-27 01:41:58+00:00","- AJWorld has Adlib
- Fixing languages for one version of Woodruff

svn-id: r28228
"
"178bf76aae147a2a78ff8165dece9afb71ddc876","2007-07-27 01:59:23+00:00","The p2_a.iaf file should now be played correctly with the English DOS CD and Floppy versions of ITE. Should fix bug #1751344 - 'ITE: p2_a.iaf not played correctly'

svn-id: r28229
"
"548a1394e1c3279b7674ac8ab7d8b3206f19e787","2007-07-27 04:23:22+00:00","The strrev() function is non-standard. Replace with public domain version by
Bob Stout. (It would of course have been trivial to write my own, but Bob's
version does it in place, which is quite magical.)

svn-id: r28230
"
"c2516db9ac72c835cd72bafee35bff1743bda81e","2007-07-27 05:15:24+00:00","Early in the morning, strrev() looks like a more difficult problem than it
really is. It's actually quite simple. In fact, the only magical thing about
Bob's version was the way it swapped variables without using any temporary
variable. Rewrote the function to use our SWAP() instead, since that actually
makes it readable. Moved it to util.cpp (outside the Common namespace, for
consistency with scumm_stricmp()) since Kirben knew of other places where it
could be used.

svn-id: r28231
"
"7dcd3c5ee43e394238f662a1b228276179906004","2007-07-27 05:23:34+00:00","Removed leftover commented-out include. (I thought I needed util.h, but I guess
it's included indirectly.)

svn-id: r28232
"
"3ca5bb8689c4765679827077b5b42d8782c716eb","2007-07-27 07:10:45+00:00","commented out some parts of code which still need to work, because it of non-english chars in it

svn-id: r28233
"
"00cc7958ff29e8cce04b97e8dcbd6421908c980d","2007-07-27 11:54:50+00:00","Fix loading restart state file in Amiga version of Waxworks.

svn-id: r28234
"
"e27e8875f67551ab7812d55dc989f91efc2fe4b5","2007-07-27 12:59:41+00:00","AGI game strings which are substituted in game texts may contain values as well, so use agiSprintf on them to substitute any values they may contain. Fixes bug #1760541 - 'PQ1: Text output garbled'

svn-id: r28235
"
"806a0d9f0a900b7c9dcf80173ecc02fffe4f6e90","2007-07-27 13:02:43+00:00","Fixing languages for another Woodruff version

svn-id: r28236
"
"d8e4d70b674ef2fc86300d01a1827b215c6abc6c","2007-07-27 13:05:24+00:00","The language fallback now prefers the other english if USA or GRB was requested but wasn't found in the game data.

svn-id: r28237
"
"e22e47c398556e60a1c9e28faf4a82e9f83ad3a8","2007-07-27 16:23:06+00:00","Clarifying the language fallback warnings

svn-id: r28238
"
"a0d956221cc6bc7ffeccc3f2ce7ae8c0c5d31f22","2007-07-27 16:39:21+00:00","Defined the starting scene for the IHNM demo

svn-id: r28239
"
"65cb1d8d42a6108a95c9af492366102af08416b5","2007-07-27 16:56:42+00:00","fixed warning

svn-id: r28240
"
"fc3570d00083345ac376f67e0558fc548e2e2f89","2007-07-27 17:24:22+00:00","Fixed a bunch of warnings.

svn-id: r28241
"
"6f3d59b2fcfceb16ae30a6a388b5ace451b0248a","2007-07-27 17:50:25+00:00","Disabled another bunch of warnings. This turned up two places - print_abc_opc()
and print_abc() - where we would try to modify a string constant. I have
disabled this for now, and added FIXME comments.

svn-id: r28242
"
"9f5221d7b4be26289ff5ccf8bf95f5c7645185ba","2007-07-27 18:22:36+00:00","Fixed some warnings

svn-id: r28243
"
"f9b66f8816cc2157ddae17e180550171e5908d8d","2007-07-27 18:32:00+00:00","The IHNM demo only has one mouse cursor

svn-id: r28244
"
"a32b81d126aee4644adc074b3b091a4c121e4f7c","2007-07-27 18:36:50+00:00","Do not try to load music if the music resource id is 0. Also, the voice LUT resource ID and the voice bank are now set correctly for the IHNM demo.
The IHNM demo starts now, showing some scenes, but the main panel is not loaded correctly, the status line is shown incorrectly and the demo crashes after a cutaway is shown

svn-id: r28245
"
"67869d2c10234479949bd74abc42931a019264e6","2007-07-27 19:02:19+00:00","- Moved disk code for Nippon Safes in new file disk_ns.cpp, adding _ns suffix to classes and member functions.
- Added function stubs into new file disk_br.cpp for Big Red Adventure [IT STILL CRASHES!].
- Modified engine to create the proper Disk manager object.

svn-id: r28246
"
"8b62b591a8423ce958723efe171a6c140fcdb5d1","2007-07-27 23:41:43+00:00","Added detection target for Big Red Adventure, and derived new engine classes for supported games.

svn-id: r28247
"
"d1986857d5c77ef5046efafeeb0241323ad73967","2007-07-27 23:42:59+00:00","Added Italian language flag to Big Red Adventure detection structs.

svn-id: r28248
"
"24a7a2908ddfe03cf8f4251ce2e2027b594affae","2007-07-28 00:04:34+00:00","Updated the MSVC8 project file of the parallaction engine for commit #28246

svn-id: r28249
"
"ee485afa89436ae01f5afbfadd937beb05bac8ff","2007-07-28 00:20:26+00:00","Don't allow setCursor to change the cursor to an hourglass in the IHNM demo. The IHNM demo no longer crashes now

svn-id: r28250
"
"ac101f0d6aadee61f154512016b51c9da84eb890","2007-07-28 00:33:09+00:00","Disable the status text in the IHNM demo

svn-id: r28251
"
"cd9ade4af4f5b4b1524ced4054651f5391b64530","2007-07-28 00:40:04+00:00","The mouse cursor is no longer incorrectly shown in the IHNM demo

svn-id: r28252
"
"6c108f552c2a7cca51641fffeb9ad04be666771a","2007-07-28 01:03:54+00:00","The IHNM demo uses the NULL panel

svn-id: r28253
"
"125872c90dbbf68ac423b4e17e0ab51a95d16b91","2007-07-28 01:04:59+00:00","The demo version of IHNM has no options panel, therefore the options icon and the options panel shortcuts have been disabled for the IHNM demo

svn-id: r28254
"
"3d434b12335fd70659d5a99dd1dfe83b2145323f","2007-07-28 02:25:09+00:00","Fixed one of the incorrectly loaded palettes in Benny's part in the IHNM demo

svn-id: r28255
"
"bb2796c57a5bd6cfb417340e6cfda141eee9342e","2007-07-28 07:52:24+00:00","Add support for multi-tune Protracker modules used in the Amiga version of Waxworks.

svn-id: r28256
"
"d764dca90f157fb9c99491874f60013991502e25","2007-07-28 07:56:58+00:00","Ooops, fix typo in last commit.

svn-id: r28257
"
"fb99c11af28f5f010d741992fd0fa54d1616dcff","2007-07-28 08:05:47+00:00","Switch error back to debug message, due to strange data in restart state files.

svn-id: r28258
"
"d79de5733b9bb5040b36f9da5f09c400e79ec9bd","2007-07-28 09:01:29+00:00","Add zone override table for Amiga verison of Waxworks.

svn-id: r28259
"
"d6fd87fd6a31676decec39d98b4d5d0aa579bc4f","2007-07-28 09:14:05+00:00","Add save code differences in Amiga verison of Waxworks.

svn-id: r28260
"
"488d9f3b435b345ba5176f4489ad043006e9069a","2007-07-28 09:16:44+00:00","Add save code differences in Amiga verison of Waxworks.

svn-id: r28261
"
"603bd238d11e2b4253a9a9cf74648da24b161422","2007-07-28 09:45:05+00:00","cleanup white spaces from 'jvprat'

svn-id: r28262
"
"8c1fcc3c08399d39b34ee333cc3d849252f49516","2007-07-28 12:26:40+00:00","The main panel is now correctly shown in the IHNM demo. Some inventory items are still wrong, though

svn-id: r28264
"
"b8f55ec74286d4e78f6bb82e1b3f6c33ad59b92f","2007-07-28 13:27:48+00:00","Screen is now refreshed when waiting for left clicks. Solves bug #1762618.

svn-id: r28265
"
"2c40b302abfa36cc0fc04b3911186be919c01129","2007-07-28 13:28:25+00:00","The palette in Benny's part in the IHNM demo is correct now

svn-id: r28266
"
"7059a69bde6c2a465c41062142524c9f521c49e8","2007-07-28 13:56:27+00:00","Fixed bug #1762638. Mask filenames weren't chosen correctly when not explicitly specified by scripts.

svn-id: r28267
"
"92c90ab8d6c51a9bf3fa1807139d078a155bb603","2007-07-28 14:10:25+00:00","Remove debug code.

svn-id: r28268
"
"6320e6db3c21e1b4cace2b0d8f6791b665997ca3","2007-07-28 14:21:16+00:00","Now yielding control to system after updateScreen is invoked to get smoother mouse movements.

svn-id: r28269
"
"8d5f19d9e506a36092aa866ff79402f455a96ba7","2007-07-28 14:45:26+00:00","fixes into engine

svn-id: r28270
"
"485ac1329ca51a165cabfd4a498c1039e720b556","2007-07-28 14:51:32+00:00","ops

svn-id: r28271
"
"4bce4afbd21a34fb2d3dca36b5460bce168d35e6","2007-07-28 15:15:23+00:00","Should fix bug #1762614. There is a chance some regression glitches appear in locations where animations are displayed together with character comments.

svn-id: r28272
"
"3463604d056a356e7f0ad9595deb919ff17ec60c","2007-07-28 15:18:21+00:00","few more fixes

svn-id: r28273
"
"dbf01ea3fe979c9c81fa15f633c41ef035141e54","2007-07-28 19:43:26+00:00","more fixes

svn-id: r28274
"
"3f01ae069af93036be52f4914658c8e55d3fe119","2007-07-28 21:15:35+00:00","formating and correction

svn-id: r28276
"
"c879386fc8b78577ed37a40d9c33fe9718dad3f1","2007-07-28 21:36:46+00:00","correction for palette and formating

svn-id: r28277
"
"df41a5faef8a52de8a6fbba85142834df2fa9cdc","2007-07-28 22:00:21+00:00","fix display fonts

svn-id: r28278
"
"5e0a226b69ca527445706fcba03a42877ba71c8e","2007-07-28 22:10:30+00:00","more fixes to display fonts

svn-id: r28279
"
"c8f4818f2d5c8bd28a2afe793fb545c08dff2510","2007-07-28 22:14:17+00:00","more fixes to display fonts

svn-id: r28280
"
"88c1e31d681b57b720f78f37ba5eb1b639493776","2007-07-28 22:18:43+00:00","allow exit, formating

svn-id: r28281
"
"9752c75f407c8bd82006222433fcc3618b9e82bb","2007-07-29 01:36:59+00:00","Add a removeSavefile() to the default savefile manager based on the new Common::File::remove().

svn-id: r28282
"
"35eb799b8ea564cb0981337390e75d3d417708d5","2007-07-29 06:37:45+00:00","correction to palette

svn-id: r28283
"
"395f244ba04b0172223071eac651c8793f57cce0","2007-07-29 07:12:24+00:00","more corrections

svn-id: r28284
"
"f8d28abdf93c2e0bee8f0c33c676f7cb55da049c","2007-07-29 11:21:12+00:00","added sfx/voice and few corrections

svn-id: r28286
"
"47e5b0f0ff93f393ddffd9ed57e8aaf4ea3a068a","2007-07-29 14:23:26+00:00","Added dummy SoundMan to help with integration of Big Red Adventure.

svn-id: r28288
"
"7e7b07132e1963e138bc0e630ab66d8162ee669b","2007-07-29 14:24:31+00:00","Moved specialized initialization code into subclasses.

svn-id: r28289
"
"04027589ab0413c09bb7d47c95bed74916bf5ca8","2007-07-29 14:32:30+00:00","Cleanup and some new comments.

svn-id: r28290
"
"9a766cf5c48683fb81d92e094538eb101ea21660","2007-07-29 15:21:33+00:00","Removed direct references to callable functions (opcodes). They are now only available via a virtual member function in the engine.

svn-id: r28291
"
"5ff9d0fe89f610cca5efa72e7fae773ffe6c78fe","2007-07-29 16:08:30+00:00","Fix build.

svn-id: r28292
"
"e2cf426be072c64185e95a2038c7ff72ec2058f3","2007-07-29 16:13:52+00:00","Updated the MSVC8 project file of the parallaction engine for commit #28289

svn-id: r28293
"
"bf5bb9280b1dc4a02b4c0ec9506a0723ed80b55e","2007-07-29 16:28:25+00:00","- Restructure Kyrandia sourcecode (part 1, breaks compiling)

svn-id: r28294
"
"b01232f08ad34ac16e36a83e32ca741fc8fc2169","2007-07-29 16:29:41+00:00","- Added parser strings for Big Red Adventure
- Pushed parser strings initialization down to engine subclasses

svn-id: r28295
"
"076d6b1bc1c4f62732ff46a0931c6bc28ef9a08f","2007-07-29 16:31:29+00:00","Restructure Kyrandia sourcecode (part 2, compiling works again)

svn-id: r28296
"
"1140fca82e79121ad2a154dc98b1637c8d56d55d","2007-07-29 16:33:11+00:00","- Kyrandia 1 works again
- Added timer class for timer handling
- Little bit more resturcturing
- A little bit (almost nothing but a start!) Kyrandia 2 support

svn-id: r28297
"
"5354f3b1d0a389e316437ca76193e7a5782465ae","2007-07-29 16:35:15+00:00","- fixes some warnings
- enables Kyrandia 2 main menu again

svn-id: r28298
"
"7e4909efad06c71447c2cb563f4ceb4db5143758","2007-07-29 16:42:29+00:00","Moved all callable routines and related data into callables.cpp.

svn-id: r28299
"
"9df68f57b0beac1272e054f979f70deede97d22f","2007-07-29 16:56:06+00:00","Fixed mismatched table name in initialization.

svn-id: r28300
"
"608fd62cb5063d64c8f718a2604b99023817a816","2007-07-29 16:58:52+00:00","Updated the MSVC8 project file of the parallaction engine for commit #28299

svn-id: r28301
"
"4774696a9620cb0c325b7ceb82d85c77ea5363f1","2007-07-29 17:02:08+00:00","Made current callable routines members of Parallaction_ns, and moved them to callables_ns.cpp.

svn-id: r28302
"
"ae461cebd6d7ae7b3d4272da30529dc035b196ff","2007-07-29 17:06:23+00:00","Cleanup.

svn-id: r28303
"
"e5808ea2f28a51bdf4317b1498aa58ef14f7df53","2007-07-29 17:10:51+00:00","Fixed some warnings

svn-id: r28304
"
"4fd3678713757620a4f4d2a7f6e408375995fdf0","2007-07-29 17:19:15+00:00","Updated the MSVC8 project file of the parallaction engine for commit #28302

svn-id: r28305
"
"65abeadcf60f730856f1222573189f2605507729","2007-07-29 17:21:21+00:00","Fixed bug in Resource::getFileHandle.

svn-id: r28306
"
"b8d7b6e448dc25e5f11247fc063af6bffb05d333","2007-07-29 17:33:17+00:00","Updated the MSVC8 project file of the kyra engine for commits #28294, 28296, 28297

svn-id: r28307
"
"50537d3ae0a9d41f42419d1898941bac3160b6d4","2007-07-29 17:37:08+00:00","Fixed some warnings

svn-id: r28308
"
"3e95cd9f53da15ce85a987a71512129c6b29182b","2007-07-29 17:48:25+00:00","Fixing some warnings

svn-id: r28309
"
"0b39041e5d7ac08f0a7879e55739ee681a7a9765","2007-07-29 18:14:44+00:00","Fix compilation

svn-id: r28310
"
"092de55a6a56af7629cc12e4c9ec1afd70395ce2","2007-07-29 18:46:29+00:00","Removed debug code.

svn-id: r28311
"
"160a4ceaad1cf55e2aca3494616835e74e4c8a42","2007-07-29 18:49:24+00:00","Added callables stubs for Big Red Adventure.

svn-id: r28312
"
"bb22e2205096d08a3e210ce2280fd3576776a34b","2007-07-29 19:06:17+00:00","Inventory icons in the IHNM demo are displayed correctly now

svn-id: r28313
"
"1ff49e3ab25fa8cf9388c96d3b1f6f6013c42922","2007-07-29 19:14:50+00:00","Updated the MSVC8 project file of the parallaction engine for commit #28312

svn-id: r28314
"
"283b89daf83ef62d29f0c7d7d54a64fcc8bd69d8","2007-07-29 19:17:53+00:00","Cleanup.

svn-id: r28315
"
"65ee4ae2d42fcb029a35673be28c8bce57b3fbcd","2007-07-29 19:56:06+00:00","Now callables array is properly initialized.

svn-id: r28316
"
"b89bd7462c698b32cd80e16a02d80d48804a9e89","2007-07-29 21:08:39+00:00","Oops. Last cleanup left out one very important line.

svn-id: r28317
"
"d9e6db79b53b46f933178f07d1ff69650a8fcd6f","2007-07-29 21:14:17+00:00","Refactored allegedly ugly code.

svn-id: r28318
"
"976d39e2aae0485948328009fc7a2c2a152dd778","2007-07-29 22:47:06+00:00","Changed some comments so that they follow the same commenting style

svn-id: r28319
"
"b888c0858156960943f68adf23d94e669495cbd0","2007-07-30 09:14:15+00:00","The credits of the IHNM demo are displayed correctly now

svn-id: r28320
"
"6505686c5a2ce99033cb577598206d5b6d4abb54","2007-07-30 10:18:25+00:00","Renamed some typedefs to avoid clashes with sky engine

svn-id: r28321
"
"36496dd467648d6345b08b78a99447429fa0f26a","2007-07-30 10:33:17+00:00","The actors at the end of Benny's part in the IHNM demo are no longer incorrectly shown

svn-id: r28322
"
"653cf4c971e740e9ce9955447aa8d18491544b18","2007-07-30 11:55:11+00:00","Initial support of the psychic profile in IHNM (still buggy)

svn-id: r28323
"
"ba44fcbf6b5a209fd7d705ffcf678568bb049640","2007-07-30 13:19:46+00:00","Some corrections for the psychic profile screen in IHNM. The psychic profile background drawing has been turned into an event, so actors and animations will no longer be incorrectly shown. Also, the incorrect text color has been fixed. The text position is still wrong, though, and it's currently not possible to exit the psychic profile screen

svn-id: r28324
"
"7498c6b43e73e7ebcafa4bc766ea06acdfe00b5f","2007-07-30 14:22:53+00:00","It's now possible to exit from the psychic profile screen in IHNM

svn-id: r28325
"
"c8aae376a92c9fbb6d37b81c35de6d030a37319a","2007-07-30 14:35:26+00:00","Process only mouse clicks in the psychic profile, not mouse movement

svn-id: r28326
"
"f06f150c76f43f1dc97eadea5af7bf46ddba9ba4","2007-07-30 15:53:38+00:00","Restructured and cleaned-up IMD playing

svn-id: r28327
"
"78e8dadbe3728d8ea378075b7a0e82147feb2351","2007-07-30 16:12:40+00:00","Verified some resources of the IHNM demo

svn-id: r28328
"
"60b41486acd5db88c1890f891e1b814986ea195b","2007-07-30 16:16:22+00:00","The disk icon is now shown in the IHNM demo (though it's not functional yet)

svn-id: r28329
"
"e75e237f6ce10c416e68e9d2aec16fe606dfeeb2","2007-07-30 16:33:23+00:00","Updated the MSVC8 project file of the gob engine for commit #28327

svn-id: r28330
"
"012f16d5c3f6c9cc49c3182ced12e47cdd8becb0","2007-07-30 17:45:43+00:00","added missing MIDI gm->mt32 program change mapping (bug #1759318)

svn-id: r28331
"
"2b2af8ab5ea768edbfa3ff3bbb56ecc6df046906","2007-07-30 18:26:56+00:00","Music works now in the IHNM demo

svn-id: r28332
"
"4c2ec23de7e37c148f9d3ada3cf85507c8f1db97","2007-07-30 18:35:16+00:00","Added a few stub messages

svn-id: r28333
"
"ba271c04054ff0ec64032df3626ab89353089415","2007-07-30 18:39:38+00:00","Replaced some palette code in _c_endComment with a function call.

svn-id: r28334
"
"fa190dc2975f55b86790ab64937bff2e609633ad","2007-07-30 19:05:49+00:00","Fixed palette going psychedelic at the very end of the game.

svn-id: r28335
"
"3cddad33738aa7aa2f9ad486a0bc542dd2c2f1cb","2007-07-30 19:18:39+00:00","Add James to credits for his Music Enhancement project

svn-id: r28336
"
"2dd1dd53000918abba04156845fce2f50182657e","2007-07-30 19:54:51+00:00","Fixing Full Throttle. If I understand the code correctly, this *should* be correct not break anything else. ;)

svn-id: r28338
"
"1856a0f11b3f74064a105c2a4a8431e87c958568","2007-07-30 21:13:51+00:00","Correct the object sprites only in Ted's part of the IHNM demo

svn-id: r28339
"
"91c2aefc2a4c276d71e51e4e2f541513ef1f19b8","2007-07-30 21:14:57+00:00","Fixed some resources of the IHNM demo

svn-id: r28340
"
"6f1baac2cda438dbcb6401382dbf64f1a1e9e8bf","2007-07-30 21:17:15+00:00","The interactive part of the IHNM demo loads music normally, like the full version, so only load music manually when songTableID is 0

svn-id: r28341
"
"f77195a5cc319fead3821aba7fdcb16543b8fb98","2007-07-30 23:22:09+00:00","- Removed left-over, commented-out code
- Added support for palette changing within the frame data (haven't seen any IMD that actually does that, though)

svn-id: r28342
"
"a09a95c99a6a7ccb7ef66c60dace493eefb3eb86","2007-07-30 23:30:08+00:00","sf92 is not null in the demo version of IHNM

svn-id: r28343
"
"889d1a4aeee83392b2b1fcfb252ac37156587434","2007-07-30 23:37:18+00:00","The interactive part of the IHNM demo fully works now. Also, made the options screen work in the non-interactive part of the demo

svn-id: r28344
"
"3ee5ee2c060a4caf847ea15756cab802c9d91db7","2007-07-31 00:06:57+00:00","Loading saved games in the demo version of IHNM should work now

svn-id: r28345
"
"9a125828b92cae9c1b503731f29ee3712322228f","2007-07-31 00:18:45+00:00","The mouse works correctly now in the options dialog when it's opened in the non-interactive part of the IHNM demo

svn-id: r28346
"
"2707e3a7e8cc02429ca73f59b488c75dbfc82500","2007-07-31 00:52:00+00:00","Music should not be played after changing scene if it's disabled from the options

svn-id: r28347
"
"32d00708687d10152ebc84df86b84aaad2059478","2007-07-31 01:21:25+00:00","Play MIDI music at the volume specified in the options screen

svn-id: r28348
"
"34292a6b586a44aa8fb9361369dddf854ce999c6","2007-07-31 01:43:32+00:00","Minor DataIO-cleanup

svn-id: r28349
"
"165f7fcf73302a08cad5eddf24a00889f56cdefb","2007-07-31 04:19:23+00:00","Implement some differences to the actor walking code in IHNM

svn-id: r28352
"
"7c2857ce8145d2f371cd36119bbc59d968d93034","2007-07-31 11:58:59+00:00","Revert last change to credits.

svn-id: r28355
"
"89451cfa43a81eaa1d944229571d8eb7c4cac5b8","2007-07-31 15:36:38+00:00","It's now possible to return to the chapter selection screen correctly in IHNM

svn-id: r28358
"
"c596fba864c8f2d6c72f21da4df8bc3ebcbfd8eb","2007-07-31 15:40:08+00:00","sfPsychicProfileOff is not used, therefore disable it to prevent it from trying to clear the psychic profile again

svn-id: r28359
"
"ea251afbb7dcee4de2c6f99d223480841c89ed40","2007-07-31 17:05:45+00:00","Added the spanish version of Woodruff, provided by jvprat on #scummvm

svn-id: r28360
"
"03d7990a341a5c05d2b23b073620159d3fe15a0f","2007-07-31 17:41:10+00:00","Some updates to the psychic profile in IHNM. sfPsychicProfileOff has been enabled again

svn-id: r28361
"
"cd20f09a9d8085d1082313fd1d58c87deeb30333","2007-07-31 18:08:40+00:00","Cleanup: removed dead code, fixed some comments and did some layout changes

svn-id: r28362
"
"2e9ca7bf85cdaf71f009c689a0aae6cd14e8f710","2007-07-31 18:16:33+00:00","Still partly broken/stubby VMD playing

svn-id: r28363
"
"806995ddd020548cc9cf9d144c430664008841ab","2007-07-31 18:26:14+00:00","Fixed some warnings

svn-id: r28364
"
"bd22db45025abe9449f9d7a05f36fd8b268fbb5c","2007-07-31 19:12:44+00:00","Renamed palette functions.

svn-id: r28365
"
"873a3e24e578eb2b32627352c69ecd4f05add677","2007-07-31 19:18:41+00:00","Added an English Bargon Attack Amiga/AtariST version, as provided by pwigren in bug #1764174

svn-id: r28366
"
"b29935e93c9ffddf8c510c0f192e9aafd522ea2d","2007-07-31 19:25:07+00:00","Generalized fadePalette to support custom target palette.

svn-id: r28367
"
"4b008f97242e60d12899a89968cb129afc3c22a8","2007-07-31 19:33:36+00:00","Changed code to use the new fadePalette function, thus removing fadeInPalette and some custom fade code in _c_endComment.

svn-id: r28368
"
"6b3c03317d236da2c8d13754d59a8a9bd9ae851b","2007-07-31 20:15:58+00:00","Added Ween English Atari ST and updated the Amiga version, as provided by pwigren in bug #1764174

svn-id: r28369
"
"d4999255b7e66cd263a203c140d4372568837c6f","2007-07-31 21:17:15+00:00","fix for bug #1751226 (glitches on save/load

svn-id: r28370
"
"9bdbb470c031273a56a519de5e13136ad846a22e","2007-07-31 21:19:45+00:00","add missing clipping

svn-id: r28371
"
"6b590bf4d14a0f0d3024d85b9a6220956e131d23","2007-07-31 21:57:32+00:00","Fixed incorrect file assignment for the ITE Windows demo

svn-id: r28372
"
"507461e94df430484b0f377c17a54472810747c2","2007-07-31 23:06:25+00:00","- VMD playing works a bit better now
- Minor cleanup

svn-id: r28373
"
"9f05751611366325f9855684b66c47515ae553dd","2007-07-31 23:34:05+00:00","Woodruff's intro.vmd now works correctly! :))

svn-id: r28374
"
"e416cd0d83ebe4ed336a4f0f4d8dfe0de0b2059d","2007-08-01 00:38:28+00:00","Fix for the non-loading BBM files in the ITE demos with substitute scenes. This is a very strange bug, and it seems to be directly related to an issue with the Common::File class

svn-id: r28375
"
"c4829fe340e2338b69fe8d4dd6ccba60c6518c31","2007-08-01 00:57:51+00:00","Fix compiler warning.

svn-id: r28376
"
"ad2bfc18d6c8450a66db50daad7fe5b8447f3838","2007-08-01 01:20:02+00:00","Some GK2 VMDs now load and play, too. The sound is borked, though (probably 16 bit).

svn-id: r28377
"
"d5e10d1d568e3ac57755f70828342965e2e7c46e","2007-08-01 01:21:03+00:00","Fix compiler warnings.

svn-id: r28378
"
"4abcd58c76434c3bc995fc92c9d6223d4f577a32","2007-08-01 02:19:05+00:00","Updated the ITE demo versions

svn-id: r28379
"
"b58d259f7ee00f6cff86afc48f713979db8a31a0","2007-08-01 02:37:29+00:00","The psychic profile background is displayed correctly again

svn-id: r28380
"
"e68624e7893f34dcf2d25df6ee536daf46d2f993","2007-08-01 09:02:28+00:00","Patch files are no longer left open the whole time, but are only opened when needed. This fixes the strange bug where BBM files didn't appear in the ITE demos that have substitute scenes when using MSVC compiled executables, as too many files were open at the same time

svn-id: r28381
"
"5d7daad632f757621476e29b8de1ee47512948ba","2007-08-01 09:08:27+00:00","Re-enabled the problematic older ITE demos (with notes on their current problems)

svn-id: r28382
"
"35052de25feca6ff2a27c4f2434280939e20dd09","2007-08-01 12:24:04+00:00","Support for (still a bit glitchy) 16bit sound

svn-id: r28383
"
"e5bd393a8939bd8464cfd65e6ee0fe6c0fd05462","2007-08-01 14:19:55+00:00","Compressed sounds now work in IHNM

svn-id: r28384
"
"8e5fb44fcb00a78b47734e2edb11b2ae0c561adb","2007-08-01 18:14:10+00:00","Added data for the Atari ST AGI palette and Apple IIGS AGI palettes V1 and V2.

svn-id: r28387
"
"abec62d46b164be60cda331958418f00d8832acf","2007-08-01 19:31:36+00:00","more changes

svn-id: r28388
"
"b2a9379470f3a64cb2b341e91427c147236aeae5","2007-08-01 20:11:32+00:00","added cd audio playing

svn-id: r28389
"
"ee436b0b268c3c58e3744fb83f2f4a630b958655","2007-08-01 20:12:45+00:00","ops

svn-id: r28390
"
"503ee127e53615528cfbcfded6cbe890c2edcddf","2007-08-01 20:13:58+00:00","formating

svn-id: r28391
"
"ce6c1a462d2ea1c1404cbb51eac3e919af7e01dc","2007-08-01 20:56:39+00:00","added MusicFadeout code

svn-id: r28392
"
"79c67653b63b23143fc89004bd5106919f85d5b5","2007-08-01 20:59:59+00:00","workaround for original game graphic glitch #1751170

svn-id: r28393
"
"617a500ef243df46dafbe7e036e3ea220b0feb78","2007-08-01 21:47:17+00:00","IHNM and ITE: ScummVM will no longer crash when loading games from the command line

svn-id: r28394
"
"1400d28bfb37fc94f3c44dec0a4d0cef65fb8fb7","2007-08-01 22:07:50+00:00","Initial commit of the new BaseFile implementation. It provides a common ground for file objects across platforms and divides responsibilities between the Common::File class and a base file implementation.

Also rearranged the factories into a new directory for clarity.

Note 1: The posix-file.h and cpp files are for testing only. Only the ds, ps2 and symbian architecture will use special BaseFile based objects.

Note 2: The current code does not yet make use of this new structure, since the Common::File remains intact.

svn-id: r28395
"
"87f0a934fb6c5ba54452148c4c5c7d3b45375352","2007-08-01 22:11:04+00:00","added some keyboard code

svn-id: r28396
"
"6a82a3fbfcfda201655b55aea5fec13762e3cd95","2007-08-01 23:38:31+00:00","The text of the psychic profile in IHNM is shown correctly now

svn-id: r28397
"
"63f3d5b253fb38e810480d786369eeb1bed5f49e","2007-08-02 01:04:44+00:00","Partially implemented opcodes 87, 88 and 89, used in the help system of the IHNM demo. It's still buggy, though

svn-id: r28398
"
"ec4a240b502f7be2c67582382b4af4f0451aa035","2007-08-02 01:56:45+00:00","The help screens in the IHNM demo are shown a bit more correctly now, though they're still buggy

svn-id: r28399
"
"014de3cfe795d3d181e5a8cc9f9e8099d41b5d81","2007-08-02 06:47:04+00:00","formating

svn-id: r28400
"
"46d6ffcdf67da9925b22364a4593b396e120cd4c","2007-08-02 07:09:28+00:00","allow engine shutdown and restart with diffrent mode

svn-id: r28401
"
"482d626663cc1c83edbe6c043398a2e8c4ce3703","2007-08-02 08:07:39+00:00","Fixing compilation for Raziel_AOne ;)

svn-id: r28402
"
"d51b3b4f6295742c4b018585df1c129d76858566","2007-08-02 09:01:58+00:00","Added Italian Woodruff, as supplied by Hkz on #scummvm

svn-id: r28403
"
"8299835cad43c4da9cc594647e805913fd95841a","2007-08-02 11:10:26+00:00","Added methods for reading Apple IIGS AGI samples and creating AudioStream-objects out of them. Commented out some code to make things compile.

svn-id: r28404
"
"af16be07a1dad35993d06056cf072b03ee5c63e9","2007-08-02 11:39:45+00:00","Added reading of volume parameter from Apple IIGS AGI sample header.

svn-id: r28405
"
"3e9c4be28026a4ef3c3a790073f2a42738374819","2007-08-02 14:43:10+00:00","The help screen in the IHNM demo is shown correctly now

svn-id: r28406
"
"ccc9359181a30813321911501c9721bf8556f592","2007-08-02 14:57:18+00:00","Text is cleared correctly in the IHNM demo help screen, when waiting for the game to change the page automatically

svn-id: r28407
"
"4289509e209d3c21e55aafdd99a48c65d679852a","2007-08-02 15:08:49+00:00","Fixed warnings. (A key code does not fit in a byte.)

svn-id: r28408
"
"1c262740613075cbfd525877d8f3011e4431e063","2007-08-02 15:29:50+00:00","Undefined character 9 is no longer printed in the IHNM demo help screen

svn-id: r28409
"
"b9092cc18d717cf62d1a09364916bbca3b671296","2007-08-02 16:19:47+00:00","Strip path from save file name

svn-id: r28410
"
"8d09c1a3ade02211565a4c74ddaa72a15138f574","2007-08-02 16:21:49+00:00","Don't crash at getRandom(0)

svn-id: r28411
"
"0ea88e439faded4029587143e48c475d3581838c","2007-08-02 16:24:04+00:00","Don't restart the audiostream when the IMD refills all sound buffers at once

svn-id: r28412
"
"c1d7fa04331f4a2aed056845419d3c2f0421b927","2007-08-02 16:55:57+00:00","Added the MD5 of Inca II. It works a bit but hangs when a space shooter sequence should start

svn-id: r28413
"
"a865457d731e0444bcabba829ff098f662d45a13","2007-08-02 19:07:47+00:00","Added Lost in Time. The title screen doesn't show and the wobble-effect isn't there, but the game is (partly?) playable.

svn-id: r28414
"
"93f9cf5fd3c0436bf28b67b5dc05abb87146efd3","2007-08-02 19:16:32+00:00","Renamed 'lost' to 'lostintime'.

svn-id: r28415
"
"da8dbb271dd77d6bb38af3b2d12905a6d64e8cd1","2007-08-02 20:48:09+00:00","Added entries for the CD version of Lost in Time. (I'm told this is how we
handle multi-lingual games.)

svn-id: r28416
"
"59089f95dd2e21065a424405b486e7138cf6b1c6","2007-08-02 20:59:03+00:00","added next part of engine

svn-id: r28417
"
"a2aec6c753b7d2881a2460e039d5309e6120de62","2007-08-02 22:12:20+00:00","Saving works now in Lost in Time

svn-id: r28418
"
"8ecda22a8c0d438b1134f4c1c034b791adb671fe","2007-08-02 22:23:57+00:00","Fixed some of the compiler warnings, and added a FIXME comment (and #if 0:ed)
to where we're trying to modify a string constant.

svn-id: r28419
"
"ff8fda1b800839c126cafe1b07ded7329475deb1","2007-08-02 22:27:59+00:00","Fixed some warnings

svn-id: r28420
"
"8b99a6508f854cd4d55e5415e8e5991dc36da75c","2007-08-02 22:36:43+00:00","Made the offsets in the construct signed as well

svn-id: r28421
"
"4f86d473d07fcac858bebca51eeb0a80f244c27d","2007-08-03 07:47:34+00:00","Add German Amiga version of Waxworks.

svn-id: r28429
"
"02103a65a271af647ff32928b331ee4291607931","2007-08-03 14:22:20+00:00","Figured out most missing parts of the Apple IIGS sample header. Added methods for reading Apple IIGS instrument headers.

svn-id: r28432
"
"e802f067cd96d63054b4233e44db02b660557787","2007-08-03 15:18:00+00:00","Lost in Time now (kind of) shows the title and the wobble-effect is drawn

svn-id: r28433
"
"7ec3572ee6711965bfaf2996fed22bc1d65c7fd0","2007-08-03 16:21:39+00:00","Repaired the cursor and saving in the notebook

svn-id: r28434
"
"055e6654e55f6d8d1f53527b9397865c35d2f0bd","2007-08-03 17:51:36+00:00","Lost in Time's title is shown correctly now.
The size switching looks a bit whacky, but that's what the game does :)

svn-id: r28435
"
"ff8ed07958a3c75c1cd909d4cdd2849c8b76cd14","2007-08-03 18:20:58+00:00","Added Apple IIGS arrow cursor data.

svn-id: r28436
"
"8b5f0624f5a6c80826fb547ac6613b21ce2e1cc7","2007-08-03 21:09:41+00:00","Make resolution change in Lost in Time less wacky.

svn-id: r28437
"
"fa282c173bfc44d2f9c6e3e66c069beaec9e2535","2007-08-04 02:19:11+00:00","Fix bug ##1767235 - Feeble Files: Video Playback garbled, game crashes.

svn-id: r28438
"
"feb07bb1d8f2db08dc0d06a3948bb1010132c2ce","2007-08-04 05:56:38+00:00","Fix disabling speech in FOA.

svn-id: r28439
"
"3447c0e264c5850b9a2fb3cf4500a984501aa59a","2007-08-04 06:18:28+00:00","Tell the user if saving a game fails. (I haven't tested the saveGameSimple()
function, since I don't know when it's used.) This should fix bug #1767237
('AGI: Saving games to non existing path').

svn-id: r28441
"
"1935f5a8b3ac284a3df692e22bff2a0f808286bd","2007-08-04 09:43:28+00:00","Fixed broken implementation of Close command.

svn-id: r28444
"
"532a662f5a5a00389fc6523aaf018c6a3112226f","2007-08-04 12:05:32+00:00","Some Apple IIGS sound chip playing mode defines etc.

svn-id: r28445
"
"44ddb2419b9d09c894bd3b2c8e1be39c87b30e67","2007-08-04 12:16:10+00:00","Fixes compilation error C2666: 'pow' : 7 overloads have similar conversions on Windows (VS2003), Xbox (VS2003) and Xbox 360 (VS2005). Thanks to Carch for reporting the compilation problems.

svn-id: r28446
"
"44279df48e3951fe58b325c36fae276eddcb1f94","2007-08-04 12:23:28+00:00","Fixes compilation error C2677: binary '&&' : no global operator found which takes type 'const Kyra::Opcode' (or there is no acceptable conversion) on Windows (VS2003), Xbox (VS2003) and Xbox 360 (VS2005).
For some reason the compilers didn't automatically use the operator bool() in the Kyra::Opcode so now doing it explicitly.
Thanks to Carch for reporting the compilation problems.

svn-id: r28447
"
"663e78b911a7447c25d24e5b7de820a1c790a759","2007-08-04 18:58:50+00:00","Added routine to restore door backgrounds: this means that backgrounds for door and get zones are now handled by two different sets of routines. This fixes bugs #1765191 and #1762643 (it was actually the same bug).

svn-id: r28449
"
"ca01e07a3ce0fe50605aaf199ec8f780198990e0","2007-08-04 22:14:45+00:00","Fixes bug #1765310. Counter needs to be reset at the beginning of each iteration.

svn-id: r28451
"
"d31d50ac3dbf5c12b126b4d26ba2cd15e7057dcc","2007-08-05 01:42:38+00:00","Possible fix for bug #1767748 (Gobliiins is not fast as it can be on slow computers)

svn-id: r28456
"
"d03e3e9c870a7d0d28c6e43ee3f0fe0af2a4847d","2007-08-05 02:56:51+00:00","Added code for hotspot fields I didn't originally understand

svn-id: r28457
"
"ec1803f838d5efc7decf75c05a1fb4a9633751e5","2007-08-05 03:26:00+00:00","Removed unused fields

svn-id: r28458
"
"6856535010bd2fa4449bcfde1c88dc06cd46e26f","2007-08-05 19:34:20+00:00","Merged fsnode with trunk: r27971:28460

svn-id: r28462
"
"1dc13a641dd82825334e81bb3eb3b4ebd69d2552","2007-08-18 05:24:18+00:00","Merged some of the changes from the trunk patch back in to the GSoC fsnode branch.

svn-id: r28649
"
