"commit id","commit date","commit message"
"6ca906d7aa4e515d0b0ce9c6a5a38500721d2483","2008-10-06 11:28:09+00:00","Fix warnings about Event::synthetic being undefined

svn-id: r34754
"
"6a2f3dc0b984bcd8bd84d98ae456ed57fca740d6","2008-10-06 12:48:52+00:00","Added new type Engine::Feature; pushed down some #include dependencies

svn-id: r34755
"
"5dd381932f3ed501a27fe97f48ef30331b2924d5","2008-10-08 09:05:21+00:00","Added an optional depth parameter to FSDirectory::getSubDirectory(), so that returned FSDirectory can be more flexibly configured.

svn-id: r34756
"
"1f2ce8b1881078b3de82b63f8ecdc1777f4ab9d1","2008-10-09 11:49:35+00:00","Manual merge of the GSoC2008 GUI branch. (71 files)

svn-id: r34757
"
"0b489b7ab6c6059d3600f6b507fce50b57ddc307","2008-10-09 12:10:23+00:00","Fixe DIST_FILES_THEMES in Makefile for theme distribution.

svn-id: r34758
"
"b4a50e65dedff5640eb5cdec0c21cedefa6b8007","2008-10-09 13:50:47+00:00","Removed theme-config.cpp (legacy GUI code)

svn-id: r34759
"
"ec60fc6db719b318c38b18f4bf23ae55c59f6d61","2008-10-09 17:15:10+00:00","Fixed small graphical glitch in Classic theme tabs.

svn-id: r34760
"
"bb619b457844a9b9f4acc60d08ce730a8f968301","2008-10-09 17:56:07+00:00","- Fixed theme loading from Zip files.
- Changed Common::ZipArchive to use FSNodes instead of full paths (external API unchanged).

svn-id: r34761
"
"c3b1e3416371b8a54721c53a17920f1bc9458772","2008-10-09 18:09:59+00:00","Renamed 'scummodern' theme to 'scummmodern', for naming consistence.

svn-id: r34762
"
"f2f25aa84007402bbcea4b8ffc02d780a35d688d","2008-10-09 18:51:26+00:00","Fixed warning when loading themes contained inside a folder.

svn-id: r34763
"
"51824e58aabdca895796cfc5d99c3ae112fd03ae","2008-10-09 23:23:38+00:00","Update theme package name.

svn-id: r34764
"
"4fc69c4863a4ea5924e374a330d2ba5686c2f5ea","2008-10-10 04:17:34+00:00","Fixed typo.

svn-id: r34765
"
"15d94dd614c0d98f85b04572e9733a431df30c8e","2008-10-11 02:23:13+00:00","Fixed crash when existing BRA: fonts were deallocated twice.

svn-id: r34766
"
"104b39ef67e4e1ddcf5e6124b8a0844a7062346a","2008-10-11 02:25:55+00:00","Add patch from Quietust - Correct music speed in Amiga V2/V3 games.

svn-id: r34767
"
"b5f2e4ee8c977f7a437e97a6b92c000d729adc51","2008-10-11 14:18:11+00:00","Synced the rest of the MSVC project files (MSVC7, 7.1 and 8) with the latest changes to the GUI from the GSoC branch

svn-id: r34768
"
"ec874705ff51225aa47c493ab66b4989dfa16f3a","2008-10-11 21:23:53+00:00","Use Common::File instead of FilePtr

svn-id: r34769
"
"0802da1f7f357cc34ce8c497f6b1e3f35e40e853","2008-10-11 21:37:15+00:00","Order files in gui/module.mk alphabetically

svn-id: r34771
"
"ce7ffc4d0e89684b6e6a11d0f175a91e27e4ced4","2008-10-11 21:39:24+00:00","Some cleanup (in particular: do not convert String -> char * -> String needlessly) & code unification (thanks to Common::Archive, regular files and those in .zip files can both be accessed via Common::File)

svn-id: r34772
"
"8920f6849c8d4d6d7fbfeffe4708da3d68b0ab7c","2008-10-11 22:11:02+00:00","Changed XMLParser to use SearchMan / FSNode::openForReading

svn-id: r34773
"
"c39175d2ec482c745d04fe56744eaa01df2bae8f","2008-10-11 22:14:47+00:00","GUI ThemeEngine changes:
- removed unused typedefs
- fixed some typos
- got rid of pointless parser() method
- unified theme XML loading code for Zip files and regular directories

svn-id: r34774
"
"3d41300895447d5c55b1eaa5aa8580ead1708758","2008-10-11 22:18:15+00:00","Fixed yet another typo

svn-id: r34775
"
"fb0d112bbddc930115dcfffef5fb9f92e1d6cf7a","2008-10-12 06:06:04+00:00","* Added prefix support to cache entries of FSDirectory, as specified in patch #2034983.
* Updated comments on most Archive-related classes.

svn-id: r34776
"
"1002b82022d359b63fb0639953775275f79364c3","2008-10-12 07:01:09+00:00","Changed BRA to use the new Common:Archive infrastructure.

svn-id: r34777
"
"92d12dc5c44b1f448882d7a7ebe7eac6b56c4bd4","2008-10-12 16:06:04+00:00","The MSVC8 -> MSVC 7/7.1 conversion tool now handles both cases of version numbers (with . and ,) - depending on the system's localization settings. Updated the scummvm.vcproj files

Fixes bug #2159813 - 'BUILD: scummvm.vcproj fails to build in msvc7/msvc71'

svn-id: r34778
"
"ad7d753ceae72d1e7c7f2db965f32eea7caf0f73","2008-10-12 21:47:29+00:00","Changed Common::Rect doxygen comments to the (Java) style we use elsewhere

svn-id: r34779
"
"4747f8dc015e31eac510460c68309e79df327bf1","2008-10-12 21:51:52+00:00","Fix warning

svn-id: r34780
"
"ca53370157fdb247aee9457433dd3f0828dcfb98","2008-10-12 21:56:03+00:00","Fix some in-line doxygen comments to document the correct member(s); also fixed some typos

svn-id: r34781
"
"7cc871b84f1d6a8e74f10295ec3e9646410c0748","2008-10-12 22:02:24+00:00","cleanup

svn-id: r34782
"
"1b3952fbab30b8efdae899a8f520402d2215d032","2008-10-12 22:03:35+00:00","Don't force inline on big funcs if you don't have to (in this case, it added 24k to the binary size for no good reason)

svn-id: r34783
"
"24dea3aff2e635f19695ac680a33bb6738bbad97","2008-10-12 22:04:30+00:00","Fixed some more bad inline Doxygen comments (if you omit the '<', Doxygen thinks you are actually documenting the code in the *next* line)

svn-id: r34784
"
"95474b048aa742f500f276f782e9998eccfce8d9","2008-10-12 22:05:26+00:00","COMMON: Added a new ObjectPool class, with matching operator new/delete overloads

svn-id: r34785
"
"19b6289688353541297921252e55e6a5c5bc4076","2008-10-12 22:06:31+00:00","Don't call Common::List::size() if you don't have to (it's an expensive operation, which has to iterate the whole List, while empty() works in constant time)

svn-id: r34786
"
"4cd3adb690cc682e5e1f3f0ba5ced644fc1150bd","2008-10-12 22:14:30+00:00","Increased maximum subtitle line length for SimSaw. That code really should be
made more robust some day, but until now I don't think anyone actually used it.

svn-id: r34787
"
"566a7b94d254fa5f52e46e55e113a3c9f9c5a943","2008-10-12 22:23:35+00:00","Removing dead code

svn-id: r34788
"
"4a56e0d9c191d20d1b486739977ae8935e371a48","2008-10-12 22:25:35+00:00","Merged ThemeEngine::themeEval() and ThemeEngine::evaluator() methods into a single getEvaluator() method

svn-id: r34789
"
"dc75da434848ecd90e5a65077d55ccc610fd335f","2008-10-13 04:24:18+00:00","Use the save file manager's listSavefiles() function to find out if any savegames
exist at all. (The old method was to potentially try and open a hundred files,
though it would stop after finding the first one.)

svn-id: r34790
"
"e25265425d76537c634947e5ac661aed371a9df4","2008-10-13 06:29:14+00:00","- fix installer file support for Kyra 2 and 3
- fix bug in pc98 audio driver

svn-id: r34791
"
"70091a6484351d108e08129bd244b5e11f2cd3b7","2008-10-13 10:04:42+00:00","Fixed: Ingame debug console in all games.

svn-id: r34792
"
"4686615edfe83a3f161828968404fcdb23b346a1","2008-10-13 10:26:26+00:00","Fix for bug #2162342: FREDDI1: Game does not start

svn-id: r34793
"
"0c28575a723c9249d19820cbf1f9c77639adc765","2008-10-13 12:38:58+00:00","OSYSTEM: Removed unused getExtraThemeConfig() method (TODO: Implement a new system which allows ports to add/remove stuff from the options dialogs)

svn-id: r34794
"
"ffdbb474c4cab2f26645b8624acc3bc8ce3196d9","2008-10-13 15:07:37+00:00","Removed SearchManager::addArchive, since SearchManager::add offers the same functionallity.

svn-id: r34795
"
"c2066b9c20930af2e01953f6bf97f147fb2673e3","2008-10-13 18:41:12+00:00","Fixed crash after using cutscene subtitles. (Now I *know* no one has used that
feature before. :-)

svn-id: r34796
"
"c949eb2daca88608bb582b2133f751cf4707f8dd","2008-10-13 19:17:51+00:00","Patch #2131406: AGI: Fix Crash with Apple][ Instruments.
Applied the patch as it is, thanks clone2727.
Now Apple IIGS AGI games don't crash anymore if the
instruments (They're in *.SYS16) or the instrument
samples (They're in SIERRASTANDARD) aren't found.

svn-id: r34798
"
"b3625cae2fa2cc74ab69adcd29bfe7f3ede4b19b","2008-10-14 17:22:25+00:00","Crash ScummVM when a widget definition cannot be found in the XML file and show a descriptive error.

svn-id: r34800
"
"820a45d8514be835daf204f54472cbb884fa0ac9","2008-10-14 17:29:48+00:00","Fixed: Parser crash when adding an XML layout with an unhandled type.

svn-id: r34801
"
"1c374dcf35ad09c18554c18f57b3d449dac04b74","2008-10-14 17:53:52+00:00","Added 'Mass Add' dialog.

svn-id: r34802
"
"cda308678275bf145cfe40e69ed7870f2c3136bd","2008-10-14 19:00:21+00:00","Greatly improved XML Parser error messages.

svn-id: r34803
"
"61b04725a1858d59bab48f95120c91129eaa7fc1","2008-10-14 19:39:33+00:00","Another tweak to HE: Use SearchMan.openFile instead of a raw FSNode

svn-id: r34804
"
"cf81446338577de33da78a7e67a58da101ac6278","2008-10-14 23:42:54+00:00","Fixed: Freddi 1/2 ingame menu crash (BUG 2167027).

Was: Crash when refreshing the screen with no open dialogs.

svn-id: r34805
"
"9ad49cf983ee4486a2d95db67e9c7662d48178c6","2008-10-15 11:22:22+00:00","Fixed: Game version selection menu (Bugs 2167730 and 2164305).

svn-id: r34806
"
"0cd49391103a4d7ea33c2a8d61f5c93ab3af0155","2008-10-15 13:34:18+00:00","Changed XMLParser comment syntax to conform to XML standards (<!-- * -->)
Changed STX version string to 0.2.

svn-id: r34807
"
"36311eefb44a43221665bf6d5d11a4d6fd9f330f","2008-10-16 17:18:15+00:00","OSYSTEM: Pushed out some port specific code from common/system.cpp to the respective ports

svn-id: r34812
"
"3644910f0d7d0ccf09b9453e8a9d8898c668b870","2008-10-18 00:29:23+00:00","Fixed: 'GUI: Crash in Debugger' (ID: 2169419)

svn-id: r34814
"
"46b036ab6aea23319ac4a3fdfb0faa13bc3cc3dd","2008-10-18 01:27:33+00:00","ImageManager: Added support for generic archives (zips and folders).
Theme Font Loading: Added support for generic archives.
ThemeEngine: Removed dependency on Common::File and File::AddDefaultPath for image and font loading.

svn-id: r34815
"
"6e8adf4ea69914dd48322a2b3aeb7d91301dbb45","2008-10-18 01:44:12+00:00","Fixed: Invisible debugger console text in Classic theme.

svn-id: r34816
"
"df8af387fb33d5ef645e41b554267aaafd2432bf","2008-10-18 09:14:43+00:00","Changed XML Parser to require standards-compilant XML header.
Updated STX version to 0.3

svn-id: r34817
"
"1cc3ae04cdaca1716bb6c78c621bfdfacf3f5b22","2008-10-18 10:06:33+00:00","Fixed: Default theme had several XML headers.

svn-id: r34818
"
"a67c16c6f28ba3f98d30108fb5cbcc94f1da9314","2008-10-18 10:11:35+00:00","Rewrote XMLParser error() function for the 5th time.
Bugfix: Ambiguous error message when parsing an unexpected header.

svn-id: r34819
"
"167614f6f8b096be51a5fe485dd4a0200bcb1a9c","2008-10-18 12:20:46+00:00","Need a differentiating zlib.h filename for SymbianOS.

svn-id: r34820
"
"3595d0c09bd016ab991d8de9642f423619d8c130","2008-10-18 12:37:50+00:00","Add game.cpp to makefile

svn-id: r34821
"
"6e177e64df899c6c9d64ec99db5c476b8bd75d9c","2008-10-18 13:06:27+00:00","Fixed warning.

svn-id: r34822
"
"53163a4284d1f8a2337045c86ea28ae3444b8ba5","2008-10-18 21:28:05+00:00","Implemented visual effects 1, 3, 4, 5, 6, 7 and 16

svn-id: r34823
"
"2f92b31235350cb7b08a2a2b3c8704f485d0ea88","2008-10-18 22:56:43+00:00","Simplify DXAPlayer::decodeZlib, and use common/zlib.h instead of system's zlib.h

svn-id: r34824
"
"98ae4615561a318f6ce5d85ef13d84d3bf9d731f","2008-10-18 23:58:26+00:00","Fixed: Assert when parsing a corrupted Theme archive (now discarding the theme silently as non-valid).

svn-id: r34825
"
"c501ef14506b810770e36978d91e38a3f9a991c8","2008-10-19 08:52:04+00:00","Cleanup (Removed an extra 'return 0').

svn-id: r34826
"
"f1a0d7dfb215708af1cc7fa6252c45b6ee5eca90","2008-10-19 21:06:26+00:00","Code formatting fixes

svn-id: r34827
"
"871375d4b518681e7782502c8f2df07bf85b27a5","2008-10-20 04:39:10+00:00","I believe this fixes bug #2162345 ('BS1: Can't overwrite savegame'), but I'd
really appreciate it if someone would test it further, in case I missed
something. (Broken Sword 1 stores the names of the savegames in a separate file,
and that has to be in sync with the individual savegame files. In my experience,
that sort of thing can really attract bugs...)

svn-id: r34828
"
"07220529dc8978b2c2e94662ae9b5a2ec910369e","2008-10-20 21:47:46+00:00","Fix - at least partially - the list of savegames for the launcher's load dialog.
But I suspect there are still bugs lurking in that code. I really dislike how
Broken Sword 1 handles savegames...

svn-id: r34829
"
"a5a73ff9d6d7257bcc64335b29c558a7706f3507","2008-10-20 21:55:20+00:00","Formatting.

svn-id: r34830
"
"cd38ddc542f6758ae7b06a8a10005d9af2546fd8","2008-10-21 11:42:08+00:00","Cleanup.

svn-id: r34831
"
"649c18d5656cabab1a9e819098f58da5952e9cbf","2008-10-21 16:01:06+00:00","Fix for bug #1960518 'ALL: --list-saves ignores custom paths'.

svn-id: r34832
"
"66cc1007024b5487879a90f440930fbb2fb42233","2008-10-21 18:03:47+00:00","Fixed: Naming of STX files in Scummmodern theme.

svn-id: r34834
"
"2630e964c9de8558ec70a6530a6d081164f4a720","2008-10-21 18:13:35+00:00","Fixed: Broken english in System.h documentation.

svn-id: r34835
"
"f881b95dddd5b9a2bf15179a2b4376f551a20bff","2008-10-22 17:08:17+00:00","Removed File::addDefaultDirectoryRecursive, tweaked SearchMan API slightly

svn-id: r34836
"
"7d331b734186b6d3116debf34eb28bd6c3d807ed","2008-10-22 17:44:12+00:00","Committed updated version of my patch #2184529 'SearchSet: Get rid of SharedPtr usage'.

svn-id: r34837
"
"b9709b579357ad876cb63481f28634390808f579","2008-10-22 19:56:38+00:00","Make incrustMask and incrustSprite only draw to the current background in Operation Stealth.

svn-id: r34838
"
"4d4042df36e316196269df98ed408186a945b803","2008-10-22 20:29:17+00:00","Shut up MSVC and add FIXMEs to Sword's listSaves and ThemeEngine's loadThemeXML.

svn-id: r34839
"
"5252f073058ce3f60dc97b48a878a9c1080a05e8","2008-10-22 20:45:25+00:00","Remove unnecessary function overloadings for loadBg16 and loadBg256.

svn-id: r34840
"
"a2d961a827b2b6f398102a8f593ee7a87156ec06","2008-10-22 22:31:09+00:00","Made constructor of SearchManager singleton private

svn-id: r34841
"
"85174e8504bd5713859ac9632ec8a536d5213d9e","2008-10-22 23:30:21+00:00","Add game path with a depth of level 4, to prevent regressions when loading files in HE arcade games again.

svn-id: r34842
"
"de8dedf3c318ad582d15f8069c83c74ca6e70db9","2008-10-23 00:26:45+00:00","Add missing break to processSpecialKeys().

svn-id: r34843
"
"d3872061752cfdb59e6ed99a656a49eb8249843f","2008-10-23 07:59:10+00:00","Pushed down some header deps

svn-id: r34845
"
"e3312288d7e58235cb81acc2469519c470203c0d","2008-10-23 16:58:01+00:00","Removed obsolete FIXME.

svn-id: r34846
"
"064b816b08cb27a5c8f4899d447c4b81597df968","2008-10-26 09:15:57+00:00","Cleaned up disk code after recent updates to Common::SearchSet.

svn-id: r34848
"
"9021921303d88d4d59742a9207ca57ba96dfa535","2008-10-26 10:33:04+00:00","DS port: Declare ARM blitters as being ITCM_CODE, so that we avoid the dreaded
'relocation truncated to fit' error in thumb builds.

svn-id: r34849
"
"ed5beecd33b9e53cb4732dcd9559a76cb5092a78","2008-10-26 10:46:55+00:00","DS port: My version of devkitpro complains that various symbols are defined in
a different namespace. The fix is to refer to these symbols using ::.

svn-id: r34850
"
"c8312fdacc55036bae885f454ab0b25ecf4094ee","2008-10-26 11:19:10+00:00","Another attempt at making the Broken Sword 1 savegame list in the launcher match
the in-game one. Only show savegames which actually have a corresponding save
file. (That's a trick the in-game dialog doesn't know yet.) The match isn't
perfect, though: The launcher lists the first save slot as 0, while the in-game
dialog lists it as 1. But changing the launcher one will make it set the wrong
'save_slot' value.

svn-id: r34851
"
"331c38e1c710c786d4526962d9940d4036d800d9","2008-10-26 15:20:24+00:00","Added semi-ugly workaround for bug #2182450 ('BS1 Demo: Crash due to missing
speech segment').

svn-id: r34853
"
"b7a219ebc6f6ffd4954a29ca4e14654ff702bed5","2008-10-26 16:42:08+00:00","Renamed engine feature kSupportsDirectLoad to kSupportsLoadingDuringStartup, as discussed in patch #2122869

svn-id: r34854
"
"c03f0219cab5fa156c3e81fbaa9d09747a4bafa3","2008-10-26 18:40:59+00:00","Using getChild() with getChild() throws an assertion (a regression of the latest FS node changes). Commenting out this line with a FIXME so that SAGA games can work once again under Windows

svn-id: r34855
"
"ea8e06fcf9d865b83465ee704b3a8c4cc11055df","2008-10-26 19:27:26+00:00","Implemented FR #2038951: 'ALL: visible warning when CD music missing'

svn-id: r34856
"
"fb9bd9f44202e573629a27ade7807a0e1a043265","2008-10-27 02:30:29+00:00","Fix for bug #2198456 'FS: Cannot add a subfolder to a non-existing folder'.

svn-id: r34857
"
"26642748f9d7735dd64757814ac8f20c297d6697","2008-10-27 11:04:36+00:00","Removed FIXME and reverted commit #34855, as it's now possible to add a subfolder to a non-existing folder without crashes with the change in commit #34857

svn-id: r34858
"
"8c5f9f94513ae2f14f9b9be8aac48e9f331cad28","2008-10-29 07:57:48+00:00","Cleanup of Nippon Safes disk code.

svn-id: r34860
"
"73cf59b518b2d9ebd1973b77ac41a6783140e085","2008-10-29 08:16:13+00:00","Removed reference to Common::File in music code, and small cleanup.

svn-id: r34861
"
"fccf455bcc815755191c6dacc32ad6689667fe56","2008-10-29 18:57:42+00:00","Bugfix: Dirty rectangle out of range when blitting into the overlay.

svn-id: r34862
"
"08f1e004151ab25f098b1a1de3fda90e00457164","2008-10-29 19:02:45+00:00","Fixed: Text too big in 1x mode.

svn-id: r34863
"
"98b0c4b33cd2a994be2f0756ac5ab1421b223269","2008-10-29 19:48:15+00:00","Committed my patch from -devel, which reintroduces DISABLE_FANCY_THEMES to strip functionallity in theme renderer uneeded by small devices.

svn-id: r34864
"
"ebcb4861917ee43bebbaf11513afabef64d13221","2008-10-29 20:02:56+00:00","Enable gui renderer for all bit depths we support currently.

svn-id: r34865
"
"d8a76a6b595bce9cbfb45ec23149a5e4fb533479","2008-10-29 20:05:59+00:00","Typo.

svn-id: r34866
"
"2ec5515e898eca84ea92ac970c63fe244c89982e","2008-10-29 20:45:28+00:00","Store names for renderer configuration in config file instead of integers.

svn-id: r34867
"
"2e20247ce7cf344a29f3efe27c23b15ac13c7512","2008-10-30 17:45:35+00:00","Reset _chunksPerPage after MemoryPool::freeUnusedPages, to avoid enormous memory consumption in various easy to trigger situations; out of paranoia, prohibit for now memory chunks bigger than 16MB

svn-id: r34868
"
"92cfe5e24660907c9195ed0e251598bf3a722b24","2008-10-31 13:20:13+00:00","Specified VECTOR_RENDERER_FORMAT to 1555 for DS build (at least from the code it looks like DS uses a 1555 overlay).

svn-id: r34869
"
"cd3011e4088fc25846278d2e8cf6527245d5d333","2008-11-01 12:39:01+00:00","Fixed assorted leaks in NS Amiga.

svn-id: r34870
"
"282ebbb0e54211a1a3cef5510287a7c494fce1d2","2008-11-01 12:49:29+00:00","Commit of patch #2207782 'ARCHIVE: New method 'getMember''.

svn-id: r34871
"
"d0c9b0cb233a00094f18269d94b7d0fb64433099","2008-11-03 10:45:59+00:00","* turned DefaultSaveFileManager::checkPath into a virtual method
* add a subclass of DefaultSaveFileManager for UNIX, POSIXSaveFileManager, which overloads checkPath
* switched SDL backend to use POSIXSaveFileManager if UNIX is #defined

svn-id: r34872
"
"985c02ee7da43fb66b61d6e3c5530e78bd2d8286","2008-11-03 13:44:59+00:00","Committed my patch #2216641 'GRAPHICS: PixelFormat introduction'.

svn-id: r34875
"
"b58aca856c642515fa5e6108680c303f30f816aa","2008-11-03 14:02:29+00:00","Simplified Graphics::createPixelFormatFromMask helper.

svn-id: r34876
"
"57a3d2ae3b68be705e648e39dc188f381bcc11fa","2008-11-03 14:07:07+00:00","Oops actually it seems I forgot to remove mask entries of PixelFormat before committing...

svn-id: r34877
"
"188da3547fa39b09c6c129196c0e0ba36ce7cc8c","2008-11-03 15:15:32+00:00","Instead of allocating (and leaking, in case of an error) a 64k table with at most 256 entries, use a HashMap

svn-id: r34878
"
"78221818e48ccb6fc48b1fa29a45083e4d2092c8","2008-11-03 16:00:13+00:00","Documented & cleaned up ThemeEngine::createCursor

svn-id: r34879
"
"9e74c41dbd5050a819f4e10ce17f45f3edb534d3","2008-11-03 16:00:52+00:00","Fix comment

svn-id: r34880
"
"55da1fdd290554bd79b39981182bb7a536799580","2008-11-03 16:38:47+00:00","Renamed ThemeLayout::buildCopy to buildCopy::makeClone

svn-id: r34881
"
"646666125232064f2c4657c4025433b243e42af9","2008-11-03 16:42:23+00:00","Moved GuiObject::reflowLayout from newgui.cpp to object.cpp

svn-id: r34882
"
"55c10e0ec6f2d6ea7c58ec1e4b74e5552fda5ddc","2008-11-03 18:32:16+00:00","Patch #2122869: ALL: Common load dialog

svn-id: r34883
"
"f3f3c69f6306a5f783826045fab0efe288f49058","2008-11-03 19:38:15+00:00","Updated theme files for r34883.

svn-id: r34884
"
"6eab0dcc6ef053ed70eeee3145e891dba7e5749d","2008-11-03 19:51:34+00:00","Preliminary support for loading via GMM for KYRA engine.

svn-id: r34885
"
"39a1eb8191cbef6dc22dc8e947daf01a0617fd28","2008-11-03 19:55:20+00:00","Check for engine support for loading/saving via GMM when enabling/disabling the buttons.

svn-id: r34886
"
"112feada4e68ecae1bdbd380f9b8d4fac15bd396","2008-11-03 20:00:36+00:00","- Extended some comments
- Added @todos to engines/engine.h
- Added a FIXME to engines/dialogs.cpp

svn-id: r34887
"
"4905d827b70c9c0e626be27a1f7d15201a60d747","2008-11-03 20:15:45+00:00","Removed dependency on OSystem::RGBToColor, by using Graphics::RGBToColor + Graphics::PixelFormat instead.

svn-id: r34888
"
"2694e916dacd46641831fdaba600641212e9bbe2","2008-11-03 21:10:18+00:00","Extend HACK in Engine::hasFeature, fixes GMM load dialog.

svn-id: r34889
"
"13561a008ef620e1e2ef1a8b0fd7c9aff0cc9351","2008-11-03 22:03:05+00:00","implement OSystem::getOverlayFormat()

svn-id: r34890
"
"f12b76b7fba51a25c363bd59e9918a0605a8774c","2008-11-03 22:21:34+00:00","add PSPSaveFileManager class (subclassed DefaultSaveFileManager)

svn-id: r34891
"
"33b6bc4215fd7fbd94ea0a879b3d8e8ace3d0ab0","2008-11-04 05:29:53+00:00","Reordered initialization lists to kill a ton of warnings.

svn-id: r34892
"
"9fe31503486326869f6728bb0d0da4629a81aba8","2008-11-04 13:57:04+00:00","Refactoring of NS disk code, preliminary to change towards Common::Archive.

svn-id: r34894
"
"70679e68951789f70f57a8b900b51b3cf52979b1","2008-11-04 13:57:29+00:00","Fixed leak (unreleased stream of music data).

svn-id: r34895
"
"61aadb378d654425d55b8cf9f91df4283b46de7e","2008-11-04 16:11:40+00:00","Fixed the EngineFeature vs. MetaEngineFeature mess, clarified some EngineFeature comments

svn-id: r34896
"
"817d2078cca738af631380467a42b2e87e9c1d57","2008-11-04 19:49:26+00:00","Some cleanup / handle the case where the themepath is neither pointing to a dir nor to a .zip file

svn-id: r34897
"
"cbfa73886c8aedf9e2767675eafe1efa7c5d1aa3","2008-11-04 20:03:32+00:00","cleanup

svn-id: r34898
"
"b3e72347a3658a8eb54182cc8157ce8fa05113d2","2008-11-04 20:04:25+00:00","Improved ZipArchive to take arbitrary SeekableReadStream; also, the variant which is inited using a filename now uses SearchMan to lookup the filename's file

svn-id: r34899
"
"f2c5d0563fdd59668978d8cb0564a95811984a51","2008-11-04 20:05:33+00:00","dead code

svn-id: r34900
"
"b2d93543d4d40941dceefb5b6e8a161a5903a2fc","2008-11-05 11:57:11+00:00","Paranoia check

svn-id: r34901
"
"27628688d2bab872adfbed40bf098381def586e6","2008-11-05 14:33:22+00:00","Tweaked classic theme in 320x200 mode, to use the available space better

svn-id: r34902
"
"4a23fd9170df17ecb5e754ae2c2eb05fab8b6477","2008-11-05 14:47:06+00:00","Fixed off-by-one error in horizontal text centering code

svn-id: r34903
"
"79614d28b630e8176dc9692fa4f7b14f8338c2c4","2008-11-05 14:58:47+00:00","Tweaked browser dialog in 320x200 mode

svn-id: r34904
"
"fe2935ad4b550afa68977169140267ef2ef4a3da","2008-11-05 15:41:12+00:00","Got rid of the unused 'filename' attribute in SaveStateDescriptor

svn-id: r34905
"
"f32be876337e3b280ee4ea257e9868a0d61e399d","2008-11-05 17:24:56+00:00","Turned enum PluginError into Common::Error, which in the future is to be used in more places. Help with this is highly welcome

svn-id: r34906
"
"f71e1077e08ec96a91f4ba9be42aaaa8dcf9a583","2008-11-05 21:10:12+00:00","Fixed compile error.

svn-id: r34907
"
"252409d49c269a74108494b65c52ac0e67f287af","2008-11-06 13:58:21+00:00","cleanup

svn-id: r34908
"
"142a8d5a51c80d33175c94540ae5c487079d45e4","2008-11-06 13:59:39+00:00","Simplified AdvancedMetaEngine::fallbackDetect usage

svn-id: r34909
"
"38a4eaa001f89fa201125fbe1b82f6f539ecda12","2008-11-06 14:03:38+00:00","cleanup

svn-id: r34910
"
"f238a12b27ebfa9847814b9972fdb5789e484533","2008-11-06 14:27:13+00:00","Got rid of OSystem::ARGBToColor and colorToARGB

svn-id: r34911
"
"edf9f249260b1fd4364f6727fa622991e81e8cf3","2008-11-06 15:02:50+00:00","Got rid of OSystem::colorToRGB and RGBToColor; added implementations for OSystem::getOverlayFormat to several ports (pending testing by the porters)

svn-id: r34912
"
"8f33d4a40aef337673fe98bb3b44be300fe697e6","2008-11-06 15:41:38+00:00","Implemented GMM loading (and, once the GMM supports it, saving) for SCUMM

svn-id: r34913
"
"2b0346ca5e3e85c3d25b5c14b6e5880d6f70475b","2008-11-06 16:31:34+00:00","Fix for bug #2071125 - 'MICKEY: Mouse movement‏', by using the waitForTimer() function from the SCUMM engine

svn-id: r34914
"
"4c8f221fb8f5735932652c3279efd6f2e941d948","2008-11-06 16:40:00+00:00","Merged SFMError into Common::Error, added some new error codes; revised some error handling in DefaultSaveManager

svn-id: r34915
"
"40136f25909bd8773cac0f08740a36037395e9a7","2008-11-06 17:05:54+00:00","Switched various Engine APIs to use Common::Error

svn-id: r34916
"
"54b94fdf037bcaf1f9df678f26a23e241a1d8e21","2008-11-06 19:03:11+00:00","Set vector renderer format

svn-id: r34917
"
"27d195968380963220f55caf62b767cd19626ed3","2008-11-06 20:26:19+00:00","Added some WIP code for the GMM save dialog (still not working correctly)

svn-id: r34918
"
"2d42880ccf0bcfbce72bf3c8d747d09b32073655","2008-11-06 22:00:29+00:00","Fixed compilation.

svn-id: r34919
"
"3cdb3d76c343ef6a2a2ff85915cc8273dbd446da","2008-11-06 23:29:48+00:00","Fixed colors for the GMM save/load dialogs

svn-id: r34920
"
"8baedea4d49a758e2ccaa78ed8a0c4ff36e3464c","2008-11-07 08:47:59+00:00","Implemented a Common::Archive subclass to handle the content of archives in Nippon Safes. Common::File is now used only to load archives.


svn-id: r34921
"
"060aa5b002a7c1808e6e54ab5585a40a18c5a0b4","2008-11-07 09:46:12+00:00","Refactoring the Arj decoder code, phase 1

svn-id: r34922
"
"81431f18cd620c521c7b880d6c8b41279721bafb","2008-11-07 09:50:51+00:00","Refactoring the Arj decoder code, phase 2

svn-id: r34923
"
"903dd97aa1558ce994e2e44d6b8b33bd09f8dac0","2008-11-07 09:57:54+00:00","Refactoring the Arj decoder code, phase 3 (fixing some more leaks, too)

svn-id: r34924
"
"5bf81acb95cf92c9c45312a542c31aa3bc66a1cd","2008-11-07 10:14:57+00:00","Refactoring the Arj decoder code, phase 4 (done for now, TODO added for future work)

svn-id: r34925
"
"203db8686993aa1396dc771b49709f3914ccdec6","2008-11-07 11:09:16+00:00","Fixed leaks in SearchMan. Default directories are now added with the 'autoFree' parameter set to true.

svn-id: r34926
"
"1512fbd261e229c4d95f70cc5061f105a1ac7a0f","2008-11-07 13:20:25+00:00","Formatting.

svn-id: r34927
"
"4cc5015fd024bfd9f144d1961688ad3202906d38","2008-11-07 13:42:05+00:00","Fixed leak when using SearchSet::add for an already existing name.

svn-id: r34928
"
"84b0d3d2f934b0c659ec40af2143e1d5751d9c4d","2008-11-07 13:48:51+00:00","Added a destroy() call for SearchManager at the end of scummvm_main.

svn-id: r34929
"
"71d7b5762a7f6fc0b889c25f3ab794116d903b53","2008-11-07 13:50:56+00:00","Reverted my earlier commit r34926.

svn-id: r34930
"
"e6337d11aa74322dc6e362ede199a9f4c4ebc5cf","2008-11-07 15:35:18+00:00","* completed transition to Common::Archive for Nippon Safes.
* removed lots of old Archive swap magic

svn-id: r34931
"
"57e57c49cee547a9b48ebdedeea6b8bc2d9892fa","2008-11-07 19:43:01+00:00","Saving a game from GMM is now working for the SAGA engine, though the description is not set correctly yet

svn-id: r34932
"
"8ffcd984b063f7bfba2a76e7ffc4e5a431aa025a","2008-11-07 21:59:25+00:00","Implemented RTL support

svn-id: r34933
"
"8b9311dd4e47839ce93c223e812320169af4ae1f","2008-11-07 23:21:35+00:00","DS: Fixing feof behaviour and path prefix stuff.

svn-id: r34934
"
"2071f606a9d3d6395eb1202d77d95500f922572b","2008-11-08 00:54:58+00:00","Moved some internal stuff from ThemeEngine.h to ThemeEngine.cpp

svn-id: r34935
"
"0508fec8a884b956b430c77d23388dd1213d8651","2008-11-08 01:30:32+00:00","Pushing down some header deps

svn-id: r34936
"
"7cbd04dc23db94c19bca8cec8350206b894b1958","2008-11-08 01:34:02+00:00","Thou shalst never use the 'using' keyword in a header file, lest the wrath of ye fingolfin will crush your sorrow bones to dust... *grrr* ;)

svn-id: r34937
"
"767485840f8259c8441b2879eec5cb327c79e049","2008-11-08 02:32:40+00:00","Got rid of the SurfaceToMultiFrames adapter class.

svn-id: r34938
"
"55810309725b02b26ab17ddc02cbba2361977a2b","2008-11-08 14:56:45+00:00","* removed the obsolete _quit flag
* refactored most cleanup code for locations and game

svn-id: r34939
"
"3eeece6a257b8c5d2cae930ba3670f2408c9b0f7","2008-11-08 15:02:19+00:00","* cleanup
* moved find routines from Parallaction to Location

svn-id: r34940
"
"f076b5e0348b34f0dff1b2fe30b7aabcf00c13b8","2008-11-09 02:39:28+00:00","Fixed bug in introduction of NS.

svn-id: r34941
"
"27a5d8bd5b0ad2d84f6c4f223ce6271876301eeb","2008-11-09 03:53:06+00:00","Better cleanup and handling of mouse when changing location in NS.

svn-id: r34942
"
"2be5afee68e436f45a56081adde3020c518404a7","2008-11-09 05:22:25+00:00","Fixed crash when closing BRA.

svn-id: r34943
"
"63ccac8f9d5d0a3a6aa7b8fd9ed4a85a91a2839f","2008-11-09 05:24:08+00:00","Enabled flags parsing for all commands in location script. Most of them don't need it, but some commands have been enhanced in BRA.

svn-id: r34944
"
"93499c80322c44ac395994faba3753f5f8afe4ba","2008-11-09 09:39:36+00:00","Update ReadStringStream and parser to work with the new eos() logic.

svn-id: r34945
"
"7b8ff8b75278e4c009478a7d7fed0bb27f80a1e5","2008-11-09 09:58:59+00:00","Fixed warning, and what looked to me like a very minor memory leak.

svn-id: r34946
"
"18414f0a0af7a2dabb6ad4d56573d4f00d9c2af3","2008-11-09 11:52:52+00:00","Moved sound-related settings to syncSoundSettings() for the global options dialog.

svn-id: r34947
"
"f2174f57511ae3c50a7e87cf063ae7e8174a583b","2008-11-09 12:07:20+00:00","Implemented Engine::syncSoundSettings properly for MIDI output.

svn-id: r34948
"
"44853bf2af97f94defb5b242e17429aceea0d3dc","2008-11-09 12:16:51+00:00","Fixed bug, which might mess up the description of new savegames.

svn-id: r34949
"
"43e7832e0e40f177cb5d85adc025cf346d46de09","2008-11-09 12:37:19+00:00","Removed unused XML_GLOBAL_PROP functionality (saves some kilobytes)

svn-id: r34950
"
"cb581c61b26269296e3e9f4837ae793e562a84db","2008-11-09 12:38:30+00:00","Partially merge classes Theme and ThemeEngine (saves another couple KB), somebody (Tanoku?) should do a proper merge

svn-id: r34951
"
"36de1204e343743b4c86d8b30113640b3e697c7c","2008-11-09 13:00:40+00:00","- Implemented Engine::saveGameState for KYRA
- Changed internal save/load API to use slots instead of filename strings
- Changed internal save/load API to use Common::Error

svn-id: r34952
"
"85c1d35ae378bd149670ac2c0fa928b7234eb50d","2008-11-09 13:12:38+00:00","Error out on savegame load failure (again).

svn-id: r34953
"
"db3438f2c9f7cf1f745eb5f7c3b05c0399f846cf","2008-11-09 13:20:43+00:00","Allow pausing during cutscene movies. (This will need an update to the mixer's
getSoundElapsedTime() function to work better.)

svn-id: r34954
"
"2bbc958373d687ab8ced1def67d30be420dc6827","2008-11-09 13:28:59+00:00","Made getSoundElapseTime() work better when the sound has been paused. A new
variable, _pauseTime, keeps track of how long the sound has been paused since the
last mixer time stamp.

svn-id: r34955
"
"2e9e68fc8e1ebcfd017500165f64b97c6b6a72a8","2008-11-09 13:50:41+00:00","Fixed pausing during credits.

svn-id: r34956
"
"d896c892e5e78614b2faec9c175cfd1330a0bc55","2008-11-09 14:32:24+00:00","Allow pausing (from the outside) during credits and palette fades. Refactored the
code to distinguish outside pausing from in-game pausing, to avoid cursor-related
problems. The screen is now only dimmed during in-game pausing.

svn-id: r34957
"
"b7991b6ad8c5efcf84de2b252383c18e5bb66f09","2008-11-09 14:35:45+00:00","Removed some code that was added earlier to deal with dimming/undimming the
palette when pausing the game in a mid-fade. The game can only be paused in
mid-fade from the outside, and then the palette isn't dimmed/undimmed.

svn-id: r34958
"
"f5b70114ca087fc55fdf384788080d11d96a73d0","2008-11-09 15:14:01+00:00","Removed many unnecessary #includes

svn-id: r34959
"
"53d530af37bf4e99fb05dba805223861f522a38c","2008-11-09 15:22:36+00:00","Got rid of some more 'using' usages

svn-id: r34960
"
"1ad8e59c12e75717daf2145d0cdb817bf8af22c7","2008-11-09 15:59:14+00:00","minor tweaks

svn-id: r34961
"
"08eecfd3e55a7a52f523ce3ead18e0e846d7ab2f","2008-11-09 16:03:45+00:00","Run xmllint on our *.STX files. Fixed several XML syntax violations

svn-id: r34962
"
"f5729a4a8b1b30c66cf3a9553ffb0002c8d7b158","2008-11-09 16:13:34+00:00","- The GMM save dialog is now working for all engines which support the appropriate features
- Added a new method to the MetaEngine class, getMaximumSaveSlot(), and implemented it in all engines for which the listSavefiles() method is implemented (it goes together with the listSavefiles method). It is used to fill the unused save slots in the save/load dialogs of each engine, so that the user can create new save games in empty slots
- Unified the save/load dialog list numbering in the GMM load/save screens and in the load screen of the main menu (before a game is started)

svn-id: r34963
"
"ed1b12571b7ba9822e9776a31e427a829d4020cf","2008-11-09 17:43:39+00:00","Updated documentation.

svn-id: r34964
"
"bf857a73fe69576909045a00f2ec318302ae84fb","2008-11-09 17:53:37+00:00","Save game descriptions are now set correctly in the GMM save dialog

svn-id: r34965
"
"eee2e68007edbed6419d2f8630e3c5b777d4ca46","2008-11-09 18:35:26+00:00","Gaps in the list of save games are now handled correctly in the GMM save/load dialogs

svn-id: r34966
"
"8b0f38acd1ebe2f8d7bd83dbec561ac7b3c4d09d","2008-11-09 18:38:25+00:00","Corrected comment

svn-id: r34967
"
"765e37dc2ed7e18b3543fa9d3b52fbd51f41e7cb","2008-11-09 19:14:39+00:00","- The save list iterator should now be synced correctly
- Numbering of save slots starts from 0 again, not 1

svn-id: r34968
"
"7d8e4ca59bc1877ccb86bcbffacb1847bdf7f3e9","2008-11-09 19:30:09+00:00","Added a getMaximumSaveSlot() implementation for sword1 and sword2

svn-id: r34969
"
"ea7f3059605526e61e8cea2364c70bef3c35806a","2008-11-09 20:07:46+00:00","Added a new SaveStateDescriptor flag, is_write_protected, which can be used to stop the user from overwriting certain saves (e.g. the auto save, the restart save in the Kyrandia games, the quicksaves etc)

svn-id: r34970
"
"fac44f1e57b3a63df1d0215b30a59763a1e7e7be","2008-11-09 20:08:54+00:00","Update documentation.

svn-id: r34971
"
"d7c5e9ce873e03e0664c4ceb6b32e8385a22c51c","2008-11-09 20:18:51+00:00","Fixed 'Save'/'Load' button enable/disable triggering.

svn-id: r34972
"
"b9b7b85d543a19c2e73abf0cf845b42c5e7480d6","2008-11-09 20:20:22+00:00","Disallow overwriting of slot 0, quicksave and autosave slots.

svn-id: r34973
"
"818d87f44897d6ede9b201282ca89ced278150a4","2008-11-09 20:22:43+00:00","Disable 'Save' button if no entry is selected in the save chooser.

svn-id: r34974
"
"bc829e721becf2e6b2ecdb1e963c4d2ccbe0701c","2008-11-09 20:33:15+00:00","Cleanup (and a little bug fix :-P).

svn-id: r34975
"
"9879985abfcd2c729907caa3886d7ff9613887e9","2008-11-09 20:34:52+00:00","Prevent double click handling if choose button is disabled. (SaveLoadChooser)

svn-id: r34976
"
"926193c9c3a81c9d9245b60c8d0f5a49d117095d","2008-11-09 20:35:06+00:00","Only hide the cursor for in-game pausing. Pausing from the outside is assumed to
bring up the GUI, which has its own cursor. (This fixes the cursor disappearing
when pausing on one of the engine's own dialog windows.)

svn-id: r34977
"
"1353a304f3b953b516815478825161413aef2d78","2008-11-09 21:09:26+00:00","Do not allow the user to alter the description of write protected save slots in the GMM save dialog

svn-id: r34978
"
"a5502b296f2c26498813f6565b77bdc74011024e","2008-11-09 21:20:44+00:00","Cleanup and simplification

svn-id: r34979
"
"03a0046b1ca870568df31288cab634f12561a0cf","2008-11-09 21:39:41+00:00","Fixed an off-by-one error in the save slot gap filling code

svn-id: r34980
"
"8709acb6def6fac43dd81ebfa226363ae37afdcc","2008-11-10 00:19:43+00:00","- Global options dialog support

svn-id: r34981
"
"631c679e404c895eecd50cdba0c40a16a539106e","2008-11-10 10:40:08+00:00","Added some more whitespace skipping to default theme generation script.

svn-id: r34982
"
"b98f89c7f0c6ada45cb33dd650f1502c09fe6aa8","2008-11-10 11:24:55+00:00","Merged GUI::Theme and Gui::ThemeEngine into the same class, GUI::ThemeEngine.

Massive cleanup.

svn-id: r34983
"
"4e7f7064a38546d10c4abb55a31f34a9f5a34dcc","2008-11-10 11:43:02+00:00","Limit places where saving from the GMM is permitted

svn-id: r34984
"
"32526079aa50e4681b355289e7811b76e54bdbbb","2008-11-10 12:45:09+00:00","Include required header

svn-id: r34985
"
"3ccfce260f738ca15a660810ca9584c52c8231e1","2008-11-10 14:11:30+00:00","SAGA save games now contain thumbnails and creation date/time  (visible from the GMM save/load screens)

svn-id: r34986
"
"dbb0fa5f6244095e0cfe306fabbdbd997478e19f","2008-11-10 14:34:32+00:00","Updated the MSVC project files for commit #34983

svn-id: r34987
"
"a859e2c1c925252b6c7693efb052bc2ff28915db","2008-11-10 18:51:51+00:00","Cleanup

svn-id: r34988
"
"2b59700d2a311c0486912435624bac78fe1f9dbb","2008-11-10 19:02:47+00:00","AGI save games now contain thumbnails and creation date/time (visible from the GMM save/load screens)

svn-id: r34989
"
"4a5d4ba94dd6320e137cde6ba27744613d2a1099","2008-11-10 20:38:54+00:00","add initial support for 'Bud Tucker in Double Trouble'

svn-id: r34990
"
"0032f2743e85ad0526be3f26e9a49af32653eeb7","2008-11-10 21:01:15+00:00","removed unneeded file header read

svn-id: r34992
"
"1914f20c38e301721ce52ff45dca56de0dfa7d63","2008-11-10 21:53:39+00:00","Fixed typo (which seems like a nasty bug)

svn-id: r34994
"
"4ea83f237c9f8fb1efadace69dc271ddd1e3c257","2008-11-10 21:56:27+00:00","Silenced MSVC warnings about uninitialized variables

svn-id: r34995
"
"8940030f448b7a68a1300925b7b2f2dc75cf1c71","2008-11-10 22:08:02+00:00","Added MSVC project files for the new tucker engine

svn-id: r34996
"
"388e0d3417dc236a604ab0273616aebd277a4238","2008-11-10 22:08:52+00:00","Add entry for English version. Dies instantly for me.

svn-id: r34997
"
"6e9cb2564101507764ed16cca72fac226f91eee4","2008-11-10 22:32:21+00:00","Enable the tucker engine

svn-id: r34998
"
"2a71b897c69f303f5c1df14a0c9bc22911bef741","2008-11-10 23:29:08+00:00","fixed charset issues & wrong state for locations 13,16,23

svn-id: r34999
"
"98e9333aabaf759b22451a3418e23142b2d1f94a","2008-11-11 10:25:29+00:00","SCUMM: Regulate save/load support in GMM based on VAR_MAINMENU_KEY - though I wonder whether we need it for loading at all...

svn-id: r35001
"
"a39c78a1bab1f734ccb9fd54bbb23ca8d3b26279","2008-11-11 12:13:55+00:00","Moved GUI::SaveLoadChooser to its own source file

svn-id: r35002
"
"d08192cb04e391b9b148a4bc3921c546476339eb","2008-11-11 12:28:46+00:00","If confirm_exit is set, also ask the user if he really wants to return to the launcher (after all, as with quit, all data is lost)

svn-id: r35003
"
"28c24b3fbb5a4c7b6faa91edc71a9bde00f84e3a","2008-11-11 12:29:41+00:00","Some GUI tweaks to make certain widgets readable

svn-id: r35004
"
"edd61a4f4077ac0ddd649c2f186fa46b8bc830cf","2008-11-11 13:08:06+00:00","add missing version check for compressed sound file

svn-id: r35005
"
"b7c9958e82da768054ea6bc0b0a2bc7e173b3ef1","2008-11-11 13:10:34+00:00","enabled RTL
fixed bad glyphs display for non french version
got rid of Graphics::drawChar2

svn-id: r35006
"
"113a83c0da91cafdb2b3c9d73094a801311c940f","2008-11-11 17:34:52+00:00","Implemented pauseEngineIntern() for the SAGA engine

svn-id: r35007
"
"0414a78a65b3ae843ffa69f6966682498d3c32eb","2008-11-11 17:57:13+00:00","Added save/load support from the GMM for the touche engine

svn-id: r35008
"
"c29dfd1f1731bb3e226af2b6c7dae3726a76d8e1","2008-11-11 20:25:44+00:00","Fixed warning. (GCC doesn't like the variable 'isPaused' because there already is
an isPaused() function.)

svn-id: r35009
"
"a0528c87ca7e06994aea61cd0d79a081999b18e4","2008-11-11 23:28:43+00:00","Updated MSVC project files for commit #35002

svn-id: r35010
"
"c36a8c1c727f8e44eaaa90217d94d28eb1ed0377","2008-11-11 23:35:18+00:00","Added getMaximumSaveSlot definition for the sky engine

svn-id: r35011
"
"181a44fc21b0627d2cf247fdb7a31e0f8eedecb6","2008-11-12 07:08:43+00:00","Fixed default zone flags, so that labels in BRA are only shown on zones which have one.

svn-id: r35012
"
"0ce8400841443ce9c96f3f96e5fcd508eb4fd92a","2008-11-12 10:16:06+00:00","Patch #2258906: SCUMM: fix builtin load game screen for v1-v5

svn-id: r35013
"
"0c501d303f64fe752b1660c192dc8dca5d0a776d","2008-11-12 12:25:26+00:00","Verify sanity of LinearMemoryStream params in the factory function instead of the constructor (which is replicated for each instantiation of the LinearMemoryStream template class) -> saves some bytes

svn-id: r35014
"
"c21038a4486d3c088bddff1919ab98b48e35dec1","2008-11-12 12:36:20+00:00","Moved sky detection and meta engine specific code from sky.cpp into detection.cpp, like other engines

svn-id: r35015
"
"8b91e9c8be67792b4e97b5e1c6895c31a01bc83f","2008-11-12 12:39:18+00:00","Updated MSVC project files for the sky engine

svn-id: r35016
"
"201c26fcd0ad71568a3581a5520c094d93ec6d06","2008-11-12 12:50:21+00:00","cleanup

svn-id: r35017
"
"fa942c42cc780f34b96fc308a2b7fdde52088e42","2008-11-12 12:53:53+00:00","GUI: Got rid of most 'built-in' variables

svn-id: r35018
"
"710084dde6236bb09c6f9c75538d5ed5f79b067d","2008-11-12 12:58:33+00:00","GUI: Got rid of kBigButtonWidth etc.

svn-id: r35019
"
"42533c2354e0f6aa78f3d2cf219d13ef15ab6ccc","2008-11-12 13:01:21+00:00","cleanup

svn-id: r35020
"
"190468c79a56eb75e7bdcb2bb558042e347a74d1","2008-11-12 13:07:41+00:00","GUI: Turn scrollbar width into a theme variable

svn-id: r35021
"
"144be21bed1001c4a72739ef7656908cbf71e909","2008-11-12 13:14:44+00:00","GUI: Got rid of the WidgetSize stuff

svn-id: r35022
"
"c0f82d351894df16e23690b4361e66bed0fb6f84","2008-11-12 14:30:16+00:00","Renamed Graphics::TextAlignment -> Graphics::TextAlign and merged it with GUI::ThemeEngine::TextAlignVertical

svn-id: r35023
"
"6bfee1bae425fb73fdce68629913432319df85a5","2008-11-12 20:41:19+00:00","Saving and loading from the GMM is now supported in the sky engine

svn-id: r35024
"
"4952526581927f0387536bd6deedfe58a14bfe54","2008-11-12 21:08:50+00:00","Deleting save states via the launcher and the GMM is now supported in the sky engine

svn-id: r35026
"
"7c40410ba7db8a24f1ffd0e3a159728b30637ec0","2008-11-12 21:15:35+00:00","Slight cleanup

svn-id: r35027
"
"3b01ed48f58b6c1c1d39c5f9c6e238c497a2476d","2008-11-12 22:15:47+00:00","Further optimized drawCharIntern (on my system, 30% of the time used to draw the GUI is spent in there)

svn-id: r35028
"
"f974a6c8d5c65bd801557214d09f606e50e5882d","2008-11-12 22:23:19+00:00","GUI: Blitting the full screen to the backbuffer (or vice versa) can be done with a single memcpy, which is a bit faster than using _vectorRenderer->blitSurface

svn-id: r35029
"
"f1b1327b3359c6b43dff663094c9451b7d1e246b","2008-11-12 22:25:19+00:00","Reduced header dependencies

svn-id: r35030
"
"28da377ccb945797aedf76c73eaec4773d03a0ef","2008-11-12 23:21:05+00:00","Saving and loading from the GMM is now supported in the cine engine

svn-id: r35031
"
"0ba17539acad48797323f1481a0533082778b61d","2008-11-12 23:39:38+00:00","Deleting save states via the launcher and the GMM is now supported in the cine engine

svn-id: r35032
"
"162634cc95e5a2a86ae1611d69024075dfdad450","2008-11-13 08:59:17+00:00","Started moving Save/Load code to saveload.cpp/.h

svn-id: r35033
"
"963445e559de4c363af180d290ea65e5c3a51b90","2008-11-13 09:00:51+00:00","Updated the MSVC project files of the cine engine

svn-id: r35034
"
"8e3485f15876e913ddbb982f36ea089665c08eab","2008-11-13 09:19:42+00:00","Added better checks for the current music status in pauseEngineIntern()

svn-id: r35035
"
"eb27307c12e476e7f765050bf002b0a01e5199d2","2008-11-13 11:20:43+00:00","minor tweaks

svn-id: r35036
"
"c0786313fa568079b8d54ddb1734102badcad1cd","2008-11-13 11:21:16+00:00","cleanup

svn-id: r35037
"
"a6502da9acae76abe874da65d4a1ba2576e58e76","2008-11-13 11:26:47+00:00","* got rid of CDECL
* got rid of scumm_strrev
* added DISABLE_TEXT_CONSOLE flag which disables printf, warning, debug (but not error)

svn-id: r35038
"
"cca19671d5e4e83b424bdd30ff59e094231378e9","2008-11-13 11:36:37+00:00","Fix compile of CINE engine.

svn-id: r35039
"
"cd5a85036d00fcffef63d6c7dac4f95b960ddf2e","2008-11-13 11:41:25+00:00","Fixed compiling of MT32 emulator with -O2 and -Werror.

svn-id: r35040
"
"b11af1433555756158937fd4359ba0272d6b3795","2008-11-13 11:46:17+00:00","Fixed compilation with DISABLE_TEXT_CONSOLE.

svn-id: r35041
"
"2c58689e14094f8042efe4fbed58c138400e085b","2008-11-13 11:46:53+00:00","Add newlines at end of files, to squash warning.

svn-id: r35042
"
"ebb72cdfdff41ca876990c700974e6d3a9b6d5b6","2008-11-13 12:22:58+00:00","Moved sword1 detection and meta engine specific code from sword1.cpp into detection.cpp, like other engines

svn-id: r35043
"
"04a33b48c073a34eaa66dbf9e92e9ad04ab1ff26","2008-11-13 12:25:19+00:00","Updated the MSVC project files of the sword1 engine

svn-id: r35044
"
"4e51c62e3978e451beb03c6e7c221a0709851e45","2008-11-13 12:45:35+00:00","Added DISABLE_COMMAND_LINE switch

svn-id: r35045
"
"f7bdf6b40f883ceeac2034763bc0bebc174a13df","2008-11-13 14:25:39+00:00","Binary theme format parser.
Warning: Work in progress. May erase hard drive.

svn-id: r35046
"
"618644ba0c3e410ba7df320fe33ba4f469476295","2008-11-13 15:15:54+00:00","Update to the low level parser:
* made it detect buffer overflows
* removed unused code paths
* general simplification

svn-id: r35047
"
"313cba75b1cef46f4499652bf86a2c7a553dc3cd","2008-11-13 19:56:26+00:00","DrawStep parsing added to binary theme parser.

svn-id: r35048
"
"149345e13f4a184391d84c1af91c0a19d9553dfb","2008-11-13 19:58:04+00:00","Moved binary theme parser to tools folder.

svn-id: r35049
"
"6ccf57d789e079c0728143a8d5b7eed8464e6856","2008-11-13 23:19:25+00:00","Fixed crash when returning to launcher from the GMM

svn-id: r35050
"
"0f38e67f5730673d0e07b65914bb9b99a113b4ed","2008-11-13 23:21:38+00:00","Fix for bug #2277597 - 'ITE: Classic Mac alternate md5sums / Voices not detected‏'

svn-id: r35051
"
"f773ec4df463546f709c4e03e0060c1b0a2a253c","2008-11-14 09:45:42+00:00","Added detection entry for Spanish Bud Tucker

svn-id: r35052
"
"de0fe01c04a740d2907e334b51218d1407355fef","2008-11-14 12:13:59+00:00","Removed unused parameter.

svn-id: r35053
"
"66e86283cbd87cf6f14f4b6425d8557d51f0f842","2008-11-14 12:19:10+00:00","Cleanup and simplification of the resource loading code

svn-id: r35054
"
"2ec6e678be65338ceb9d9523c0031d7ef81b4d4d","2008-11-14 13:26:23+00:00","Fixing compilation

svn-id: r35055
"
"5e5eebf24f1951de4300e4c7d642fd5e6fbb5936","2008-11-14 14:03:08+00:00","Committed my own patch #2278665 ('SCUMM: Font data in old SCUMM games') to get
rid of a few kilobytes of hard-coded font data. (The font data is still there,
but now we only store how the French, German, Italian and Spanish fonts differ
from the English one.)

svn-id: r35056
"
"591d01b77f59dea2ba7508c0731e9b962c0eee07","2008-11-14 14:12:18+00:00","Reverted change I accidentally made to the SAGA engine when committing the SCUMM
charset changes. It may be a correct change, but it's not yet ready.

svn-id: r35057
"
"4294185c595bd92e5280ea057c72519c91c1975a","2008-11-14 17:51:48+00:00","Some corrections, based on observations from bug report #2284298 - 'SAGA: Compiler warnings; possibly an engine bug'

svn-id: r35058
"
"3c5c774e768ba50bf17540832240030f067a2c25","2008-11-14 21:11:35+00:00","More binary drawstep parsing.

svn-id: r35059
"
"bb87d39424c9dee6fbfddf8b806a5675bcf39494","2008-11-14 21:32:20+00:00","Patch #2271425: Groovie engine

svn-id: r35060
"
"5a0556f09ca89886fda55d333745a672ea14e022","2008-11-14 22:08:10+00:00","Committed my patch #2123680 'SDL: Backend transaction / rollback support'.

svn-id: r35062
"
"7d3e9b3d35d05dfd19fc3edcdc8c03c6cee7aa35","2008-11-14 22:20:34+00:00","Oops, my last commit introduced some warnings.

svn-id: r35063
"
"a5721dc52d1fd0b8c81ff343de34b09f0d7eefbb","2008-11-14 22:37:32+00:00","The demo mode flag should also be compiled if Groovie is compiled in

svn-id: r35064
"
"bfc9b972f53f92fde5b803fe24e27bcaa6e3fb26","2008-11-14 22:48:09+00:00","Added license header, and guard against multiple inclusion.

(Sorry about the confusing commit message earlier. I thought I had committed a
fix for bug #2284199 ('IGOR: Strange code in drawInventory()') without checking
for warnings first.)

svn-id: r35065
"
"a68bb32a975ef0307ad5f550f1181d227076eae9","2008-11-14 23:10:14+00:00","Init _oldVideoMode, _videoMode and _transactioDetails properly.

svn-id: r35066
"
"e5d0462af6d5b1c223b0a1ec5b354466b77afbaa","2008-11-14 23:37:30+00:00","Initialise _current. Fixes a Valgrind warning.

svn-id: r35067
"
"48363b80fba5fd41fdfffdd1c551250ced15586d","2008-11-15 02:31:11+00:00","added FLIC player from KoM engine module.
changes :
- changed methods name to match the ones from DXAPlayer
- added file read streaming
- added possibiltiy to reset playback

svn-id: r35068
"
"8f230d735889bd5d52f517f657f8ffa6ee222394","2008-11-15 02:32:05+00:00","added support for animation sequence
added support for non-interactive demo
fixed wrong end of demo screen when quitting the game using the inventory

svn-id: r35069
"
"2babdcb41da5e4997c7ed99c55d706c40c51c15a","2008-11-15 02:41:37+00:00","added missing File destructor call if file can't be read

svn-id: r35070
"
"486523af51575240a633cec6e62bd498119b6f53","2008-11-15 02:58:54+00:00","Finished binary parsing of DrawData/drawsteps.

svn-id: r35071
"
"478ee06fb818a5d22a8d20b38cca5052e2a5b947","2008-11-15 03:16:41+00:00","Paranoia: Add destination buffer size to Engine::errorString to help avoiding buffer overflows.

svn-id: r35072
"
"f57bf13819836017d9145df87d3c86e929ecbee3","2008-11-15 03:22:00+00:00","Yet another buffer safetyness fix. (strcpy -> strncpy)

svn-id: r35073
"
"78e85a00f2929d2a06eedb0389aef3add6ba04d9","2008-11-15 03:34:08+00:00","Little fix for my last commit.

svn-id: r35074
"
"16e2bb72014a3143959d76b9608652fb65434ce3","2008-11-15 09:05:08+00:00","Mention new engines in NEWS file.

svn-id: r35075
"
"194a10c77cd04b3ae218b908ba6db0aeb7894cd8","2008-11-15 09:08:15+00:00","Turn on single gameid in order to avoid polluting gameid namespace.

svn-id: r35076
"
"402f8c388fdaa1f496761eb299866643b0ae6064","2008-11-15 10:50:57+00:00","Added GroovieMetaEngine::getMaximumSaveSlot()

svn-id: r35077
"
"cd32c4d6bce9b3c32215ba5a29eebec0afcc8d1b","2008-11-15 11:23:02+00:00","Fix for bug 'Save game's names don't show up' (issue 31 on google code)

svn-id: r35078
"
"21ec2de29d6ba70bd8b6406b05a4392c6d27b43a","2008-11-15 11:43:15+00:00","remove outdated comment

svn-id: r35079
"
"06216866acbc4739a33696e45f657b35facf3c93","2008-11-15 13:00:46+00:00","svn-id: r35080
"
"2f7197ead1b7cffb0ccfdd5b10047692a874ae1c","2008-11-15 13:19:40+00:00","Saving some more bytes of binary size in the advanced detector

svn-id: r35081
"
"3a3698f960608e8777620c9e454d6ed2282a036d","2008-11-15 13:54:16+00:00","Fix for bug #2251765: FT: Talk speed inconsistency

svn-id: r35082
"
"28bd3e0af8e2f545d57648b8fe991767fe2b5abe","2008-11-15 14:15:17+00:00","Fixed strncpy usage.

svn-id: r35083
"
"674a6ecc16e56062bf71447e89d0eca0293c0639","2008-11-15 14:39:23+00:00","DS: Replaced call to obsolete addButton method

svn-id: r35084
"
"54713bc0861f939ad046d3106a399209532156fe","2008-11-15 15:49:22+00:00","Tweaks to make DS buildable again.

svn-id: r35085
"
"e3928f69a2de5448dee8b75f9290eb8456e3cdcf","2008-11-15 15:58:36+00:00","Binary Parser: Finished parsing of all Render Info sections.

svn-id: r35086
"
"9671b3a5143aeedca734a3700ac5d9d3486001b8","2008-11-15 18:56:39+00:00","Simplify error debugging by implementing GroovieEngine::errorString()

svn-id: r35087
"
"bd817c034177c7749b437d59ee2f2fdc3e522015","2008-11-15 19:08:35+00:00","(hopefully) fix valgrind warnings

svn-id: r35088
"
"24131d781a99bb052ee3ac1430730bd20ececad2","2008-11-15 19:40:01+00:00","Added support for the ADPCM used in Discworld 2

svn-id: r35089
"
"08a2d2fbb5f3d8b9ad2e8655950a2da4d7e7ee6b","2008-11-15 23:53:53+00:00","Correct my typos.

svn-id: r35090
"
"92d1d19eb4180fc2f66c1865cae05dc6b73503d5","2008-11-16 01:54:45+00:00","Binary parser: Fixed missing sections in render info.

svn-id: r35091
"
"13297a785747856d41bb62acfe9031b97113d07d","2008-11-16 13:06:40+00:00","Added missing initialization (which caused random crashes).

svn-id: r35092
"
"a44994dc89d4e71648ad27f41b9d895bbc2f7800","2008-11-16 14:07:50+00:00","KYRA 1/2: more fixes for valgrind warnings

svn-id: r35093
"
"1459ece153863564e60934c001bf02d949bbdd60","2008-11-16 17:29:55+00:00","Binary parser: Parsing of global dialog sections.

svn-id: r35094
"
"e1fdb1f882c7937d34e99dbfeeb3154846eee565","2008-11-16 19:20:30+00:00","T7G: Two leftover commits from t7gre: fix broken palette on intro video, and add scriptvar debug flag

svn-id: r35095
"
"2ef8a32a0119f93483e2b58c9bd1f2f42851f9ea","2008-11-16 20:20:31+00:00","Fixed various g++ warnings ('format not a string literal and no format arguments').

svn-id: r35096
"
"a5619194c8e0b7901fdc21a748661e29e7bfa89d","2008-11-16 20:31:07+00:00","Added MSVC projects for the new groovie engine and enabled the engine

svn-id: r35097
"
"b1fa413ed4fe145f0103d279db35e077e8ff9f2f","2008-11-16 20:34:31+00:00","Implementing getTotalPlayTime() for AppendableMemoryStream

svn-id: r35098
"
"c4a7088c5b5732bc4ffb1a0cea91ed633e0a2d54","2008-11-16 20:46:18+00:00","Fixed valgrind warning.

svn-id: r35099
"
"b45227cfa0d3f025cae1c14afe21699f881c518e","2008-11-16 20:51:10+00:00","some fixes to input handling, cleanup

svn-id: r35100
"
"bf721ae68270c51a0a4cd5b2f4e5460942757acf","2008-11-16 20:59:04+00:00","cleanup

svn-id: r35101
"
"57e7d5ef62fced27a6c9c9aa50598643f8b0bc41","2008-11-16 23:19:54+00:00","fixed bug

svn-id: r35102
"
"be0f709be952bbae25d4cca98ab5cf218647b1a7","2008-11-17 11:07:04+00:00","Saving 32kb DATA size

svn-id: r35103
"
"1067a2ec7786a61ad9cc1f69ec1d368a53ed75fa","2008-11-17 11:09:23+00:00","Factoring shared code of template classes into a shared base class saves another 4-7kb code size

svn-id: r35104
"
"df9a1baadcae2f0d31b30f03bf96db9610f740ca","2008-11-17 11:09:57+00:00","Fix regressions in HE games, when slashes are used in filenames for file opcodes.

svn-id: r35105
"
"dd14e46698af31c2522005eac59197ac0d0aa377","2008-11-17 11:10:34+00:00","Fixed a warning on the DS build, added some clarifying comments, reformatted the okiStepSize and imaStepTable tables (the former really is a subtable of the latter)

svn-id: r35106
"
"0e1c4fccca1d658114730f7cb805ebf89212bd05","2008-11-17 20:36:10+00:00","Hopefully fixed the regression described in bug #2299682 ('FT: Crash in the intro
(regression in r34516)'), after discussing with Fingolfin. We didn't use to check
the size of the STRK chunk before, and he didn't remember why we do now, so I've
removed that test again.

svn-id: r35107
"
"c67881f0cc81c3347cfa4c2ed3c19fd1a320a390","2008-11-17 20:38:40+00:00","Fix compilation of Tucker-engine under MSVC by adding missing flic_player.h and flic_player.cpp to the project files.

svn-id: r35108
"
"19aea834115ac70c8b1afde73199086a672620ca","2008-11-18 14:57:40+00:00","Fixed documentation.

svn-id: r35109
"
"bdbae740a60cdf153a1ab082329afa92f56ffd22","2008-11-18 15:41:14+00:00","Don't rename slots anymore when deleting them via the GMM.

svn-id: r35110
"
"7650b61d27aa848d0f22f59c43d23787c04a65b7","2008-11-18 16:31:55+00:00","Applied a slightly modified version of my patch #2307224 - 'BS1: Save/load overhaul'

svn-id: r35111
"
"2463c550acfff7de77d3cda11cb2e57533c96c71","2008-11-18 16:57:57+00:00","Reverted to old behavior: save games for sword1 can be shared again across all versions (since they're exactly the same) - they're now named sword1.* and no longer named after the game ID

svn-id: r35112
"
"d99ab163ccef6b0723c75a9c345075521e8043c4","2008-11-18 17:03:55+00:00","Fixed meta engine related save functions (some where relying on 'target.???' instead of 'sword1.???').

svn-id: r35113
"
"df694b3de1c68ca52f671f58c5e7b7141e3de340","2008-11-18 17:37:01+00:00","Cleanup

svn-id: r35114
"
"72a847797d383bef76ab09614a04a96fc585f9cf","2008-11-18 17:48:19+00:00","Committed by patch #2219361 ('BS1: Simplified subtitles'). It uses the
lockScreen() / unlockScreen() backend API, instead of copyRectToScreen().
Before, it had to copy a piece of the engine's screen to draw on to simulate
transparency, which was awkward.

However, this means we're now forcing full-screen updates on each frame. There
may be performance regressions, particularly if the frames are much smaller
than the screen. Hopefully, it's the decoding that's the bottleneck, but if
this causes problems on low-end devices... well, Fingolfin had some ideas about
that when he first proposed the lockScreen() / unlockScreen() API.

svn-id: r35115
"
"48e1316da9b712568e762d8513f73ce34bff90bc","2008-11-18 19:29:51+00:00","Added a mutex to the Groovie MIDI player. Maybe that will fix the rare and
unpredictable crashes I've been seeing.

svn-id: r35116
"
"089c8b4e48e8dd29ce7d839f6e87f12937478081","2008-11-18 19:54:44+00:00","Make the 256 color transformPaletteRange-function and Future Wars's refreshPalette-function compliant with disassembly.

svn-id: r35118
"
"1ec33154fdb760bfd2a51e64e2c110055d79044e","2008-11-18 20:16:50+00:00","Ooops :)

svn-id: r35119
"
"04b048a9c3592a6a0dc492b937b5a4ed4851a14d","2008-11-19 00:37:20+00:00","T7G: Add framework for microscope puzzle AI

svn-id: r35122
"
"b74b43a1fafbc28c5a9889610d37ca6f49fa49d5","2008-11-19 13:19:11+00:00","Updated the MSVC project files of the groovie engine, for commit #35122

svn-id: r35123
"
"30fdd02b1e312e74994f14c273cfebb791064341","2008-11-19 20:40:33+00:00","Added support for TUCKER and Groovie

svn-id: r35124
"
"7c4bcf951221ae5dfdef95135e5c9f1af1d60b55","2008-11-19 21:07:59+00:00","Disable commandline support. Not used by the Symbian PORT

svn-id: r35125
"
"5b04ab78830696f68f61cee95cf0e43941977caf","2008-11-20 13:03:29+00:00","un-break sky engine after recent gfx transaction changes

svn-id: r35126
"
"7e97205417a5210e4ab019c83ce6c9fccddb6e8f","2008-11-20 13:46:34+00:00","GUI: Reduce space used by credits

svn-id: r35127
"
"d230b17a9313a14c364c776611f377a503462a16","2008-11-20 13:46:59+00:00","Fix warnings

svn-id: r35128
"
"38bb172b9286dcd04d757e9db3ee56f37c64083a","2008-11-20 13:49:53+00:00","NDS: Fix link error in non-SCUMM builds by removing some dead & obsolete code

svn-id: r35129
"
"63e7836dec3fb17c351292021a93dd31774e9594","2008-11-20 13:50:26+00:00","AGI: fsnodeNameEqualsIgnoreCase and FSNode usage should be replaced by SearchMan

svn-id: r35130
"
"32f735a228d9cc786655f25a5906e68f5adeb182","2008-11-20 13:50:53+00:00","cleanup

svn-id: r35131
"
"398fdab2765d769479b1060548f9205f860750a5","2008-11-20 13:51:42+00:00","SCUMM: Reduced code size used up by NES file decoding/loading/extraction code

svn-id: r35132
"
"4368081c555a2eda46e8b0743761bbe2db607da8","2008-11-20 18:25:22+00:00","Fixed ZipArchive/FSDirectory creation.

svn-id: r35133
"
"858cf88c4721d669ec0b4ab47230378cc5ca4e84","2008-11-20 19:49:21+00:00","Updated documentation.

svn-id: r35134
"
"16bf8d720b2b6cc5c19a70c691c443a644ef508e","2008-11-20 22:16:18+00:00","Add Palette-class for handling 9-bit and 24-bit palettes. WIP!

svn-id: r35135
"
"325b4cb492d51705a1b14c412008de0b2d2a608d","2008-11-20 22:22:47+00:00","Fix resizing of the internal color array in Palette-class.

svn-id: r35136
"
"f4d8ecaf6a697fd90d068f363e74d1bab3da7f80","2008-11-20 22:58:22+00:00","Fixed gcc warning.

svn-id: r35137
"
"33dd58ca9894676c52498498eb5d19e48e3cc998","2008-11-21 08:22:33+00:00","GUI: Simplify ThemeBrowser code

svn-id: r35138
"
"a28b531ed0a984aa89a6cbc55c0314ad52f304fb","2008-11-21 12:17:35+00:00","Added ArchiveMember::getDisplayName() method; changed ArchiveMember::getName() to always return a name compatible with Archive::openFile()

svn-id: r35139
"
"196e2cc92c894ea9449c96a10f2373fd605cc2dc","2008-11-21 13:29:53+00:00","refactor inconsistent calls to cacheDirectoryRecursive

svn-id: r35140
"
"858de9b9382942a604b367baf1dae0b72855fde4","2008-11-21 17:49:19+00:00","Formatting / Cleanup.

svn-id: r35141
"
"44d37a14a9bef80d2ca931298b8df1e508ffb94d","2008-11-21 19:14:23+00:00","Removed FSNode::lookupFile

svn-id: r35142
"
"7a04c39fa8a695e72bbbdae687aabb7d7a8140ba","2008-11-21 20:02:55+00:00","Since we don't have FSNode::lookupFile() any more, switch to using
FSDirectory::listMatchingMembers() instead. I hope the new code behaves close
enough to the old one.

svn-id: r35143
"
"187d9f33554659e3d01a3a07712ecf7382c50844","2008-11-21 21:47:13+00:00","the create_kyradat tool has been in the trunk for a while ;)

svn-id: r35145
"
"056e6bcc9c80d9451f90239a2aef854368e1c4d2","2008-11-21 23:36:43+00:00","fix wrong uncompress() error check (Z_OK == 0) -- thanks whoever wrecked this ;)

svn-id: r35146
"
"d41ebfae814d6a687ba213a8da97c8c675b4a275","2008-11-22 23:07:05+00:00","T7G Microscope: Stauf now makes legal moves (though not good ones)

svn-id: r35154
"
"db0c951a0d180a36e7d1ffd5612890159ea49afc","2008-11-23 03:42:01+00:00","various fixes, Bud Tucker should now be completable (tested with french version)

svn-id: r35155
"
"fc507e98748681761e5d31bab8b4c13210b74a11","2008-11-23 11:14:02+00:00","Remove NDS blitters.s, as it's unused - we now have blitters_arm.s instead.

svn-id: r35156
"
"f897def64d412db847b3087f6eaf4e59fdc61ea2","2008-11-23 11:49:58+00:00","Eliminate some warnings from NDS specific code.

svn-id: r35157
"
"78eeb313fe68eacad37383acdf51f813f08aa1ee","2008-11-23 15:03:54+00:00","Corrected wrong extended characters provided in the translated hardcoded strings for ITE. Fixes bug #2045157 - 'ITE: wrong accented characters in italian fan version'

svn-id: r35158
"
"71dcfd13a28576bf677c8b6aef907922b459e4ef","2008-11-23 15:26:51+00:00","Re-enabled MSVC warning 4125 - 'decimal digits terminates octal escape sequence'. This was thrown for a string with incorrect extended characters in the SAGA engine, which has been corrected now, so the warning itself is valid and quite informative.

svn-id: r35159
"
"bd3f83b508981dc3be8c450f678c2dc46a33f01c","2008-11-23 15:40:35+00:00","Turned on MSVC warning 4505 - 'Unreferenced local function has been removed', as it's very useful in finding dead code

svn-id: r35160
"
"f53429b1b7a57ed31d22566d06abbd661195059a","2008-11-23 15:44:47+00:00","Removed unused/dead code

svn-id: r35161
"
"a1a9702f24b868f2e5d9189ea83f00bb73272bbf","2008-11-23 20:54:55+00:00","Oops, removed the *actual* unused code, and fixed my previous incorrect commit. DOTT and S&M work correctly again

svn-id: r35162
"
"766a685125f8b24aca96e5d95e5ec173d68a9140","2008-11-24 00:36:07+00:00","Nintedo DS specific code: Remove function call (strlen) from loop condition.
(Spotted by Fingolfin - Thanks)

svn-id: r35163
"
"ba3edfbd518c93a2715cf1ada3b6b481b9a52ce9","2008-11-24 21:22:24+00:00","T7G: AI in microscope puzzle is 'complete' (ie good enough for now)

svn-id: r35164
"
"184c15905d1d9b4fc10b91adf5cc4b6f411f0a54","2008-11-24 21:48:40+00:00","T7G: Add a debug level to play movies fast with no pcm sound (unstable)

svn-id: r35165
"
"43607572363194b1f542cb45dfa66e8085474007","2008-11-24 21:53:23+00:00","T7G: Implemented volume fading

svn-id: r35166
"
"834d2c5f2776971d6509996e3ab53108377642a3","2008-11-25 00:41:51+00:00","T7G: Enhanced the Audio CD playback. Now the credits music on CD2 should play by ripping it as track 2 (not tested).

svn-id: r35167
"
"a4a4624d068fefd7c322c485da1d5a98ab5c3aac","2008-11-28 11:38:05+00:00","Check whether opening a flic actually worked... proper error handling would of course be much better

svn-id: r35168
"
"b25257d4eb377b2c2e63af0783c2b6d5c1b364ab","2008-11-28 11:56:08+00:00","Added Cyx to SCUMM credits

svn-id: r35169
"
"443c57146d74d7a92d1c9ec48c0f7eb8a497749b","2008-11-28 23:51:59+00:00","added load/closeFile to Graphics::FlicPlayer (matching DXAPlayer class)

svn-id: r35170
"
"362bdf87d78f611f3e308e7e9234831208b93d68","2008-11-28 23:56:25+00:00","added support for kSupportsLoadingDuringRuntime & kSupportsSavingDuringRuntime, cleanup

svn-id: r35171
"
"8f3b2e9b4d9f1f82682e1eed018153091cddee9f","2008-11-29 18:01:16+00:00","Remove warnings from NDS build.

svn-id: r35172
"
"fead4f304f2034de410564e113cef20563018d26","2008-11-29 18:19:39+00:00","Formatting

svn-id: r35173
"
"893a79b01dd02ebc7475b7cdd0f5ec154229f51c","2008-11-30 01:53:32+00:00","Initial version of proper MIDI support for KYRA.

svn-id: r35174
"
"25172da444363507c4cf068b8c416bde3eb32cbb","2008-11-30 01:59:21+00:00","Cleanup.

svn-id: r35175
"
"0bd0badbf2cced1a6f156d995ec19cf773dd12a4","2008-11-30 02:08:09+00:00","Fix NDS warning that should really be an error. Returning nothing from a non
void function should be an error in any sane compiler...

svn-id: r35176
"
"8142873c6a508583e1b305969b57674e8bd1529e","2008-11-30 02:38:08+00:00","Implement fade out support for MIDI.

svn-id: r35177
"
"1fc33dbae5efcff1b69a04e4da8036e97f23b9eb","2008-11-30 02:47:20+00:00","- Fix some valgrind warnings
- Added MIDI SFX support for Kyra2

svn-id: r35178
"
"17a699a43867dfb23c271a0f22a67176c0ce328c","2008-11-30 02:54:39+00:00","Cleanup.

svn-id: r35179
"
"2ebe04ac3eda7bda56fc23c4958d3da84081429f","2008-11-30 04:42:30+00:00","- Extended MidiDriver::sysEx to allow 264 byte sysEx messages
- Updated all drivers to allow 264+2 byte sysEx messages
- Implemented sysEx processing for MT-32 for Kyra1 and HoF. MT-32 should now be working properly.

svn-id: r35180
"
"6fd1d462cf497f38e81fd80a21aaf03f9ddaeeab","2008-11-30 05:11:40+00:00","Added MIDI SFX Map, fixes SFX in HoF.

svn-id: r35181
"
"2ba4cb3dbbd0b2709529191c046ef11cdd6df97d","2008-11-30 05:32:05+00:00","Mention Kyra MIDI support in NEWS file.

svn-id: r35184
"
"8dcb3cbac08a0550ee425835c4fa752297235409","2008-11-30 10:11:38+00:00","It's unnecessary to use strlen() just to find out if a string is empty or not.

svn-id: r35185
"
"7f69d3e9a2b0e4c8d1563063c2f5521cf1af039b","2008-11-30 11:05:37+00:00","Updated the MSVC project files of the kyra engine

svn-id: r35186
"
"2811ebf905be48d9007d5265e022da6a1f705693","2008-11-30 11:24:39+00:00","enabled subtitles

svn-id: r35187
"
"d93413b99bc0fff3524c3fbca032ca45b1a98b8e","2008-11-30 11:30:29+00:00","added detection entries and charset selection for german version

svn-id: r35188
"
"ba416211abb24e490cb0f4c6d1072c71fe8fec1a","2008-11-30 11:36:45+00:00","enabled tucker engine by default, since game should be completable with it

svn-id: r35189
"
"2730a6dddce10c1ff387a64355822707fc93c8ae","2008-11-30 11:52:54+00:00","queen doesn't use target name for savestate files (amiga & dos versions use the same savegame data)

svn-id: r35190
"
"8d59712192fad46b95fd2dc36d659b2c2649c873","2008-11-30 12:23:24+00:00","fixed listSaves ordering

svn-id: r35191
"
"b12ebf721826767a3de11923ba606639a8bb7411","2008-11-30 13:03:43+00:00","Fixed sysEx buffer sizes.

svn-id: r35192
"
"c517045349f675c3f28f7860ad8dcfe53ad69677","2008-11-30 15:15:14+00:00","Fixed some looping MIDI sound effects.

svn-id: r35193
"
"ffaa47fb44896a14d776c792939e40dad3287521","2008-11-30 21:16:04+00:00","T7G: Stop errorString from printing script position

svn-id: r35194
"
"f10f151ff742801e12534bb052bd89419bf906cb","2008-11-30 21:17:58+00:00","T7G: Reset origin at end of video: should fix seg fault after losing the microscope puzzle. Plus cleanup bitflag debugging.

svn-id: r35195
"
"af945ac7881ae7e414f004bd0e99e8c3b5d76be9","2008-12-01 20:35:36+00:00","Merged the tinsel 2 engine with tinsel 1. Both Discworld 1 and Discworld 2 should be completable

svn-id: r35196
"
"5212c3ea03e93133137beae092f7f79adfeb2082","2008-12-01 20:38:14+00:00","Updated the MSVC project files for the new files in tinsel2

svn-id: r35197
"
"4b7d45558033eb03bf9b6dad382aa849b64bdee4","2008-12-01 21:13:02+00:00","Got rid of Stream::readLine_OLD calls in two places (mostly untested, please check/test for regressions)

svn-id: r35198
"
"3bdef4f9a26b2e86b83f15e3caa990c5d7256527","2008-12-01 21:35:17+00:00","Fixed compilation.

svn-id: r35200
"
"46482b4de803db684141226dfd714b1eb8be83ae","2008-12-01 21:50:34+00:00","News update: Ender stepping down as project lead

svn-id: r35202
"
"b80cad991c685bcab0afa07fd153c920f6213db9","2008-12-02 10:32:57+00:00","Added entry for Discworld 2 to the New Games section

svn-id: r35204
"
"025cebdf6d1d51f8c3d9a49492e20409b2417f7e","2008-12-02 17:22:30+00:00","Disabled the workaround to skip the title screens of DW1 for now, as it can cause crashes with certain versions of the game

svn-id: r35205
"
"702b7be59438ec42b7340a2e8efeefeef0e48b68","2008-12-02 17:53:58+00:00","Should fix compilation on BE machines.

svn-id: r35206
"
"5bfb248301a917bf08a462791343b0e1637029f0","2008-12-02 18:34:32+00:00","- Set the maximum number of save games in DW1 and DW2 to 100, up from 30
- It's now possible to load and delete save games using the GMM (although not through the launcher screen yet)

svn-id: r35207
"
"a243d61b6889d455237b08caa117a4793eaba8f5","2008-12-02 21:26:41+00:00","add missing _curFrame reset to 0

svn-id: r35208
"
"30b6294d3834384951417ef2bf459bac5092ca10","2008-12-02 21:58:48+00:00","Apparently, constraining the number of mixing samples to be divisible by 4 is too strict, so I'm changing readBufferTinsel6() around a bit to allow for any number of samples (at the cost of adding 2 variables and a bit complexity ;))

svn-id: r35209
"
"3669360043e710e7372054bc1ceef77c8fa5ef18","2008-12-02 22:16:44+00:00","Added detection for the French version of DW2, as described in the forums

svn-id: r35210
"
"d34865d054dd00acacca4e9b715e7824b1964b58","2008-12-02 22:22:23+00:00","DW2: Add support for the Italian/Spanish release

svn-id: r35211
"
"318f71673796817cc4692ec5565fb8758a795b6b","2008-12-03 08:27:08+00:00","readLine_OLD -> readLine_NEW

svn-id: r35212
"
"e7050a0c65c9e474a7e072f0883ce9858eb4bacd","2008-12-03 08:59:12+00:00","readLine_OLD -> readLine_NEW

svn-id: r35213
"
"59dc18d9ef1a90110cff330f81693c0f2e4fc0e7","2008-12-03 10:59:06+00:00","cleanup

svn-id: r35214
"
"c290bb977c38bc939a42d968343f19445f117027","2008-12-03 11:05:07+00:00","Fix compiler warning

svn-id: r35215
"
"29f59d07f475ce81674c64c22c18a220108d095f","2008-12-03 11:47:57+00:00","Simplify line reading with the simpler readLine(), instead of readLine_NEW

svn-id: r35216
"
"c20292c0f1cfe9e3283fa71053a84c990f3e467d","2008-12-03 11:51:51+00:00","Simplify line reading with the simpler readLine(), instead of readLine_NEW

svn-id: r35217
"
"1e4f2b5a9012794c52133cdb729dad3ff5704f8b","2008-12-03 12:23:50+00:00","Replaced remaining usages of readLine_OLD with readLine.

svn-id: r35218
"
"b66a9d4e03f071f84d8b440194864337c781a601","2008-12-03 15:04:15+00:00","Added Groovie credits

svn-id: r35219
"
"b471aab57d6bfbed72071b6605c1c1231c7315da","2008-12-03 16:44:46+00:00","Make sure that savegame names are 0-terminated

svn-id: r35220
"
"157e0512807a77ea13376cedb97274ab3829a68f","2008-12-03 17:35:37+00:00","Applied wjpalenstijn's patch to fix bug #2111826 - 'DRASCULA: Inserting save game names lags'

svn-id: r35221
"
"d8e656a217e149eddbf67771ad646cc3be559926","2008-12-03 18:54:22+00:00","- Added back the English V1 CD version of DW1 (with *.gra files)
- Added the US version of DW2
- Added placeholders for the Hebrew, Hungarian and Japanese versions of DW2 (not sure if they're correct)

svn-id: r35222
"
"87db0af8a04ddd4673b6b43db69dc7ece30c2836","2008-12-03 19:20:59+00:00","Removed unused variable.

svn-id: r35223
"
"a871e0115174040ca8a331ec80616605d3cad1a2","2008-12-03 21:30:41+00:00","Converted the credits scroller to use readLine_NEW() instead of readLine_OLD().

svn-id: r35224
"
"8d0ef7a05ddbe90ea5686cd31a5bec63c4ab81ca","2008-12-03 21:47:31+00:00","The 'sound' debug command now works correctly in DW2

svn-id: r35225
"
"1edc1789b1af4a3e5aaaa3e44d5e6683585db8db","2008-12-03 21:52:51+00:00","Changed readLine_OLD() to readLine_NEW(). I guess both this and the previous
readLine() change could be more robust, but at least it should be no worse than
it was before.

svn-id: r35226
"
"353a239bdb824e57e67745752d2df15dc3ae0687","2008-12-03 22:14:47+00:00","Preliminary support for extra data and scripts in video files (urgh, this is so...vile).
Used in The Last Dynasty, which now plays a bit further (the video sequences, at least)

svn-id: r35227
"
"9ad879af48a5079b2c2b79dd65135d7f468085ea","2008-12-03 22:15:05+00:00","reworked bud tucker demo detection

svn-id: r35228
"
"abae99d6451e89c62f7037cc3372876d036af781","2008-12-03 22:55:30+00:00","Get rid of readLine_OLD for good

svn-id: r35229
"
"0e954c85b3d8e17648723b76050c33b6fe22afd8","2008-12-04 00:31:01+00:00","A few more GobOpcodes that jump to the space shooter + fudging the result to something not resulting in a non-quitable state

svn-id: r35230
"
"ebf2948e9a7435dfe409f1c16c29165f06dd8b4b","2008-12-04 00:52:12+00:00","Last Dynasty video mode switching (and removing a debug output)

svn-id: r35231
"
"e64e4833b3fa18038e27355d50d49398e0fa5804","2008-12-04 08:10:32+00:00","Some changes which will hopefully fix bug #2387217 - 'WINCE: SVN trunk compilation broken'.

I've done the changes based on the corresponding SDL backend functions. Please verify that everything is working correctly, as I don't have a WinCE device to test this

svn-id: r35232
"
"664d696e55748a4c03f6275b2c6643adcd37c77a","2008-12-04 09:33:37+00:00","Made readLineIntern() return a zero-length string when no printable text is read out of a script. This makes life easier for the parser, and also makes the introduction fully viewable.

svn-id: r35233
"
"9b77e926db4090e001041dd7a8a33850d7fe8fdd","2008-12-04 11:59:30+00:00","Fix for bug #2388270 '[Wii/GC] Unable to build SVN rev.35233'.

svn-id: r35234
"
"145fedba69c903e87d37b50dc889d92012e85d89","2008-12-04 12:21:31+00:00","Fix for GUI compile error described in bug #2387217 'WINCE: SVN trunk compilation broken'.

svn-id: r35235
"
"54a8468188c3e152db6dc437b52f80396a6fe2a3","2008-12-04 12:46:51+00:00","Added missing include.

svn-id: r35236
"
"5b74ea3d440109006dd42753d8532dc404718c70","2008-12-04 18:14:36+00:00","Fix typo.

svn-id: r35237
"
"b4cc40166eae9b31201d1c856f29b85b62d170a2","2008-12-04 18:38:02+00:00","Disabled all the test functions in SAGA. They can be enabled again by defining SAGA_DEBUG to 1 in saga.h. This cuts down on the engine size a bit, for devices with little memory (e.g. the DS)

svn-id: r35238
"
"5d9c8b7c47d17015048ac3f7650de0fbe426173a","2008-12-04 18:38:55+00:00","Changing the GobEngine to use its dirty rects also for OSystem-copies, instead of relying on kFeatureAutoComputeDirtyRects

svn-id: r35239
"
"b085afc451baa559439f1548cd691c0f25bb216f","2008-12-04 19:09:10+00:00","Removed obsolete refs to OSystem::kFeatureAutoComputeDirtyRects

svn-id: r35240
"
"12f4c3b9b9da43ec6ccd708b549107226bd747ad","2008-12-04 19:12:58+00:00","Removed more test code and performed some cleanup

svn-id: r35241
"
"d01e9b6785a74b985a7e2bb8772b52f026966356","2008-12-04 19:24:25+00:00","Correcting the language for GRB/USA

svn-id: r35242
"
"faf8059cac63ade78ef9c1d1c40f3b0dac871333","2008-12-04 19:42:42+00:00","This should make the US version work

svn-id: r35243
"
"c2d095b42662da599019f3a5c4aaf0ecf9c85fd3","2008-12-04 21:09:24+00:00","Do not redraw the whole scene if an overlay is drawn above it

svn-id: r35245
"
"beb18533c3bf58b60dac41050b63115a86a474ee","2008-12-04 21:25:44+00:00","Cleanup

svn-id: r35246
"
"275485c9836f6bba8581321df7d30e08c74b3ba5","2008-12-05 03:38:50+00:00","Parsing fixes for Urban Runner

svn-id: r35247
"
"bfd32c9516a0d62085b04f789b72a8e616051a99","2008-12-05 10:18:39+00:00","Bugfix for correctly leaving from looking at the Rite of AshkEnte scroll

svn-id: r35248
"
"bc5f25b5a0035668521f8d04728658b1ab2106c0","2008-12-05 18:47:50+00:00","Evaluating kFeaturesPalette flag for VMDs. Now you can actually see something in Urban Runner (though it's far from pretty)

svn-id: r35249
"
"72ba213b360c3c19f2a4916a67d8e9c46e02990a","2008-12-05 18:56:52+00:00","Removed more unneeded test code

svn-id: r35250
"
"a4923c5ba44dc6069dcd469c4a0bcb51b7911597","2008-12-05 22:01:22+00:00","Removed unused variable

svn-id: r35251
"
"7a4984304721eb91ca5c3349871be1cab228451d","2008-12-06 02:07:30+00:00","Beginning of support for DW1 Demo - Interpret has been changed to support opcode differences, and CallLibraryRoutine has a new mapping list of routines

svn-id: r35252
"
"7681461b16ee09eb8620fc99d8cd9445c263594b","2008-12-06 04:51:04+00:00","Implemented horizontal scrolling for BRA, by using a back buffer. Dialogues in scrollable locations are a bit messed up for the moment.

svn-id: r35253
"
"3fc72c63d930c07a52c9c34c36eb1ef58271e42a","2008-12-06 06:13:48+00:00","Simplified scrolling calculations.

svn-id: r35254
"
"4c377e03390d3d1f4ae2bd33ff4be39962ff2194","2008-12-06 06:17:10+00:00","Fixed positioning of overlayed graphics (dialogues, inventory, labels) in all locations. These items are now all handled in screen coordinates which are translated automatically by the renderer.

svn-id: r35255
"
"f2497e5ef7c8d5de6f9712c21a66f664bfe43163","2008-12-06 11:01:44+00:00","T7G: Fix for performance issue in save/load screen when hovering savegames

svn-id: r35256
"
"b697026ae0a26ec9f0e5bac3a4eae1fa6dd36e79","2008-12-06 11:35:31+00:00","Library routine and interpreter fixes for the DW1 demo

svn-id: r35257
"
"e625bd54de1fdb67a66de9c400fefe2bfedeb7c5","2008-12-06 11:36:15+00:00","Implemented the Tinsel v0 WrtNonZero graphics renderer

svn-id: r35258
"
"f3a60a8c96fed196b64cc9b86d71eeac00df5871","2008-12-06 13:35:27+00:00","Cleanup

svn-id: r35259
"
"9c04b0c2290caa67fc4b22b7a37e2abbff97c3de","2008-12-06 14:24:40+00:00","All the screen drawing functions draw to the back buffer, so there is no point in passing it everywhere

svn-id: r35260
"
"668eaea68c3b19a4deb1fa2c998a9ae597bf62ab","2008-12-06 14:37:09+00:00","Also remove explicit surface passing to IsoMap::draw()

svn-id: r35261
"
"d148d481f9692a7a475fda8240f4e27e30aa17fd","2008-12-06 14:38:04+00:00","Fixed compilation when SAGA_DEBUG is defined

svn-id: r35262
"
"5f2cd3c4a7e771a30e132fa90936b1da72fa21ab","2008-12-06 14:44:09+00:00","Cleanup

svn-id: r35263
"
"065694dbb166d2fb113ba36b9340d91f9c71fdbe","2008-12-06 18:23:34+00:00","- Prevented direct reference to the back buffer in many cases (apart from a few, where it's modified directly)
- Added skeleton code for dirty rectangle handling (still unfinished and non-working)
- Added wrapper functions to access the back buffer, which add the appropriate dirty rectangles automatically

svn-id: r35264
"
"4946e6584efc975494226fa8b162c39715852422","2008-12-07 00:13:55+00:00","Disabled more debug code

svn-id: r35265
"
"c69cacfe2d0c66cc82c9194080bfb9bdeac28845","2008-12-07 00:19:50+00:00","Disable unused code

svn-id: r35266
"
"5d1e3fd03e21e9486168783b31d18d8738b2a559","2008-12-07 00:27:39+00:00","Some dirty rectangle related code

svn-id: r35267
"
"87a097618583e6044c8c9d08e32b6a28932f7815","2008-12-07 07:44:52+00:00","Added code differences for DW1 demo to allow the first game screen to start

svn-id: r35268
"
"00de4b2b3cc878b776b64f576a8527f4f916567d","2008-12-07 09:21:01+00:00","Fix bug #2401150: 'Compiler: No matching function (Parallaction / Amiga)'

svn-id: r35269
"
"db88c544b75daa213130092da1b4ef2d0f61ff22","2008-12-07 12:41:50+00:00","Fixed assorted leaks in Parallaction.

svn-id: r35270
"
"b557c58d3bd0b0439c3c95075739feba9ac33207","2008-12-07 12:47:14+00:00","Missing break statement caused many broken warning messages.

svn-id: r35271
"
"c7c074895a701889499e921379eb84612f684bfc","2008-12-07 13:12:09+00:00","Prevent MIDI files from being load, when they are already loaded.

svn-id: r35272
"
"62d2955d9b6457f007f203424bbdd43ddcec8aff","2008-12-07 13:41:00+00:00","Cleanup.

svn-id: r35273
"
"c3fa73a0101df27c2d118d0494b42483461476dc","2008-12-07 14:22:05+00:00","added dirty screen rects redraw

svn-id: r35274
"
"e63c0ba1e2295f4848ea02753e920613c3b49d38","2008-12-07 14:23:54+00:00","cleanup

svn-id: r35275
"
"3de7a31dc18547167364967f1a33e3b03f555e58","2008-12-07 14:24:46+00:00","reduced saveload code dup

svn-id: r35276
"
"6ecc17010d354bb1dbfebd58ff1bc70c2ce61e67","2008-12-07 14:33:30+00:00","Fixed some more leaks and mismatched allocations/deallocations.

svn-id: r35277
"
"15dad27d79601af93139f395671d404053c770cb","2008-12-07 17:17:37+00:00","Fixed typo

svn-id: r35279
"
"c2424b04a5964e4763a7d7c123317dec925c8214","2008-12-07 17:32:25+00:00","Fixed bug #2394861 ('BASS: artifacts if skipping intro on wrong screen'). As an
added bonus, the Intro class is now freed as soon as the intro is over, rather
than at the end of the game.

svn-id: r35280
"
"78fd335a4260a16664083fbf3333b8fba52e75ea","2008-12-07 18:49:35+00:00","More dirty rectangle related changes (dirty rectangle handling is still broken)

svn-id: r35281
"
"f8c12238324325419ed2087cd91a29b101e8fb11","2008-12-07 19:15:19+00:00","fixed readGameStateDescription() len parameter

svn-id: r35282
"
"0ffb1081fa017f7f6faa4d35d2dd4ee383d0bf70","2008-12-07 19:15:57+00:00","Set full screen refresh when an animation frame or the psychic profile is shown

svn-id: r35283
"
"4c62b50921d4d5689a35b5385ab639920be6b36d","2008-12-08 17:48:39+00:00","More dirty rectangle related changes

svn-id: r35285
"
"1eefecffa4670130008a9094c2855e4b1b9fe3a3","2008-12-08 21:11:19+00:00","Quickfix for tinlib compilation error. Changed type on zOverride from type int to int32 (signed int that is) to fit the SetMoverZ function and for valid comparison of zOveride != -1.

svn-id: r35286
"
"3334af5507db24208ca8a6f1aa8852281a017f82","2008-12-08 21:48:29+00:00","Removed last traces of X11 backend.

svn-id: r35287
"
"e27c494371660dc08e15af8038c8d7145be90ed4","2008-12-08 22:07:14+00:00","Some more dirty rectangle changes (still incomplete)

svn-id: r35288
"
"9a788d8bf3cc35640312071178c80b7b2cd62c6f","2008-12-09 14:55:21+00:00","Some dummy changes for Urban Runner

svn-id: r35289
"
"99322bf68f7b21e53265b02ceaf06c4a85e59da9","2008-12-09 14:56:33+00:00","Experimental support for VMD frames encoded in Indeo 3 (Indeo 3 decoder closely based on the one in ffmpeg).
Since Indeo 3 uses full 24bit colors (in YUV-space), frame data is mapped to the current palette (using an octree, should be the fasted way, methinks) and dithered with the Sierra-2-4A ('Filter Light') error distribution algorithm.

svn-id: r35290
"
"005c63f794d1b5509d22e027fd59d00448eab4b2","2008-12-09 17:36:28+00:00","Updated the MSVN project files of the gob engine

svn-id: r35291
"
"c96b4f692a9cfaa5e5f374813045b97c9f33fa7d","2008-12-09 19:53:01+00:00","SCUMM: Turned two former warnings into errors -- I never got reports on this warnings, with some luck we'll never get reports on the errors, too. If we get them, I'll deal with them :)

svn-id: r35292
"
"cabfbb49031b142a726ae0c966861f1f7f74f43f","2008-12-09 19:54:01+00:00","Removed some dead code, clarified comments, cleanup

svn-id: r35293
"
"5f4518a2ad36573516f1568cc6fca613bc31a8c0","2008-12-09 21:09:45+00:00","Some more dirty rectangle fixes (some glitches still remain)

svn-id: r35294
"
"39871b84de6733f624f3aeee3deac16a04ac3943","2008-12-10 19:39:26+00:00","Some more dirty rectangle fixes, only 2 known glitches are left

svn-id: r35296
"
"c7094e20df6b4dfb497e16e5d1d06456f82e01d0","2008-12-10 20:46:19+00:00","implement the newer gfx transaction interface. some issues still remain

svn-id: r35297
"
"c7fa7f888ac8d3dac31bba9ff93bb54f917ea9fe","2008-12-11 03:06:43+00:00","On second thought, an octree only works if the color to look up is in the palette.
So using a table-based approach to find the nearest color now, using only the upper 6 bits to stop the table from getting too large. It still takes noticeable time to build it. :/
But as a result, the video actually looks okay now...

svn-id: r35298
"
"7c05e9e72303718ebe7b39046a715c186279f9c6","2008-12-11 13:32:50+00:00","Fix for bug #2412503 'DW1: Subtitle menu not working (Multi-language version)'.

svn-id: r35300
"
"9a3a04f6dd8456f20298f157f7ea9c0f36e8127d","2008-12-11 13:43:52+00:00","Added a HACK/FIXME to prevent tinsel games from crashing, when for example the music volume is set to 256 via the launcher.

svn-id: r35301
"
"30507498b0bf30c7bd6bfb20767979470b30b7ae","2008-12-11 13:44:58+00:00","Midi code now allows volume values to be [0, 256] instead of [0, 255] like before, thus removed the clipping the old code used.

svn-id: r35302
"
"2f1babd3703416362e5e8bda9ed03f59019daa8f","2008-12-11 13:54:18+00:00","Whoops changed integer size of variables storing volume information, now volume of 256 should work as expected.

svn-id: r35303
"
"e26f1391fa6c4245549a890d74bcf1c7fa6b3805","2008-12-11 18:09:45+00:00","Fixed detection of voice files.

svn-id: r35305
"
"443158fd89af3dbe22577c7ffaaf2d6e6396d355","2008-12-11 18:38:15+00:00","Cleanup. (Removed define and checks  for USE_3FLAGS/USE_4FLAGS/USE_5FLAGS)

svn-id: r35306
"
"c65886a3ea3a4fb30d34d9cc3136dd34db044d9f","2008-12-11 21:57:47+00:00","Changing the Urban Runner sprite drawer to work more correctly. It does use YUV data, but I can use the ditherer there

svn-id: r35308
"
"19146fe03206a2039c0dd568af1a81a8e5411556","2008-12-12 00:10:39+00:00","Working cursor in Urban Runner

svn-id: r35309
"
"4ec382608080432b04c8c305d236c6dc38e61b7b","2008-12-12 02:44:34+00:00","Working (minus text) menu in Urban Runner

svn-id: r35310
"
"fa07cfe7c6ca928a7ad6bcf4d9e8f2e74de749f4","2008-12-12 04:31:01+00:00","Text now works in Urban Runner

svn-id: r35311
"
"7e7d5c68edf2e65bc7964a40144d0b94ab95161d","2008-12-12 04:52:37+00:00","Initialised variables to silence lots of valgrind's warnings.

svn-id: r35312
"
"2efe7bede0d5c659abd8e48b5de011d8c5266fc8","2008-12-12 13:32:24+00:00","Clean edges around transparent areas. Noticeable in the cursors, for example

svn-id: r35313
"
"cfa939d1510d0630a81cec41fc94a61b9908693e","2008-12-12 14:23:02+00:00","- Stop passing the scene clip rectangle around for no reason
- More changes for dirty rectangle handling
- Stop adding dirty rectangles that cover the whole screen for no reason
- Dirty rectangle handling is still very buggy, so it's still disabled

svn-id: r35314
"
"63ddc1ba6fdfaa4ef9a60fe5a4457512bbe3371f","2008-12-12 14:28:06+00:00","Using AppandableAudioStream::getTotalPlayTime() instead of the difference between current and start time to sync audio and video

svn-id: r35315
"
"cbdb105d8ebcc5720c010c713ac31ab9d01485b9","2008-12-12 15:48:38+00:00","- Save games are now listed from oldest to newest in the GMM load dialog for tinsel games, like in other engines
- Added some disabled code for saving through the GMM (still incomplete)

svn-id: r35316
"
"052e83cd2421f14c24063ab424b465f2029c5bf3","2008-12-12 17:12:05+00:00","Okay, removing my implementation of AppandableAudioStream::getTotalPlayTime (I've apparently misunderstood its intent) and using Mixer::getSoundElapsedTime() instead

svn-id: r35317
"
"dcca0c9f66cdec863aec0e40e0714bc7845fd8c3","2008-12-12 20:10:00+00:00","Fixed a regression in my last commit where some sprites were not clipped correctly

svn-id: r35318
"
"12bf681ee86fe57c6adb188817d382bb76142f08","2008-12-12 21:42:38+00:00","fixed german version detection, added datafiles remapping as listed in bug tracker item #2422555

svn-id: r35319
"
"c6947285d244f06901c3e479c873f0b0db9c0bfb","2008-12-12 22:56:56+00:00","Fixed a regression of commit #34458. Sound data for compressed sounds was read incorrectly. Fixes bugs #2422371 - 'ITE: Talk animation takes longer than speaking' and #2111496 - 'IHNM: Speech is garbled'

svn-id: r35320
"
"60417c646e286cae3715577871d2b59c43acff26","2008-12-13 02:30:45+00:00","Fixed the ADPCM decoder for 16bit audio (like in Urban Runner)

svn-id: r35321
"
"1cc08d8b6a3ee995ff130bf96d6e9217b41b856d","2008-12-13 02:51:36+00:00","Fixing forgetfulness-bug which leads to failed assertions in certain cases

svn-id: r35322
"
"e593015402c6b4990fda584164956132350d720a","2008-12-13 03:12:56+00:00","Cleanup.

svn-id: r35323
"
"1e31438c576d3828aa27a64c71de846bd6c6d886","2008-12-13 03:16:20+00:00","Ooops, didn't virtual genSaveName().

svn-id: r35324
"
"6724097f674c100c20a42a030bb597aa080ad339","2008-12-13 03:36:28+00:00","Fixed positioning of inventory.

svn-id: r35325
"
"b3475d81787b08178c7ea413717796d987f9061c","2008-12-13 03:37:43+00:00","* Replaced char* with Common::String in the parser.
* Enforced const-correctness on related routines.

svn-id: r35326
"
"a1fdbb8695173e240f73e3905989ff749529a6bc","2008-12-13 04:52:51+00:00","Fix regression, that caused text to be cut short in Elvira 1/2.

svn-id: r35327
"
"0abcf302c665ca39a0965dde6a73e3e9c57e7053","2008-12-13 04:55:54+00:00","Fix display of spell status in Elvira 2, caused by newline in oe1_pcName().

svn-id: r35328
"
"3c86a24d7070cc18739cb51c8be49011072aa036","2008-12-13 07:05:18+00:00","Add Polish 2CD version of The Feeble Files.

svn-id: r35329
"
"c2daf686d6fc207c8bce04674a006619e742749a","2008-12-13 07:38:37+00:00","Add upper case code for oe1_pcName() in Elvira 1/2.

svn-id: r35330
"
"48f5e51c7753957391aabbf9f901e90d95d7d88d","2008-12-13 08:40:04+00:00","Added handling for record differences in the hotspot/polygon format in DW1 Demo

svn-id: r35331
"
"0e2864692e617c1bc2953ebe9efea54f378b79a3","2008-12-13 09:39:00+00:00","fixed bug #2423037, wrong demo version detection

svn-id: r35332
"
"5f9bbd3444fcd0740db12742804679271c2b8daa","2008-12-13 10:24:28+00:00","Bugfixes for text display and animations in DW1 demo

svn-id: r35333
"
"303d463a503f64c10115ae91e26c231a90989f46","2008-12-13 11:18:28+00:00","Workaround to correctly return control to the player in the DW1 Demo after using the prunes

svn-id: r35334
"
"9555ea8bc9efe3f921b1d935fd9346d70945b9f4","2008-12-13 12:31:39+00:00","Fix for bug #2423449 'AGOS: Music Looping broken (regression)'.

svn-id: r35335
"
"223a57a563746b0ced90428d4405dbe9fdd62d0e","2008-12-13 12:45:53+00:00","Cleanup.

svn-id: r35336
"
"5fa38662e2fa1da6e06f9dd33c9f328c260ae273","2008-12-13 12:56:53+00:00","Whoops. Fix accidently wrong evaluation statement.

svn-id: r35337
"
"dce40f6ffeed0437699f5001765745537ca073dc","2008-12-13 13:18:16+00:00","Added a SaveLoad for Urban Runner with an entry to make the scripts believe the file mdo.def (config file created by the original installer) always exists

svn-id: r35338
"
"afa21d9de8dbf8a1a3653e1e79b76366e9c646e1","2008-12-13 13:31:13+00:00","Updated the MSVC project files of the gob engine

svn-id: r35339
"
"2fdc191e4a8f4e5409993b31a2aaa26b3db51a39","2008-12-13 14:53:33+00:00","Added the French version of Urban Runner, as supplied by gamin in the forum. + Added a fallback for Urban Runner

svn-id: r35340
"
"49e0a52ee1f4e31d073da025cae00d4157ef1707","2008-12-13 16:35:14+00:00","Modified collision init functions for Urban Runner

svn-id: r35341
"
"800db6f142b93c07903ad6ef7c2a57bb563ff6dc","2008-12-13 17:31:48+00:00","Restructuring of rendering code.

svn-id: r35342
"
"5b3977518401331969fe05cfd5ab01f434505ee3","2008-12-13 17:52:37+00:00","Some more restructuring of rendering code.

svn-id: r35343
"
"13e613ae217179dcc98ea3f966276a5175c844cf","2008-12-13 19:35:33+00:00","disable GMM save/load when original quit/options dialogs is displayed

svn-id: r35344
"
"e3e699d7d2267cbe1e8fe54123e18474f1db4319","2008-12-13 19:38:48+00:00","fixed wrong z-reordering when one of the keychars is 0

svn-id: r35345
"
"c0a8a13081c880a2bd0f5dc59a10b1874e2d5b4a","2008-12-13 21:08:13+00:00","Updated the MSVC project files of the gob engine (added game_v6.cpp)

svn-id: r35346
"
"c75c681175cca1879ad3470cd657b5e8030ed98a","2008-12-14 00:23:46+00:00","Added code to initialize MT-32 properly for Lands of Lore.

svn-id: r35347
"
"bff3c9cf60b68f03250e092ec9303c46b982e715","2008-12-14 01:13:59+00:00","Cleanup.

svn-id: r35348
"
"81d060675cbc6d855bc9ad89b0f0faf0d8408322","2008-12-14 01:18:55+00:00","Resort game types.

svn-id: r35349
"
"126c5a1dc8ec76b74a33f9b62d553d652a382df4","2008-12-14 02:09:03+00:00","More modified collision stuff for Urban Runner. The hotspots are correctly recognized now

svn-id: r35350
"
"bbe6ff006e79473a0beeac5a4d88f901c68102fb","2008-12-14 03:08:02+00:00","Music/Video handling fixes/stubs

svn-id: r35351
"
"68dcb1ffee87ce04dceb879f5eb3916fb99a1abe","2008-12-14 03:44:39+00:00","Background 'music' for Urban Runner, though only 8bit for now

svn-id: r35352
"
"8770cef478eab747d6f08de4a4f2dc1344c31f4c","2008-12-14 04:13:48+00:00","16bit background 'music' for Urban Runner

svn-id: r35353
"
"4d79c4c9b65f89be91867fe5b33a40051b365216","2008-12-14 04:24:41+00:00","Minor bugfix to string display in DW1 demo

svn-id: r35354
"
"5f8323bd50f958803107be6d64fa7dd9a9456bb7","2008-12-14 04:33:28+00:00","Plugging leaks

svn-id: r35355
"
"116980367a0c4610b595d6d294bf32775c9356b7","2008-12-14 04:39:25+00:00","Removed the comment about the DW1 Demo not being supported

svn-id: r35356
"
"e98bc7e402a52eadbdf0e5a7e989b9c507e0adf0","2008-12-14 10:08:31+00:00","Removed some unused code.

svn-id: r35357
"
"dc3e9027f43c8423ce280e4d59b6a027897d504a","2008-12-14 10:32:26+00:00","Removed references to _vm from the engine itself.

svn-id: r35358
"
"55972d7624b11499736a5d69a655f1c4b4070efc","2008-12-14 12:59:23+00:00","Silenced MSVC warning about variable 'flags' being potentially uninitialized inside setCollisions()

svn-id: r35359
"
"8b60af5330ed39816b019e58f778775a5b86c3ce","2008-12-14 14:19:23+00:00","Add Tucker engine to credits

svn-id: r35361
"
"d5115c0fc6104aec4b73fad58af187830ab4eeb1","2008-12-14 18:02:42+00:00","Use the new nifty defines DISABLE_TEXT_CONSOLE and DISABLE_COMMAND_LINE.

svn-id: r35363
"
"adb564e76aea846aaf0bc0d97ab5f4f6e6dd02b7","2008-12-14 21:21:18+00:00","More changed collision stuff for Urban Runner

svn-id: r35364
"
"2bb204b5f835c5c254e4343deb5c4a5078a04035","2008-12-14 21:58:09+00:00","Ensuring correct endianness

svn-id: r35365
"
"7f94c9f543d9aec31b5563d4b02bff3bbeb6f1b3","2008-12-14 22:10:48+00:00","Add preliminary support for SMK player. Code is derived from ffmpeg.

svn-id: r35366
"
"41499091b051ae1327b5d35e9593525fd6e749dd","2008-12-14 22:32:32+00:00","Updated the MSVC project files (added smk_player.cpp/.h)

svn-id: r35367
"
"9c20a533bb121d97088e19ce620b1172b16fa8a1","2008-12-14 23:41:48+00:00","Enable Smacker support, and switch later HE games to Smacker support (since they aren't supported yet).

svn-id: r35368
"
"96c0685879635f81e5b83ac01e66038bd2a0900c","2008-12-14 23:47:56+00:00","Avoid file leaking.

svn-id: r35369
"
"8e03b72e63dd4b0caa0cc7528bfab0f997ad630c","2008-12-15 00:11:23+00:00","Ignore BINK files.

svn-id: r35370
"
"f785068dc3fc0a485a78439d386c1bdf72d5d7e4","2008-12-15 00:27:05+00:00","Some more Urban Runner changes. Still no cylindrical smoking device, though

svn-id: r35371
"
"123c26675f5b5843b00df13ba7daa8a8236758a0","2008-12-15 01:45:16+00:00","Another collision stuff change for Urban Runner. Now you can actually move! :)

svn-id: r35372
"
"0eee8012616e3128dfbbe50d3f29330bc8ab00e3","2008-12-15 02:16:45+00:00","No background 'music' shading in Urban Runner

svn-id: r35373
"
"1c9db8eebc9901aabbd07df714e236d3a09836f3","2008-12-15 05:05:01+00:00","Adjust return values for HE games, when loading video file fails.

svn-id: r35374
"
"a59890ed649650588d2aaed198db4ce015476ba2","2008-12-15 05:08:25+00:00","Disable video play back in 16bit color HE games for now.

svn-id: r35375
"
"6b043aa05b8b59e1b938b88e98df38e027e1b8bf","2008-12-15 05:16:23+00:00","Support for Urban Runner's new cursors (frames out of 16bit color VMDs)

svn-id: r35376
"
"c76f0bdb10344f1a35e43a098a3dcec4f09aa76c","2008-12-15 07:15:29+00:00","Weeded out some more unused code, and some restructuring.

svn-id: r35377
"
"2ce4a32fb61567522e0a7afb76337aca12357dcb","2008-12-15 09:01:43+00:00","- Implemented cmd_restart (for the restart functionality in Return to Zork)

svn-id: r35378
"
"ddb810e17b76a999d46d1a4aba68e8a66edd7668","2008-12-15 09:54:21+00:00","Add Moonbase Commander target again, for testing only.

svn-id: r35379
"
"ea3d4fe22d30e4f3c089a9593be501ba2b4bc7fa","2008-12-15 12:55:13+00:00","cleanup

svn-id: r35381
"
"319795565e482012f56aa5fad5b9f6d35835ecb5","2008-12-15 12:55:57+00:00","SMK player: do not include headers that are not needed, do not expose internal _fileStream for no apparent reason

svn-id: r35382
"
"b4e542e37f6505cbaa1910563a36725328396767","2008-12-15 13:10:08+00:00","Mirror last Smacker changes.

svn-id: r35383
"
"513aeee844c2cef1886e84661bb3e070692c77d5","2008-12-15 15:36:21+00:00","More video changes/fixes/stubs

svn-id: r35384
"
"f825ccd63fef64a3ff22a134c01ead71b41354f9","2008-12-15 16:01:39+00:00","Script fix. Magnifier, Memory and Save/Load, while still not working correctly, don't crash the game anymore

svn-id: r35385
"
"df32288b8b098f3ad74663eab43f1ed9c9989836","2008-12-15 21:13:28+00:00","- Removed the blockRuns array
- Added some comments

svn-id: r35386
"
"45842bf9e29963cca8f677de249fa815e84687a3","2008-12-15 22:49:55+00:00","Initialize palette when loading a new Smacker file - all palette colors should show correctly now

svn-id: r35387
"
"c45f149ea181c97a1dcacd9f89231d2fe396791b","2008-12-16 02:57:48+00:00","First step at getting the magnifier and memory view corrected

svn-id: r35389
"
"638a8e330666e99f0f0887eebab8b50f61624fd4","2008-12-16 08:37:24+00:00","Synced Smacker player with ffmpeg revision #16143

svn-id: r35390
"
"0b1d31383b6b7978903e4c8c40de010506709937","2008-12-16 09:56:21+00:00","- Added some comments
- Removed _paletteDidChange, as the virtual setPalette() function is called back on every palette change
- Some cleanup
- Removed unused/unneeded functions and variables
- Changed _frameTypes to hold bytes instead of 32-bit integers (since frame types are held within a byte)

svn-id: r35391
"
"2706e527c214cfcc77502b3bdb639d5a341d3c1a","2008-12-16 13:19:43+00:00","- Some more comments
- The audio header is now decoded properly (still no audio support)

svn-id: r35392
"
"696ed52959e7853ff2039fb0ce1063cebb9a1cd2","2008-12-16 17:40:34+00:00","Switched kyra1 to use the same input functionality as kyra2 and kyra3.

svn-id: r35393
"
"d4b6b9187db09acabb347f368fb8f26d648e32cc","2008-12-16 18:53:26+00:00","More video fixes for the magnifier/memory view

svn-id: r35394
"
"94c14c7c78a911d0f58949937eaf279fdda2a5bc","2008-12-16 19:55:51+00:00","Fixing the update coordinates for videos with _bytesPerPixel > 1

svn-id: r35395
"
"4d3a4a85f61995c502da0870a691d20f333b63b9","2008-12-16 20:21:29+00:00","Rotating the object backwards in the magnifing view works now

svn-id: r35396
"
"ebd2f53713f79f8e60317a869f77d3de129cdeaf","2008-12-16 20:40:18+00:00","If the music file to play has no extension, add one. Fixes the music when you die

svn-id: r35397
"
"ee62b9c4c38c6b1f7b3f02b18555261cf6469d45","2008-12-16 21:06:20+00:00","changed game version flags handling, should fix #2434208

svn-id: r35398
"
"f18f79ebf7bfe1a348250e545a19ba12b25c35fa","2008-12-16 22:05:16+00:00","added polish version as reported on tracker item #2433494, removed english charset as default

svn-id: r35401
"
"328f0cda5d2a3ebc77ce383faf83653ff348baf1","2008-12-16 22:09:55+00:00","added Czech version detection entry, tracker item #2435411

svn-id: r35402
"
"662a38de89986ba8f4fca5e44dd9c3d5b77b5726","2008-12-16 22:15:08+00:00","Enable the Groovie engine by default since it's now supported

svn-id: r35403
"
"4e2565ca1f37da47fed1a3596a7cba059b2707e8","2008-12-16 22:54:38+00:00","Set SMALL SCREEN DEVICE settings in ::open function with new UI framework

svn-id: r35404
"
"98bbf9c417cc4bbd08907061fa2f14fd543f1447","2008-12-16 23:07:16+00:00","Add target for CD demo of Discworld 1.

svn-id: r35405
"
"adae869c8a227b0da4abf2b2c30b97e7cf1ea7fb","2008-12-16 23:27:35+00:00","Experimental semi-transparency for fillRect, used in the green/red menu areas of Urban Runner

svn-id: r35406
"
"3591f8859ed5fe6ad4cc94671d7d43a52b9f01b6","2008-12-17 00:41:00+00:00","Workaround for Urban Runner's CD number detection daftness.
Basically, now we claim to run in no-CD-mode (by pretending 'NO_CD.TXT' exists) and open CD2.ITK, CD3.ITK and CD4.ITK manually

svn-id: r35407
"
"774773b7cd02e3c6932095af4905a25eb1862392","2008-12-17 11:15:47+00:00","Reduced code duplication when manipulating Animations, and cleanup.

svn-id: r35408
"
"d0e2107b7e07587f732ae1f882b8ddae8c5ef5bd","2008-12-17 13:07:56+00:00","Only do the no-cd-workaround if all resource files can be found

svn-id: r35409
"
"10e471bb5b0b4ac6f2475c060703e55168601846","2008-12-17 14:48:57+00:00","- Added some disabled code for Smacker audio support (still incomplete, not working yet)
- Made the _image buffer protected instead of private (in case it's coped directly to the screen and not an intermediate buffer)

svn-id: r35411
"
"38e7eecb710a3f7e8c5a637d525fed60d0712386","2008-12-17 16:06:16+00:00","Added support for caching the palette LUT to a file

svn-id: r35412
"
"3f36b2a15a4b070d4aafbde075658a3713aece37","2008-12-17 16:45:53+00:00","Fixed bug: not all control paths return a value in savePalLUT()

svn-id: r35413
"
"dcc81b07e5ee983c77ba8978434cdf7140d85e80","2008-12-17 19:25:54+00:00","move necessary code outside of assert

svn-id: r35414
"
"de0a2f40cd996d34d3bea3105158863da0e3a44c","2008-12-17 21:17:15+00:00","Some more Smacker audio code (still non-functional)

svn-id: r35415
"
"a56af219d9ee600de4d85210c129618176ab1265","2008-12-17 21:19:46+00:00","Added KeyConfiguration dialog to classic theme(320 and normal). Updated KeysDialog to follow xml syntax properly.

svn-id: r35416
"
"3ddbc1211fc73a52cf0eacdd4858734278c2e340","2008-12-17 21:29:56+00:00","moved game version flags to detection entries ; unset kGameFlagEncodedData for polish version (tracker item #2436225)

svn-id: r35417
"
"4ceecdb25fde5e82f4e96774ebfb28d5d319820c","2008-12-18 02:48:15+00:00","Preliminary save/load support for Urban Runner

svn-id: r35418
"
"50563cbccec30025f8a2552d0ffbf75c50c5415f","2008-12-18 05:04:55+00:00","Fixed warnings. Hopefully without breaking anything.

svn-id: r35420
"
"8a6387ca13330f9cc08946eba282bb4e0cbd45ac","2008-12-18 08:06:08+00:00","fix opening of config file + some cleanup

svn-id: r35421
"
"05434a38f02242cd3311a67ecaa99a361ddba6d5","2008-12-18 16:34:01+00:00","Fixed some warnings

svn-id: r35422
"
"5b7cb7ae3e3e6e6404c1dd9153822c59b659b91e","2008-12-18 16:38:28+00:00","Note to self: Don't sleep-deprive and code, for it makes you daft as a broom ;)
(Thanks to md5 for pointing this out to me)

svn-id: r35423
"
"d15022da78454489915afcdb270130bf64d0b92e","2008-12-18 18:46:24+00:00","Cleanup.

svn-id: r35424
"
"d314ee2447955d9e2d062e35cee1882f82f37735","2008-12-18 19:18:45+00:00","Audio support for Smacker videos. Audio doesn't sound right yet, though

svn-id: r35425
"
"8b6237756b9d80d5fd679eafea922bf96a5b4f6a","2008-12-18 19:32:44+00:00","Oops, base values are read in the correct order now

svn-id: r35426
"
"dfc08c823d4af39ae61600a7230414c02156282b","2008-12-18 20:22:49+00:00","Clean up cursor stack on engine quit properly.

svn-id: r35427
"
"28d33e01e97c43c68244ec536b4d4380d5282cc5","2008-12-18 20:36:16+00:00","Fixed cursor palette when returning from GMM/Debugger. (Thanks to jvprat for testing)

svn-id: r35428
"
"5aec3bbc64bad1bd927a87a4238b6860b504eeb6","2008-12-18 21:21:09+00:00","KYRA1: fixed Serpent Cave/Malcolm scene (where Brandon would instantly get killed without having a chance to grab the dagger)

svn-id: r35429
"
"9cd759c526c53a4065cb2ae33b09e448788918f0","2008-12-18 23:50:59+00:00","Fixing 8bit audio

svn-id: r35430
"
"6d19ee6e64c9c6bf5ba5efa58028a300ffd4ce69","2008-12-19 00:14:18+00:00","Adding convenience functions to get the time to wait for the next frame, while keeping A/V sync

svn-id: r35431
"
"55edaf0945ba4c9962197a5fbbda76f3a4b8bcee","2008-12-19 01:01:07+00:00","Fixing 16bit audio

svn-id: r35432
"
"91e386c5847f0f7ae533ea32d26a05eeed5d5914","2008-12-19 01:45:55+00:00","Making curPos an uint32, so that it won't overflow anymore

svn-id: r35433
"
"83194b2188c2cbaf205b8926b7d7641a2003f85f","2008-12-19 07:32:08+00:00","KYRA: fix mt-32 sysex loading for LOL floppy

svn-id: r35434
"
"b7dbd3ec06c3b203d2c8e201a818e6f5e3297f83","2008-12-19 08:22:25+00:00","Some slight cleanup

svn-id: r35435
"
"2911aa04c18654e32e985217f371eba74dfedd82","2008-12-19 10:54:05+00:00","Fixed bug #2424530 - 'IHNM: SFX are no longer played', by assigning correct default values for missing config manager settings

svn-id: r35436
"
"0410d6dfaef068a57462cb241f6f3a96fde1cc4b","2008-12-19 12:03:22+00:00","Removed the hasKey() hackery of my previous commit and used ConfMan.registerDefault() instead. Changed sound_volume back to sfx_volume, which got changed with the GSoC merge and was the actual cause that the sound effects were off by default

svn-id: r35437
"
"519815cb51aad20198ea8eeb771c1dc6cedc959f","2008-12-19 13:55:55+00:00","memset()ing the output image with 0 at the start

svn-id: r35438
"
"c4f33dfb866e71ff34331fe696076c0ffc2f60eb","2008-12-19 16:21:27+00:00","Custom percussion instruments for the AdLib MIDI driver (Slightly modified patch #2357165)

svn-id: r35439
"
"3f3b742cd64b459de1a7f2a4847159198826fd8f","2008-12-19 16:55:54+00:00","T7G: Add support for custom AdLib instruments

svn-id: r35440
"
"1477116d9bc3b283674ef5d9489c153bfdd5f062","2008-12-19 17:21:55+00:00","Clicking in the scrollbar always caused the save/load list to scroll down a page.
Now it can scroll up a page again.

svn-id: r35441
"
"c6bd85e370b2f533e207457c4b40fe55ef823494","2008-12-19 17:31:14+00:00","Allow quitting/returning to launcher while in the save/load dialog. I don't
know if there are other such spots that need to be fixed as well.

svn-id: r35442
"
"08ff8d281fed0ebdf43032783965a8ca1158f2d5","2008-12-19 17:54:45+00:00","Allow changing the scaler using hotkeys again. I hope this is the correct way
of fixing it. (I've added a final case to endGFXTransaction for when the screen
just needs to be updated, without any changes in mode or size.)

svn-id: r35443
"
"6baa803dff69896daf09f341a92d5a4db1340f56","2008-12-19 19:12:29+00:00","Removed defaults which are set in base/commandLine.cpp

svn-id: r35444
"
"a4e08d94fce35313a1e71c0ab6d7a2687939aca2","2008-12-19 21:22:26+00:00","Allow quitting / returning to launcher while showing 'selection boxes', e.g. the
pause game dialog.

svn-id: r35445
"
"a6e4bd793f7b2d236b703d98614adf49e43cf6f9","2008-12-19 21:55:18+00:00","Hopefully fixed invalid buffer reads

svn-id: r35446
"
"025b2a93e9ce6386fd842dbd467188b5cff30038","2008-12-20 08:15:09+00:00","Moved mask creation/handling to Gfx.

svn-id: r35447
"
"d28478e5452cf06f90c465951ab637b0146ecd51","2008-12-20 10:59:29+00:00","Fixed bug #2453183 - 'IHNM: mass adding results in incorrect targets'

svn-id: r35448
"
"3c01f4f0e1b3134d5a0f0167ea4c0e8a3ac92672","2008-12-20 12:05:35+00:00","Partial fix for bug #2453189 - 'ITE: mass adding results in incorrect targets' (the Italian multiplatform fan translated version is still missing)

svn-id: r35449
"
"1f0b94a9ca256a7eeddfb2e808818672e7642180","2008-12-20 15:04:17+00:00","Committed slightly modified version of my patch at bug tracker item #2309974 'ALL: */? match path separator in FSDir::listMatchingMembers'.

svn-id: r35450
"
"3f2e7a6cbfa78d8e8b4466085082096f2ef43067","2008-12-20 15:27:51+00:00","Cleanup.

svn-id: r35451
"
"83cdce56dbde6e28cfbd58765c89d3d8848585b2","2008-12-20 19:41:44+00:00","Added the demo version of The Last Dynasty (thanks to fac)

svn-id: r35452
"
"34368e5650c81cd52ae20d91d475be979359cfe3","2008-12-20 23:08:37+00:00","Fixed loading Discworld 2 savegames from GMM.

svn-id: r35453
"
"c3041ad99b9e6bf87de7d16defb5b5a255f44745","2008-12-20 23:11:56+00:00","Implemented support for loading saves from launcher / via command line.

svn-id: r35454
"
"f3f93da8b8a2770d830e7b66ae76fdd028adeaed","2008-12-20 23:15:46+00:00","- Added comment about error check when loading save on startup
- Updated code to properly test the last three digits of save filenames instead of only the last two

svn-id: r35455
"
"cba892a61b2449192dbf9db9d9502ead6d9be633","2008-12-21 00:48:23+00:00","Disable loading from command line again, it seems it only worked for saves, which did a cd change in DW2 and I only tested those by chance.

svn-id: r35456
"
"76624fc69c28bc422076740521e77f2ba83a2320","2008-12-21 04:36:11+00:00","Add initial Smacker support for The Feeble Files.

svn-id: r35457
"
"587e70809a7579539e4666c46a13e0c40d3e9e7b","2008-12-21 05:55:37+00:00","Return exact frame rate in Smacker player, and minor cleanup.

svn-id: r35458
"
"695c431146a8ffff1adc9f5547dba2c53722dd9e","2008-12-21 09:09:59+00:00","fix wrong format string (bug tracker #2455138)

svn-id: r35459
"
"86f4233883ac8632f21ac84eb1bcebd14353c9de","2008-12-21 11:47:50+00:00","Fixed compilation

svn-id: r35461
"
"f510b28a495d6e82e8e75b86f039f02ca1894d6e","2008-12-21 11:49:58+00:00","Fix warnings.

svn-id: r35462
"
"61085e279ed451aa588a091764bdcb589061c5f0","2008-12-21 12:21:29+00:00","Fix warnings.

svn-id: r35463
"
"94b914b0cb3c1644f031212225e53ea7f5a8bb9b","2008-12-21 12:30:30+00:00","Reduced the memory allocated for DW1 and DW1 demo by 5MB

svn-id: r35464
"
"74b251d45d0ae9bafaa96f36e4e3dc2aebefa225","2008-12-21 15:41:41+00:00","Added a stub to dialogue parser, so that dialogue lines controlled by counters are displayed.

svn-id: r35465
"
"e11c17a005a1efb1be077ceb856c48446e11d95c","2008-12-21 15:42:47+00:00","Moved more GfxObj management to Gfx object.

svn-id: r35466
"
"d0f4f97ea9d8ded6280c2c023a55febecabef5d2","2008-12-21 15:59:05+00:00","Cleaned up the mess with game IDs and game types: removed game types, reduced the game IDs and added game features where necessary

svn-id: r35467
"
"a1eb74622ed894f2fb1d43ce310701ebf486c4fe","2008-12-21 17:14:42+00:00","DS port: Removed mixer.cpp from OPTLIST (saves 11kb code size); added several DEFINES which reduce the binary size further

svn-id: r35468
"
"be66a538b44966c52a48cc59421ccd7b7c27dedc","2008-12-21 17:53:38+00:00","add detection for The 11th Hour demo

svn-id: r35469
"
"829cbc411094bd69052ab97c7846f2f8683796b9","2008-12-21 21:08:17+00:00","Move all video players to separate directory

svn-id: r35470
"
"f6547e0691b59a4450c8c0683fccbd8d568e292f","2008-12-21 21:44:16+00:00","Updated the MSVC project files for commit #35470

svn-id: r35471
"
"2257db88d3b7923f4cf97b81a4a62ab68f5c5ec0","2008-12-21 22:52:44+00:00","- Added some stubs for the SAGA2 games dino and fta2
- Stopped loading the isomap and puzzle game modules for IHNM, as they are not used for that game (this saves some memory for IHNM)
- Removed getDisplayWidth() and getDisplayHeight()

svn-id: r35473
"
"f66bd9c57b4e7ec7342cc3642b6ab73567296411","2008-12-21 23:10:31+00:00","Correct the number of speech available in Simon the Sorcerer 1 & 2.

svn-id: r35474
"
"f3db2bf1c33c763cd8fb998c23af908fabc3487d","2008-12-21 23:43:12+00:00","Added some more stubs for FTA2

svn-id: r35475
"
"e07d509100d2543877c53726e1015b9d5d155db6","2008-12-21 23:47:35+00:00","Updated the MSVC project files for commit #35475

svn-id: r35476
"
"5ef6d928b9c007d7ee5efeded1f426d1c7892ab9","2008-12-22 00:32:01+00:00","Cleanup.

svn-id: r35477
"
"1ccce41c8fde4430671acc835c5f2f7b8caba2fb","2008-12-22 09:47:13+00:00","Fix the rendering of stroked tabs

svn-id: r35479
"
"2ec51ef3585d9450ddf21cff9212c0bc7f0b6a3f","2008-12-22 10:31:01+00:00","Allow the disabled state of the popup widget to be themed

svn-id: r35480
"
"b1999a2a16b83aa031df2ce1cb266b7fea8847da","2008-12-22 11:22:15+00:00","Fixed indentation and removed whitespaces at the end of line

svn-id: r35481
"
"c3bbc4b2794bb8afc1dd3adcd7015aa41231a02a","2008-12-22 11:26:29+00:00","Added Smacker support for the introduction and ending videos of FTA2

svn-id: r35482
"
"1f669687a35b68d790b4a0ad54a19e11ec2a951b","2008-12-22 11:49:49+00:00","Correct comment.

svn-id: r35483
"
"437384a83842c63dea3d0bd542332ed7ea48294f","2008-12-22 14:13:15+00:00","- Split the SAGA resource manager in 3 different ones, depending on the resource type (RSC for ITE, RES for IHNM and HRS for DINO/FTA2). The SAGA 2 HRS resource manager is still a stub
- Added detection for the voice file of FTA2

svn-id: r35484
"
"77ad9f76e5529e77a4c6bb8f27a9d00dbe544bf4","2008-12-22 14:18:06+00:00","Updated the MSVC project files of the SAGA engine

svn-id: r35485
"
"38f7fa6f4a3da11ec4b824baebeb779a29bc2745","2008-12-22 14:30:00+00:00","Added game ID checks for the ITE puzzle in some places that I've missed

svn-id: r35486
"
"3e0b81a99e47265eb793bbc58ac95825cbbc796f","2008-12-22 14:34:32+00:00","Fixed GCC warning.

svn-id: r35487
"
"9a57f4239919370dd323d3962147daef91e32394","2008-12-22 14:36:58+00:00","logicalWidth -> width
logicalHeight -> height

svn-id: r35488
"
"382a46ffc4c0fade840e319d480c5045122763f8","2008-12-22 15:40:11+00:00","Changed the game chooser to make the game candidates not editable and selectable by pressing enter

svn-id: r35489
"
"d1530fcf187e2aaa3e5ac8c237e4f7bc5360fa1d","2008-12-22 18:34:43+00:00","Tweaked the Modern theme colors to make it look more like it did in the old renderer

svn-id: r35490
"
"d0738d553a3ebdf2dc3433801382303151491c28","2008-12-22 20:35:48+00:00","Fixing the flow meter thingy in Urban Runner

svn-id: r35491
"
"95833732b3c23c3352e86a9ffada7b48c930c14c","2008-12-23 08:15:10+00:00","Improve the palette fading (timing and factor calculation), which fixes the introduction synchronization as a result

svn-id: r35492
"
"1162e9a0358be1c6b236cc0517b2c32f86cfb402","2008-12-23 08:24:06+00:00","T7G: Don't wait for the CD track to end

svn-id: r35493
"
"e04b49df62ca5847b45ae1342e25ea84ddf7b043","2008-12-23 09:55:07+00:00","T7G: Fix the stuck mouse cursor

svn-id: r35494
"
"4d7a43734e209142c8ed2e64df82c676b98e848d","2008-12-23 11:18:01+00:00","Fixed bug #1970191 - 'IHNM: Psychic Profile problem'

svn-id: r35495
"
"350943f291f6e6b9506bb790b7e0496504c2e6fd","2008-12-23 15:26:55+00:00","Enumerated the different actor directions and fixed spelling

svn-id: r35496
"
"e27c46359526bdc2cdc1dddfbf5888cffac6f70a","2008-12-23 16:29:26+00:00","Some initial code for HRS resource loading

svn-id: r35497
"
"71d879296b75d0c07277ba7b73c2b8823be8bc82","2008-12-23 17:20:01+00:00","Fix a valgrind error by using the appropiate delete operator

svn-id: r35498
"
"700c69e942e558c8942bdd14dad52844dcb0a826","2008-12-23 19:16:38+00:00","changes for devkitPPC r16

svn-id: r35499
"
"13801bd4a5452179f9cfb5e136276e2e2beabac6","2008-12-23 19:17:18+00:00","drop mpeg2 support

svn-id: r35500
"
"25a2ea20926f21014cbf7a4ba880aae542cdbd15","2008-12-23 19:18:25+00:00","enable groovie and tucker

svn-id: r35501
"
"80e113093ab6f696b432b64e34155efba62d5265","2008-12-23 19:19:40+00:00","increase the height of the overlay so the modern theme fits in 16:9

svn-id: r35502
"
"328991f4eb917f12cff0e48bd8e5e3c2ec4812a8","2008-12-23 19:20:20+00:00","tweak the video mode some more to get rid of black borders

svn-id: r35503
"
"4feac7a2e055381941add95a0ef24c40306fed51","2008-12-23 19:23:11+00:00","changes for the new libfat version. the root node now yields a list of all mounted devices

svn-id: r35504
"
"e570d0942fc0489eaf3a15fb5836314c599cadb7","2008-12-23 19:50:24+00:00","480p video mode for gamecube if a component cable was detected (contributed by hkz)

svn-id: r35505
"
"1b33233e86dc31e15f422a8fc2d14ac0683ca77a","2008-12-23 20:20:30+00:00","endian fixes

svn-id: r35506
"
"672b82324a0c7d474d1c1a8eb0ca54c3c60dd386","2008-12-23 20:41:25+00:00","Silenced MSVC warnings

svn-id: r35507
"
"a93cf38f0bc877ee5741eb172984cfe514e77891","2008-12-23 21:17:04+00:00","change PPINIT's bools to uint8 to fix crash on OSX (see revision 33285 - must've been accidentally undone by the
DW2 merge)

svn-id: r35508
"
"a159fc893767dedd85d7ac70452704171b5de508","2008-12-23 21:17:39+00:00","Update detection of the 11th hour demo. The disk.1 wasn't with the other files.

svn-id: r35509
"
"a150aea638988eaf76e712f2ab9365e570df0697","2008-12-23 22:01:47+00:00","Fixed warning.

svn-id: r35511
"
"51c22d99050196c0ba528204e9db3609ae3e27ae","2008-12-23 22:37:24+00:00","Added stubs for the missing visual effect opcodes

svn-id: r35512
"
"f75893a2940901493b7901bda15b796aeab3fd74","2008-12-23 23:36:38+00:00","Modify the SliderWidget value by using the mouse wheel

svn-id: r35513
"
"604b8f08b6c52b027972457e52932f7c95eb353b","2008-12-23 23:47:16+00:00","Modify the PopUpWidget selection by using the mouse wheel

svn-id: r35514
"
"ff45c8aa65bc38ea6f97584874b53fa8fa862d2a","2008-12-24 00:05:42+00:00","Added FIXME in ThemeEngine::drawSlider.

svn-id: r35515
"
"1c238fe1e16fded29ef1778e5dd3a6035900145a","2008-12-24 00:18:46+00:00","Removed Ender from SCUMM credits (matching other retired team members, like ludde and yazor)

svn-id: r35517
"
"bce76931d36d3b8cdda8b2b93521d9fbb1576c96","2008-12-24 01:11:58+00:00","Added valueToBarWidth to calculate SliderWidget's bar width like it was done before (as discussed with LordHoto)

svn-id: r35519
"
"37bb8daf3dcaf9a53ae94ac8f913f5b4bd8ff0c4","2008-12-24 05:41:27+00:00","T7G: Implement runtime script fix for cake puzzle bug.

svn-id: r35520
"
"6c1dc0c03bcdbfeeb3bf8be7285d43228f244846","2008-12-24 09:51:07+00:00","Simplified destructions of Balloon objects.

svn-id: r35521
"
"41ebd732f59bd14220c050225153082f29e75b9b","2008-12-24 09:53:00+00:00","Fixed display of location background when changing from a scrollable to a non-scrollable one.

svn-id: r35522
"
"c2c439b53d35ab75e7f7eaec00424caedb99e5e7","2008-12-24 09:59:18+00:00","Slight cleanup

svn-id: r35523
"
"cae7c2346f9c4fad8e8ad191e7e34b4968f27096","2008-12-24 10:35:34+00:00","Questions in dialogues can have up to 10 answers in BRA.

svn-id: r35524
"
"6fed0af5d1acc0a629bd21cea735abfebca38271","2008-12-24 15:30:31+00:00","Allocate just the required memory for scripts (spotted by sev)

svn-id: r35525
"
"74024ff3e52804b0247364a5dfeff2e9520e48f8","2008-12-24 15:57:43+00:00","Moving the dither code to graphics/

svn-id: r35526
"
"85bfce72d306df155dbbd79a20aac7ca0f4595fb","2008-12-24 16:10:55+00:00","on systems that need alignment, allocate chunks that are a multiple of 4 to ensure we get aligned chunks.
Otherwise, some pNode structs will be dereferenced from unaligned addresses.

svn-id: r35527
"
"e98f573688875dd53dfd14131b11382e5663b78c","2008-12-24 16:13:09+00:00","add comment for clarification

svn-id: r35528
"
"eee07138c99a6551fcc83789c73605f16e1cfd61","2008-12-24 16:44:14+00:00","Updated the MSVC project files for commit #35526

svn-id: r35529
"
"00baeacf609e013bf671840aeea3cdf7741733b6","2008-12-24 16:59:37+00:00","Documenting the dither code a bit more and removing SierraLight's not needed height argument

svn-id: r35530
"
"891fb0f5c04a2a82bf50f1c470e62fa8d10d0b24","2008-12-24 22:40:10+00:00","Silenced signed/unsigned warning

svn-id: r35531
"
"c8ae5fa9d2e778f85bbfc6e0df5d6c3cc66824fa","2008-12-25 00:16:29+00:00","Fixed compilation with g++4.3

svn-id: r35532
"
"45529628e17a0425a7559aa5787e55886d90fc5d","2008-12-25 00:18:01+00:00","Fix for bug #2464538 'PARALLACTION: Compiler error on AmigaOS4',

svn-id: r35533
"
"be777935f0df7c6d759fc84bfa0b08925f5c2502","2008-12-25 03:00:24+00:00","Fixed valgrind warning.

svn-id: r35534
"
"e27110d3cc17af704d54274c1d504edbc7cc6090","2008-12-25 03:29:55+00:00","Fixed yet another valgrind warning.

svn-id: r35535
"
"c8ca4d59bc5caedbef9e1a869940028e2459fa83","2008-12-25 12:09:24+00:00","- Implemented the SAGA2 resource loader
- Some cleanup

svn-id: r35536
"
"a9a91de3cddd560ab59b67dbe412c3588b67036d","2008-12-25 12:11:38+00:00","Oops

svn-id: r35537
"
"52f464534cfa9e61bb5a3679f1b46e14d283adcb","2008-12-25 15:16:53+00:00","Cleanup

svn-id: r35538
"
"dd7ea11ac4b975f205df180d1af2efe5a99d7e84","2008-12-25 15:19:33+00:00","SAGA2 HRS resources should be loaded correctly now

svn-id: r35539
"
"4d249cde7645610e07010a1619517f88115094f8","2008-12-25 18:10:21+00:00","Slight cleanup

svn-id: r35540
"
"f4fc0a9176d7f0ecfe68989d60a9d5ee0a29a120","2008-12-25 20:36:58+00:00","Fixed warning

svn-id: r35541
"
"df20d264fd300a26b15f46dfdfc2d9aa94810d5f","2008-12-25 20:40:00+00:00","Pushing down some header deps (on common/system.h, mostly)

svn-id: r35542
"
"6837416556cb84b0f84a1bc231be8d4d59e835bb","2008-12-25 20:53:59+00:00","Made Engine::_timer protected

svn-id: r35543
"
"6510226216ee135afa2196d40c80445f8de0b1ac","2008-12-25 23:55:36+00:00","Renamed NewGui to GuiManager

svn-id: r35544
"
"c3aec16033ffe04edabff427b64db405a7de797e","2008-12-26 00:26:34+00:00","Some 'cleanup' of Gui::ThemeLayout

svn-id: r35545
"
"c9105aa58f3b0a210c32aa51e0c1ff4ebe896241","2008-12-26 00:43:52+00:00","Fix for bug #2210082: GUI: Crash in GMM when changing scale factor

svn-id: r35546
"
"c59f5919a23419203f5a7e73bb8bb658ac50b14d","2008-12-26 00:57:30+00:00","ThemeLayout::getParentW was calling getHeight instead of getWidth by mistake (though this didn't seem to cause any problems anywhere... ?)

svn-id: r35547
"
"131cb5a05ac14f1608030437aed72883f4ddd0d3","2008-12-26 01:08:49+00:00","Merged ThemeLayoutHorizontal and ThemeLayoutVertical into a new class ThemeLayoutStacked (suggestions for a better name are welcome); stored padding data in a Common::Rect

svn-id: r35548
"
"751df013e1fb8e521028f2babb1ff47067723c04","2008-12-26 01:13:08+00:00","If more than 8 items have to be resized in a stacked theme layout, abort with an error (instead of silently trashing the stack)

svn-id: r35549
"
"b3b23642bfc1da1deb8362b9dfb8c8f01b430c5b","2008-12-26 05:44:32+00:00","Fixed selection of invalid frame numbers. This means that most locations can be switched to and don't crash up anymore!

svn-id: r35550
"
"3bbbcc38495ca65f44f6cf13d00bcbb3f4ef406a","2008-12-26 06:18:39+00:00","Fix crash after selecting name in Blue's ABC Time Activities, caused by an invalid write in wizPackType1().

svn-id: r35551
"
"fb14701b68d797d4133d6f657d6ca165953e30a3","2008-12-26 08:35:36+00:00","Cleanup.

svn-id: r35552
"
"91de740d44710835f9b48f9f7ce787aeea6094df","2008-12-26 11:04:45+00:00","Implemented (some) main menu code for LoL.

svn-id: r35553
"
"5555ba9aaf8d52e2b4bcfe968d952808522d1c37","2008-12-26 11:05:47+00:00","Fixed memory leak.

svn-id: r35554
"
"1029c94c863b928780694c0460dacb6dcd3ea59c","2008-12-26 11:07:52+00:00","Oops added files I forgot in r35553.

svn-id: r35555
"
"1e60714ff7b16b5a3018a3eae0a6bd89d2692dcf","2008-12-26 12:04:59+00:00","Updated the MSVC project files of the kyra engine

svn-id: r35556
"
"d18d2d72a8ce4688042fecb53481c8cc67d284f6","2008-12-26 12:15:51+00:00","Fix for the SliderWidget glitch when showing very small values (and potentially for other small widgets)

svn-id: r35557
"
"2ffaf0ee1a508b0fa8ed9b46013bc41bd7e5ce88","2008-12-26 12:27:55+00:00","Fix assert when playing Safari Snapshot in Blue's ABC Time Activities, caused by code difference in earlier HE games.

svn-id: r35558
"
"231f5d95b2b97a8d28e7f8453ce5a84263530d47","2008-12-26 12:50:30+00:00","Blue's ABC Time Activities is supported.

svn-id: r35560
"
"24c37e7d82194f52d89aa8b53464aa43452f77b0","2008-12-26 13:30:06+00:00","Adding a French entry for my US/FR version of The Last Dynasty

svn-id: r35561
"
"dec4f1d0848c6fcdeaa252859d1c1c1629039ff9","2008-12-26 13:50:12+00:00","The verb<->textId assignment is needed only for ITE

svn-id: r35562
"
"a621158cee2c6ac1fe29bf6378f928b62abc23a1","2008-12-26 14:38:45+00:00","Added const keyword to static data.

svn-id: r35563
"
"7d99fbbdf7e215daef9121e5f438586939178df7","2008-12-26 23:39:13+00:00","Update debug message.

svn-id: r35564
"
"56dbde4d57316a5d6a4685a3a100f1ca64851451","2008-12-27 02:36:08+00:00","Fix video playback in Blue's Clues games.

svn-id: r35565
"
"6187ec38fb05ce013e5be59a21acba8b03f7334e","2008-12-27 04:11:28+00:00","Added extra endian conversion. This may fix bug #2462700

svn-id: r35566
"
"f5b61ffd03363c3d6e2b9a723f2d4e15cc6e33e0","2008-12-27 06:11:56+00:00","Add basic code for wizImage compression type 5.

svn-id: r35568
"
"2d3c506d9a38a7b377aa39f83d30f6080bafbd62","2008-12-27 06:13:21+00:00","Ooops, correct return value.

svn-id: r35569
"
"109d55f8d331ec8d70442d20eccc7046c8901b27","2008-12-27 07:17:46+00:00","Add more stubs for MBC.

svn-id: r35570
"
"69f4b7a38388c444d2911d07a3636a65dd1a4d20","2008-12-27 14:30:30+00:00","Got rid of ThemeLayout::getDialogData; added some comments, asserts; moved getParentW & getParentH to class ThemeLayoutStacked

svn-id: r35571
"
"f26f85ee96625003edc08b370e6f3a08505a075d","2008-12-27 14:36:28+00:00","GUI: Added Widget::setVisible convenience wrapper

svn-id: r35572
"
"1d099c0d402a23def85839f4759558700fcd1ad1","2008-12-27 16:07:10+00:00","GuiManager::runLoop: do not call OSystem::quit() when receiving EVENT_QUIT, just return to the caller instead

svn-id: r35573
"
"c5cabc7b2aba18b12270986a265469f72166b7e0","2008-12-27 16:09:08+00:00","Renamed some stuff

svn-id: r35574
"
"fb5f64b969328e7618b080d59378dfd6dc1bacdc","2008-12-27 17:09:28+00:00","Clarify ZipArchive constructor usage

svn-id: r35575
"
"2fec0a30882c057a3925c739fca0f1125daea91d","2008-12-27 17:16:48+00:00","Moved addDirectory from SearchManager to SearchSet; changed several places from using '++it' instead of 'it++' to iterate over a list (this is more efficient)

svn-id: r35576
"
"db1a4b478940677c5a8d9128a283b74ad1c49104","2008-12-27 18:01:19+00:00","The BitStream class has a 2 byte lookahead. Hopefully, this will fix the invalid reads in the audio stream

svn-id: r35577
"
"87a27477441ac9812406eb441465a5b9fddae85d","2008-12-27 18:03:27+00:00","Turned FSNode into a ArchiveMember subclass; removed the now obsolete FSDirectoryMember; moved FSDirectory from common/archive.h to common/fs.h

svn-id: r35578
"
"2b37e183dcdb1c95db71dc07dace4c0ef7b9ddc7","2008-12-27 18:57:36+00:00","Fixing the invalid read (BitStream having a 2 byte lookahead and all :P)

svn-id: r35579
"
"32ac8d633ace312ed3f5b0c3669786dba06fb009","2008-12-27 19:30:11+00:00","Slight simplification

svn-id: r35580
"
"a4a209a2f60a709051b0a6a4b20288569e6f4c97","2008-12-27 19:37:49+00:00","Initializing the lookahead values, too. No more valgrind warnings anymore :)

svn-id: r35581
"
"213c09c211d993a6db3dfc158a091484418563db","2008-12-27 19:53:54+00:00","Adding a magic id and a version number to the PaletteLUT cache

svn-id: r35582
"
"88ac9b5a9be0a4ee000b302a357d6bc7ee2c2305","2008-12-27 20:21:55+00:00","Silenced warning about redefinition of ARRAYSIZE under Windows, after the latest FS changes

svn-id: r35583
"
"6d072a321b05693fefdbe0f9db1db0b8b76324f1","2008-12-27 22:47:34+00:00","Adding support for specifying an index that will be ignored when building the PaletteLUT (for transparent values that should never be found)

svn-id: r35584
"
"84b6db7bf3ed20e3b030708882156c63978f2a73","2008-12-27 22:48:00+00:00","Fixing some 16bit graphics

svn-id: r35585
"
"b820055cc3e8d52d15910b4946c42b1f083375a6","2008-12-28 08:02:57+00:00","More graphics fixes. blit24 (which isn't blit24 but just a slightly different blit16) works now

svn-id: r35586
"
"b07ac4d1f7f8d7abcf4d59c6a74dafdcd948a055","2008-12-28 09:28:43+00:00","/That's/ the blit24

svn-id: r35587
"
"c1f6dcbb5259bcad599351678919a08ccf1211be","2008-12-28 11:27:09+00:00","Fixing the semi-transparency

svn-id: r35588
"
"ab2297e28bec2704a08642f283afc9ad7ba145cf","2008-12-28 16:53:57+00:00","Made the F6 and F5 (SCUMM only) menus fit in 320x200. I'd appreciate if someone
who's more familiar with this could look at my changes, in case I messed up.

svn-id: r35589
"
"acdd0354b22d8aca7959743575052118e2c486a2","2008-12-28 17:43:52+00:00","Removing debug stuff I accidentally left in

svn-id: r35590
"
"017561a2e1da047b94e224e27062219fe7db11bb","2008-12-28 18:00:19+00:00","Fixing the save/load list box's width

svn-id: r35591
"
"25ac7c7fb0566202f0241ca88f950e38af156d07","2008-12-28 20:15:00+00:00","1) Add the KeysDialog layout to the modern theme. 2) Improve somewhat the layout of the KeysDialog

svn-id: r35592
"
"ec09d76b18353155b49d30d4b3f1b47c3ac5cc87","2008-12-28 20:16:53+00:00","fix buggy repaints caused by multiple calls to the overlay toggles

svn-id: r35593
"
"fccaa73ae730b52193d84818f90ad4af1b76069f","2008-12-28 20:19:22+00:00","workaround for ce's limitation of cwd in _access too

svn-id: r35594
"
"d81782977e2f17f9906db7548023f748be09a6a6","2008-12-28 22:09:31+00:00","LOL: - fixed some bugs in the main menu code (premature pak file unloading etc.) and added floppy support

svn-id: r35595
"
"4f576ef6c0855187b5d7a5308e75c6c58ea2ab97","2008-12-29 00:03:09+00:00","Implemented the non-monospaced font in the save name input field

svn-id: r35596
"
"c5411e8b585e1ae9c3b3626b9f9d3918b6b2bf8d","2008-12-29 00:11:47+00:00","Explicitely using MIN<int>(). This should fix bug #2473627

svn-id: r35597
"
"d8abe49a7822679f23980b51ab96c3186d5846b6","2008-12-29 06:23:52+00:00","T7G graphics enhancement: Add the unused skeleton graphics to the maze

svn-id: r35598
"
"4b4d752ba1aa590e4616e863f62e9113e2000fe5","2008-12-29 10:03:34+00:00","Add Blue's Treasure Hunt.

svn-id: r35599
"
"927cd202e5b0c0d3134717a127e442926e012ffa","2008-12-29 11:11:48+00:00","Add more versions of Blues Clues games.

svn-id: r35600
"
"702848c17b15602c9ebdbee613482d6209ed0ba0","2008-12-29 11:14:48+00:00","Silenced MSVC warnings about uninitialized variables

svn-id: r35602
"
"a0250fe0b1def0f4e2848cfe29785bbeaae4cf07","2008-12-29 11:55:09+00:00","Replaced the old stack macros with ScummVM's FixedStack class.

svn-id: r35603
"
"e4d2f584176823202e03fec0afc9a7bdcbb7d412","2008-12-29 13:59:35+00:00","Cleanup.

svn-id: r35604
"
"ce73425bef0832911f01ac24889fb0725fd595a2","2008-12-29 14:03:27+00:00","Fixed character selection screen.

svn-id: r35605
"
"6639ba726c59eef6938e24a88a79981f20903b19","2008-12-29 14:06:31+00:00","Extended some comments.

svn-id: r35606
"
"28a5a18a217aaa649b8f89f580b293f0fe34de63","2008-12-29 14:11:26+00:00","Replaced Hex Dumper in Binary theme parser.
Turned parsing classes into New Style classes.

svn-id: r35607
"
"8ea422f415f30fc5e996f09815c0cd395151267a","2008-12-29 14:37:51+00:00","- Cleanup
- Implemented Screen_LoL::fprintString

svn-id: r35608
"
"030de671b5a512a36619055af58224ad38af9a51","2008-12-29 14:44:06+00:00","Reset screen dimension settings after closing menu.

svn-id: r35609
"
"3e068720016beb2da765f47cf620dc455a19048e","2008-12-29 15:04:46+00:00","Silenced MSVC warning

svn-id: r35610
"
"2a5c51364768b132e12904e0c8191274d9cd795c","2008-12-29 15:08:10+00:00","Fixed typo

svn-id: r35611
"
"e432dad215ed01feb9f761fce61ee6d57510f505","2008-12-29 16:17:51+00:00","Changed PSP graphic modes to use low resolution themes (possible fix for bug ID 2458134)

svn-id: r35612
"
"49976794c4838b254da110d45f0cb6ceea95ecb7","2008-12-29 16:22:52+00:00","Updated Theme Package generator to work with Python 2.6-3.0 (push Python forward!)

svn-id: r35613
"
"842af1ee4aa355da0b99daeb82b6ea9b2eb4d698","2008-12-29 16:58:48+00:00","Add detection for Russian The 7th Guest.

svn-id: r35614
"
"9a5f45a40c433cce2965eb4fc567296fb32ab6cc","2008-12-29 17:30:29+00:00","- IHNM Mac loads correctly again
- Removed isBigEndian from GameSoundInfo
- Removed GF_BIG_ENDIAN_DATA
- Stopped loading the options panel for non-interactive ITE demos (it doesn't exist)
- Fixed crash when exiting from non-interactive ITE demos

svn-id: r35615
"
"14434659bc388ee44a2e21090ab20128788481ad","2008-12-29 18:35:18+00:00","- Removed game sound information for sound types that it can be determined automatically. The game sound information left is now used as override info for certain sound types (e.g. PCM)
- Added stubs for Shorten audio type, used in SAGA2 games

svn-id: r35616
"
"a4f2be4638f0401f0979e71195510fdcfcee7f25","2008-12-29 20:33:09+00:00","Fix for ''LAUNCHER: '(Mass) Add' buttons + built-in GUI = buggy'' (bug ID 2472185)

svn-id: r35617
"
"ad2fc3ee90e1b11e7d2777d91f994ab1d7677ce8","2008-12-29 21:46:44+00:00","Removed unused variable.

svn-id: r35618
"
"f32f4e5cec18c95daa13ff59d993cdc82d43f825","2008-12-30 05:14:27+00:00","Another change I forgot to do in revision 35447.

svn-id: r35619
"
"bc378bdb8f127f1f1923f30402fb4a12d83170b8","2008-12-30 10:19:16+00:00","Fix for dialogue from Stauf and Ego during puzzles.

svn-id: r35620
"
"90835aa82c915700943a70d9246f2fb3a14f77c8","2008-12-30 14:28:44+00:00","Implemented FR #2475519 'Enable F1 game menu in Full Throttle'.

svn-id: r35621
"
"b7178ecbf6dc4099fa1f7ab856281673799b3546","2008-12-30 14:41:44+00:00","Cleanup.

svn-id: r35622
"
"771ecec9832aca4af9df09543ad34ede752638a9","2008-12-30 18:36:22+00:00","added RM_REC, it's required for clean:

svn-id: r35623
"
"068d2cd9b94e8760084114627d87e0ff1d500711","2008-12-31 09:44:45+00:00","Adding a fallback for the Mac version of Gob2

svn-id: r35624
"
"82b9ace2e218dbeffbcbca6327a623d347ff2678","2008-12-31 11:30:40+00:00","Added an entry for the French Mac version of Gob2, as supplied by koalet in bug report #2478585

svn-id: r35625
"
"cae6bdac08b9deefe269c59b0d6455df8351876c","2008-12-31 11:46:21+00:00","Preliminary Shorten audio support for SAGA 2 games. It's still very wrong and needs further work, but it's a start

svn-id: r35626
"
"136390a5407eaf3a7ee24ce9e78d7aa3bb3e6a3f","2008-12-31 13:00:09+00:00","Commented out part of the code that corrupts the heap for me

svn-id: r35627
"
"6f24756a1536c6ffe32b14c47b3df03b3b0f0a21","2008-12-31 13:05:26+00:00","Fixed GCC warning.

svn-id: r35628
"
"1c0fe874102d1abfa980ce30f3aeda6fc51046d5","2008-12-31 13:43:50+00:00","Clarified some ImageMan doxygen comments

svn-id: r35629
"
"6a2778cccc0af4c8f3d0dccdd804b66e135e6485","2008-12-31 13:59:00+00:00","Fixed warning

svn-id: r35630
"
"be73014f67d053cb5cdfb5279a214e5ce70c4bcf","2008-12-31 14:10:23+00:00","ThemeEngine changes:
* removed lots of dead code / methods
* fixed bad Doxygen comments (they were attached to the wrong member variables)
* some cleanup

svn-id: r35631
"
"9f0a401047ce570756a9b30ed60038031883437a","2008-12-31 14:37:22+00:00","Removed 'const' keyword from kDrawDataDefaults. MSVC complains that ''const' static/global data initialized with compiler generated default constructor fills the object with zeros', in ThemeEngine.h line 123

svn-id: r35632
"
"a8a4ba3a98761bb9f358bb6cac806ccc77d496a7","2008-12-31 14:49:53+00:00","Prevent erroneous access of negative array indices

svn-id: r35633
"
"587a691b122961e44926f0a0ff25590f754940ee","2008-12-31 14:54:30+00:00","Proper fix: Readded the const keyword, together with the missing data type in ThemeEngine.h

svn-id: r35634
"
"693b9df09897752a6ad3a826ad82110d47308935","2008-12-31 15:03:17+00:00","cleanup

svn-id: r35635
"
"167a9cb767737077cc5b8a70d905a1840a726949","2008-12-31 15:07:30+00:00","ThemeEngine:
* more cleanup, esp. of Doxygen comments
* completely got rid of ImageMan, instead use the same Common::Archive to load bitmaps and XML data from

svn-id: r35636
"
"c7a2121addc08370fcc93607792c8b65f69c98bb","2008-12-31 15:09:32+00:00","Added possible FIXMEs

svn-id: r35637
"
"569636eb54fcc636773e0a28382f8f4d1c8d3a3f","2008-12-31 15:11:39+00:00","Removed Graphics::ImageMan. Nothing uses it

svn-id: r35638
"
"890808fa4bc417d511493c14aae1cfffa75136b6","2008-12-31 15:23:08+00:00","Rewrote to get rid of 'condition is always false' warning.

svn-id: r35639
"
"29a4403a211424f7840a51603f0db0acfa907104","2008-12-31 16:06:55+00:00","Display an error message if the cutscene cannot be found. (Afterwards, ScummVM
will trigger an assertion and die, so this is still far from ideal...)

svn-id: r35640
"
"3cc1c03dd67701e020757504ec038f47e5b44fe0","2008-12-31 17:18:23+00:00","Added the French Mac version of Lost in Time, as supplied by koalet in bug report #2479034

svn-id: r35641
"
"1033468dacd0c959beb077419c79dd81493c0407","2008-12-31 20:41:58+00:00","Change link to the svn change log to viewvc's change log. The old one hadn't been updated since December of last year.

svn-id: r35642
"
"e9693874cd654ec6f9fb052e4e6f01652f4c3eb6","2008-12-31 21:14:09+00:00","Added punctuation to the error dialog I added before.

svn-id: r35643
"
"94548ed27cac7b5133c83da03cca22bda47ea61f","2008-12-31 22:10:09+00:00","Several fixes and cleanup for sound resource loading. Sound information for sound types that are detected automatically is read from the files themselves

svn-id: r35644
"
"220af8711271b50d75a47c9bb997f048a43d4431","2008-12-31 22:11:20+00:00","Proper fix for non-interactive ITE demos (the previous one was affecting sprites for other games)

svn-id: r35645
"
"9d80f210314e8924b87925b8d309aed47da876de","2009-01-01 07:21:16+00:00","Add Italian Amiga AGA version of Simon the Sorcerer 1.

svn-id: r35646
"
"05d3633eb32ead8e11435b85a9db1ddaa1482fcb","2009-01-01 08:14:43+00:00","Restore the text background of pop-up widgets to fix the glitch on classic theme when changing the option with the mouse wheel

svn-id: r35647
"
"696897b0583ad52ebc6f7666525277847619a8ce","2009-01-01 15:06:43+00:00","Whoa! Removing trailing spaces.

svn-id: r35648
"
"41dce61a30c30487d09020137176ceff504d0dff","2009-01-01 16:02:43+00:00","Simplified sound resource loading

svn-id: r35649
"
"c62efbcab33497487f8620eaed352b69810664fa","2009-01-01 17:02:45+00:00","Added two FIXMEs to global options dialog, related to theme selection

svn-id: r35650
"
"6561a7bf36a99b01bbebf926e9805308a3e20b05","2009-01-01 17:05:05+00:00","Set/unified svn:keywords for all *.h and *.cpp files

svn-id: r35651
"
"9752882f8bbe6070f69638d3c54156a1c0e61204","2009-01-01 21:32:30+00:00","Fingolfin says: If an #ifdef __SYMBIAN32__ is needed here, the Symbian folks should add it. In the meantime, this FIXME comment serves no purpose :)

svn-id: r35652
"
"97e9b28c8ac480e7ba9819c5525a1d8bec45d2f4","2009-01-01 21:41:55+00:00","Revamping the handling of GUI themes a bit:
* Moved the code which handles fallback to the built-in theme from ThemeEngine to GuiManager
* Changed ThemeEngine::init() to only init&load the theme; no more messing with the overlay
* Commented to a somewhat obscure line in the GuiManager event loop (taking eriktorbjorn's original commit message for that change as comment text)
* Cleaned up the way the Dialog constructor ensures that the current Theme is correctly setup
* Got rid of varios members of ThemeEngine
* Changed ThemeEngine members _screen and _backBuffer from Surface pointers to just plain Surfaces
* Changed ThemeEngine::loadFontFromArchive to use _themeArchive instead of creating an Archive from scratch
* Renamed ThemeEngine::getThemeFileName() to getThemeId() (and some associated tweaks)
* Lots of further cleanup and tweaks

svn-id: r35653
"
"3851bda05f86d8c5dfc37bac83585be479edb310","2009-01-01 21:52:15+00:00","cleanup

svn-id: r35654
"
"685f1f985f8a66f00a60000d1f1d9f6815dcab55","2009-01-01 22:15:21+00:00","Fixed a typo in a comment, plus some slight re-wording.

svn-id: r35655
"
"7122248c72a1dab060b6c5bcb5a9e05ed3d4098c","2009-01-01 22:49:44+00:00","Use the proper samples file name for 11h

svn-id: r35656
"
"71001f23c404630ff83acf98062e66ee632fb4d6","2009-01-01 23:54:09+00:00","Cleanup.

svn-id: r35657
"
"15784edb08c2977ff862551cee38cd6e38896e7d","2009-01-02 00:50:53+00:00","Cleanup.

svn-id: r35658
"
"655a1cb2278a8b6f89d22049a68d58d287b36efa","2009-01-02 00:52:01+00:00","Oops. (stupid c&p bug)

svn-id: r35659
"
"063cff91d58b64baf00010405d0cc0385c610fe3","2009-01-02 01:21:38+00:00","Prevent the 'Confirm exit' dialog from being invoked recursively

svn-id: r35660
"
"e6b9a3e4763f7802cbc5b7f7c12f12c5995ee23c","2009-01-02 01:23:17+00:00","GUI: Fix the recent regression where starting games directly (bypassing the launcher) would result in a black screen; also reinit the theme (which each time causes the full XML data to be parsed) less often

svn-id: r35661
"
"e7bf64744b13b86cce707cc4de3516cd8723c90e","2009-01-02 01:31:46+00:00","Got rid of GuiManager::clearDragWidget instead handle it via a new widget flag WIDGET_IGNORE_DRAG.

svn-id: r35662
"
"903f52cff878bf4584bdcfd5ceb1b6885504196a","2009-01-02 01:32:40+00:00","GUI: Create the _themeArchive once and then keep it; also do not reload theme bitmaps needlessly

svn-id: r35663
"
"8dfa9a70f26f508779d674520673718ae1b6e995","2009-01-02 01:34:53+00:00","Fix bugs #1940871: 'AGI: Fan(Beyond Titanic 2) - Lockup' and #1874918:
'AGI GR: Text wrapping broken on long strings in the mines' by replacing our
text wrap routine with one based on GBAGI.
Also made debug messages more clear.

svn-id: r35664
"
"826094426073e69a6aa9ba377f4848d0314cde6c","2009-01-02 01:36:38+00:00","GUI: Redraw screen ASAP if the theme was changed

svn-id: r35665
"
"1b41a49fc55c1b6348f4bdcc59441a5c05a723ae","2009-01-02 02:48:06+00:00","Modified the way button highlights are processed when a widget is in dragging mode. This allows for example unhighlighting of a button when the user clicked on it but moved the mouse away.

svn-id: r35666
"
"4ec7876972d268fa835852453a0e3c800cf16698","2009-01-02 03:03:06+00:00","Reverted the handling of mouse move events, now the slider widget should be highlighted correctly again.

svn-id: r35667
"
"690b88f9824a85bc0f9abed12c2ec6b7a72b5ced","2009-01-02 03:21:40+00:00","Renamed gui/newgui.cpp -> gui/GuiManager.cpp and gui/newgui.h -> gui/GuiManager.h

svn-id: r35668
"
"b8fe877fa8e376c0b4b8971f83c649c58bc288d0","2009-01-02 09:53:11+00:00","Add German, Italian and Spanish VGA versions of Cruise for a Corpse.

svn-id: r35669
"
"32f73fd34cfbae2c80ab2d502617a45511f486f2","2009-01-02 13:59:34+00:00","Rewrote the SAGA script system to use an opcode table, like in other engines

svn-id: r35670
"
"a09a7678f4c4af4aadd1e0b58fd62becc1a6125e","2009-01-02 14:09:21+00:00","Updated the MSVC project files for commit #35668

svn-id: r35671
"
"d5b6996c4521d4d02b2caae3802f5b120c632783","2009-01-02 16:52:38+00:00","- Split the IHNM script functions into a different file
- Added two new defines, ENABLE_IHNM and ENABLE_SAGA2 (enabled by default), which can be used to remove the parts of the SAGA engine which are specific to IHNM and SAGA 2 games. Hopefully, this will reduce the size of the engine even more for platforms with little memory (e.g. the Nintendo DS)

svn-id: r35672
"
"0633c1b1bb0fff6fb28a99302bd30aad975210d7","2009-01-02 17:08:04+00:00","Added changes to configure, which I forgot to do in my previous commit

svn-id: r35673
"
"c1c206a455c2ea5ab0df4051ce8e2f0478a0e1c1","2009-01-02 17:58:54+00:00","mutex fix, we actally want recursive locks

svn-id: r35674
"
"18e67a8ed7b75b6be3848e29236a2227510bb9c8","2009-01-02 18:00:12+00:00","disable buffering for newlib's poor fread() implementation

svn-id: r35675
"
"8467dc73612a6809ab4ee21fb2f2cd3d5eef4271","2009-01-02 18:01:19+00:00","More configure code for additional SAGA engine features.

svn-id: r35676
"
"007c39a84d4af104a4778ebb8afd9de2dc52cede","2009-01-02 18:20:15+00:00","Let compiled subengines be visible in About dialog.

svn-id: r35677
"
"7c629b5f6a0daf5c9c62708774eefdbebc6dece9","2009-01-02 18:44:15+00:00","Wrapped SAGA 2 game entries around appropriate defines

svn-id: r35678
"
"90d762c2612028892133d4aaf616b9eede9e397f","2009-01-02 19:10:51+00:00","Wrapped more engine-specific code around appropriate ifdefs

svn-id: r35679
"
"1b0f94547120435cbda18387ff4d936ed84d9276","2009-01-02 20:03:45+00:00","- Added support selection of themes via a basename again (This should fix bugs #2473213 'GUI: Theme selection oddities and regressions' and #2219605 'GUI: theme detection')
- Changed default value to 'scummmodern' instead of 'scummmodern.zip' for 'gui_theme'
- Moved theme listing code from ThemeBrowser to GuiManager

svn-id: r35680
"
"6fd559b4f66bae48cb0c86ed5ebb2ec4a9814c59","2009-01-02 20:21:21+00:00","- Fixed --gui-theme command line description
- Added --list-themes command line command to list available GUI themes

svn-id: r35681
"
"f9fa6e2c4b2e0fbb257479c6a46ef5901e30997b","2009-01-02 20:36:51+00:00","- Changed description for --list-themes to be consistent with descriptions of other --list commands
- Updated description for --platform option

svn-id: r35682
"
"105d2189124cd7993cf13725fec4d52a4d253586","2009-01-02 20:42:36+00:00","Disable the SAGA 2 sub engine by default (it's WIP)

svn-id: r35683
"
"1d2c446395abe6c8e4bc5639259204701a42b4d9","2009-01-02 21:24:13+00:00","- Moved theme listing code from GuiManager to ThemeEngine
- Only show builtin theme in theme list if GUI_ENABLE_BUILTIN_THEME is defined
- Introduced _themeFile to ThemeEngine again and changed _themeId to store the basename of the theme

svn-id: r35684
"
"a33a5d0f146709fb4d20bc49abac3b81da73cc59","2009-01-02 21:52:32+00:00","Fixed the way how screen changes are tracked. This should fix a crash when doing an RTL from COMI when a 3x scaler is enabled.

svn-id: r35685
"
"95074af35ce7e91b0b7cc9bbafde134aeabb7ed7","2009-01-02 22:10:00+00:00","Fixed crash when returning to launcher from a 640x480 game running with a non 1x scaler.

svn-id: r35686
"
"3558cf0e5ee9abed62ee8d358c5f03dfca242b3b","2009-01-02 22:16:33+00:00","Cleanup.

svn-id: r35687
"
"6a7e4e3c15f0f27f2d5f5baa4e11e0ca596bf45d","2009-01-02 22:29:13+00:00","Fix compilation on Mac OS X; tiny simplification

svn-id: r35688
"
"40d6a3c1e55c289573d8cbd6c5d91fda54bfccee","2009-01-02 23:16:08+00:00","Split the script module into two parts, for SAGA1 and SAGA2 games

svn-id: r35689
"
"9e2f9b338f4eb42734cbbddcb7a328002e49b678","2009-01-03 00:08:46+00:00","Removed a (hopefully) obsolete FIXME comment.

svn-id: r35690
"
"1ea42d597fec8af1a4cb156dfbdf9ea27ada4669","2009-01-03 09:57:24+00:00","Fix palette glitches in Art Show of Blue's Treasure Hunt.

svn-id: r35691
"
"edd09972c09d84784ba19faf7b036135623f19af","2009-01-03 10:03:27+00:00","Remove the prefix in subtitles of later Blue's Clues games.

svn-id: r35692
"
"a45e25620ddda968e742cb0ba9fe90f071ae14f5","2009-01-03 10:43:07+00:00","Changed the debugger 'schedule' command to be able to list the schedule, even for currently disabled NPCs

svn-id: r35693
"
"0a8541cc0a6c6b6432fb80dc463e145435b0e972","2009-01-03 10:44:43+00:00","Bugfix for #2480857 - Additionally savegames were crashing ScummVM

svn-id: r35694
"
"b3a7e537944f6b26bd4d4e1676bd1bc2ca20efd9","2009-01-03 11:35:00+00:00","Bugfix for #2480853 - Skorl doesn't follow Minnow into Cellar

svn-id: r35695
"
"5de6898694ab3588b1843846bd18f94ee1ac2314","2009-01-03 12:32:19+00:00","This should fix the SMK playing bug discussed in the forums
SMKPlayer::getFrameDelay() returns the time to wait _in 1/100 ms_.

svn-id: r35696
"
"23e6fff0bfb226a2bb7ab84833a9184eee1118d3","2009-01-03 13:11:42+00:00","Make it possible to quit or return to launcher while the Feeble Files list of
savegames is scrolling by. (Agonizingly slowly.)

svn-id: r35697
"
"0430bb9b3a1189cada3edd3cf18061e06dcad17c","2009-01-03 13:31:23+00:00","Proper lag calculation even if the SMK has no audio

svn-id: r35698
"
"c40b7b184025dfd94962fccce00d8868fdda6662","2009-01-03 13:32:14+00:00","Properly using SMKPlayer::getFrameWaitTime() in MoviePlayerSMK::processFrame()

svn-id: r35699
"
"b2d7ae871bb82da68caa08a9c8695bcacbc67ce8","2009-01-03 14:03:12+00:00","Dropped the script preprocessor introduced to fix the broken scripts. The parser has evolved in the meantime and can deal with it accordingly.

svn-id: r35700
"
"f0c6bfc392d07c04fc4d310ef4b9b2f569966ed4","2009-01-03 14:05:57+00:00","Formatting

svn-id: r35701
"
"3ba025edd506e8a288dde968cf3b98ae38f91729","2009-01-03 14:07:17+00:00","Considerably shortened the detection table with use of macros.

svn-id: r35702
"
"b820ae126a59dc4462bf691dd3b4d39aa92cb3ea","2009-01-03 14:27:19+00:00","Add missing src checks in drawWizPolygonTransform().

svn-id: r35703
"
"e7cbd2e14f8a2ba14c659ae3ace6ef0ee1d8c371","2009-01-03 16:01:58+00:00","Simplified the Smacker video playing code for FTA2

svn-id: r35704
"
"3ee62c226f6eaa5dfc2b39ab77ca9c0ea76b147b","2009-01-03 16:03:50+00:00","Typo

svn-id: r35705
"
"ec631ba7f1cdeb8de4d247ac39cd4ccc4f24b078","2009-01-03 16:24:10+00:00","- Prevented full theme search when 'builtin' theme was specified
- Only do a recursive search for themes with depth 1 in '.'

svn-id: r35706
"
"efcfada33e3a7c7129a5c8d6a96cee9a815db8e8","2009-01-03 16:24:27+00:00","AGOS Smacker player: Wait for the *next* frame to be displayed, not the current one

svn-id: r35707
"
"043ddf0ae6566d94e928b4b1341ca2521cdd1a23","2009-01-03 19:20:24+00:00","tweak the cache values for better video streaming

svn-id: r35708
"
"c43b79091208228e2f9c5feee8c1d04fa0eb25bb","2009-01-03 19:26:44+00:00","debug Makefile targets

svn-id: r35709
"
"3a4b4831dce092ac04f0756b48c3d73c8638449c","2009-01-03 22:12:10+00:00","reorganized introduction sequence static data (to simplify code when using compressed audio files)

svn-id: r35710
"
"4670e37a78409bfe9279c5d73c8d581f0d66143e","2009-01-04 00:58:45+00:00","Use slow palette color match, for 16bit color HE games for now.

svn-id: r35713
"
"d0fc28bbd1bd5a3399c629e5d25ae3a64fef977c","2009-01-04 03:49:23+00:00","Use cache when converting 16bit colors, for faster conversions.

svn-id: r35714
"
"7ec0a139494b4243cd04eda94a1b2a3d5f6d3202","2009-01-04 05:19:52+00:00","Fix assert triggered when sorting out meals in Blue's 123 Time Activies.

svn-id: r35715
"
"0e9bfc11b0b9a085626baf39595853478c2cdc7b","2009-01-04 06:15:01+00:00","Fix no input, when playing cards in Blue's 123 Time Activies.

svn-id: r35716
"
"6693d29245104d34988230ac171bdb71567dcd21","2009-01-04 07:06:57+00:00","Blue's 123 Time Activities is supported.

svn-id: r35717
"
"b354df11af44155d1f55df0a806dcb598946dad3","2009-01-04 09:25:05+00:00","Update.

svn-id: r35720
"
"4273d0db92f37dcaefea280022e9d6b2effafeb9","2009-01-04 13:14:11+00:00","Fixed a crash when quitting Swampy Adventures. (Regression from the RTL changes.)

svn-id: r35722
"
"f2b495ba2d31fc6cdfd07130c9491dea026c07cb","2009-01-04 14:23:20+00:00","Implemented counters in BRA. Only valid answer options are shown, and counter calculations in scripts are performed.

svn-id: r35723
"
"203358bcb70a8fe0954feccd2c7559ea7d9ade35","2009-01-04 14:38:03+00:00","Improved handling of sound resources

svn-id: r35724
"
"a53fa36913d3effba490d1d179c27833684b2635","2009-01-04 15:09:28+00:00","Made sure each event is processed only once. This wasn't always the case when _inputMode changed as a result of a game action. This also caused the comment mode to be apparently skipped.

svn-id: r35725
"
"7a0b782a3cb1f577e58da47255543bf3d506aa4e","2009-01-04 15:37:46+00:00","Made sure to display labels on animations.

svn-id: r35726
"
"80832ffb8fd7ff3ee82502d3083c07b4a917a344","2009-01-04 15:44:33+00:00","Got rid of explicit game sound info

svn-id: r35727
"
"3baddc752eee457b1e8541accbacb4bfeb8127a2","2009-01-04 16:07:19+00:00","Virtualize sdl backend's setGraphicsModeIntern() so it can be overloaded by CE. Scalers are pre-selected by magic on CE. Overriding these selections leads to crashes

svn-id: r35728
"
"ce989725cfdfcfbb25d45bbb7524472b880f86e7","2009-01-04 16:08:24+00:00","follow new SAGA engine defines

svn-id: r35729
"
"83a8f7bc29043259a7edb0235bc471beeb5eb022","2009-01-04 17:17:28+00:00","Fixed warning

svn-id: r35730
"
"78a6d9e3885884444f1e4eea5d2fba6658047626","2009-01-04 19:37:56+00:00","fix bug #2480870: crash when shaking (not stirring)

svn-id: r35731
"
"41b7f714e95f83ec23398154f2ffdf8050d44b68","2009-01-04 19:52:59+00:00","fix infinite loop when trying to quit in Winnie

svn-id: r35732
"
"5ac9de093832a9d3a680ec3681a7f58107ba7114","2009-01-04 20:37:24+00:00","had forgotten the case of a rect being partially off the top of the screen (and not the bottom at the same time). fixes bug #2470228

svn-id: r35733
"
"6e434271fbd8d460dfbde9366294eaf98ac2a698","2009-01-05 00:51:54+00:00","fix infinite loop when trying to quit in Troll's Tale

svn-id: r35734
"
"0b50c114d8d76479c18b41c6dc2ed0ade92aad17","2009-01-05 01:40:08+00:00","fix quitting in Mickey's Space Adventure as well as other minor cleanup

svn-id: r35735
"
"a8785eb92e2498c958e12ede2508223dcac7a266","2009-01-05 06:45:42+00:00","Add support for RIFF sound format in createSound().

svn-id: r35736
"
"85c9decb8dd6a1c46fb23baf2ca833b01f77c867","2009-01-05 09:47:59+00:00","Quit immediately in Elvira 1, and don't let opcodes continue.

svn-id: r35737
"
"1409526f6bb87301d0b2e32d614839f47d15f073","2009-01-05 09:49:57+00:00","Remove unused code, since room flags are always zero in Elvira 1.

svn-id: r35738
"
"2d7408554552c3891cb2b05a54740ebdeb2a024d","2009-01-05 14:07:26+00:00","Deleted unused declarations, sorted others, and removed some dead code.

svn-id: r35739
"
"dc661e62a99118d8aba80f1f3533b0c78a440e75","2009-01-05 15:05:12+00:00","Removed unused reference to OSystem

svn-id: r35740
"
"7f9ea7e35c907d44ce84e990b1b3258e214fac91","2009-01-05 15:10:13+00:00","Added Doxygen-like comments to the FLIC player, and changed it a bit to have similar method names as the DXA and Smacker players. Also, removed the convenience method hasFrames(), as it's the same as getFrameCount() > 0

svn-id: r35741
"
"70ab22e9f2d37e8bdc2d64743676668bb87c8f9f","2009-01-05 17:05:50+00:00","Added a copyFrameToBuffer() method to the FLIC player too, like in the other players

svn-id: r35742
"
"e668574d88da1a0a93a0eee810e816eb2bc4a88b","2009-01-05 19:54:10+00:00","Tweak gui/ThemeData.* to not produce errors on certain system like Haiku (at least I hope this will work :)

svn-id: r35743
"
"ba876efa151d3629e50b22df2b38bcbd65aff1a2","2009-01-05 20:08:34+00:00","Updated config.guess and config.sub from http://git.savannah.gnu.org

svn-id: r35744
"
"d104e6fe3358124f4517c6fc5512bc966182b949","2009-01-05 20:12:25+00:00","Workaround issue in Graphics::Surface code on Haiku

svn-id: r35745
"
"32c655898a1035f1b831f003fb0fb4ee57d22ec4","2009-01-05 20:12:28+00:00","Added Haiku support to configure (due to Begasus)

svn-id: r35746
"
"ad3ee3680578da0f02c58dbeebc017b0b8b44c55","2009-01-05 20:17:33+00:00","Got rid of updateAnim2()

svn-id: r35747
"
"c6935f2f69bba2e315cd7172ad86e22c6c02b0c0","2009-01-06 06:13:45+00:00","Fixed broken condition check for displaying dialogue balloons.

svn-id: r35748
"
"e2e536ae1856ea7c203b65212c6000c3f718f1d7","2009-01-06 10:33:40+00:00","Fixed regression: the ITE Mac version works correctly again

svn-id: r35749
"
"eeaaabc7d4016796186801e816ff0676bb75d29e","2009-01-06 10:34:51+00:00","The Mac version and Mac demo of ITE no longer crash on exit

svn-id: r35750
"
"e2463f77cdc4a11038843668988b388d03f06477","2009-01-06 10:40:38+00:00","Changed sfGetSoundEnergy to use the correct soundEnergy value from decompressing sounds for proper lip-sync

svn-id: r35751
"
"de7721c63863018dc70aa5b7cf135d373c45892a","2009-01-06 12:33:59+00:00","Sound energy values are now stored in a list, to account for the fact that the original decompressed sounds on the fly, but we're decompressing them when the sound is being loaded

svn-id: r35752
"
"ef78bbdf0d41f773c76d1e1fb8c47d0339e2a935","2009-01-06 13:09:16+00:00","The sound energy buffer is now cleared inside decompressSound()

svn-id: r35753
"
"c5c4ab97c966d5ee178249e83dda4dfd97c07b97","2009-01-06 15:47:58+00:00","Cleanup, and follow code formatting convention (indentation) for switch statements

svn-id: r35754
"
"c528f888d0c227bc735a3ba2110ad9708bc1abd8","2009-01-06 16:10:04+00:00","Specify that implementations of setPalette() should use an RGB palette

svn-id: r35755
"
"fa1d881ad44a515e57b87ba27b325d1eeb4a750b","2009-01-06 16:21:23+00:00","Implemented pauseEngineIntern, and fixed music volume handling in SoundMan.

svn-id: r35756
"
"a930f402727940bb5778980d031b6cc66263f3a0","2009-01-06 17:44:41+00:00","An attempt to unify the different video players (FLIC player is not finished yet) - step 1

svn-id: r35757
"
"e47379c9660c3b79a55bfac65e80c3282538bc83","2009-01-06 17:45:39+00:00","Updated AGOS with the latest changes to video players

svn-id: r35758
"
"9267961104f1564ab7abe50b3548e479d1cbeb55","2009-01-06 17:46:38+00:00","Updated SCUMM with the latest changes to video players

svn-id: r35759
"
"4b24b4d06fc36ed55222ed03b5dfa078eefadfeb","2009-01-06 17:49:41+00:00","Updated SWORD1 with the latest changes to video players

svn-id: r35760
"
"9a9c1a40d9b9eb40747633eae8b8e242042626c9","2009-01-06 23:29:58+00:00","Added a few more shouldQuit() checks. It's now possible to quit while, for
instance, Leisure Suit Larry is waiting for you to enter your age.

svn-id: r35761
"
"e6aaa5324ac4f34a2c155a8380e02b5deba7aaaa","2009-01-06 23:30:23+00:00","Sound in the old Mac Guild version of ITE is correct again

svn-id: r35762
"
"cfec23cf0dce6394636e094f9459967a0c00ce63","2009-01-06 23:33:01+00:00","Use skip instead of seek

svn-id: r35763
"
"ef05ed7a985062edf978472b76b97ead0946b92b","2009-01-07 07:21:50+00:00","Cleanup.

svn-id: r35764
"
"21fae9d029e1c902c47f59143c1a8f938c694318","2009-01-07 07:35:11+00:00","* moved more mask management to BackgroundInfo
* simplified mask management for client code
* reduced the clutter into graphics.h by moving the implementations of BackgroundInfo, MaskBuffer and PathBuffer to graphics.cpp
* preparation for the full implementation of BRA's PathBuffer

svn-id: r35765
"
"f1ad8b69342affed0583b0b53042cc98af8f0a76","2009-01-07 08:16:18+00:00","Extended PathBuffer to support BRA.

svn-id: r35766
"
"c31a0f70898599e4c245f9643684ec03c43fd3d0","2009-01-07 13:27:58+00:00","Fix bug #1942471: 'AGI: Fan(Get Outta SQ): No Word wrapping'

svn-id: r35767
"
"5cf67c6ed7121cccb7809c4c441ce90389ddad1d","2009-01-07 15:30:38+00:00","Implemented Engine::getDebugger().

svn-id: r35768
"
"027a010275641cf2599b58eb5e4498cb348b4301","2009-01-07 18:13:56+00:00","Fix bug #2484801: 'PQ1/DOS/Englisv2.0G - One version is detected as MAC Version'

svn-id: r35769
"
"2f7ef3132defeac69f17a2741eb3eb8d07dfa355","2009-01-07 18:50:42+00:00","Add detection entry for King's Quest IV AGI (PC 5.25', 2.0) as provided by UsualNoise on ScummVM forums.

svn-id: r35770
"
"1395d3ba639ac543dc8f982aafb99781cdb4afbb","2009-01-07 20:18:38+00:00","Fix bug #2451381: 'AGI: -x option (or loading from launcher) breaks some games'

svn-id: r35771
"
"2772a7aaf13b83f8bdb5c27bd0b519127950de20","2009-01-07 21:19:00+00:00","Further merging of the SMK and DXA players (the FLIC player is not done yet):
- Added a new class, VideoPlayer(), from which both the SMK and the DXA player inherit. This class provides generic functions and public methods for the inherited video classes. Default implementations have been made for these public methods, and the virtual ones can be overriden in inherited classes
- There is now a default implementation of the function that sets the video palette
- A basic video player for inherited classes has been added with method playVideo(). This is able to play a fullscreen non-interactive video, which can be skipped with events set by the caller. Postprocessing methods, which draw upon each frame (e.g. subtitles) can be done by implementing performPostProcessing()
- The FTA2 movie player now uses the new playVideo() method
- The new video player code is compatible with the old one (i.e. no changes to the existing engine code are necessary), but it's now possible to reduce engine code for video playing considerably

svn-id: r35772
"
"9129f13b091ec73904f2e151b70ccc3626528549","2009-01-07 21:25:50+00:00","Updated the MSVC project files for the latest changes to the video playing code

svn-id: r35773
"
"88a9a5a6cac12a4e1428aef6776786315f665203","2009-01-07 21:43:54+00:00","Move videoPalette inside setPalette(), as it's only used there

svn-id: r35774
"
"272a9d06a854aa76cfa95b7b91f1b24fccd4f308","2009-01-07 21:45:21+00:00","Initialize DXA buffers to 0 when they're allocated

svn-id: r35775
"
"2e1fa58cf8907e344119391b830db8f6e1e1c1fa","2009-01-07 21:57:05+00:00","Clear the screen to black before showing a video with playVideo() (it's meant to play full screen videos)

svn-id: r35776
"
"9752501a07bd6e295a71cd0db72f7a06f14d0fa6","2009-01-07 22:06:15+00:00","videoIsLoaded() -> isVideoLoaded()

svn-id: r35777
"
"f07d962734e294a9536917710211fde04cff688c","2009-01-07 22:35:35+00:00","Complete the ROQ video decoding (there are still a few minor glitches)

svn-id: r35778
"
"1f63a1dfcd69af0db9ba039b9c316541180a7795","2009-01-07 23:05:28+00:00","Fix an invalid access when the quit opcode occupies the last byte of the script, due to the quit status being updated by the event loop

svn-id: r35779
"
"e955e0b4c4ad168d54f9ae16c86ac50640b3c8b3","2009-01-07 23:30:31+00:00","Fixed warnings

svn-id: r35780
"
"900f328c8108929d9a76a1e28e3850e9783c735e","2009-01-07 23:36:41+00:00","Reduced header deps

svn-id: r35781
"
"7ec80cd96300c5f696016df3a7ea1e0a03ac1da7","2009-01-08 00:24:19+00:00","Fix bug #2455850: 'LSL: missing Polish MD5' and add Polish LSL1 demo along the way.

svn-id: r35782
"
"294c76f4c4585304d2610634dbb9f3843ab7c767","2009-01-08 07:11:32+00:00","Don't assert anymore when a command flag doesn't exist, but ignore it and print a warning instead. Some location scripts in BRA are totally broken.

svn-id: r35783
"
"beacae5efda12366b04c7c53f4e063b254253de5","2009-01-08 07:31:32+00:00","Trim resource filenames to 8 characters as a last resort on BRA. Script files are unbelievably broken.

svn-id: r35784
"
"4b402e4cd8369bda59c3b374eb8c9948257c2801","2009-01-08 14:12:46+00:00","Fixed points 2 and 3 of bug #2438549, spotlight wasn't displayed correctly.

svn-id: r35785
"
"99d603c33233eb167592101c8c454f3e514abbc8","2009-01-08 14:34:22+00:00","Attempted fix of bug #2438637 (Dino not erased in introduction screen on Amiga Nippon Safes), by not forcing the character visible on a location switch.

svn-id: r35786
"
"c7e29bb7889d06e9e9b40714da1071e5f0c16543","2009-01-08 16:38:42+00:00","Give more detailed info on recently added KQ4 detection entry (It's KQ4 v2.0, released on 1988-07-27 and it uses PC AGI 3.002.086).

svn-id: r35787
"
"23f23d7491af556c5b04d01bf18972f0dfaa91d3","2009-01-08 17:08:24+00:00","Fixed revertion to 'Add game' button string after a 'Mass add' was processed.

svn-id: r35788
"
"d638ddd3d6fac6b548aa004e419a819b8a6fc95a","2009-01-08 18:09:13+00:00","Fixed release critical bug #2472185. All transparent buttons should now properly refresh their text when changed between redrawing frames. This includes the launcher 'Add game' button and the options 'subtitle mode' button.

svn-id: r35789
"
"3c34c2ce74f39481f8ed63ded37a6d81a9f44d41","2009-01-08 19:16:58+00:00","Add initial files for a secondary exe (to be distributed with in a single pkg file)

svn-id: r35790
"
"c8f16d8716963cdd96df5c83024621170bbfdeb6","2009-01-08 22:41:25+00:00","Fixed slight regression

svn-id: r35791
"
"8eb7d55eca5aaf1acb005654c28b88b1e14111b2","2009-01-08 23:01:34+00:00","T7G: Reset midi volume to 100 on starting a track, cleanup

svn-id: r35792
"
"9446bfa50316e3d1253a1d56f1f996f2ede3fb75","2009-01-08 23:06:08+00:00","T7G: Stage one of move to ScummVM's CursorMan: rename groovie one so it doesn't have same name

svn-id: r35793
"
"02f4098a1ac86d830777d91c4961f22c072392e4","2009-01-09 00:35:04+00:00","Fix bug #2029639 - PAJAMA1: Lip Syncing.

svn-id: r35794
"
"1e29a3c7d8acfa4dcede922225bfda7e67a53eab","2009-01-09 05:14:56+00:00","Correct sound priority and SBNG offsets, in later HE games.

svn-id: r35795
"
"5bf899709c170638607f4e9bcf80960ec04e8f59","2009-01-09 12:08:06+00:00","Switch assert to an error message, stating the exact unknown code.

svn-id: r35796
"
"1130af03d14e99d65a250cd79e5f60c04e3a14eb","2009-01-09 18:35:07+00:00","Add subengine flag for ihnm.

svn-id: r35797
"
"b84c864543a496b828f777c1cf141ccee0a68e8c","2009-01-10 10:31:39+00:00","Fix compiling SCUMM engine, with HE71+ games disabled.

svn-id: r35798
"
"d39c075eafe418a520684f4de327ccb42b486d94","2009-01-10 10:36:01+00:00","Fix warning.

svn-id: r35799
"
"6c27a9f00818ce98b7fe1d68fcf237c4b60396da","2009-01-10 10:38:06+00:00","Correct sound timer, when sound compression is used in HE games.

svn-id: r35800
"
"5fc53e262e01e905ddb093d7228f00d73b8b4ab3","2009-01-10 13:04:33+00:00","- added initial radio chatter sfx, still not fully correct
- remove obsolete mixerStreamRunning track variable

svn-id: r35801
"
"936f4c0963fd1f87b4882ec5de38dc989deb1bb5","2009-01-10 14:10:04+00:00","setQuickStartFlag is different value in HE100 games.

svn-id: r35803
"
"cffe7b837996db1707d1bedcf7d059876212be98","2009-01-10 17:08:29+00:00","fixed radio chatter sfx

svn-id: r35804
"
"5b80774dded7b39083ff8eabc633e88fefc15975","2009-01-10 21:29:12+00:00","Fixed uninitialised variables in the SCUMM save/load dialog. The updateInfos()
function needs to know the dimensions of the dialog, so don't call it until after
calling Dialog::reflowLayout().

svn-id: r35805
"
"75c2dc82b3814d0d74c0c7910e64a9ac081bfbaa","2009-01-10 22:11:22+00:00","Implemented screen vfx #8

svn-id: r35806
"
"0ab01c756a454e8e8f0737fe7aa65b7e26757033","2009-01-10 22:31:15+00:00","open browser dialog before manipulating it (fixes assert when pressing 'add game')

svn-id: r35807
"
"3707e03d94f1e0041061064f86a5e68143d359af","2009-01-10 23:09:03+00:00","Enable IHNM.

svn-id: r35808
"
"b4eb116f65112336250644621d778f7db0f99c12","2009-01-10 23:13:43+00:00","Update Joachim's role as requested by him.

svn-id: r35809
"
"20638a0f97438fff10cb8ac1bf90c197e032faa2","2009-01-10 23:38:30+00:00","Moved some stuff from the EditGameDialog constructor to its open() method to
avoid uninitialised variables. (This is similar to some bugs that were fixed
earlier today.)

svn-id: r35811
"
"326df55debb696f73c33450569af4a6d0c60b0fd","2009-01-11 00:02:28+00:00","Enabled GROOVIE and TUCKER as well, as they are enabled by default by the standard configure script.

svn-id: r35812
"
"83972e2001e0654e057b5a4930cd2cbc05165786","2009-01-11 00:20:27+00:00","Merge in Virtual Keybpard & KeyMapper branch,
- Merge is perfromed in order to not let rotting the code
- Makefile modifications were avoided

Stuff to resolve:
- Circular dependency of common/vkeybd from graphics/
- Make it compilable (?)
- Add some keyboards
- Decide on the key bindings

svn-id: r35813
"
"4d30859bf04262d0996c264660704b69acd2ec73","2009-01-11 00:28:05+00:00","Mention radio-chatter effect which aquadran implemented.

svn-id: r35814
"
"08c71e39490590125645215ce65fdcb71f11fae6","2009-01-11 00:44:52+00:00","Enable IHNM and SAGA2

svn-id: r35815
"
"0b4dd7c4593587355c1965eb0d266040c83f0382","2009-01-11 03:34:50+00:00","Committed a modified version of wjp's patch for the video player:
- Split the video player from the video decoders. It's now possible to have one video player for multiple decoders
- Added the palette weight calculation from the BS1 engine into VideoPlayer::setPalette. It's now possible to find the values of the white and black colors via getWhite() and getBlack() (useful for subtitle overlays)
- Adapted FTA2's movie playing code to the new changes to video player
- Fixed a slight bug in the DXA decoder (_videoinfo.startTime was not initialized)

svn-id: r35816
"
"ffa104da856e5c340bdcf6390812cdbd650a896d","2009-01-11 04:20:59+00:00","Fixed compilation

svn-id: r35817
"
"f997ea3c6e6c9631977feec62e5772d9c576d4c3","2009-01-11 04:23:57+00:00","Oops... *really* fixed compilation

svn-id: r35818
"
"b107b7db4792ebc682bf9d140ac86da0df44414d","2009-01-11 04:41:22+00:00","Stop recalculating the x and y coordinates for every frame in playVideo()

svn-id: r35819
"
"4e15c8df3517661ae9ed092409d2057f424c79d6","2009-01-11 06:15:30+00:00","Fix bug #1925322 - DIG: Subtitle speed affects speech when subtitles are off.

svn-id: r35820
"
"954a1d27d8705fa31a0cbf2f6a6597f4522b9071","2009-01-11 06:51:17+00:00","Fix talkspeed settings again.

svn-id: r35821
"
"138c1936a4be0b7c7644a0ca81b3492cf986e08d","2009-01-11 11:15:16+00:00","Completed screen vfx #8, and also implemented screen vfx #18

svn-id: r35822
"
"bc19c31d75d080256c70ca47e45a4e78e1ef0a86","2009-01-11 11:16:37+00:00","Patch from bugreport #1846746: 'PUTTMOON 3DO: Play button in Outtro partly cut off'

svn-id: r35823
"
"c326a91ecb0f7e9ed53c262b34d97f934162851c","2009-01-11 12:07:37+00:00","Fix regression brought by merge with vkeybs branch when command line parameters
were ignored. Thanks to eriktorbjorn for reporting.

svn-id: r35824
"
"3172187aff555beeeca79ffd1e05885b55a9ffe1","2009-01-11 12:15:51+00:00","Now _really_ restore transient domain handling which was before vkeybd merge.

svn-id: r35825
"
"5cf930eedad8d90000238aeb9e6f6991abfc097b","2009-01-11 12:22:29+00:00","Simplify code.

svn-id: r35826
"
"a266feeb5aee98d6d33adc88dd6b64e6ed544128","2009-01-11 13:17:05+00:00","Fix regression when gameids were los for some fanmade games

svn-id: r35827
"
"e399865ee834c9e74325955a8b19574d2ce80fd9","2009-01-11 14:44:29+00:00","IHNM save games no longer contain ITE-related variables

svn-id: r35828
"
"eed76226d35c230bae34f978ec20c7d5982ccdac","2009-01-11 15:24:11+00:00","test re-adding elements to emptied hashmap

svn-id: r35829
"
"9bef5d0e722d38cebfeb0d79b46a550964589cea","2009-01-12 01:29:29+00:00","consistency fix and add a new line

svn-id: r35831
"
"f304ee8c199b612101b25365af1a962c73fc7760","2009-01-12 03:58:11+00:00","Remove unused case, which isn't used by HE60-HE71 games.

svn-id: r35832
"
"5afb4ad1659242baaa91cc948d49dace21be6ae6","2009-01-12 07:21:34+00:00","Implemented screen vfx #19 and #20

svn-id: r35834
"
"e5d75d1f7b8a677e4f4e5f5d5da8fff413265ed6","2009-01-12 13:14:09+00:00","Fixed regression from revision 35765. Mask and path patches were destroyed before getting a chance to be used.

svn-id: r35835
"
"8911d345426fc250c12bf7a5d63dd69c584e7730","2009-01-12 14:56:29+00:00","Added support for the Discworld 1 Music Enhancement project. Big thanks to James Woodcock for his work on both versions of the game (the *.GRA and *.SCN version)

svn-id: r35836
"
"1a7aeec4d9e1221ee3557767589c9d572ff622b9","2009-01-12 15:31:50+00:00","Imitate the way the original game is playing MIDI tracks when playing enhanced ones

svn-id: r35837
"
"3f8ca778d0b05f6f45ab6e62610b19672bfe331f","2009-01-12 15:41:37+00:00","Cleanup

svn-id: r35838
"
"e1f808832818340e9c6614f878d9524f533f65cc","2009-01-12 15:51:11+00:00","Don't call _mixer->stopAll() when changing scenes, as this stops the enhanced audio tracks as well. Sounds are stopped by stopAllSamples()

svn-id: r35839
"
"cfdb824535a204a6ee1853dd801cad9a2eac92aa","2009-01-12 19:56:08+00:00","Fixed bug #2500168 ('GUI: Cannot quit in the launcher's load dialog'). I thought
I would have to do more than this to fix it, but it seems to be enough.

svn-id: r35840
"
"c2db2b91a53386960f3351d5ab3681bd913386e0","2009-01-13 10:11:52+00:00","- Music now works in LGoP2
- Changed the default music volume to 127, down from 255
- Added an explanation/FIXME for the out of sync mouth animations in RTZ
- Added some TODOs and removed some obsolete ones

svn-id: r35843
"
"6801112956e58b73b5ff77a8869af864a30546d8","2009-01-13 15:40:46+00:00","Fix dithering of scaled videos

svn-id: r35844
"
"78776638d37a0081171e93acef2acda4a30bbc7c","2009-01-13 16:18:22+00:00","Reworked the sound energy code

svn-id: r35845
"
"470b07004a4c30e72dac4f96831084cc1eb7bbd7","2009-01-13 16:57:59+00:00","Added a possible FIXME

svn-id: r35846
"
"094fca2207cc88c5a82ab2ee7320e7345615a926","2009-01-13 18:11:11+00:00","When reverting to text only mode update the config manager settings accordingly.

svn-id: r35847
"
"305954d34a612f14bdaad2cda9f982498f4f7066","2009-01-13 19:29:55+00:00","Save game headers are now verified

svn-id: r35848
"
"0ecaa8c4fde83a74065300e719a478fcb9ab246a","2009-01-13 20:36:52+00:00","- PMV video headers are evaluated correctly now
- PMV video is now stopped correctly if the end of the video has been reached. Removed a relevant hack, which was caused due to an invalid memory read

svn-id: r35849
"
"fa755b3729ec27a387ae50aca582bdf6bcaf9a9f","2009-01-13 21:08:22+00:00","Some updates/observations on script functions

svn-id: r35850
"
"cd7ab24dd64210fccd19563467d302d5adb02004","2009-01-13 23:00:14+00:00","Added const qualifier to (char *) parameter

svn-id: r35854
"
"215af6f3b41a0460be6333aa1a4be50e8033fa63","2009-01-13 23:22:47+00:00","Reduced savegame code duplication and added savegame format versioning.

svn-id: r35855
"
"be346a6b5f1a02bea8f8079199dddbef9d05b80e","2009-01-14 02:08:44+00:00","- Initialize the current cursor to an invalid one (this removes a glitch when loading from the launcher)
- Removed the _syst attribute in Cursor_t7g

svn-id: r35856
"
"ab82db8f867fc51aae1dad004117fdf70b9ce0a5","2009-01-14 02:44:09+00:00","Use the current palette size for the theme mouse cursor instead of using the maximum (fixes a valgrind warning)

svn-id: r35857
"
"59d41b30ffc24f81ad71a8b273f06bb244e85130","2009-01-14 03:09:19+00:00","Show the cursor and update it properly when closing the GMM.

svn-id: r35858
"
"b0fb307978c02744adb2e250c60bc6cef04ee417","2009-01-14 05:49:18+00:00","Fixed warnings.

svn-id: r35859
"
"d5f9fdabc377c3eaae6cf530d94c1f52c7a3eb61","2009-01-14 07:47:52+00:00","Updated the project files of the groovie engine for commit #35855

svn-id: r35860
"
"405680af6de7dfb09ca703eb08cecf1debe82893","2009-01-14 11:18:14+00:00","Game database headers are verified now

svn-id: r35861
"
"f79007d6cf52820f900a9d3fb0e2a48e92ab1e4a","2009-01-14 13:55:36+00:00","Fix for non-looped tracks of the music enhancement project. Also, got rid of the dwMidiIndex variable

svn-id: r35862
"
"4db2899253d8496c54214d93fbb24fd9ae649f64","2009-01-14 16:05:26+00:00","Hide the mouse cursor when loading a saved game

svn-id: r35863
"
"bb82b0be977449243ba3f79a6f9a2c6b4fb4b311","2009-01-14 18:17:19+00:00","Handle the sound font clearing button in the game specific options

svn-id: r35864
"
"ce39c26d147bb74f80ef30f6fd55f8fd63f65635","2009-01-14 18:52:25+00:00","-1 is not an uint8. Assuming ones-complement, though, I guess 255 was meant

svn-id: r35865
"
"d34a952e5b69835d5a8b3dad3447c12bd69a8dd1","2009-01-14 20:58:41+00:00","Renamed various ThemeLayout methods for clarity; removed unused setSpacing method, and moved _spacing to class ThemeLayoutStacked

svn-id: r35867
"
"7d3c94a9caa0da1fd9fa5e182024a3c2b43b3ccb","2009-01-14 21:16:21+00:00","Added some comments to ThemeLayoutStacked::reflowLayoutH/V

svn-id: r35868
"
"42c46aa5a1e570b3e8d0d857e6ef9291d8f20a4f","2009-01-16 01:48:55+00:00","Mark cruise save/load code as not endian safe

svn-id: r35869
"
"4c5efaecf413c0a8d664de6f35013814a82798ab","2009-01-16 02:43:41+00:00","Code formatting fixes, automatically performed by astyle

svn-id: r35870
"
"e9f0fc21e84b78d5b7f48bcdfca4e083b7026cc5","2009-01-16 05:04:49+00:00","Fixed class indention

svn-id: r35871
"
"9f1ac87466717d2095539ea9a2a37c77698605fc","2009-01-16 19:32:19+00:00","Reuse given stat flags when possible to avoid fstat() calls

svn-id: r35872
"
"1082d82ba8d4ab966cba862b57f66ac9e059f656","2009-01-16 20:53:43+00:00","TUCKER: Simplify TuckerEngine::copyLocBitmap

svn-id: r35873
"
"c0e1dbf1ac1542bcd2c6789a6d74221ec40b3f1a","2009-01-16 21:08:55+00:00","TUCKER: Changed loadFile and loadImage to take filename as parameter (trying to get rid of _fileToLoad)

svn-id: r35874
"
"0a169612eeb24a483bd3a1f6d108e435a24fe8fd","2009-01-16 21:19:30+00:00","TUCKER: Got rid of _fileToLoad

svn-id: r35875
"
"d53a340a4d79c2b00a7ac4c0c346607e5d1d0eb8","2009-01-16 23:18:18+00:00","Some cleanup (one could replace some of those switch/case by jump tables...)

svn-id: r35876
"
"68a20e2aba09dd366341ab62bbdfb05cd3f04534","2009-01-16 23:20:17+00:00","- Removed _gameVersion, engine versions are set in the game detection entries now
- Renamed ProjectReader -> ResourceReader
- Added some WIP code for the EGA version of the Manhole (still not working/disabled)
- The resource reader now closes the files it has opened correctly when it's deleted

svn-id: r35877
"
"736fea2c0e241a8ec412ff97aaabb03f817d6806","2009-01-16 23:29:48+00:00","tiny cleanup

svn-id: r35878
"
"eb0ea6a297c53920971a6a234f78a2ec60849c46","2009-01-17 04:50:13+00:00","Make sure that 'quit' events are handled immediately. This fixes a warning - or
possibly worse - about an invalid opcode when quitting the game.

svn-id: r35879
"
"42d4ddf9342b1f7678feb7cd2114d374b5df7632","2009-01-17 16:57:50+00:00","Removed unused & incomplete widget caching code

svn-id: r35880
"
"20dad9e967ce0ae566e93fa2c4ef2c737ecfb408","2009-01-17 17:13:04+00:00","Merged gui/ThemeData.cpp into ThemeEngine.cpp

svn-id: r35881
"
"2e321f7a74c312e9aeabe7e77d525d9d2d020380","2009-01-17 18:48:35+00:00","use pointers when passing struct stat

svn-id: r35882
"
"ba4b872a205528c4159a2d633e12595256eaa990","2009-01-17 21:17:58+00:00","Silenced MSVC warning

svn-id: r35883
"
"56f75b4c41b9fbd8736477ac28a6004e6b4a5014","2009-01-17 21:45:53+00:00","Fixed bug #2057987 - 'IHNM: Music stops in Ellen's chapter'

svn-id: r35884
"
"c56faf3216ceab89d9bbe96c949e8af569d2231d","2009-01-17 22:29:55+00:00","Since users need to rename the sound and index files in DW2, throw nice GUI error messages when these files are not found before dying with an error

svn-id: r35886
"
"8f85a81791307ae342daaad996eb36756c9c8465","2009-01-18 00:55:51+00:00","splitted play/load class methods in introduction animation player

svn-id: r35887
"
"bd3ff9c719d4e34a112761a2eb63408a986ae159","2009-01-18 02:22:57+00:00","fix another regression from the RTL branch merge

svn-id: r35888
"
"5a809e51bece57c428a125bea04c76243803e104","2009-01-18 02:46:25+00:00","simplified Graphics::decode*()

svn-id: r35889
"
"710b7fe461fb653773161d20956fb78463e38ebf","2009-01-18 03:07:20+00:00","get rid of AnimationSequencePlayer::_currentSeqNum

svn-id: r35890
"
"8ea8966c02d6d62bac7af6e3b48e6acc7857353d","2009-01-18 03:22:33+00:00","cleanup

svn-id: r35891
"
"1511099a7b3f5d9e31135e901b6c03b75f620f18","2009-01-18 04:00:11+00:00","merged Graphics::copyTo640/Graphics::copyFrom640

svn-id: r35892
"
"df6aa6361d2aa33f5c4536bc8f1007e434b88bc8","2009-01-18 09:29:22+00:00","Slight changes to fx method #9 to more correctly match the original game

svn-id: r35893
"
"964a451e42568f014124c2899efbb81d9faee018","2009-01-18 12:58:06+00:00","Removed slashes as last char from directories

svn-id: r35894
"
"5e1cf1e166099c4beb3f5d19729a17558e748f7b","2009-01-18 14:42:26+00:00","GUI: Renamed Globals.TabLabelWidth to Globals.PopUpWidget.labelWidth (that's what it really is); changed PopUpWidget to use that value directly

svn-id: r35895
"
"2bbbfdbee26a478b9f362dad3f8f28ac3b54e23a","2009-01-18 14:45:23+00:00","GUI: Removed ThemeEngine::getTabSpacing() and getTabPadding(); removed some dead code

svn-id: r35896
"
"c69638d915ddcd6df2c87fed1a969a1ae51fd379","2009-01-18 14:46:53+00:00","Added keymapper code to build system (still disabled unless ENABLE_KEYMAPPER is set); made some code fixes (still not working properly, but it is a start)

svn-id: r35897
"
"c9e97bf6f9e5de0c7b1bf8bf8292661b2ea1e353","2009-01-18 14:48:00+00:00","GUI: Some cleanup and renaming; moved some parsing code from ThemeEngine to ThemeParser

svn-id: r35898
"
"2c59a5443292b0950a785f0cadb88e709830e523","2009-01-18 14:48:24+00:00","cleanup

svn-id: r35899
"
"c4a4ffc51b4237a93e784e5ca6c1fb4a01022cdb","2009-01-18 16:21:30+00:00","Update scene number internally so it gets displayed correctly in the debugger.

svn-id: r35900
"
"98b3046c09d97186d0233e4138d2872462f3764f","2009-01-18 16:41:35+00:00","Removed some unused defines in Mickey's Space Adventure, and removed a case where static data was read from the game's executable

svn-id: r35901
"
"bf08c82054bfab7f3fc613ea63a224d5fd75e45a","2009-01-18 16:49:03+00:00","Fixed bug in PAK link list code, now file links are correctly initialized.

svn-id: r35902
"
"ff268e8fd5997b60a035147bb9adbf1ead100d49","2009-01-18 17:04:24+00:00","LOL: Some drawing code and some opcodes so that the first scene will show up. Playing is not possible. This is still somewhat messy since a lot of stuff hasn't been figured out yet.

svn-id: r35903
"
"ec5b64147dd7bf883cefb205c2801c068358dc1a","2009-01-18 17:17:39+00:00","Fixed compilation.

svn-id: r35904
"
"c003d62429399db2d8ca11dc66461a98c52d0538","2009-01-18 17:24:47+00:00","- Fixed bug in script code of LoL
- Cleanup

svn-id: r35905
"
"49f756981b8568661377bb6bb17b4f5147d4d46c","2009-01-18 17:31:25+00:00","- Fixed some delete[] misuse
- Fixed regression introduced with r35904

svn-id: r35906
"
"12eb45df010927030c752acb2f487973b34810b8","2009-01-18 17:36:25+00:00","Fixed mismatching delete call.

svn-id: r35907
"
"62334395a77f9509a82de2960edceec26067f867","2009-01-18 17:38:29+00:00","Formatting.

svn-id: r35908
"
"66228f77e9e405402515de984cc6062d60cedb70","2009-01-18 17:42:46+00:00","Updated the MSVC files of the Kyra engine

svn-id: r35909
"
"35c8fd4dadd9243f73034e9855a88e227a6100ad","2009-01-18 18:20:33+00:00","LOL: fix some valgrind warnings

svn-id: r35910
"
"0469cf7498d07b7a5fc06d6cf0dc5a66f3624e46","2009-01-18 18:52:59+00:00","Updated credits list with retired members

svn-id: r35911
"
"0dc90f51f959bf8f6a1fde67ec6c2a4c67fb56e5","2009-01-18 20:01:12+00:00","Updated theme .zip files and default theme

svn-id: r35913
"
"487f4eafb0185de478221a3291df7a5912a4f6c7","2009-01-18 20:05:24+00:00","Updated theme version to 0.4

svn-id: r35914
"
"6b3d5db09f96dd449e4934fa57073a0fed8e86de","2009-01-18 20:42:33+00:00","Disabled use of OSystem::kFeatureAutoComputeDirtyRects in SAGA for now

svn-id: r35915
"
"7fba1e9aaf1803bd993a592faf015b0d9ac04777","2009-01-18 22:02:22+00:00","Removed unused defines, cleaned up some more defines and reduced the places where static data is read from the game's executable

svn-id: r35916
"
"44918f5f168ace7f21a9daef82e81e35e89ed000","2009-01-18 23:50:31+00:00","LOL: basic music support and some cleanup

svn-id: r35917
"
"fa0efa0b229c8dc0676d109b17c040df3813f2b5","2009-01-19 05:03:17+00:00","Fixed warning.

svn-id: r35918
"
"2a22b9bcc6758d589ffe6af361ee53e8c1a6841e","2009-01-19 07:31:34+00:00","LOL: some renaming

svn-id: r35919
"
"57e6cb4c8a1d2e8345fa53c70b21ae2fd0bba776","2009-01-19 15:11:18+00:00","Makefile cleanup with additional comments. Added DEBUG_WII_MEMSTATS for memory statistics and splitted existing DEBUG_* tunables.

svn-id: r35920
"
"fc10e747594cd8fca5f83c3d902cc3ed57ef6bff","2009-01-19 21:42:37+00:00","Update news

svn-id: r35924
"
"8cb03380815f9cac8d45d531f8857c89490e00eb","2009-01-19 21:43:29+00:00","This is 0.13.0pre

svn-id: r35925
"
"3bb1f47985fd70bbe829a6d4c3d0e5cbb2cc09f4","2009-01-19 23:19:33+00:00","Removed TODOs from README (our #1 reason for re-tagging *g*)

svn-id: r35928
"
"0210b92a7ad3ef28e792c69aeb94807ce9d24404","2009-01-20 05:46:16+00:00","Fix bug #2522556 - FEEBLE: Cutscene not found, Crash.

svn-id: r35936
"
"c30597f20e1f10ce04421f5b4224775a7b39e4fd","2009-01-20 09:06:11+00:00","Disable LoL detection entries.

svn-id: r35937
"
"fc0c423d5758135e2f8847b38ac14992eddba75c","2009-01-20 09:30:14+00:00","Re-encoding the cutscenes in The Feebles Files is no longer required.

svn-id: r35939
"
"0a47371f25a294ccf0ce70dac218ca96caec3c3a","2009-01-20 11:21:05+00:00","Moved libdb to the right spot in the Makefile

svn-id: r35947
"
"2dbdbed8543716ae4f271ef0b20c061838d2a2a6","2009-01-20 22:50:59+00:00","Bypass copy protection screen completely in Waxworks, since copy protection is disabled in Good Old Games release.

svn-id: r35964
"
"54fc5f29a2c1a6bda314825f4073ff97ebd0c95f","2009-01-20 23:42:25+00:00","(backport) Implemented getDebugger()

svn-id: r35968
"
"48081846ae541649a94ed9b038e853405c5e037d","2009-01-21 15:38:29+00:00","Fixed GMM save/load functionallity in kyra1. (backport of r35980)

svn-id: r35981
"
"5d4c463dc8e2ac384012de19811297c33b428fff","2009-01-21 20:10:22+00:00","Backported save/load dialog fixes from trunk.

svn-id: r35988
"
"c0e53b5906be6a7712b751c0378d4c696bde57e8","2009-01-21 21:03:48+00:00","sync default engines with configure

svn-id: r35989
"
"62efb83a1bd2224b83ab939e0f48c7db9b55f15c","2009-01-23 04:03:59+00:00","Remove last use of time() in AGOS engine.

svn-id: r36017
"
"b896c40d277aa88cb8ec6641b1a7482ed1ddcbe0","2009-01-23 23:51:28+00:00","Backported image (re)loading fix to ThemeEngine from trunk to branch-0-13-0

svn-id: r36027
"
"70e9c9c041061dfbdba1271a40216259a27731e5","2009-01-24 06:06:45+00:00","Update detection table with known file sizes.

svn-id: r36033
"
"326dcf8fb71cb71f8dfac25738135f8b35ed19f5","2009-01-24 16:29:38+00:00","Fix for bug #2533091 'MAC: Cannot add games in the launcher in fullscreen mode'. (backport of r36036)

svn-id: r36037
"
"2158de304feaeb3970fef162c7170326aeb5dac6","2009-01-24 20:59:53+00:00","don't append '/' to path in getChildren() (from trunk)

svn-id: r36043
"
"2a5f59db8e235e2dd8f1a637f841e32a25f96567","2009-01-24 21:09:38+00:00","enable engines for 0.13.0 -- the sheer number could well be a problem for a static plugin build :-/

svn-id: r36045
"
"b9aec4f3d0acf3ef7ffb1e60c9024ef9dc9e9dc9","2009-01-25 12:22:27+00:00","backport 36060: TUCKER: modified flic playback to make use of dirtyrects

svn-id: r36061
"
"71f9b3a614c451a6729bbc013a5929ec7edd08b3","2009-01-25 18:12:18+00:00","backport 36044,36063: TUCKER: add playable demo version support

svn-id: r36064
"
"1d091bbd481917c3ee1aece6f801cc5fc3d6f012","2009-01-26 04:23:13+00:00","Add support for text compression in the AtariST version of Elvira 1.

svn-id: r36067
"
"6042269b1d2e6cae05c5b20783abf197b612dd90","2009-01-26 07:08:56+00:00","Bugfix for incorrect fight animation offset in French version

svn-id: r36069
"
"3c7429009ffd4fa447b59c9e8039877679c89452","2009-01-26 07:57:39+00:00","Backport of Engine::getDebugger implementation

svn-id: r36071
"
"955be62e553694e3f4a6f2fc3f03c87355cb04ca","2009-01-26 09:24:09+00:00","Add German Atari ST version of Indiana Jones and the Last Crusade.

svn-id: r36073
"
"b350e710e2eca2a738b55a20a258c3f0ec8b7743","2009-01-26 17:43:47+00:00","port fix for #2340221 from trunk

svn-id: r36077
"
"3c3796732976d46bd9319eff1ee010f19cb6280f","2009-01-26 22:18:26+00:00","Correct md5 checksum for German Atari ST version of Indiana Jones and the Last Crusade.

svn-id: r36081
"
"93f966fe8a8ff6e4436472e65c52e3260b98647e","2009-01-27 00:39:18+00:00","Backported 'Allow quitting Simon 2 during the intro' to 0.13 branch

svn-id: r36083
"
"bb5992c3b995a5217d228f77f32f834db6ca88e4","2009-01-27 10:27:53+00:00","Backport of debug subcommand to enable a hotspot's position to be changed

svn-id: r36096
"
"411d62ecec3a22c2e61c7d41669cd7c64590dfe2","2009-01-27 17:29:40+00:00","(backport) Fixed bug #2538838 - 'Wrong accented char. in italian fan version [Regression]'

svn-id: r36102
"
"4ed9f39a2063b6f054525d3fd6cb9a732170c9c8","2009-01-27 17:39:55+00:00","(backport) Proper fix for accented characters in the Italian version of ITE

svn-id: r36104
"
"539f2c6135ef8950576ed7aa2ae07edb7072033d","2009-01-27 17:52:39+00:00","Oops. Fixed compilation

svn-id: r36105
"
"b2f17564b01b91762748ad7d383a695e5c89694d","2009-01-27 18:41:04+00:00","Shut up MSVC about potentially using an uninitialized variable.

svn-id: r36107
"
"3ae778c0c13a7360caf61134d851e1817badf724","2009-01-27 20:10:27+00:00","agi autosave fix from trunk (fixing #2537059)

svn-id: r36111
"
"c59458acba63813a305fb699c1f55537fad99e60","2009-01-27 20:26:06+00:00","(backport) Protect save slot 0 from being overwritten and/or deleted by the GMM save/load menus

svn-id: r36113
"
"cf90bd3e636d7b4bd206aac271e40316332a211b","2009-01-27 23:01:46+00:00","Sync fix for MSVC warnings.

svn-id: r36116
"
"85bc20e9ececdfdfb1166ac2ded55c53ac44b6ea","2009-01-28 10:08:16+00:00","Update Adventure Soft credits.

svn-id: r36118
"
"2971b94cf309b07ab1f2290770c83a206cf51342","2009-01-28 10:28:32+00:00","Backport of bugfix to allow characters to start moving when some other object blocks their standing area

svn-id: r36121
"
"72d7df5871c6a934576d4b63afd049def34ff1bf","2009-01-28 21:49:38+00:00","backport 36123: fix #2543067 'crash on Bud Tucker in Double Trouble german version', don't copy rect if w or h <= 0

svn-id: r36124
"
"18a960ca60ae0015ab1dd9bbf707875b453eae1f","2009-01-29 21:34:59+00:00","backport 36129: restrict charwidth table patch to french version, should fix #2523924

svn-id: r36130
"
"ae1147758f2ace6fbc763bf2bd9e2e7a874e6994","2009-01-30 12:23:29+00:00","Backport of bugfix to stop characters changing rooms if the entrance in the other room is blocked by another NPC

svn-id: r36145
"
"30d07c2df0953f46b7e6e562f3f1e73c295dbbaa","2009-01-31 01:59:27+00:00","Backport of bugfix to properly have one NPC character move out of the way when two NPCs bump into each other

svn-id: r36154
"
"a679a09bc5a471fceeca828fe89e48bb37e7e995","2009-01-31 08:00:24+00:00","Disable the 'c for credits' hotkey in 0.13 too, so that there's a better chance
to see if it 'fixes' the rare and mysterious 'the credits start spontaneously
every few minutes' problem.

svn-id: r36156
"
"7fe2689213c8df866683f6c06a00a5a72af974b5","2009-01-31 12:02:36+00:00","Fix for bug #2551436 'KYRA2: ScummVM quits after death'. (backport of r36161)

svn-id: r36162
"
"75f73bb885fd368e07885b220aacbb3b8dc3bd78","2009-01-31 12:29:06+00:00","Backport of GMM Save/Loading functionality and savegame list fix

svn-id: r36166
"
"8acfad8792e631d49f1fb640ac56da3cdcee6b05","2009-01-31 15:14:59+00:00","Disabled serial for release.

svn-id: r36167
"
"10c62d29c6b19330dcd0c7331a38a971310d27dd","2009-01-31 15:21:47+00:00","Fixed o2_loadSoundFile (backport of r36163 and r36168).

svn-id: r36169
"
"d26aa66eccb54bd6a38e856d84c850603d28b243","2009-02-01 09:50:41+00:00","fix for bug #2487481 from trunk: don't test existence of file in AmigaOSFilesystemNode::getChild

svn-id: r36172
"
"8a2dffe7469fbfb8878433e025cbc6cfcf3891c8","2009-02-01 12:33:11+00:00","Backport of r36173: T7G: Fix for 2474078

svn-id: r36174
"
"1031ea8031edb06f5e675d96349d08f15680f356","2009-02-01 14:29:47+00:00","Fixed alpha blending in the UI dialogs by adding alpha
computation to the blendPixelPtr() function.  To minimize
impact, pre-multiplied alpha is assumed, meaning that the
blending of the R, G and B components is the same both
with and without hardware alpha.

svn-id: r36175
"
"3c118abbf774c6f141f2f79eff5975e326f69d38","2009-02-01 14:37:24+00:00","Merged r36106 from trunk:

Disable autosave (fixes [2516389]).

svn-id: r36176
"
"e4a58f1b2a4dcd0733b9c1bd09a71ce990c64eb8","2009-02-01 21:11:16+00:00","Updated mmp inclusion and UIDs for secondary exe

svn-id: r36192
"
"a940f80b6fd75d982a2b2c02bf85a9778d7dfbd3","2009-02-02 18:34:19+00:00","Backport BeOS Timidity change

svn-id: r36202
"
"35fe2bbc654388a90c73a0ef9357beacc56cc13b","2009-02-02 19:29:05+00:00","Updated project building files

svn-id: r36203
"
"7710ad971d899e4374fcb7395620f2b9acd663e3","2009-02-02 21:34:55+00:00","Updated build script

svn-id: r36205
"
"0456ec867f5ad302334b87caff6f900c2f83b7fe","2009-02-03 21:21:35+00:00","Enable 2nd set of engines!

svn-id: r36211
"
"9ea812482efab0bd9da182c5a038079275ba93d8","2009-02-04 05:54:22+00:00","Fix startup of AtariST demo of Elvira 1.

svn-id: r36213
"
"cbfe47b6335bfa6f524d46dfb312bac84f36b0b1","2009-02-05 19:27:31+00:00","Allow ScummVM to quit while a character is talking in Kyra3. (backport of r36221).

svn-id: r36222
"
"68e2964ff406c5e982b1a58ed4232b50d25c0fce","2009-02-06 18:54:14+00:00","backport 36160: fixed invalid dirty rect for infobar ; added code difference in infobar display for DE version (tracker items #2523881,2523924)

svn-id: r36223
"
"5f77d8d156d4daf453063fbef2553e2f8d822730","2009-02-06 19:44:15+00:00","Updated Mac OS X bundle stuff for 0.13.0

svn-id: r36224
"
"2477c7c6a52386e208e5d8ddd334f5fa424dc5ec","2009-02-07 01:47:34+00:00","time.h include no longer required.

svn-id: r36230
"
"eaa407af295c5e1872c2deae83c1f1e1d252feb0","2009-02-07 01:47:54+00:00","Backport of revision 36227 (release critical bug).

svn-id: r36231
"
"205fbc83814a810ca931f80fa2bfb4a080caf007","2009-02-07 06:47:56+00:00","Make the subtitle settings in Options section of the global main menu optional, and enable only for game engines where subtitles settings are synced.

svn-id: r36238
"
"0057cb4cc1568290d14678915c7c6e2c1d842c1f","2009-02-07 07:04:54+00:00","Use Ctrl F5 for global main menu, since any single key would conflict with some games.

svn-id: r36239
"
"ce267e3284777b6b00245a50c4bd7778828040f6","2009-02-07 09:23:19+00:00","Add another version of Blue's Birthday Adventure demo.

svn-id: r36242
"
"d1cf581314d20f8129a0626871bc447ca127820f","2009-02-07 09:46:39+00:00","Add Amiga Italian version of Ween, and resort Ween entires by platform.

svn-id: r36244
"
"adb75f68f60f4295fe5732b9175031fda027f564","2009-02-07 19:49:04+00:00","(Backport of r36246) Add detection entry for Gold Rush! 3.0 (Bought from The Software Farm, reported by Muyfa666 on the forums and in the bug report #2565036).

svn-id: r36247
"
"e84d83b539d7fbf93590a3a99bfe8056be66b78b","2009-02-08 15:25:48+00:00","Backported r36249: Updated the GMM hotkey documentation and the list of engines features according to the wiki

svn-id: r36250
"
"77807b08d8082315c8261a1bca5ad99543f34f98","2009-02-08 21:44:45+00:00","Backport of commit #36185, to fix compilation with MSVC

svn-id: r36252
"
"6a0a004f8e7a28f23bc46921f63c11829c326501","2009-02-09 11:37:48+00:00","Disabling unsupported games

svn-id: r36254
"
"da752df1e468fdfc7c6b4e1bcbbf5431925c62a2","2009-02-10 20:05:35+00:00","Remove key and cer from pkg files, not supported anymore

svn-id: r36256
"
"1b4bbd7439832f847907c9a639506b8e0a2d9901","2009-02-11 12:21:57+00:00","Fix bug #2583230 - Waxworks: Can't drag and drop items.

svn-id: r36260
"
"a31e1cc7ebe041c9665ae593c48995eb27a961f4","2009-02-11 12:33:52+00:00","Code difference no longer required (fixed by revision 35327).

svn-id: r36263
"
"21fc6488409826065f99a7bd97eacee6abea0c31","2009-02-11 13:16:50+00:00","Add suggested code changes for bug #2580705 - COMI: Jerky camera movement.

svn-id: r36265
"
"1378993debbbf202d545fb7b1ced8e309885305a","2009-02-11 17:19:38+00:00","package drascula.dat, scummmodern.zip

svn-id: r36267
"
"b80f07a945043457e967f58c5598be7c82dfc272","2009-02-11 17:29:05+00:00","package cine, t7g, tucker tools

svn-id: r36268
"
"104e8c885a8a5c51dbc193702489a72f5ed06fc6","2009-02-11 23:25:12+00:00","Restore correct camera values for old saves games of FT, Dig, and COMI.

svn-id: r36275
"
"7079af5995d22b135ef099f582fade97df8031f9","2009-02-11 23:39:19+00:00","(backport of #36266): Fix for bug #2538123 - 'AGI: loading from launcher disables hotkeys'

svn-id: r36276
"
"b7923393826ef02a3471691d580d98240f507c1c","2009-02-12 16:56:22+00:00","Slight formatting fix. (backport of r36280)

svn-id: r36281
"
"790ab4feba9667f9a873f89fc4ac51fdee12012c","2009-02-12 21:52:29+00:00","Added Keys button to Scumm internal save dialog.
Fixed list layout in the keys mapping dialog.

svn-id: r36282
"
"87f0253c2caf42c50411ec4326caec72330c58de","2009-02-12 21:54:02+00:00","Fixed startup of the _keysDialog, common and in Scumm folder.

svn-id: r36283
"
"aca5c41ff28ca8a29ebf39e9e531f0a4eb9f9710","2009-02-12 22:02:09+00:00","Fixed small formatting issues in the stxs and
corrected code mistake in the common dialogs.cpp

svn-id: r36284
"
"86f7f6e0b843ca1e53b573b0dcb670ec61a9620d","2009-02-12 22:33:11+00:00","Working zip without any missformatting in the text!

svn-id: r36286
"
"546b90e407ae24b96ac4108c896cc6f5e6afbbd7","2009-02-13 05:15:47+00:00","Fix memory leak, when exiting AGOS engine.

svn-id: r36292
"
"4752dcd11078bfa6fce202ff71607848b999b2d2","2009-02-13 05:43:49+00:00","Fix memory leaks, when exiting Waxworks.

svn-id: r36295
"
"37bfe1d8364f050108fbe59d8a8313b250e089f1","2009-02-13 05:53:54+00:00","Fix memory leaks in correct location, when exiting Waxworks. And remove unused shutdown() code.

svn-id: r36297
"
"f071fed8b4bcf291a863f4f26a3170c357a0946e","2009-02-13 10:06:27+00:00","Revert talkspeed changes, while still only using the game specific talkspeed setting (if it exists). And clarify the talkspeed differences between games in the README.

svn-id: r36300
"
"f9813d41ebed065de3adb010af478adddf79ba53","2009-02-13 11:45:12+00:00","(backport of #36279) Fix for bug #2541237 - 'AGI: Restart quits ScummVM'

svn-id: r36301
"
"1df18f26b896700ecde4edecace43dd166b35dad","2009-02-13 15:03:08+00:00","backport '1555 is ABGR (not ARGB)' (r36257) -- forgot to commit this :)

svn-id: r36302
"
"067fb2d540a11d172c59ba6a46a6b3d11713d0c2","2009-02-13 18:02:48+00:00","Backport commits 36306 and 36307 to build a dynamic linked executable and not distributing the SDL Readme in Amiga

svn-id: r36308
"
"9a4d38e9c68d6004ce360b18e701bbeca6efd266","2009-02-13 19:25:26+00:00","Backported VectorRendererSpec::calcGradient fix

svn-id: r36312
"
"c3a1baf9fdc9b4968644946c545d5b3f4e918f31","2009-02-13 23:33:33+00:00","Fix bug #2596028 - FREDDI3: Game does not start German version.

svn-id: r36316
"
"b5e1fcfbe3a740cc53807b59a41be5e1eaca6b9d","2009-02-14 00:44:52+00:00","Backport of fix for bug #2485123.

svn-id: r36319
"
"3a52d55fb697df5308e7e17c6906009daa8ab97f","2009-02-14 12:59:34+00:00","Add missing code difference in wordMatch().

svn-id: r36323
"
"4602fe8abd33e12c67931f78ba6b64b71f3f4a6b","2009-02-14 13:33:42+00:00","backport of r36325

svn-id: r36326
"
"54c835ae48aa575de3061f5e0d7afbd1ef841863","2009-02-14 15:21:52+00:00","Updated iPhone backend to be more compatible with the standard unofficial SDK

svn-id: r36329
"
"77802d326564b6ceed4f5b7b2a383ea088bbe5e5","2009-02-14 15:52:54+00:00","Backported fix for bug #2599531 ('SWORD1: truck.dxa plays triped').

svn-id: r36331
"
"44ef96c08c7e75230969da98b6c1523b1888f115","2009-02-14 18:34:36+00:00","from trunk: clear full screen before playing movie in BS1 (fixes #2599573)

svn-id: r36335
"
"d4704e893f2b954b10c699510599e7934bd93ea5","2009-02-14 19:43:17+00:00","apply patch by Fingolfin to optimize scalers + more (sync)

svn-id: r36339
"
"108ea3cbbcb7a47d2e4c22a392060dfd9a66c8fd","2009-02-14 19:48:03+00:00","increase sound prio for release

svn-id: r36340
"
"60ed21981d4d767c69a8685d82a58b49c2c1a321","2009-02-15 01:56:02+00:00","backport 38188: correct sprite state for location 43 (fixes #2600759)

svn-id: r38189
"
"40b5a09814c0eadfa2a20113c60998094ba4d040","2009-02-15 08:10:16+00:00","Add Amiga and DOS Italian versions of Gobliins 2, and resort gob2 entries by platform.

svn-id: r38196
"
"23e795dc22a66192b9a5855174706a4c4e9267b3","2009-02-15 09:56:47+00:00","Fixed XML comment parsing (got confused by single hyphens inside comment bodies)

svn-id: r38209
"
"916bbd649d3c255b56dfb2d1d5c67859fa698d21","2009-02-15 10:08:52+00:00","iPhone: Fix for reading theme files from bundle directory

svn-id: r38212
"
"8c547eb654896d32dee4ac01a60e93a794be268e","2009-02-15 11:21:31+00:00","Cleaned up and improved overlay handling (iPhone)

svn-id: r38226
"
"dfeebb37bf88818e80108f74685246948a959729","2009-02-15 12:53:23+00:00","Implemented getScreenChangeID() for the iPhone backend, which fixes the overlay issues for 640x480 games

svn-id: r38234
"
"6bd014ac6506dad8abae3c88f37f445a39f67635","2009-02-15 13:57:22+00:00","Fix offset error in clearVideoBackGround(), that could cause menu glitches after fighting in Elvira 1.

svn-id: r38239
"
"7de22806037ec80e920b04763e2094ebbc3fa075","2009-02-15 16:49:35+00:00","reduce optimization for smaller size, for the release

svn-id: r38268
"
"c6ca9ac7e0aff59ec1f2e3b3c884b8ba9a8e1d13","2009-02-15 18:35:32+00:00","add support for tucker (sync)

svn-id: r38274
"
"4fd1d519cf8328649afb42427da7792b231a2d9e","2009-02-15 18:37:25+00:00","enable tucker and groovie engines (sync)

svn-id: r38276
"
"77768977bcd8aec773b1020373bd214f11ffdf49","2009-02-15 20:22:37+00:00","add support for groovie (sync)

svn-id: r38289
"
"252eeae2ffbf5380404ef36707cd014087950c33","2009-02-15 20:36:11+00:00","Announce GUI changes. (backport of r38292)

svn-id: r38293
"
"7f598a3e84fbdfd8a293f6ed63ba752691ae409e","2009-02-15 20:39:05+00:00","backport of r38294.

svn-id: r38295
"
"33d54aca1a738fdf4d459bbd068caffa10977308","2009-02-15 20:47:59+00:00","peed vs. Talkdelay patch in SCUMM was reverted, thus removing the news line mentioning it. (backport of r38297)

svn-id: r38298
"
"91f3af42aefe2ab8b7f8ed5f6931afe97cdb7766","2009-02-15 22:15:48+00:00","from trunk r38313: properly (re)select game after adding/editing domain name in launcher

svn-id: r38315
"
"1002eb69fd1d19631719beee6432646153843e94","2009-02-15 22:49:50+00:00","T7G: Backport of 38284: Fix for #2511456

svn-id: r38326
"
"daae8de0ab09d78faaa376855a5ceba70a66ce5c","2009-02-16 04:48:10+00:00","Fix startup of the Amiga versions of Manhunter NY/SF, which seem to require the older platform value of 20.

svn-id: r38342
"
"760dce9182f726bcfc1fc324bb8c45d004dde177","2009-02-16 06:29:13+00:00","Limit platforms to specific SCUMM versions, when selecting the music engine to be used. To help prevent issues, if user manually selects the incorrect platform.

svn-id: r38347
"
"eae48f8680b566698bc21c0b6b7613f3b6c8d333","2009-02-16 07:27:28+00:00","fix random crashes on vga devices when using exotic scalers (sync)

svn-id: r38353
"
"d176fe65071f65f0f78cd4fdf66b6a0c893550ea","2009-02-16 13:47:37+00:00","Add alternative filename prefixes for German versions of puttcircus and puttrace.

svn-id: r38368
"
"9e4831e8992454b30cccdc635b0391b64401ba68","2009-02-17 09:42:23+00:00","Clear cutsceneOverride for all scripts (except current), when restarting any game, fixes bugs:
#1923193 - MONKEY: cannot restart during the intro
#2518226 - FT demo: debugger at end of demo

svn-id: r38399
"
"9ef0928c51e6d71e28339cc2e6b1765b7c79ba27","2009-02-17 17:18:26+00:00","Fix for long delay while fading palette in Zanthia's home, when mixing potions. (backport of r38425)

svn-id: r38426
"
"8cfbe91e6f23e25d28f7726c45137f6915e37751","2009-02-17 18:03:10+00:00","Fix valgrind warning about mismatched delete. (backport of r38429)

svn-id: r38430
"
"a542c5e2e02bd2d00ad60d4e2bbbfb040f7a2f0d","2009-02-18 04:22:18+00:00","Updated actions with tucker and groovie.

svn-id: r38456
"
"00e53d0d9fdd755c131250afe2f630223811738d","2009-02-18 13:39:53+00:00","Backport for bugfix of #2609755 (GUI memory corruption).

svn-id: r38477
"
"62b13e7c30fd10c55e3327476c2ac2c8208b96e0","2009-02-18 15:01:07+00:00","backport from trunk: PSP use 4444 overlay + honour alpha bits in applyScreenShading()

svn-id: r38484
"
"1ebbd7af02986683614fa6bf5eab010c0fe605da","2009-02-18 16:11:08+00:00","add -DDISABLE_TEXT_CONSOLE and -DDISABLE_COMMAND_LINE

svn-id: r38488
"
"1c43427aa62a19272d4f2a1befb87b60c36102a9","2009-02-18 17:53:00+00:00","set version to 0.13.0

svn-id: r38491
"
"b4507f824cc7590a56d8051a96719fc4eca53eba","2009-02-18 21:01:29+00:00","Added DISABLE_TEXT_CONSOLE and DISABLE_COMMAND_LINE to the iphone build

svn-id: r38504
"
"6c67fd7b9a97fbee0a2ef1963695b022e51fd6dd","2009-02-18 22:58:15+00:00","Release date is definite

svn-id: r38513
"
"bac87f94d44794d025230d4cdcdb5ce8f94dd515","2009-02-18 23:18:27+00:00","This is 0.13.0

svn-id: r38517
"
"12f4837ab23eec467ff013530fbf0dd1bf22bba5","2009-02-19 00:11:56+00:00","The background sounds option, only applies to Simon the Sorcerer 2.

svn-id: r38519
"
"a79187c3dccef03f59373b3582726f137e1fb712","2009-02-19 00:18:51+00:00","The background sounds option, only applies to Simon the Sorcerer 2.

svn-id: r38521
"
"5babb98aaddd97d6e6a67fbc26a21eaa2a82794b","2009-02-19 00:25:16+00:00","Backport (disabled save/load buttons).

svn-id: r38522
"
"696543771471502ce9027022016485c15e94d5ba","2009-02-19 00:31:58+00:00","Fix compilation, which was broken with r38522.

svn-id: r38523
"
"62b4f57b9a571b1d8fd3b9ea3dc8936e15c40438","2009-02-19 00:37:52+00:00","Backport GUI fixes.

svn-id: r38525
"
"eaeb0e1ee5d3e8ba5dda8cb506f0542321351001","2009-02-19 00:42:22+00:00","Backport fix for regression in Options menu and disabled Save/Load buttons.

svn-id: r38526
"
"79ba00d94fc9594b7fe4e2bf892fa49e4bccaeec","2009-02-19 00:45:00+00:00","Backport fix for regression in Options menu and disabled Save/Load buttons. (backport of r38524)

svn-id: r38527
"
"b36213ad1e2992745fb70df02cb6f41de922e831","2009-02-20 11:15:46+00:00","Add COPYING.LGPL to dist/install for several platforms (osxsnap still needs an update).

svn-id: r38582
"
"af001dc532b7159dc4b8fcf196802dfbc843c567","2009-02-20 11:52:16+00:00","Backport fix for a nasty regression from the script system rewrite (commit #35670), which will cause crashes under certain conditions, and probably makes SAGA games non-completable.

svn-id: r38584
"
"701720c6b52e2b8c753d95144380d9c479c97fd1","2009-02-20 12:18:12+00:00","Correct release date.

svn-id: r38585
"
"3a1302e6ab8bf5ad1e16da816c039c433e958519","2009-02-20 12:19:06+00:00","correct scummvm-tools.spec version

svn-id: r38586
"
"30421ed1db34ab0dc97fbaf1b14e31c0f666cfb8","2009-02-20 12:31:59+00:00","Remove scummclassic.zip from packages, since it is built in.

svn-id: r38587
"
"998eb92fe2c93f532be8f18594c0424f129178f0","2009-02-20 17:10:15+00:00","update version number

svn-id: r38606
"
"6a5628fbcd09f6500a649a10cf02dae47adbad11","2009-02-20 18:34:58+00:00","Fixed configure on systems without mktemp. (backport of r38610)

svn-id: r38611
"
"8d82d78312fce71a777ba05ad89b492eb1dcbd1f","2009-02-20 19:41:24+00:00","Fix to be able to access gamefiles in the root folder of memorycard

svn-id: r38614
"
"2f8e6fa48094813dd1c73dcdb3c95f8c2c768baa","2009-02-20 22:19:16+00:00","Add English version of Humongous Catalog Preview and Russian versions of two HE games.

svn-id: r38632
"
"a6491614bcddeb0404077b8fd2d18748c699bc1c","2009-02-20 23:20:47+00:00","Updated readme slightly with new year, release number.

svn-id: r38643
"
"639db0de509711954bbfd1ffcba731a6e03f7a6e","2009-02-21 04:50:13+00:00","Backport of fix for bug #2619824. Command list execution is now paused when showing credits. This fixes the Amiga demo of Nippon Safes, which would otherwise quit without displaying the credits. (Backport of r38662)

svn-id: r38663
"
"b02da095cc61b82a695b306efe1503e1e78ec7d0","2009-02-21 05:20:48+00:00","Backgported Fix for bug #1864270. Music now goes on after the the credits have been displayed in the Amiga demo version of Nippon Safes. (Backport of r38664)

svn-id: r38665
"
"117a9bc0766148573a6a0e156b68d542dce99f0b","2009-02-21 19:02:26+00:00","proper fix for random crashes with vga devices (sync)

svn-id: r38727
"
"80b8cb16d7b28327100e64a8b3a546aa543dcea8","2009-02-21 19:22:38+00:00","update readme for release 0.13.0 (sync)

svn-id: r38732
"
"d482c5d6cff79069bec16a3a8c3d40d6a8eb59fd","2009-02-21 22:03:39+00:00","icons for OS2008

svn-id: r38750
"
"8402f03ffda77fbc5596d254d5b010ad525149f9","2009-02-21 22:45:19+00:00","maemo patch for 0.13.0

svn-id: r38759
"
"2f6ccfd97ad9dafdc3b432c7879cdb037f6cf525","2009-02-21 22:53:14+00:00","Retagging for 0.13.0

svn-id: r38762
"
"0c9c553f14622d58ab0051fb255ac4b85e279017","2009-02-21 23:32:54+00:00","This is 0.13.0

svn-id: r38768
"
