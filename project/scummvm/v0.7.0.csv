"commit id","commit date","commit message"
"7447ea8fb3fd4d39567899a033a06b9e8e759a3a","2004-02-14 12:01:07+00:00","Explaining odd hacks with a comment is usually a good idea :-)

svn-id: r12875
"
"d51f4c3b468c2b73e5d2da34c7268b78cbd18533","2004-02-14 14:44:47+00:00","Fix compilation

svn-id: r12883
"
"d766470e343d08f0e37e8662a30a152e3e6fc3a7","2004-02-14 14:48:14+00:00","Implementation of o6_unknownE4

svn-id: r12884
"
"0459089ca8da0b5b735e5708ad878b690373d3cf","2004-02-14 15:01:27+00:00","Some part of E4 opcode is FT/Dig only

svn-id: r12885
"
"abdb4fbe8784593d57e8e80afe8196a8cfc50dc8","2004-02-14 15:14:30+00:00","fixed bug #892426 - improved FT sound loops

svn-id: r12886
"
"4e7850b0f1ad9a297fe8e213a9200cf6b4c79593","2004-02-14 16:09:07+00:00","Fix E4 opcode implemetnation. Now it works

svn-id: r12888
"
"06d7b1729d60a6c8282e4fa9cbb3d4dae414ff74","2004-02-14 16:13:16+00:00","increased debug level

svn-id: r12889
"
"8cd11f33f418c3adbcd0c8ece7444bb56d003b7e","2004-02-14 16:59:28+00:00","changed to debug

svn-id: r12890
"
"c1ee0aeb4f73d8360e4c41fd19c151d35fbd2f44","2004-02-14 17:01:28+00:00","fixed warning

svn-id: r12891
"
"a6d020ed255981c25e44af70de9d7c588fd1afeb","2004-02-15 00:43:10+00:00","versions of ALSA newer than 0.9 are ok as well

svn-id: r12893
"
"3684baeadbd2f27ba8aecce383f01a8496a65210","2004-02-15 01:01:16+00:00","add note about install target

svn-id: r12894
"
"be218fa982972c25bfca60d5893a63adeaa1f06b","2004-02-15 01:21:02+00:00","Enable plugin support via configure script

svn-id: r12895
"
"e4e4336c0df5bb63cfb6ad809f720fef296569e2","2004-02-15 02:47:00+00:00","Fix crash at fbear end scene

svn-id: r12896
"
"4092bd569394d3a86b2499336582adabe45e3002","2004-02-15 02:48:22+00:00","fix typo

svn-id: r12897
"
"955a96ada55f6ba1a5974664eae18591e3f40748","2004-02-15 03:47:26+00:00","Add fix for akos colorKey issue in fbear

svn-id: r12898
"
"7b67425bc20a064d6e72b09ca32f8ace945683d4","2004-02-15 03:53:03+00:00","More fixes to ScummEngine_v6::o6_pickVarRandom

svn-id: r12899
"
"71fb488482dc39976498d0317b2620e4e2a30b2c","2004-02-15 08:06:32+00:00","Another Amiga V3 sounds update from Quietust:
Music is closer to the way it sounds on a real Amiga
Fixes the drums in the Indy3 'Berlin' music

svn-id: r12903
"
"b3697859cf0f376a57d82bb7a9bc6c3e75b15fa9","2004-02-15 11:15:17+00:00","updated TODO

svn-id: r12904
"
"2e7badd6dc1b1f276d52395cb8fcdc6783995ae5","2004-02-15 13:06:09+00:00","Add back fix for bug #738352 and restrict to needed games only (Checked against disasm.)

svn-id: r12905
"
"55556c813c1ff169658dfb2c7e5e6ec665ce17ed","2004-02-15 14:22:54+00:00","Proper handling of BS2 cutscene lead-outs, plus some other minor fixes.

svn-id: r12907
"
"9f026bb0e12955d3100a957af6b60956a56474cc","2004-02-15 15:20:55+00:00","BS2 cutscene lead-outs have been fixed.

svn-id: r12909
"
"d5bf1699ca124de6959a76d3d5b75ca0beeb2ecf","2004-02-16 02:55:23+00:00","Add akos drawing offsets

svn-id: r12910
"
"af305a31c3f678c554862f271bc5455021964761","2004-02-16 03:08:17+00:00","Update comment
Remove duplicate code

svn-id: r12911
"
"42dd31d9f37ccd8822b9930ec7d460349bc04109","2004-02-16 03:53:03+00:00","Add comment and case

svn-id: r12912
"
"7cc3bc357f8356cff3e300fc0e99d94195323264","2004-02-16 05:15:31+00:00","Rename opcode

svn-id: r12913
"
"9d3ed96738f984132123cba82ba5240fb0aa71f8","2004-02-16 05:53:17+00:00","Rename opcode

svn-id: r12914
"
"66f065d3d64d335b255deaef3b037c69f65d45c5","2004-02-16 16:51:44+00:00","Workaround for BASS bug #897775. As far as I can tell there is no proper
fix for this bug, but please prove me wrong.

svn-id: r12916
"
"92eb49863561e480d30fceb65ef1fe6c9f5dda77","2004-02-16 20:35:42+00:00","some thoughts on screenshots on the web site

svn-id: r12917
"
"f219935e83cd49bf1d13692a914827b39cf29a9d","2004-02-17 00:13:25+00:00","Fix bug in ScummEngine_v6::o6_setBoxSet

svn-id: r12918
"
"41154fb613fb9b9e27c0cd9cbe09c601c280a75d","2004-02-17 00:40:52+00:00","save talkVolume

svn-id: r12919
"
"742f4d89bcfdbd4a0b2feff53067fe8abac5a8ef","2004-02-17 05:46:46+00:00","Add Putt-Putt Circus Mac demo

svn-id: r12921
"
"2940a98cd31e5402a5a14589402332b8221f65c1","2004-02-17 06:34:02+00:00","Add reported Atari and Amiga md5's

svn-id: r12922
"
"eefbe23801f2aa8cd5d184a0cd644c8509264b5a","2004-02-17 17:43:27+00:00","delete certain unused non-perma resources when loading

svn-id: r12923
"
"8e5df2bda3fb7d3e4f03d9ea3778a14aeb5c404e","2004-02-17 17:45:22+00:00","Made explicitly clear that for GID_PJSDEMO, _numNewNames never got set (i.e. it always was stuck at 0)

svn-id: r12924
"
"1f2ab0145bf11521d1cf34884b45db993a95ec5e","2004-02-18 04:21:19+00:00","FT/DIG/COMI should always default to 100 for actor.forceclip.

svn-id: r12925
"
"cab9b2f34ad1f4bc42309c2280adca11bc4b727c","2004-02-18 05:20:47+00:00","INSANE debug output now can be turned ot in debug console

svn-id: r12926
"
"a092b1536ab1d0a7da6e1dbb90bf1eacdfe70fe9","2004-02-18 05:21:32+00:00","INSANE debug output now can be turned on in debug console

svn-id: r12927
"
"3e58cb906a0a467f75cab2c5c202e5ec87993d5b","2004-02-18 10:42:26+00:00","Add some safety checks

svn-id: r12928
"
"97472bd078dd7e0b72e5f119c6e11d28fd505ae4","2004-02-18 10:59:47+00:00","remove this *purely experimental and knowingly incomplete* test code from the release branch

svn-id: r12929
"
"929fd0591f411008d33c6709de2effbff995e683","2004-02-18 11:46:07+00:00","Change debugs back to warnings (As requested)

svn-id: r12931
"
"e5c3d7329b2ce8a54d2476bb93e8272285801499","2004-02-19 02:18:05+00:00","An equal value should be allowed, originals used changeRange at this point.

svn-id: r12932
"
"429c86f4f3e47d522a9e5a14a305f16fe08e4e24","2004-02-19 08:21:59+00:00","Fatty Bear games use positive size values in these opcodes.

svn-id: r12933
"
"5d8bf5faf8b876bc30b49a6f40ad1befe9783199","2004-02-20 00:32:29+00:00","Added some more stubs for Kernel[Set/Get]functions. Some more comments
on opcodes

svn-id: r12936
"
"9f073e44c7fd7be0ff8d4c8f55995a8407dfc6da","2004-02-20 00:46:30+00:00","oops. Restored needed debug output.

svn-id: r12937
"
"83935dd920d9bc44a36c9af46998d4761cf0b60a","2004-02-20 01:31:29+00:00","Revert recent change that breaks temporary saves (No music or even crashes)

svn-id: r12938
"
"76eff7e2218da27ac2e493b468895d63781be88d","2004-02-20 03:04:38+00:00","o Fixed crashes when file to open does not exist. (missed functionality)
o Fixed redimArray

svn-id: r12939
"
"1fe7d0c8902f33ded8fa847c3072d4130af20fd9","2004-02-20 03:29:39+00:00","oops

svn-id: r12940
"
"f1b5b8fa2438d5fb6e0957bc015640a015a954e3","2004-02-20 15:04:51+00:00","Variable should be checked at this point.

svn-id: r12942
"
"83a76bb131ced26a86e3c1e61812a63ab1d100b7","2004-02-20 15:46:11+00:00","Update vars

svn-id: r12943
"
"5c59d9a66b5cf9ac9d11da915cef9684bbae2058","2004-02-20 17:12:16+00:00","Correct another bad comi var

svn-id: r12944
"
"b3f4ba3417930d247363dfde155fed91503fb932","2004-02-20 22:16:44+00:00","EVC ... no ... comments ... please :)

svn-id: r12945
"
"e0b723a54c22806c45170ecca3f3456da14ce690","2004-02-20 23:05:00+00:00","Oops

svn-id: r12947
"
"dfe5828d4fc98a880a7f6de61585c21208b945aa","2004-02-21 02:03:53+00:00","Use correct method for subtitle speed.

svn-id: r12949
"
"abffa78eca800d0c04adbf716725873f403e55a8","2004-02-21 02:56:47+00:00","COMI needs an adjust for VAR_CHARINC writes.

svn-id: r12950
"
"0bb0d3a12bed79a340d91d9650b269e20200d9c9","2004-02-21 03:11:40+00:00","Adjust again for comi demo.

svn-id: r12951
"
"a424ad6d7ca9a24408c15672b0db748505303d2c","2004-02-21 05:30:29+00:00","Add TODO about descumm and o6_startObjectQuick

svn-id: r12952
"
"cb939708dd0afc5c084ba551caf4fc648a930749","2004-02-21 06:36:40+00:00","Adjust again for V1/V2 games.

svn-id: r12953
"
"a4a4c21956f5f2fd08194d0e824bbf2c62d072f3","2004-02-21 06:44:10+00:00","Ooops

svn-id: r12954
"
"fe667a67be6e1b89f6f95b3be4dd41b3e9c7ad21","2004-02-21 08:21:11+00:00","Correct VAR_CHARINC in old saves.

svn-id: r12955
"
"a75b84dc1be8eb20c40111f477192be780ee4bd8","2004-02-21 08:30:10+00:00","Use unsigned characters when drawing the text in the control panel etc.
This is consistent with how the in-game text is drawn, and might possibly
fix the control panel text in the Spanish version (though I have no way of
actually testing this).

svn-id: r12957
"
"356bed1de9be51028b4230f4a595167784a36105","2004-02-21 08:52:25+00:00","Fixed arrow dialogue glitches (partial display) in non-english versions. This was due to a (wrong) blitting order of the bobs, arrows are now the last ones.

svn-id: r12959
"
"56eea4abcc6572900cacaa4d56a5107beff1dee7","2004-02-21 09:43:19+00:00","Fix HandheldPC/PalmSizePC compile

svn-id: r12961
"
"580a2ffcfe549aac41606a2e30e15faadb9c6c0d","2004-02-21 11:37:52+00:00","Add a few more actor inits. for later games.

svn-id: r12962
"
"42a94ca017b80415a8942970999feb0ff87ab372","2004-02-21 11:41:46+00:00","Ooops

svn-id: r12963
"
"745b2195968d65f84f2ae6b7acb0c8a09a4615ca","2004-02-21 12:53:59+00:00","Add vars

svn-id: r12964
"
"30fd4d66ac2ee1057c429df54aeea8b20b9d4354","2004-02-21 13:10:44+00:00","Add var

svn-id: r12965
"
"d669bb702879e6df7170c127055322c5ecff5d62","2004-02-21 13:17:35+00:00","Add comment

svn-id: r12966
"
"099bd2cb47762947044e2160e1de46bb15d47e84","2004-02-21 15:08:36+00:00","This is normal for earlier games

svn-id: r12967
"
"1831d71ed357bc582625365f7e3164550669a2e3","2004-02-21 15:12:46+00:00","Ooops, didn't meant to revert

svn-id: r12968
"
"1ca197eba05f0e6de11c24930e22a7c8328fba28","2004-02-21 15:17:16+00:00","do release builds with -O2

svn-id: r12969
"
"9119fc440f6a07dc9828c3de658fb2d6961d57ce","2004-02-21 15:30:16+00:00","Todo updates

svn-id: r12970
"
"24e5059aec315c7c6baa7668d352965315487629","2004-02-21 15:55:26+00:00","Create a simple Makefile when building outside the source tree (Needs improvement, but works well enough in most cases)

svn-id: r12972
"
"1fb02caedf97c1d6c324e78e9fdc653a3534c172","2004-02-21 19:03:16+00:00","code duplication is bad, maybe we can 'share' the mpeg2 code between bs1 & bs2 ?

svn-id: r12973
"
"1d7eafe675e08835a0f1128996b1f8a72561825d","2004-02-21 20:00:51+00:00","unified code a little

svn-id: r12974
"
"0301ccc8a88283d02b65749fd21f90e71582f14d","2004-02-21 20:20:35+00:00","Fix for bug #899881 (Sounds played when sound turned off)

svn-id: r12975
"
"6e50033d07011d8fcae941c5c10530081d522db0","2004-02-21 20:50:56+00:00","I am an idiot.
Better fix for bug #899881 (Sounds played when sound turned off) - I forgot I added the isSpeech flag a while back. :)

svn-id: r12976
"
"ff934471084e4c4daec06527583dcd9d4b519b84","2004-02-22 00:49:38+00:00","Remove duplicated indy3 MD5's. If fr and es version do have different
MD5, it's better to add them later.

svn-id: r12978
"
"42028e984fa70c7fbb4536f1146161942e6fac40","2004-02-22 03:08:18+00:00","Enable and use VAR_VOICE_MODE

svn-id: r12979
"
"8a8bbbf80f7af181de8541c9bb9bc4bda0a9226f","2004-02-22 07:14:48+00:00","Missed one spot.

svn-id: r12980
"
"36e9979303f0c416ae912d8412e6ee9d025fb04a","2004-02-22 08:02:56+00:00","Restrict hack to COMI

svn-id: r12981
"
"6db3a8819e7ef847f6aefac8e40f542cad006481","2004-02-22 08:18:28+00:00","VAR confirmed awhile ago.

svn-id: r12983
"
"aa6ec62e9db78db12912d0e48025241c5d7ef4f7","2004-02-22 14:11:16+00:00","Patch #885904 (Flac Support) with some tweaks by me

svn-id: r12984
"
"aa8cfba102ceebdc86215b21ec9a877407e3f14e","2004-02-22 14:42:06+00:00","Original comi doesn't check value at all

svn-id: r12985
"
"c689416ecce4c20666426d4a29704a43197805e1","2004-02-22 14:48:13+00:00","Only comi is different

svn-id: r12986
"
"16b71220080a280751c8e9e532c89a623c6dd980","2004-02-22 15:00:49+00:00","Code is required, according to disasm.

svn-id: r12987
"
"371cfa810f5ceaa7f05a1b0fd670dfa0f0ace5e1","2004-02-22 16:08:13+00:00","This should fix zak lotto bug correctly.

svn-id: r12989
"
"95831a2d5b7ad649fca37772a98f78f49c90b692","2004-02-22 16:09:34+00:00","Free _screenBuf and _screenGrid before allocating new ones.

svn-id: r12990
"
"244d19523fcf7f3e995cd6fc8160b653d752a22f","2004-02-22 16:15:49+00:00","Correct extra slow subtitles in zak/maniac with old saves.

svn-id: r12991
"
"3fb6d8e63da8e829e452da8cbf82d1085494857a","2004-02-22 16:31:12+00:00","Is used in maniac and zak.

svn-id: r12992
"
"e40e3dd530cd03503ca64893752e227d362d992c","2004-02-22 16:31:32+00:00","Cody56's fix for a minor graphics glitch.

<Cody56> but don't commit it to the 0.6.0 branch

svn-id: r12993
"
"e469cd43a741e2f6d94419f1b3e12039dcdfc7ce","2004-02-22 18:13:54+00:00","Avoid deadlock in MPEG-2 cutscenes + slow devices

svn-id: r12996
"
"cfd248eeb971dc1205bac66f28745a06184accf4","2004-02-22 21:01:40+00:00","avoid #include scaler.h

svn-id: r12997
"
"9d5dace3667516a2b17f984951c9c31d78e4eee8","2004-02-22 21:02:06+00:00","whitespaces

svn-id: r12998
"
"6588b17469da1b6eb7ac1499f1ddfe20445a087c","2004-02-23 00:59:34+00:00","Added missing HE opcode (0xEB tellFile)

svn-id: r12999
"
"02eab2641dda74f8c327c535291949c52dea9192","2004-02-23 01:10:05+00:00","Ooops, missed a call.

svn-id: r13000
"
"f8781408956e8e29a34a9bddd558c3c2b6592b6f","2004-02-23 02:07:56+00:00","o Add GID_FBEARPACK, previously for target fbpack GID_FBEAR was used, but there
were fbear-specific modifications which didn't apply to it. Hence another GID.
o seekFile and tellFile are enabled

svn-id: r13001
"
"ab72dadbff628b725d80a3d63f8bf88ece866a8f","2004-02-23 02:51:34+00:00","Fix o6_readFile. Now it works

svn-id: r13002
"
"a2ea28b56fc69488b9d8705cb9e28c1b6a81af96","2004-02-23 04:01:39+00:00","Proper implementation of readFile, writeFile and redimArray.
HE specific fixes to defineArray.

Now many things started to work in HE games.

svn-id: r13003
"
"1b82caa9126c2ce20bbb4f62af5d261ad12bab8a","2004-02-23 05:38:20+00:00","Add HE specific modifications to readArray and writeArray. That fixes
those crashes

svn-id: r13004
"
"179ad3b845df131207c8ec7951d50df138a97c31","2004-02-23 09:21:22+00:00","the code was still wrong

svn-id: r13005
"
"8b0bfb620627ddda1a4b9295340c18777f73dc91","2004-02-23 11:10:57+00:00","Add FLAC option

svn-id: r13006
"
"b2f6ed6f235a27ff127ba7e98c859946ebaa1831","2004-02-23 11:15:03+00:00","Add back hack

svn-id: r13007
"
"f5239ada1f6286e687d7ada69e82a6eb31dcfd3b","2004-02-23 11:35:58+00:00","Allow the cursor to reach the bottom of the screen when using the keyboard
to control it, and aspect-ratio correction is activated.

svn-id: r13009
"
"87438d54177e3b644769f785442161c222005380","2004-02-23 16:41:05+00:00","Changed FLAY_LIBS to FLAC_LIBS, as pointed out by Lord_Nightmare on
#scummvm. Clarified that it's FLAC >= 1.0.1 that the configure script is
looking for. (That's when the seekable decoder was added.)

svn-id: r13010
"
"10f95809ab80f0d108a9abe45bac1de63117cfa5","2004-02-24 00:43:01+00:00","Rename a few opcodes

svn-id: r13011
"
"e5392aa12c1a03f79eebd6fd65fdb8e01f7f5c49","2004-02-24 01:50:13+00:00","Removeout dated fixme (No reports of asserts in minefield)

svn-id: r13013
"
"4117781522f0786329c58271233e137246a7b49a","2004-02-24 04:45:50+00:00","Graphics decoders for 3DO HE titles. Preliminary implementation, don't
blame me :) After testing I'll convert it to C.

svn-id: r13014
"
"e68e003777dc712fdd2cabbdc5304c66b99958d0","2004-02-24 04:51:02+00:00","Minor correction

svn-id: r13015
"
"8505948237a74327e345236320f59e660e78c557","2004-02-24 04:52:59+00:00","Notify about 3DO grpahics support in HE games.
FT support is not initial anymore

svn-id: r13016
"
"3586e77e1ce77bcc461d2e4efbe6d7c847498c49","2004-02-24 05:03:06+00:00","Add case for 3do versions.

svn-id: r13018
"
"dc1c78a58fe8302bfd06f54b5dbc07a941b7fdf0","2004-02-24 05:09:17+00:00","update some HE bits

svn-id: r13019
"
"b80a9a2a378d9fe483ee2d6ddeb2b12c05b74da8","2004-02-24 05:14:00+00:00","Add case for 3do version.

svn-id: r13020
"
"fb3e937e1337cce393e5eb68f5c4637745fcc3e2","2004-02-24 10:49:18+00:00","post-0.6.0 features should be added to a new section, not the 0.6.0 part of the NEWS

svn-id: r13021
"
"6bb7c782764cd4da047be703746e176c1158ec56","2004-02-24 10:52:40+00:00","Reset more for a restart and avoid some code duplication.

svn-id: r13022
"
"43cab33e9829380f9cf3632cab07915110e9966d","2004-02-24 13:59:29+00:00","Remove warnings, they were dummy warnings in originals.

svn-id: r13024
"
"b52ef6463bfe91044682bda5dbe9e3ca88c78b09","2004-02-24 14:29:56+00:00","COMI uses VAR_CHARINC in reverse, so adjust readvar.

svn-id: r13025
"
"03b25aaf828b4646b2410df38b09e7eb5e794e88","2004-02-24 21:10:34+00:00","Fix Simon detection

svn-id: r13027
"
"47c167a594c172cbf0f8169b24d9a328c2026a29","2004-02-24 21:27:02+00:00","Fix hide toolbar

svn-id: r13029
"
"fc8c15dc20ba81c99527c550a2c8ae03003c49b5","2004-02-24 21:56:16+00:00","Fix graphic options on WinCE

svn-id: r13031
"
"3ed154f80f46feff71c2f485e2ba29c0040256e7","2004-02-24 22:06:21+00:00","Fix monkey detection

svn-id: r13033
"
"70f910cbe19e9c7320a56fa48669f7a5e9df00e6","2004-02-24 22:17:08+00:00","Random 640x480 tweaks

svn-id: r13035
"
"d158280425efac5f4ec72e00fb2b7389cdfb5a75","2004-02-24 22:39:42+00:00","the OSystem changes we discussed on the ML (note: renaming of the existing OSystem API is not yet finished); porters will have to fix their ports to get them to compile again

svn-id: r13036
"
"a263f2c64a02e6ebe16bce00206f93f2e65d9350","2004-02-25 04:23:58+00:00","OpenGL backend no longer exists.

svn-id: r13037
"
"3999a9d604e305be63cefcc166cb92936301e1af","2004-02-25 04:32:42+00:00","OpenGL libs no longer required

svn-id: r13040
"
"70c3d3b66e15d2f6706bc1b276630386447f979e","2004-02-25 06:08:00+00:00","Fix SDL backend compilation

svn-id: r13042
"
"60a26dc1f5db3e3be5c5bc3894eb9c4f55fc3fb0","2004-02-25 08:03:31+00:00","Honor per-game aspect-ratio correction setting when starting the game from
the launcher.

svn-id: r13043
"
"a3bdb31870a7810dd10600611aa962837df442ad","2004-02-25 09:49:03+00:00","OpenGL *is* needed for the OSX static target, because SDL always links against it

svn-id: r13044
"
"5e163a51a45a49c2db0a934979c192a6adc53225","2004-02-25 09:53:36+00:00","fix fullscreen switch code 'properly' (sorry for missing this one, folks). Since we don't have the OpenGL variant anymore, we could now merge back the two parts of the SDL backend - and maybe split them into multiple files in a different way (events, graphics, audio, misc ?)

svn-id: r13045
"
"fd0de253dc7883c932eb995cf3359774522bbb60","2004-02-25 10:05:50+00:00","support subdir modules

svn-id: r13047
"
"ac42e1a4368f3cab18a6c73219004b3cbd765c63","2004-02-25 10:09:14+00:00","Update

svn-id: r13048
"
"a9507e63a85602d0e3a1e79fdacb189a52458397","2004-02-25 10:09:18+00:00","alternate linking order, avoids 'SDL_main' related linker errors on OSX (this shouldn't break other linkers, I hope - if it does, please tell me, and feel free to undo this)

svn-id: r13049
"
"5df1bd8b492593cd89c6b9c65f2a49e421d23953","2004-02-25 10:31:53+00:00","undoing this for now as it causes problems with at least MinGW

svn-id: r13050
"
"793bc427de9361db7a9eb840be8631da2fe69cf7","2004-02-25 10:48:35+00:00","Fix VAR_VOICE_MODE in COMI

svn-id: r13051
"
"e9584c64f3d243bbb9c15bdfdedc232ffb521d93","2004-02-25 11:41:55+00:00","Build SDL backend via a module.mk file, too

svn-id: r13052
"
"e495eea19f6a9a79b432005edcc04a52b8edfdea","2004-02-25 14:01:46+00:00","Disable var setting which could cause possible script issues.
Update comment

svn-id: r13053
"
"c086822ba9aa53c05ead5ef06d5fb9a658fc0c48","2004-02-25 14:31:31+00:00","Revert fixme out.. as it's all fixed. :o)

svn-id: r13054
"
"4e5acf185f582982f31ccb8666f0a3f3d85cf970","2004-02-25 17:24:42+00:00","added some todos

svn-id: r13055
"
"9860361ebfaab846ce4cf86a8efe9517a68bb4df","2004-02-25 23:13:14+00:00","small TODO

svn-id: r13056
"
"ef8811e42466b2878fc41814f582b5453aa50f29","2004-02-25 23:15:21+00:00","another TODO

svn-id: r13057
"
"7faa960649be9b1fec272ac39313d2a76b90b883","2004-02-25 23:16:04+00:00","remove outdated TODO

svn-id: r13058
"
"fbb61065149896b22989d4834d51bb0b4c76292d","2004-02-26 03:13:20+00:00","Restrict hack

svn-id: r13059
"
"258d0ea724d4aea2f5f1fa613aed71b5bb3844f1","2004-02-26 06:52:21+00:00","few corrections

svn-id: r13060
"
"5c7c6ca2a3e930faba8b0f26841093de3a1e97f4","2004-02-26 07:31:48+00:00","Work around music glitch in Monkey Island 2:

In the scene where Largo is speaking to Mad Marty, the Woodtick music often
resumes way before Largo's theme has finished. With this workaround, it
waits until Largo's theme has definitely finished before starting the
Woodtick music again.

I wouldn't have done it this way if I hadn't been almost positive that it's
a script bug, rather than an iMUSE bug.

svn-id: r13061
"
"dcdf169e0073639b9024d861af37fa455f0ca6d2","2004-02-26 12:05:13+00:00","Fix crashes in French version of Simon2

svn-id: r13062
"
"3a6646b59872e651b52cba0b68890cb290e113b1","2004-02-27 02:08:44+00:00","Handle 'compressed' songs

svn-id: r13066
"
"bfd65070c5770fff5062c17242ba3ad46263ec8b","2004-02-27 05:51:04+00:00","Don't reamp F1 in COMI demo

svn-id: r13067
"
"b941740b72d86eb6290cacecf5386704be4fb9b6","2004-02-27 15:49:27+00:00","obsolete TODOs

svn-id: r13068
"
"751435d54f58f38d158432b9ea4700a5819148d1","2004-02-27 15:52:23+00:00","cleanup

svn-id: r13069
"
"2671ca515e0d95e8fd2bc4cfe3b37271b037f17f","2004-02-27 19:35:51+00:00","fix a recursive lock bug related to update_screen() (shouldn't have caused problems on most systems, but still was a bug); rewrite the code which switches the scaler mode to be slightly more efficient

svn-id: r13070
"
"87e0e57567ab6ae796e159ba6b574d1528aed217","2004-02-27 19:36:52+00:00","the 2xsai class scalers all move the resulting image one up; work around that

svn-id: r13071
"
"c8811a3df68da40aad72806abe068d78a3bc8d85","2004-02-27 23:30:37+00:00","Add reported MD5's

svn-id: r13072
"
"bb0ed8bc8129ec4c2d6e0d6f333917418303ded4","2004-02-27 23:54:13+00:00","Handle comic book case, enable music toggle and some minor cleanup.

svn-id: r13074
"
"6c64dc6ac4c73ef659356fd11f7e8ed6f4a610ee","2004-02-28 00:02:11+00:00","Forgot to add this to xref.txt

svn-id: r13076
"
"ec45e8dd811e2a61f95b863cdcc8bdf6d78c9762","2004-02-28 00:22:14+00:00","Correct Mac fbear MD5
Remove slipped in spaces in some MD5's. Don't know either it prevented them
from being detected but anyway that's potential bug

svn-id: r13077
"
"d94c096f368a40e4ff1c9ecd42d63f808ebb17af","2004-02-28 06:34:58+00:00","removed hack from loading code

svn-id: r13080
"
"727e8b38122bbc18fa43928fbb656514e7b8dbd5","2004-02-28 07:34:26+00:00","simplified alt_intro check

svn-id: r13082
"
"bc0199a3f12419cbd1ef26e90415d049b0db4e30","2004-02-28 08:52:53+00:00","dropped the 'always' verb feature, as it is more confusing than useful

svn-id: r13084
"
"56102a1d02925abbe9fc0504751de1a270a34ff3","2004-02-28 09:02:43+00:00","forgot to change that, too

svn-id: r13086
"
"c6752cccf5186fb04c97e2bb4a64c52fc9447073","2004-02-28 12:58:13+00:00","renamed more OSystem methods to follow our naming scheme; renamed NewGuiColor to OverlayColor; fixed some calls to error() in the SDL backend

svn-id: r13087
"
"79c488cb6c026981d8beea0cae231974abd3c998","2004-02-28 13:00:19+00:00","fix mouse redraw issue when toggling fullscreen mode (visible if one mode is 555 and the other 565)

svn-id: r13088
"
"680160407b901beacfdc13ea95a99c1646351bbf","2004-02-29 00:18:45+00:00","add support for the standalone maniac mansion demo

svn-id: r13090
"
"82fec69482a0de5b1b9dc744dccdc20ec9a93b97","2004-02-29 00:49:40+00:00","merged OSystem_SDL and OSystem_SDL_Common; split SDL backend into multiple source files

svn-id: r13092
"
"5153499a0eec852810197655c3dc789673b661bf","2004-02-29 01:13:08+00:00","Enable insane subtitles in Mac. version of FT demo

svn-id: r13094
"
"07158481fd1f1730cfb5b9617be1ee5652f5a80a","2004-02-29 07:11:42+00:00","Update

svn-id: r13095
"
"80fd4bd4f0a12d26d9723339eaa346f9a96e2ed9","2004-02-29 11:19:02+00:00","this might help Makefile.noconf (did I mention that i want to get rid of it?)

svn-id: r13097
"
"807bc5e0fa341ebbe28742b412f8d319dd6b14ec","2004-02-29 13:43:08+00:00","Correct incorrect smush filename in Macintosh FT demo

svn-id: r13098
"
"2f01efd9f3489f24ffaf6e1569605c521bea2376","2004-03-01 00:32:47+00:00","Add fix for error at end of sword2demo (From eriktorbjorn)
Prevent false warnings in demo.

svn-id: r13102
"
"e063d004183bcda3c7c787bd6617d7396370bc16","2004-03-01 01:41:22+00:00","got rid of _mouseOldState; some minor cleanup

svn-id: r13103
"
"3098149b52a5b35eed5f830f4e37ad1cf81a91ce","2004-03-01 01:44:36+00:00","removed obsolete membe

svn-id: r13104
"
"267a96ba4fb854643b55ba1f80607bbfd18b284b","2004-03-01 02:55:08+00:00","HE games specific

svn-id: r13105
"
"b77231a9a365cdcbb268101141b99200e11173b7","2004-03-01 04:05:10+00:00","Fix from Roever for bug #892827

svn-id: r13107
"
"9e894f6bf39aaa9780fd3f27d68e0ce1b5886df8","2004-03-01 05:57:30+00:00","Started work on Freddi Fish. Since it is SPU version 7, added new class.
Implemented some SPUv7 specific opcodes

svn-id: r13108
"
"d7f9be12fea17181e38486e71caf497adadcdc76","2004-03-01 06:23:25+00:00","Move decodeParseString to script_v7he.cpp where it really belongs to.

svn-id: r13109
"
"6f214f3a9ff0e34e204d05da0ddbbb6099a51860","2004-03-01 06:25:01+00:00","Add HE7 vars

svn-id: r13110
"
"f1c86bc86fdf586cb8953094ec1d9cfae66ffd3b","2004-03-01 06:31:06+00:00","HE7 resolution is 640 x 480.

svn-id: r13111
"
"a868e1d4649b1438a83253f6e7529a08bf509847","2004-03-01 06:38:26+00:00","HE V7 games are 640x480. Now game forwards much further. Still no graphics, though.

svn-id: r13112
"
"439b0b3859d6eb1a56e4c085c1317686e5071e7d","2004-03-01 06:45:24+00:00","Remove double check, all later games are 640 x 480.

svn-id: r13113
"
"db22318d618ae6a1ef6a72fdcb7b50ea265a3e28","2004-03-01 06:53:50+00:00","Correct target

svn-id: r13114
"
"15c3202623445ba665fd37dec3bc5f0427a3fc4f","2004-03-01 07:06:36+00:00","Add stub

svn-id: r13115
"
"d924893435276367cb987335675383ec96a8b816","2004-03-01 07:21:47+00:00","Enable some HE target to test with.

svn-id: r13116
"
"85f888e5821fa372c9cc50f8da84d74a778edddc","2004-03-01 07:56:33+00:00","Display keyboard when saving

svn-id: r13118
"
"82c451774cbdd25566cd417adf60d5de47a7b039","2004-03-01 08:04:10+00:00","When scrolling, force a full redraw not only when the scroll offset changes
but also on the first frame where it doesn't. This is necessary because
parallax layers may be drawn on the *old* scroll offset (for reasons
unknown to me).

To see the bug, walk right from the first screen until you reach the tree.
Notice how the part of the tree you walk behind gets redrawn slightly to
the left.

svn-id: r13120
"
"fa625ce1bef041f6e11e2bcc36b374f51b118fb7","2004-03-01 08:08:42+00:00","default to 1x for all of the active hev7 targets

svn-id: r13121
"
"09198784082b797f4e0b862c0f86e2ab4f1fb63d","2004-03-01 11:18:50+00:00","fixed dep file loading

svn-id: r13122
"
"0603c3a11fc377f6b20b766e046d7b1373b12319","2004-03-01 11:20:32+00:00","Fix for bug #907280: Mouse glitches and crashes (Regression)

svn-id: r13123
"
"e67aaba0c3da89778faff5d5822cbf6dfba811dd","2004-03-01 16:07:16+00:00","Got rid of the Sam & Max inventory hack. This fixes at least one aspect of
bug #907113. See also bug #493153 for the origins of the hack.

It would be very nice if we could get this fix into 0.6.0 as well, because
bug #907113 crashes ScummVM for reasons which escape me. But someone will
have to verify that the fix is correct first. Pretty please...?

svn-id: r13124
"
"581e8f515a851b2d9200922f774dec6877d009e0","2004-03-01 21:36:15+00:00","Update comment on runInventoryScript() argument in setOwnerOf().

svn-id: r13125
"
"dd3683f7e7548b953b8e77cc7ee2a6b5bc426258","2004-03-02 00:21:02+00:00","Implemented some HE specific opcodes
Added some HE GIDs

svn-id: r13126
"
"c84ad5e0d4563ad6ec39172b00aa08bf17fb6714","2004-03-02 00:23:25+00:00","oops

svn-id: r13127
"
"3ca500777958142dcaa765c28a76c39c6c22c9bc","2004-03-02 00:37:23+00:00","Introduced new platform GF_WINDOWS. Used for HE games. GF_PC is DOS

svn-id: r13128
"
"4accb5b006f76ecd7bac63096939065ce1807bfb","2004-03-02 01:01:36+00:00","Make use of GF_WINDOWS in HE games

svn-id: r13129
"
"5a3b17de54dc12e1c12eedbda882ba5f1f61382e","2004-03-02 01:20:18+00:00","Add better check for HE resource differences.
Move stringLen to HE7.

svn-id: r13130
"
"b123197dc146cb67b40b3d41e4def4383d35d96b","2004-03-02 01:28:32+00:00","Remove fixme

svn-id: r13131
"
"0c4ddc32fc26a2500e1839821301810ca81eca43","2004-03-02 02:12:30+00:00","Exclude some var settings for HE7

svn-id: r13132
"
"0e3a8f3190bf5e7936182393f1f0725fded5482c","2004-03-02 04:05:40+00:00","Update HE games list
Keep games divded by versions

svn-id: r13133
"
"2f65abff2f3a78fd0874567eb432470de4c6d39a","2004-03-02 04:11:57+00:00","Implemented more HE opcode stringLen and added stub for opcode F4

svn-id: r13134
"
"5fbc3497c1b5b63b934a83e900958fe96ed040dd","2004-03-02 06:04:38+00:00","Avoid duplicate targets

svn-id: r13135
"
"f80d6a7a2660ede913c7d7cf58d5afa26fc471cd","2004-03-02 06:19:26+00:00","Divide up some code for HE6 and HE7

svn-id: r13136
"
"ca85e8d51d5a8b2d0489dbfb3d33a15480b1a90e","2004-03-02 06:42:22+00:00","Ooops, just move everyting used by HE6 to HE6.

svn-id: r13137
"
"1bdcc3e5efb20c69691275897536018a302c1745","2004-03-02 07:02:31+00:00","Removed the test for non-existing demo cutscenes: param[0] is an offset
into the chunk of memory handled by the memory manager, not a well-defined
value. Also, it introduced a theoretical memory leak as fnPlaySequence()
wouldn't get to clean up after itself.

The correct place for this check is probably in MoviePlayer::play(), where
you can test the name of the cutscene. On the other hand, the original demo
will gladly play eye.smk if there is one, so why shouldn't we?

svn-id: r13139
"
"6d0e10433cc192d0fd1e96e2e754d13809c579cf","2004-03-02 10:22:55+00:00","Move to HE6

svn-id: r13140
"
"7ad1d09f0a0f0c699553b1fad751c1cd29fe4142","2004-03-02 10:26:07+00:00","Not DOS specific anymore.

svn-id: r13141
"
"65a50b800af9c09794a512078d77094f9fcd28b9","2004-03-02 10:37:51+00:00","Not 640 x 480 until HE7

svn-id: r13142
"
"fbd040ac9f7ac3cad18e99d4ffe12831c8d2cd7d","2004-03-02 13:07:08+00:00","Obsolete

svn-id: r13144
"
"b088395e560751c182310ada55757ee8f8c6a760","2004-03-02 13:09:35+00:00","640x480 games not supported on PalmOS

svn-id: r13145
"
"94edde90e4e5e0c0974e4a4d6d1a373434f251ef","2004-03-02 13:26:50+00:00","FLAC support

svn-id: r13146
"
"8f5c96d963bd5fce0a66f6643a64f82a6e73d271","2004-03-02 18:45:21+00:00","update

svn-id: r13147
"
"30d169d2be86f18928800d04c00b4e4e2b59fa12","2004-03-02 19:47:17+00:00","Display keyboard when saving

svn-id: r13151
"
"41e6bba0098f3b5e6148d015060e63eca2b3bcdb","2004-03-02 20:35:48+00:00","synced local imuse. many bug fixes, and few new bugs :)

svn-id: r13153
"
"000094a5620d2dc1c4bf04c877ad9c65b68d1f2c","2004-03-02 21:17:45+00:00","Display keyboard when saving

svn-id: r13156
"
"bb97464292ce4885b561d71ce398e107ad6ea078","2004-03-02 21:55:14+00:00","cleanup. soundlist originaly is shifted and started at 1 not as in scummvm at 0, match as rest of scummvm code : start at 0

svn-id: r13157
"
"a79a0647d762ef2b731c02074f2f3f7e106d9057","2004-03-03 02:42:51+00:00","Adjustments for Enchanced Maniac Mansion demo.

svn-id: r13160
"
"84cb720df54a726af04c3804c719aad2cb8b3624","2004-03-03 02:53:12+00:00","Adjustments for Enchanced Maniac Mansion demo.

svn-id: r13161
"
"5feaf410c82a4ff0fa24b908075f6559c2e8715b","2004-03-03 03:14:22+00:00","That should have been maniac specific.

svn-id: r13163
"
"1db5ef710ebf6278eeb9627c6fdfc810fab10aeb","2004-03-03 07:37:46+00:00","Set the wantFade variable in initialize() as well. Otherwise it'll be false
if you use the start-up dialog to restore an old savegame.

svn-id: r13164
"
"306d16441ee30e5cf8e1c9af5f754c81d03b43cf","2004-03-03 08:17:21+00:00","Add back HE sound differences for AKOS.
Remove old define
Avoid crash if using demo script in maniac (Enchanced)

svn-id: r13166
"
"ad820d7893cdc80afc466d31fa91202fa72ba2ca","2004-03-03 10:56:46+00:00","unsigned ints are always >= 0 (fix warnings)

svn-id: r13167
"
"96e910ea7205d78878e9b8eb9492f88099db778c","2004-03-03 11:37:51+00:00","fix for normal/default scaler behavior (not yet tested)

svn-id: r13168
"
"333d2da1da40d3547f823c5a20c8c586a7fc3c43","2004-03-03 22:31:28+00:00","Add SDL information to track driver problems

svn-id: r13171
"
"8f8d992a3c1e46916ab1d26bc1c562da76ae4b44","2004-03-03 23:39:23+00:00","sdl-config --static-libs finally works in SDL 1.2.7, make use of it

svn-id: r13172
"
"2f60f4485da6906e82ffebecd406d9c2918b5343","2004-03-04 02:47:39+00:00","Allow --demo-mode with maniac (Enchanced)

svn-id: r13173
"
"fb1e28921536759918c977885a820ab1a69b846d","2004-03-04 03:08:42+00:00","Add hack for demo script in maniac (Enchanced)

svn-id: r13174
"
"b73037614840a9d2f467876ec49fec0d24da9b12","2004-03-04 04:46:04+00:00","Add Russian Freddi HE md5's

svn-id: r13175
"
"00bf09fe07cb8a249d6102bfe2b83b253644f5fa","2004-03-04 05:02:47+00:00","Add maniac enchanced demo md5

svn-id: r13176
"
"ece97788ac5c06ceef8c1954b9a21f42eac6b1ec","2004-03-04 08:03:32+00:00","If the user has previous savegames, display a restart/restore dialog when
the game starts. (I know it could look prettier, but I don't have much to
work with here...)

svn-id: r13178
"
"9e1fa63575347e109cb713275b4d733f27a0fe6e","2004-03-04 18:54:35+00:00","Apply patch #907359 : Broken Sword videos improved frameskip

svn-id: r13180
"
"2c0dfc447130a90fbd347a2f53b1ad50ce547de7","2004-03-04 21:14:11+00:00","Avoid flooding CE files since stdin and stderr exist now

svn-id: r13184
"
"311e406fcd69f09172c18b1b32ffe7ec45239528","2004-03-04 21:51:42+00:00","Patch #893817: VC6 - Project/Workspace Files Update (Completely untested, but I figure it can't get worse than it already is :-)

svn-id: r13188
"
"601723408ff4aee14b9f0d4a1ff3de29720e1d9d","2004-03-04 22:26:09+00:00","add ConfigManager::getActiveDomain

svn-id: r13189
"
"af2f29f55cb5ae611b0c9e83474b1f0f14b33508","2004-03-04 22:26:31+00:00","added Rect::moveTo methods

svn-id: r13190
"
"355e59ad6b6865afb9a0dd415b18e21d0722c30b","2004-03-04 22:44:10+00:00","add function to provide echo -n behaviour for the echo -n less solaris users

svn-id: r13191
"
"1dbb73ee1276908898b0b63f53016c2a5565412a","2004-03-04 22:53:14+00:00","use printf instead of echo -n for the echo -n less solaris users

svn-id: r13192
"
"02c70180fa8fb570e0dbf98cfe8c2e8159682f90","2004-03-04 23:25:10+00:00","remove Makefile.noconf there isn't any known reason for people to use it now

svn-id: r13193
"
"de848a5d80a0669c9da2c915668cf4e9e5b945a3","2004-03-05 07:39:28+00:00","Removed obsolete warning message from fnPlaySequence().

svn-id: r13195
"
"07d918ace29043a051ecfa91419277030e8c7c42","2004-03-05 08:53:31+00:00","Yearly CE BASS intro synch fix

svn-id: r13199
"
"bec9e69e42b64e31b69dbdaf9b5021775528831e","2004-03-05 11:08:29+00:00","We already know the Sam & Max screensavers trigger these assertions so
until someone figures out exactly what to do, let's do something less
drastic. Now if someone requests a pixel outside the known screen, assume
that pixel has colour 0.

svn-id: r13200
"
"270c5cec520c9fc8243ea9cdd79330306e276092","2004-03-05 14:34:39+00:00","Initialize _random_lsr to avoid valgrind warnings

svn-id: r13202
"
"e609820a5b53fcd228377ae5d6813e56a1afdebb","2004-03-05 14:35:16+00:00","Clear all channel variables in clear_channel

svn-id: r13203
"
"452a3e2a10dc4a7e9174f9b62fa3c128d3520404","2004-03-06 01:12:19+00:00","Change CFBundleName to 'CFBundleName'

svn-id: r13204
"
"a6725902594145cb0d1ecf3b3da764c92d1542db","2004-03-07 03:28:01+00:00","remove dependency on SDL_byteorder.h when we are using config.h

svn-id: r13206
"
"e448c1dfe45ca132bf4ef3e59d3b6a65be2802bb","2004-03-07 03:34:09+00:00","renamed scumm/scummvm.cpp to scumm/scumm.cpp

svn-id: r13207
"
"6bf363ecfc0029107006fff39f78a87a0b832ce7","2004-03-07 03:35:11+00:00","obsolete TODO

svn-id: r13208
"
"62679ef4708691a015a5b2cfe6c4fe3b1d69f500","2004-03-07 05:36:30+00:00","Update

svn-id: r13209
"
"7ee432cc6d562e2b42c99338959ba4b3a5d01883","2004-03-07 05:59:04+00:00","Add all HE game issues

svn-id: r13210
"
"da7d1fcd6c03751b27cac9d519a6ed400aa112d2","2004-03-07 06:01:10+00:00","Oops

svn-id: r13211
"
"f1c730d27b39aff8bb08e53abb439807aa590053","2004-03-07 10:25:43+00:00","consistent use of capitals, limit to 80 chars, MAD is not an mp3 encoder

svn-id: r13212
"
"ec5f7b87c6097cf600d5e38acaa893337a88baca","2004-03-07 10:46:02+00:00","cleanup (removed irrevelant comments and useless XXX'ed code)

svn-id: r13214
"
"757bc4cec6f9dc053c43a4cb3527342b1d74c78f","2004-03-07 19:14:32+00:00","work around script bug #911508 BS1: Crash when loading certain savegames

svn-id: r13215
"
"8b39133cab44244b6b4e3eeb303e91d0860a09b1","2004-03-07 19:24:41+00:00","changed workaround again, it's also needed when entering the room, not only when restoring a savegame.

svn-id: r13216
"
"1020f97ceab9f1a606abf0bf6a0160b4136fab46","2004-03-09 00:52:07+00:00","Enable music volume slider in Journal

svn-id: r13222
"
"99d57c2d9f3aaf627cbe6b4434a17b1755ca4873","2004-03-09 01:48:12+00:00","Respond to volume-altering songs

svn-id: r13225
"
"5451bb29cc54ad787649d09e7d3ebadffc812572","2004-03-09 21:49:21+00:00","correct error text

svn-id: r13226
"
"6a155e028e70588e26b1d477101526e673c1ba3c","2004-03-11 04:13:22+00:00","Backport blee

svn-id: r13228
"
"711f925f698594d057d3b5027fe182f1f6d6a5a3","2004-03-12 08:21:01+00:00","Always play the 'current music' after restoring a savegame, even if it's 0.
If it is, all that happens is that it silences the music. Otherwise, the
current music that was playing before the game was restored will keep
playing afterwards.

(One example of this: I went into the Hotel Ubu and restored a savegame at
the hospital. The piano music kept playing in the background.)

svn-id: r13230
"
"7f7f647e3c51e1a7da83a074116127cc48308f25","2004-03-12 18:23:15+00:00","cleanup

svn-id: r13231
"
"1f5d4dcd233e15aa1cc15f533cc4d65342164e15","2004-03-13 12:04:18+00:00","When both music channels are used, and a third piece of music starts,
silence the channel that appears to be closest to silence already. This is
the same method I used in BS2, and it might fix a glitch I heard at the
Club Alamut.

svn-id: r13234
"
"0fc86ef674edd02b7eb4fcaf1f5c5e3ef82d3a85","2004-03-13 12:05:01+00:00","Fixed a slight logic error in the music fading. At this point the code
should only check if the music is fading, not in which direction. (Also
made a minor cleanup.)

svn-id: r13235
"
"7e3e79f41e6f56db1f83bbad629620f823c9e648","2004-03-13 12:33:31+00:00","useful helper method (will be used for improved options dialog)

svn-id: r13237
"
"ac17175f6c39bbff85fdcb2ce97d10d85978ea11","2004-03-13 12:47:27+00:00","Merged in fixes from 0.6.0 release branch.

svn-id: r13240
"
"7000cb00e4394f10f567b2669fc805af0ea6d55a","2004-03-13 12:55:40+00:00","Forward-port maniac hack :)

svn-id: r13242
"
"a0bde7a732a121915a63c835d3177a616b85eab0","2004-03-13 13:03:25+00:00","Revamped the font code: now it's very easy to switch between the 'original' SCUMM font and any new font... or to have multiple different fonts (like, one for 320x240 and and one for 640x480); furthermore, font rendering can now be done w/o using NewGui

svn-id: r13243
"
"4aa240e0e5585828753663c9f9a8a65abf66f56e","2004-03-13 13:22:14+00:00","use 'Surface' in NewGui

svn-id: r13244
"
"882b0a094a050e2fa8c357d0bd81d155315d66ba","2004-03-13 13:41:50+00:00","Harmonized with new OSystem API.

svn-id: r13245
"
"86df1e876ade4720d5c8ab53f8b54ca26ab7a26d","2004-03-13 14:00:44+00:00","Features.

svn-id: r13246
"
"d2ef3ad20c80c2f939418a1d917191e9715f46f3","2004-03-13 14:19:15+00:00","Added an OSD (On Screen Display) to the SDL backend

svn-id: r13248
"
"ccd472c942bf7168de09c7f640e5370bd9316389","2004-03-13 14:19:50+00:00","Added FotAQ to the 'About' window, after som discussion with Endy about the
exact wording of it.

svn-id: r13249
"
"81584704b669e2b12690d645bd0408e2352fd8ff","2004-03-13 14:20:47+00:00","let's not forget about the revamped OSystem API

svn-id: r13250
"
"020d0702d1d68e7e5bd731193ec7fcf2f6cc63a0","2004-03-13 14:59:43+00:00","Allow changing the scaler via keypad, too (FR #821415)

svn-id: r13251
"
"f712d21c1db7afe86d7011f90e639b73f0edafdf","2004-03-13 15:12:23+00:00","Document the backend feature flags a bit, I hope this clarifies their purposes; if not feel free to augment the descriptions or tell me what I should add (same goes for the rest of the OSystem documentation, BTW)

svn-id: r13252
"
"24b86b8566e8bef91085a4b0d29a02be382d5975","2004-03-13 15:17:13+00:00","Use the name 'scummvm_main' for the common main function, like WinCE.

svn-id: r13253
"
"a3caeddc5654c85b739e44ca921d9b9efd27b0d7","2004-03-13 15:18:22+00:00","Use default implementation for setGraphicsMode(const char *).

svn-id: r13254
"
"60a7d376e2f3c4b0d557a07e953df5249729991d","2004-03-13 15:19:16+00:00","Cleanup.

svn-id: r13255
"
"3cf400ebddf25b020d9532353b29c79becc2914c","2004-03-13 15:26:36+00:00","Less strange.

svn-id: r13256
"
"7db5cc0a9c3172628f40c3734788bfe9f1a3896b","2004-03-13 15:45:39+00:00","While moving things down by one line 'looks better' (IMO), it also means that the last line is blitted outside the screen -> bad. So for now I'll undo my changes to the 2xSai filter family

svn-id: r13257
"
"fae98dec52fab0353ff433d15bb3a7e35e61c851","2004-03-13 17:32:28+00:00","Reworked scaling logic, and added kFeatureAspectRatioCorrection support.

svn-id: r13259
"
"f2f6c75ba575cf40fdd0bb0842a359f24355c78b","2004-03-13 17:41:36+00:00","fix for voice bundle bug in german version comi

svn-id: r13260
"
"47cfcda3c6a63a765f14b62e6ebbc3b6caadb75a","2004-03-13 17:52:44+00:00","update

svn-id: r13261
"
"1b537be8d43c7b7a41f6eee31fb1db5175405175","2004-03-13 18:44:10+00:00","Patch #902111: Change remaining random function calls to use RandomSource

svn-id: r13262
"
"641277fd160166b0a62cf7c92868b29dc1404eaa","2004-03-13 22:58:50+00:00","some cleanup

svn-id: r13263
"
"911f77637a307f05aa351067db4c34350d4fc936","2004-03-14 00:53:24+00:00","fixed inventory scrolling using keyboard

svn-id: r13265
"
"bdb14cbad9e9bf2c17d55f56ebece971ba60c37f","2004-03-14 13:05:08+00:00","In stereo.

svn-id: r13268
"
"3be01c0560cbfa7a0e7a33f0dc2ea69010e6d7a7","2004-03-14 13:14:03+00:00","Sound buffer adjustment.

svn-id: r13269
"
"309a0a80f26976b1a48f119d8d6fe5ee4dfac80e","2004-03-14 13:23:20+00:00","Protect against multiple inclusion.

svn-id: r13270
"
"e8dde78b9dff3e44293b2c59c9335125105ed9d0","2004-03-14 13:26:01+00:00","prevent journal from reappearing when F1 is pressed more than once

svn-id: r13272
"
"3f247b506aa9cc6ba37c3523aba99ce8145a1afa","2004-03-14 16:19:33+00:00","cleanup

svn-id: r13276
"
"9c647b4dbe7c377831007c464bda238ed5815fa0","2004-03-14 17:50:40+00:00","cleanup

svn-id: r13277
"
"0d3b89b88f7b969087549a68a79ffdfa769238e2","2004-03-14 17:53:19+00:00","remove ugly goto

svn-id: r13278
"
"f1cac1545bd543fa52a75f2f6a4b6e0f0024380d","2004-03-14 22:16:22+00:00","Virtual keyboard.

svn-id: r13279
"
"2fe422ad0c91ffb3c82d72b4da08b33b8a2a6183","2004-03-14 23:37:11+00:00","Initial SAGA checkin. Disabled by default, enable with --enable-saga
but don't expect it to work.

svn-id: r13280
"
"0d4cfaa559907f24717165e1e4779d386eccc4ee","2004-03-14 23:39:41+00:00","Initial SAGA checkin

svn-id: r13281
"
"88f5a9895b0574fbe7e98b7f66b8609368ab56a7","2004-03-14 23:47:15+00:00","rewrote talk_with_text from scratch. probably needs some testing

svn-id: r13282
"
"b585b9ac4b2772ed7cddb12cc4435b40f0ddf21f","2004-03-15 00:29:46+00:00","fix warnings

svn-id: r13283
"
"e46ba2f29ff20a317e708d15dc5be904cdf005eb","2004-03-15 00:45:45+00:00","Added OSystem::getDefaultGraphicsMode(); renamed OSystem::get_height() and get_width() to getHeight and getWidth(); augmented some doxygen comments in common/system.h

svn-id: r13284
"
"a5e01a42b1e33a453b23ae6ff68073dc2625cfb7","2004-03-15 00:47:59+00:00","Added getDefaultGraphicsMode for DC backend

svn-id: r13285
"
"f8610cd1c5fca478ae50e473b175f4cb33ad563a","2004-03-15 00:55:44+00:00","fix doxygen-comment mistakes

svn-id: r13286
"
"54b9b1ccc71ed3e8de250c8fed942c1d95acc102","2004-03-15 01:12:50+00:00","Hack to prevent segfaults caused by insufficient allocated memory when
playing the french version of simon2 with subtitles enabled.

svn-id: r13287
"
"08332ab559f45366e3c965990d7ecf7f6ebc8db7","2004-03-15 01:14:49+00:00","Code formatting

svn-id: r13288
"
"e8f7214acbfa67874b230edba9cdbc38288c6a7e","2004-03-15 01:18:47+00:00","Renamed OSystem::set_timer() to setTimerCallback(); more OSystem Doxygen changes

svn-id: r13289
"
"67d59cbb1c92ae60f0078e75ed118031742aaa35","2004-03-15 01:23:01+00:00","Should probably be Simon2-only...

svn-id: r13290
"
"2314cdf03635deb54e1b93eba32a914227f262d9","2004-03-15 01:45:22+00:00","implicitly declare use of OSystem

svn-id: r13291
"
"af80eef70e4f6ec3585425a9e0b8f3614cbbd57f","2004-03-15 01:52:07+00:00","fix circular header dependency, by moving StackLock class to common/system.h (it ties closely into OSystem anyway)

svn-id: r13292
"
"8ca8912dbd61ec84e4df8dbe19e221aaed52ac72","2004-03-15 01:59:06+00:00","Use Saga namespace everywhere

svn-id: r13293
"
"b389dfa2a328f28f5e90982a7146f7e221b1dba1","2004-03-15 02:09:28+00:00","more tweaks to doxygen

svn-id: r13294
"
"782dabbcd399b0582df73ff82107ffca70abb0f7","2004-03-15 02:21:04+00:00","...and mor. Next big thing should be to document the overlay stuff, but that'll have to wait till after I slept :-)

svn-id: r13295
"
"deb96003a2e02efc1f394ebf8ddc772f5e37ddd3","2004-03-15 02:28:47+00:00","Aaargh, didn't mean to commit this...

svn-id: r13296
"
"759c05f936ab9a0317d28343a799d7c6857c3e27","2004-03-15 02:45:40+00:00","Added remove_at method

svn-id: r13297
"
"ba5aa37dccbb466f70984c8e7c51fbebf757457a","2004-03-15 03:09:48+00:00","refactor use of _messagePtr -> instead of using it as an implicit parameter for various methods, pass its value explicitly to those methods. Note: this *should* be just a code transformation, with no change to the program logic - unless I messed up once again <sigh>

svn-id: r13298
"
"e1b25fb7218fd18952cd07102818674c5f37c27d","2004-03-15 03:22:36+00:00","After the refactoring it's clearly that _messagePtr can be removed. Hooray, yet another obscure global 'parameter' gone :-)

svn-id: r13299
"
"ac11c6231259439b22f886d52cf45e5225c44be9","2004-03-15 03:24:29+00:00","clearMsgQueue now just is a synonym for stopTalk -> remove it

svn-id: r13300
"
"e2617f90a19f81861c09f4bd68da00d0e037a4eb","2004-03-15 03:33:08+00:00","disambiguate the two talkingActor() methods (one was a getter, one a setter -- reflect that in the name)

svn-id: r13301
"
"af96fecb5da9b8da5e842ca8e1102a2f22f41d30","2004-03-15 03:36:18+00:00","turn illegal SCUMM var access into an error

svn-id: r13302
"
"538e9a36edb79fcf4687a5136d7073780006c2a3","2004-03-15 04:00:00+00:00","Ooops

svn-id: r13303
"
"c0e6295845c4d480f8afe1b93eb41083bd0f7406","2004-03-15 08:09:54+00:00","display saga option in help text

svn-id: r13304
"
"d26f96e9ad405c9d55b40c10e0c2406f1f1bfca0","2004-03-15 14:03:56+00:00","HACK needed for Spanish Simon1 Talkie too.

svn-id: r13307
"
"7410f041ee8bb18f1d8a6a5999b81ca202a1a38c","2004-03-15 18:44:14+00:00","cleanup; added a TODO to Font class

svn-id: r13308
"
"b29b07fadc61ce36b340208ae1d0dc817468ba66","2004-03-15 19:07:56+00:00","Allow multi-line OSD messages; display virtual/real screen resolutions when chaning the scaler or the aspect ratio correction

svn-id: r13309
"
"54d549bd606b4d151a714f6fd642959968e017a0","2004-03-15 21:19:31+00:00","Updated RH .spec files (Thanks wjp)

svn-id: r13311
"
"ff17962df529691bc35d43dd90a3eff67a356bd1","2004-03-15 21:48:54+00:00","cleanup

svn-id: r13312
"
"01d41e124951227ea6b6d697de3f21776bce8458","2004-03-15 23:10:35+00:00","'int GraphicsMode *' was a rather creative type...  :)

svn-id: r13313
"
"9829131573f05c41965c75c6adc0a8d4434e653d","2004-03-16 00:15:24+00:00","Update

svn-id: r13314
"
"d3826bfe79aba3bc3978bf4ac334d615c3fc0e28","2004-03-16 07:02:21+00:00","Increase channel for Amiga V3 player.

svn-id: r13315
"
"4a6b57f295db3723e54f498aed4577f8b689e46c","2004-03-16 08:24:58+00:00","Fixed typo.

svn-id: r13316
"
"2705815d1d8fc12b7960f7070682f47404870951","2004-03-16 08:25:46+00:00","Fixed warnings. I hope I didn't break anything!

svn-id: r13317
"
"fd52b3a3c05c61dadaf2ed0b5d109e58419d4436","2004-03-16 23:51:41+00:00","Patch #917503: Remove stray semicolons

svn-id: r13319
"
"4a15a80eb3fad960e391d7de04edfae16a03f2ea","2004-03-17 00:07:43+00:00","Fix for bug #917532 (GUI: BrowserDialog return value)

svn-id: r13320
"
"93ef5161a52f8a0dc6f36439c6441f97c4187cd8","2004-03-17 00:18:07+00:00","Fix (workaround?) for bugs #917700 and #917697

svn-id: r13323
"
"faa12496e48b2eef79f92ae8e8ec69241cfd7d86","2004-03-17 01:50:15+00:00","Fix for bug #893254 (MI1VGA: Changes in object names are not saved); this may introduce regressions, please report them (overall, this is a neat patch, it removes so many ugly hacks :-)

svn-id: r13325
"
"fad15fbf4728c7105eca2ba1cce3934777a117ad","2004-03-17 06:00:37+00:00","Update issues

svn-id: r13326
"
"aff5b4bc4b26bf9f1ecca49f55b14871ad67ab3c","2004-03-17 06:08:01+00:00","Bump version

svn-id: r13327
"
"039522aa1468a53c34d907ba3e76a874ba170e68","2004-03-17 08:14:36+00:00","Typo

svn-id: r13328
"
"1c9d6280e90274a28b2312c3d21bdc34091a9171","2004-03-17 08:53:11+00:00","add ability to acces journal via F5 for consistency with other engines

svn-id: r13329
"
"03200025dfb030d887ff9b07d180a8f9e2f225bc","2004-03-17 08:54:58+00:00","default savepath when /home/khalek is defined would be nice

svn-id: r13330
"
"4c3a68027f7f84a58664f77c847d24ab5b9757e4","2004-03-17 09:03:15+00:00","Use the same syntax for accessing script variables as BS1 does, i.e. now
it's Logic::_scriptVars[ID] instead of just ID. Apart from looking cool, it
makes it much easier to tell the difference between variables and constants
when looking at the code.

Of course, this sort of sweeping changes is jolly good for introducing
truly weird regressions, which is why I waited until after 0.6.0.

svn-id: r13331
"
"d90e92019e56c2f447a53c6ec0dbb2e0c2555be0","2004-03-17 09:14:41+00:00","Add mingw to configure (Not working yet)

svn-id: r13333
"
"ab13bca41d09d57ed4469809bb03ddfa9cbaf63a","2004-03-17 09:28:36+00:00","Add Cygwin cross compile too.

svn-id: r13334
"
"1ca917d81bef47379066d229142f8f86c1aae1e7","2004-03-17 09:29:20+00:00","Missed a bit

svn-id: r13335
"
"6e1200dc6788ee24e46f17d084254f6cd84bb95a","2004-03-17 14:10:51+00:00","Added PalmOS support

svn-id: r13336
"
"3139f1956947e41eaed4721186ed28a5be97b40e","2004-03-18 21:27:51+00:00","fixed issue when loading a savegame in last room (robot/frank fight)

svn-id: r13338
"
"da0c6e41d3212e0e24c170c59711826167e9bed9","2004-03-18 21:53:49+00:00","minor cleanup

svn-id: r13340
"
"578b87b856121a3718abbc4d5b2026762afa2ade","2004-03-19 07:36:20+00:00","Reverted to the old random_nr() function. This appears to have been the
cause of bug #916886: Calling getRandomNumber(-1) causes ScummVM to crash,
while calling random_nr(-1) doesn't. We may still want to replace it with
getRandomNumber() later, of course.

svn-id: r13341
"
"5121f61175f7a59c71667ed04d9c8f1e43843af4","2004-03-19 10:49:29+00:00","Fixed

svn-id: r13342
"
"791696a9a318e38e54fdc4234033c104688b8c7b","2004-03-19 17:58:47+00:00","turn down verbosity

svn-id: r13345
"
"c3c1dc176f4b4dbf363eebf04a9b68be5e4cd599","2004-03-19 19:40:34+00:00","addMessageToStack doesn't have to return anything anymore

svn-id: r13346
"
"6a1532772a7552d15ba0482b38278b4316c8d581","2004-03-19 23:19:57+00:00","Revamped COMI/DIG speech decoding (this my cause regressions, watch out). Goal was to streamline code logic, and get rid of a FIXME

svn-id: r13347
"
"472ca9c68976a99802ed44dfe7399a2b11b248a5","2004-03-21 00:23:03+00:00","minge uses configure now

svn-id: r13348
"
"2cd3ba0f846277abefb65f930a086e9eab9fe515","2004-03-21 00:26:23+00:00","Add win32 dist

svn-id: r13349
"
"730c8e30efd54c1c559b5b55d6a793c0e6f9be25","2004-03-21 01:21:41+00:00","Remove mingw specifics, is same as GCC now.

svn-id: r13350
"
"f2e42b3e2aba8e812c8f9350f07a60fb75e81fa6","2004-03-21 02:11:12+00:00","Merge some TODO items from the web site TODO; restructured & cleaned up our large TODO list

svn-id: r13351
"
"d2bab3e980997a5c77fe7c750c1ab274dd19dfb0","2004-03-21 02:23:03+00:00","some more tweaks (we should consider replacng todo.xml by this... e.g. just insert the TODO into todo.xml contents, and embrace it with <pre>...</pre>)

svn-id: r13352
"
"3f997234230a0c960015b8e3a1cefb2e6c1674f4","2004-03-21 16:59:10+00:00","When I played an Ogg Vorbis-encoded FotAQ I noticed that whenever a sound
effect happened during a line of speech there was a chance - not a
certainty - that the speech would get cut off prematurely.

As far as I can tell, this is because the Vorbis decoder isn't the only one
who's accessing the same file. Now the Vorbis decoder will explicitly seek
to the position where it expects the file to be at before reading from it.
I hope this is the correct fix. It does fix the problem for me, at least.

I don't know if any of the other decoders needs a similar patch. I couldn't
reproduce the problem with my MP3-encoded FotAQ, but there are other
possible explanations for that, e.g. the bug gets harder to trigger the
more sound data that is decoded in each pass.

svn-id: r13353
"
"b94448514efbed2a126c93a5a5d5f08c6a7fc697","2004-03-21 18:49:04+00:00","Unify a bit more...

svn-id: r13354
"
"5c7ff637159f574d0952f00829d195e78922dd6e","2004-03-21 18:52:12+00:00","Updated X11 backend to compile again (I do not know if it works, though)

svn-id: r13355
"
"23dbd0de994ebfc97c65ab9deb96b052d1983426","2004-03-21 18:54:47+00:00","two TODOs

svn-id: r13356
"
"a9789acfc61a057c82c6cc42386afc9b23813c24","2004-03-21 21:20:25+00:00","Moved Surface/Font code into new 'graphics' module

svn-id: r13357
"
"4466a855986d08d20c6fc6296baec191e1f5e027","2004-03-22 01:28:45+00:00","move commong code into separate source file (more could be done, but it's a start)

svn-id: r13358
"
"838d3e3a9387d63819fd2c8b137d53041de9abdb","2004-03-22 01:40:24+00:00","some more cleanup

svn-id: r13359
"
"8f9ffdf43afa8a99ce23fd62ee9480317eec78ad","2004-03-22 15:57:51+00:00","Fix crash introduced by recent code unification. (Mind you, I'm still
extremely grateful that the BS1 and BS2 cutscene players are finally
sharing at least some of their code now.)

svn-id: r13360
"
"d24be923f3dbe27e740cbc5da410d5b7dac24fff","2004-03-22 20:46:30+00:00","share 'init' method, too

svn-id: r13361
"
"89d159f9c8edaab92dbf2a45aa6644b5a16519dd","2004-03-22 21:25:29+00:00","corrections to namespaces

svn-id: r13362
"
"b483b05016ee0520be16380d1bf2df14369f8670","2004-03-22 21:26:05+00:00","update

svn-id: r13363
"
"7b158941e75914b915b5d9fdbcb0676e0aa71873","2004-03-22 22:01:10+00:00","cleanup

svn-id: r13364
"
"3fddbc18d6e0a3a783883b9a9bb0c24f50397e6a","2004-03-23 00:10:18+00:00","Unify MPEG2 code even more

svn-id: r13365
"
"c61622ebaf24dbd8d7cdf2cab3fd20e514909c58","2004-03-23 00:12:49+00:00","fix dynamic version of LOAD_MODULE macro; fixed typo

svn-id: r13366
"
"66de19015b7a263c4535d8341698eb9665033cbf","2004-03-23 00:16:36+00:00","With latest dlcompat on OSX, no need anymore to manually prepend an underscore before symbol names

svn-id: r13367
"
"ed5ac925f077c261b7fb5c7bd5bff876abd7b037","2004-03-23 00:30:50+00:00","Added export symbol list for plugins (only used on OSX, if anybody wants to add support for Linux, go ahead)

svn-id: r13368
"
"07770f58e92d14514ca23a5907dc10384636e4e0","2004-03-23 01:59:02+00:00","Alter some HE games settings

svn-id: r13369
"
"e1a1f291aaab2632dc12f9a72024d22c38de6779","2004-03-23 03:33:23+00:00","Move HE games together.

svn-id: r13370
"
"52642e41234d703c4fa8ffcb459ed72403fa327b","2004-03-23 20:34:19+00:00","Fix #922003 - FOTAQ crash on PocketPC

svn-id: r13372
"
"e2a5b67e4251d1f851dec457ead7520d180ceeac","2004-03-23 21:42:47+00:00","fixed fade out delay

svn-id: r13373
"
"dbf56846c929d2f7a00fc47368cdda2c1af13ba3","2004-03-23 22:51:44+00:00","changed a little hook id code

svn-id: r13374
"
"1f1c929cae5883335030d8a112989cc8d38fb246","2004-03-23 23:47:01+00:00","Fix for bug #921681 - clear _quickSave when exiting cutaways

svn-id: r13376
"
"afefe7dcfa7bc3a360b77ecd67c3650b426438d5","2004-03-24 07:29:59+00:00","Use the binary .pal file format that was introduced for 0.6.0.

Invalidate the lookup table when the screen changes. (TODO: We also have to
invalidate it if the change happens between cutscenes, don't we?)

Some cleanup, particularly in the BS2 cutscene player. More needed, I
guess...

svn-id: r13377
"
"de830d75c7fe0427ea1c6a7197b03bf4b292e7e0","2004-03-24 11:16:34+00:00","PalmOS ?

svn-id: r13378
"
"2c327348a64dd1cc2af3ad4cf5122ce796e7a782","2004-03-25 11:22:02+00:00","Added some new MD5s

svn-id: r13379
"
"cb8ca939c2378990fb0ac24250a6aef9bcc56ecf","2004-03-25 11:25:50+00:00","free(0) is guaranteed to be a no-op

svn-id: r13380
"
"997ccc6c056bac2cd9aee91ec20ed0c3920ffcb4","2004-03-25 21:31:03+00:00","fix memory leak

svn-id: r13381
"
"11ef1b614a374eb5f4076aa9b13eba9a9b83c4ee","2004-03-25 21:40:35+00:00","try to track the journal issue in spanish version

svn-id: r13382
"
"33dc4ae1a6360d419abad8ef1097879edb305c25","2004-03-26 18:00:13+00:00","does this fixes the journal issue for spanish version ?

svn-id: r13384
"
"56ae88d5c778001768093ac14eb84065cab6511a","2004-03-27 12:02:38+00:00","cleanup

svn-id: r13385
"
"9b9ebb3a91af2056bf30875caeca5d784e26e618","2004-03-27 12:07:07+00:00","Make sure looping music is restarted after loading a savegame, regardless
of how the savegame is loaded. (ScummVM adds two alternative methods: the
-x command-line parameter, and the restart/restore dialog at the beginning
of the game, which is only shown when there are savegames available.)

svn-id: r13386
"
"f6d131f6c67c5f047c71a35fcd30e979dac2462d","2004-03-27 17:03:42+00:00","some changes to imuse digital

svn-id: r13387
"
"097488729038c75caf9c885177c0b73a3d84065c","2004-03-27 18:12:18+00:00","cleanup, and fix bug in table

svn-id: r13389
"
"c33712e3d6b41442bd65e3f51c52e278a521bb08","2004-03-27 18:22:36+00:00","small tweak

svn-id: r13390
"
"ab64ef93ec638cd094ac8f8811ec54dd16ad2346","2004-03-27 18:30:30+00:00","clarify OSystem specification (setTimerCallback() must be 'atomic')

svn-id: r13391
"
"7041ba35686ccc9c5db01c5243a847dffb7e52fa","2004-03-27 20:26:25+00:00","implemented priorites for imuse sounds

svn-id: r13392
"
"fdd44a242dbd02d2e984d472fbbf3d14369a32ca","2004-03-27 20:55:26+00:00","forgot them

svn-id: r13393
"
"ce6e07db125c78302f2326edaf3b0e99aae09405","2004-03-28 10:55:32+00:00","Fix bad array size (part of bug report #924685)

svn-id: r13394
"
"b72d7dff1b1f9d54a6fe4d9e21e92b6de2e5e4e7","2004-03-28 12:15:49+00:00","reorder content

svn-id: r13395
"
"9d89a5f5433b54e772b600e188c98218606da94a","2004-03-28 12:59:51+00:00","Fix bug #920491 (BS1: Game crashes when savepath is invalid)

svn-id: r13396
"
"da400a38eda7b8a48c70ffe6ad03ea0df0233a14","2004-03-28 13:02:28+00:00","Small tweaks for MIPSPro compiler

svn-id: r13397
"
"d109cc1f985ab6e6827bcad54bee94498d1f5501","2004-03-28 13:10:52+00:00","Fixed bug I introduced in the recent cleanup: It's the screen, not the
overlay, that needs to be cleared at the beginning of the movie. Otherwise
what was on the screen may show at the end of the movie.

svn-id: r13398
"
"93336d8bc9752a55c2374542c9915a2112e17bcb","2004-03-28 13:12:10+00:00","Don't show the restart/restore dialog if a boot parameter has been given.

And a teensy-weensy little cleanup.

svn-id: r13399
"
"3f189057327b3f7eed80fa25f20285171705f2f9","2004-03-28 13:13:16+00:00","Force the engine to pick a cursor after restoring a game. This appears to
be needed when using the -x command-line option to restore a game, though
I'm not quite sure why.

svn-id: r13400
"
"41ef5a97ea589cadd307d7825d0720228cbf51f9","2004-03-28 13:16:01+00:00","Cleanup.

One of the changes, I'm not quite sure about: buildDisplay() used to open
and close the _thisScreen.background_layer_id resource for each layer it
processed. In particular, it used to 'release the screen resource before
cacheing the sprites'.

I have no idea why, because I can't see any trace of a sprite cache, and I
can't think of any harm in keeping the resource open during the whole
render cycle. The resource is probably loaded into memory already anyway,
though its reference counter may be 0.

svn-id: r13401
"
"a06c09740854593160c297d23980d4375bc9d972","2004-03-28 13:28:44+00:00","rename displayError() to displayMessage(); fix slightly incorrect usage of that method

svn-id: r13402
"
"b25f42535b813d022270f7b9f158510130a212bb","2004-03-28 14:27:54+00:00","Changed printf() to debug() and removed newline at the end of some messages

svn-id: r13403
"
"165e6c5eb51fbbd39d5f42f193b0c1cf6e3d4a34","2004-03-28 14:48:05+00:00","Fixed format string to match the number of arguments.

svn-id: r13404
"
"129152c18b6a31985f92d3c62a6637771d78a1c5","2004-03-28 14:52:19+00:00","Fixed format string to match parameters.

svn-id: r13405
"
"00243652e0917229d8f247d96b3976a433b52ce4","2004-03-28 14:53:09+00:00","Fixed paramters to match format string.

svn-id: r13406
"
"c831739c9c4a0b419111d8359f3d9200ad3962dc","2004-03-28 14:56:02+00:00","More format string fixes.

svn-id: r13407
"
"0fb1d565890461836c9db73d6f9a7b4fe14485aa","2004-03-28 15:04:48+00:00","Format string fix.

svn-id: r13408
"
"efb5f3777a2aa664c6bc5e7fb5ab3f2b92da6ca8","2004-03-28 15:11:48+00:00","New file.

svn-id: r13409
"
"14378cb56e18237cf1b8b5e088995e0b91f47410","2004-03-28 16:30:50+00:00","Renamed more OSystem methods

svn-id: r13410
"
"dbda6299e1037db050634fe3b306779753f4bca8","2004-03-28 18:29:27+00:00","cleanup; extended config file format checking (partially from patch #896096)

svn-id: r13411
"
"09e3fec623c1ecea73a23d12891790569d1baa40","2004-03-28 20:28:45+00:00","Preserve comments in config files

svn-id: r13412
"
"39765b0d19fd8409cf4e0e96c9edc2ad5b25f247","2004-03-28 20:31:18+00:00","Remove explicit OSystem parameter from StackLock constructor; added OSystem::displayMessageOnOSD (not yet used; default implementation provided)

svn-id: r13413
"
"0fb22df46c60d3592a195488e8dd223b3bac4ccb","2004-03-28 20:54:24+00:00","update

svn-id: r13414
"
"039e06c59c68b7dbabdf77f9a7800e701f4de60d","2004-03-28 21:44:41+00:00","Fix bug #925059

svn-id: r13416
"
"0e36493349b3c35e55d1e2d54dd9762d26d4b68a","2004-03-28 22:06:38+00:00","Proper copy-protection bypass for Mac Loom (still crashes when entering the right code, though)

svn-id: r13419
"
"f5f3ee903dde3af085796c01406209252c9104f9","2004-03-28 23:02:03+00:00","Fix for bug #907174 (LOOM MAC: Crash after entering copy protection)

svn-id: r13420
"
"6cb86c641ff52220aebd21e322a029c996beb99d","2004-03-29 06:32:54+00:00","Make clearScene() set the _needFullRedraw variable.

I think the reason I didn't do this from the start was that BS2 used to
call clearScene(), or whatever the function was called back then, between
every frame. Nowadays, it simply assumes that each frame will cover the
previous one.

Anyway, this change prevents the restart/restore dialog from appearing
briefly between the two intro cutscene animations.

svn-id: r13421
"
"bf10f5a616532efee386ba1a5a838736932adfa5","2004-03-29 06:37:46+00:00","Cleanup.

This removes a bunch of debugging code/commands that either didn't do
anything useful under ScummVM (e.g. 'soft' and 'hard'), or which did things
that was already easily avaiable elsewhere (e.g. 'save' and 'restore').

I didn't have the heart to remove the 'tony' command, though. :-)

svn-id: r13422
"
"ce7239115b535d0c9a8805c3f5ce161626a0f6c3","2004-03-29 07:12:14+00:00","Should have been disabled for Mac. indy3/loom.
Fixes distaff position

svn-id: r13423
"
"8f6b452a5028255157b6691943032e2bf85049ec","2004-03-29 09:25:34+00:00","Update

svn-id: r13424
"
"f12fbe17236698bd81f6bd856bf311eeb7ddbb14","2004-03-29 11:02:45+00:00","clean up FMUS handling, fix not being able to enable sound debug messages

svn-id: r13425
"
"69951579085c3fb18fb26931ba69450df9bebc33","2004-03-29 11:59:09+00:00","use a make variable for static os x package prefix so I don't have to change as many lines, it should probably be changeable via the configure script at some point

svn-id: r13426
"
"443c7cdb2573be44815167dbc80a9af88b554904","2004-03-29 12:22:03+00:00","add most of my os x snapshot script as a makefile target

svn-id: r13427
"
"b6d911a6164d488f1d7fd978f132de11f8d150e5","2004-03-29 19:15:23+00:00","Fixed a bad crash that occured when adding a new game target in the launcher

svn-id: r13428
"
"e8adb5e62830292eb0a3111ae985d2777ef9f492","2004-03-29 22:28:57+00:00","very simpled and limited stack class (fixed size even)

svn-id: r13429
"
"178bf539b4fa9954ae367c79ddc939acbb5422c0","2004-03-29 22:29:30+00:00","Make use of Stack template

svn-id: r13430
"
"b809a5670bbdc3b23bcc81fc3ee73a182ffbcbe5","2004-03-30 06:54:27+00:00","Cleanup

svn-id: r13431
"
"dc3e230283017a2c961ffe6701f54550c263caad","2004-03-30 07:10:15+00:00","update

svn-id: r13432
"
"70545f2c0174a365166ad943c62a6bdd39b2eb91","2004-03-30 07:11:01+00:00","please fix

svn-id: r13433
"
"933aab310067499f96c6e5bc3fb64f1af081707e","2004-03-30 22:56:57+00:00","Use vsprintf instead of vsnprintf: more portable, less safe (but then again, vsnprinft isn't that safe either)

svn-id: r13434
"
"b6a4610a778e100ed0186ef702bb880ccaab2dbc","2004-03-31 18:00:46+00:00","be tolerant against abuse of ConfMan.getInt(); add missing default value for 'speech_volume' in bs1

svn-id: r13435
"
"15922a5e61f223bd9d2a8037c5482491ce4f1078","2004-04-02 20:31:39+00:00","Added support for %___ strings (used in localized version of The Dig)

svn-id: r13436
"
"d25da64937ad7bef5353530a63b7b917c7b86ab9","2004-04-02 20:35:04+00:00","Shouldn't be necessary to do a second translation run in this place (at least I couldn't find any place were it is)

svn-id: r13437
"
"a16a86d90fefdec7b07053a04671507d482891fe","2004-04-02 21:42:42+00:00","simplify code by integrating a call to translateText() into addMessageToStack(); improved translateText() further

svn-id: r13438
"
"ff180ffa860764756002e929fb32d6a09066b2d1","2004-04-02 21:44:07+00:00","One item less on the TODO

svn-id: r13439
"
"67c6df86d4b26d551cdacb7cd7932bde6c183cfd","2004-04-02 21:51:56+00:00","Remove obsolete code fragment (a good sign for a refactoring is if it allows you to remove crufty hacks you didn't even think of :-)

svn-id: r13440
"
"15aa7c3343bf94dc4f1dd0885492802c458c59fc","2004-04-02 21:55:30+00:00","cleanup

svn-id: r13441
"
"4a4197380404e871f7ea114913504c53da9aab4a","2004-04-02 21:56:27+00:00","Got rid of _transText

svn-id: r13442
"
"a47793c8e0da989ad8d5d9b3b1975ee83dc41684","2004-04-02 22:01:25+00:00","oops

svn-id: r13443
"
"3ae3eccac81d75710806671710d32771214f15e9","2004-04-03 00:56:55+00:00","cleanup

svn-id: r13444
"
"dedc33d99c2f4b3e4808abe3b31ed0312ca7134b","2004-04-03 07:19:10+00:00","make hdiutil overwrite the disk image if it already exists, although it will still fail if it is already attached

svn-id: r13445
"
"330cf4338327a7246f693192aa5c687d3eb5be79","2004-04-03 13:16:02+00:00","Fix for bug #896844 (DIG: Missing subtitle at the lab console)

svn-id: r13446
"
"8f6ae7973e895e40ecbf84afa95a0aa81508113b","2004-04-03 17:58:58+00:00","patch #910779 (with minor tweaks), fotaq hebrew support :
- reversed button captions in journal
- reversed command text in pinnacle room
- reverse order of lines in dialogue chooser

thanks Ori Avtalion !

svn-id: r13447
"
"6aa6b49ed57cc5900baaff6698bad062ea2f198b","2004-04-03 19:41:31+00:00","cleanup StringTab stuff

svn-id: r13448
"
"90dd9af577adf58f217391ec031983529f46ccdd","2004-04-03 20:56:19+00:00","fixed hypothetical off-by-one error when computing _draw_bottom (a semantical problem: _draw_bottom is supposed to be the bottom most pixel which is actually drawn; in the other case, it's top+height, i.e. one pixel *below* that last drawn pixel row. In addition, some cleanup

svn-id: r13449
"
"3f2fc3e8bebf4cd7b335504c328a27df91b7568d","2004-04-03 22:52:36+00:00","cleanup

svn-id: r13450
"
"a2413dad38f22bd9352a9b8940ffd670aa82a370","2004-04-03 23:44:06+00:00","Fix for bugs #915586, #905856, part of bug #766749 (COMI: Bug with text being printed on the edge of the screen)

svn-id: r13452
"
"a4e424a4fe8f339e765d761661e30c7d4d5a5e7c","2004-04-04 00:29:13+00:00","got rid of _msgPtrToAdd; slightly improved error checking in addMessageToStack()

svn-id: r13454
"
"e3e9ba99ee12afcfb9e099bf438716d8247ae7c6","2004-04-04 01:11:27+00:00","Fix for bug #885466 (FT: Text gets drawn under moving bits), by making AKOS codec 16 honor the charset mask

svn-id: r13455
"
"55bbd875db1b2d20dec0381f5bd392fdd9f78daa","2004-04-04 12:36:50+00:00","Exit quietly if we just told the user we are going to exit; no need to call error() (which pops up the console etc.)

svn-id: r13456
"
"6d460d2e101fba2f7e7a651fdc2466c7e9a2fa04","2004-04-04 15:16:05+00:00","Cleanup.

svn-id: r13457
"
"f1ee3c0163b65619a6dcad280ec24ad13c5731b8","2004-04-04 17:56:30+00:00","let compiler optimize code better <g>

svn-id: r13458
"
"5858a919a2b33c7249485f3c4c2d903680fa7ed9","2004-04-04 18:07:26+00:00","allow disabling of text shadow in NUT font renderer

svn-id: r13459
"
"d859bebb903e3bf4a8d00922c071daec2cfa3cd3","2004-04-04 19:17:28+00:00","Fix for last part of bug #766749 (COMI: Text should not always have a shadow): do not draw shadow for charset 3

svn-id: r13460
"
"70237e74c96bb09384f87a48f01cdf897199dece","2004-04-04 19:24:03+00:00","Implement V8 queryQuit opcode

svn-id: r13461
"
"4de4353c39546f87ea493b1f403145ddfcfbbfac","2004-04-04 19:41:02+00:00","My recent change to _draw_bottom caused a regression in The Dig (and maybe elsewhere). Ah well, probably better to draw one line more than one line less anyway

svn-id: r13462
"
"749d75cdcbfe0dfc9aa73e37648d81e28ecb7098","2004-04-04 19:50:52+00:00","Added TODO/FIXME comment

svn-id: r13463
"
"71bbdbfae41545f68713642bb9f395cb234bb60c","2004-04-04 20:20:09+00:00","Removed CharsetRenderer::_mask (this was used to optimize charset mask handling). This shouldn't cause any noticable slowdowns, but allows us to get rid of two nasty hacks, and fixes bug #895355 (DIG: Subtitles sometimes stay on the screen), maybe also others

svn-id: r13464
"
"21b81b9ef473f97838f7fe9cb5911a962cc633bd","2004-04-04 22:43:54+00:00","Fix signedness issue (lead to incorred address computations on 64 bit machines)

svn-id: r13465
"
"18b35e57c8257ba4da61f223603da7aaec580b64","2004-04-04 23:29:10+00:00","these debug() calls look as if they should be debugC() calls

svn-id: r13466
"
"781809ee2be3c1ad15e3e9a62296f27241ac9cd0","2004-04-05 00:24:26+00:00","pedantic const correction

svn-id: r13467
"
"f141ad488b1fd4d96214cb35e0ab4034173efb81","2004-04-05 18:24:36+00:00","added voice group volume to scumm engine for imuse digital and implemeted volume groups control

svn-id: r13468
"
"74d902c62bc609d6d89f9e1ff0a4c32505fcf0d9","2004-04-05 18:45:40+00:00","removed exception for no used nut font

svn-id: r13469
"
"924f47ccdd2ca163980d492e4fb62f0b8b1d6eb8","2004-04-05 18:54:51+00:00","there is no imuse in he engine

svn-id: r13470
"
"04fe7f804340df0e38d7eb25d3cfa8ef0b6cb3e6","2004-04-05 19:47:07+00:00","droped

svn-id: r13471
"
"f44291f6b65a15c3a3b4ee96374f05300493e068","2004-04-05 20:07:04+00:00","remove usage VAR_SYNC. in scripts used only one time, it's set to 0

svn-id: r13472
"
"f31f91b09a589c7e8350d87ad534df6448325c3a","2004-04-05 22:01:17+00:00","GNUs config.guess script - portable way to detect the host OS/cpu/vendor (also used by autoconf, but actually maintained seperately) - to be used by our hand rolled configure script

svn-id: r13473
"
"ce8099c89f474600c28649727f7434b8a2625580","2004-04-05 22:02:58+00:00","Paranoid fix for potential 64bit issue; some possibly useful debug output added

svn-id: r13474
"
"fbd9340768cdc66cad1b2786f2bbbc028beccc08","2004-04-05 22:07:09+00:00","Use config.guess to detect host OS/cpu/vendor; enforce memory alignment on Alpha machines; do not use printf directly, rather use echo_n (not sure how portable 'printf' is)

svn-id: r13475
"
"17fe0497f5816c4f858ab45cbf5fe6e8f7ec2a74","2004-04-05 23:54:58+00:00","Renamed StringTab::backup to StringTab::_default, as that describes better what it does

svn-id: r13476
"
"92301bff74df94d982aba13b80ca9d8541754c09","2004-04-05 23:56:28+00:00","Replaced FIXME with proper explanation and code (the previous hack was actually correct, just incomplete)

svn-id: r13477
"
"cc954a70ae4573b4217d1656a0470ef2d4ef716a","2004-04-06 01:06:54+00:00","Fix for bug #929724 (MI2: Intro regression) -> since _outheight can be negative, negative y values aren't filtered out automatically anymore, so we have to explicitly check for them

svn-id: r13478
"
"477ee423013426d049033e7a6471f19ab72ba16b","2004-04-06 06:05:17+00:00","update

svn-id: r13479
"
"1470818bc0fdc0a2dbadcb01ffe03c5afa26e6a6","2004-04-06 06:19:52+00:00","that is not needed anymore

svn-id: r13480
"
"b9738694563ebf1943eb2de819f0c7b0d35aeb40","2004-04-06 06:20:51+00:00","that is not needed anymore

svn-id: r13481
"
"c7d22d5a6f2610dd12ecf0ce41bec348ecb1cbf0","2004-04-06 11:11:10+00:00","Fixed Rect(width, height) constructor

svn-id: r13482
"
"349f63ebfc5e24772ceda2d4f91221786d5b0338","2004-04-06 11:50:35+00:00","Changed 'voice_volume' to 'speech_volume' for consistency with the Broken
Sword games. (The digial iMUSE code still calls it voice volume, though.)

svn-id: r13483
"
"dddcb9e9ce4aaaaa83abfb659784e225597db9fd","2004-04-06 11:55:35+00:00","Forgot to make this change before the last commit.

svn-id: r13484
"
"86dd5c56f68055a7d8386e831554864c3b014e26","2004-04-06 18:42:53+00:00","voice_volume is now speech_volume

svn-id: r13485
"
"2b9311aa26e3536eb7e22239f8ed5b42f2834065","2004-04-06 19:46:43+00:00","- split imuse digital code,
- cleanup a little,
- added pool method for FT voc sample from resource,
- make struct sync, jump, regions dynamic memory allocation

svn-id: r13486
"
"36d667b2b599a8c58c7e0d52e47afc2a3f828ea0","2004-04-06 20:04:05+00:00","Fix building from external directory

svn-id: r13487
"
"4fef6d8972cf34f0c6ea709b801183df65757b7f","2004-04-06 20:15:19+00:00","fix for bug #928549.
Animations on objects/persons setup by cutaways can still be played after the end of the cutscene. (the only ?) one room in which this is reproducable is the first time you talk to the Oracle (first c44, then c47).

As a Cutaway object is created for each cutscene, the _cutAnim member should be moved to an more 'persistant' object.
Otherwise we're reading data from free'd memory...

svn-id: r13488
"
"44019f8bfaaada699a1b6ddcd9e77d4e58f60551","2004-04-06 21:50:04+00:00","Fix for building from an external dir (ensures that the correct config.h gets included)

svn-id: r13489
"
"fa87f497844c7189faee3d04be4c4e00c19e9515","2004-04-06 22:02:02+00:00","cleanup

svn-id: r13490
"
"a1ac7645759910de70fa7023bcb7a883437ba95e","2004-04-07 06:57:37+00:00","Cleanup. (Mostly to change the wording and priority of the debugging
messages to be more like in BS1.)

svn-id: r13491
"
"ad65c8e6b20fc7a3156d39134eb58bed90038042","2004-04-07 07:17:16+00:00","corections to music code

svn-id: r13492
"
"c2870adf609067cba2d5cec0bc6b9bbe3895b42f","2004-04-07 08:53:24+00:00","Added notice about how I think CP_PUSH_LOCAL_ADDR is used.

svn-id: r13493
"
"489e473fca7f5ae424115e4a3907d29733fa6d81","2004-04-07 12:31:32+00:00","Cleanup.

svn-id: r13494
"
"12aeb85e62aca379bf2ea8b21304c4c554b0207d","2004-04-07 14:18:27+00:00","Cleanup.

svn-id: r13495
"
"c2100644200a291911f5910c65c5494b0600cf40","2004-04-07 17:49:22+00:00","ops and forgot :)

svn-id: r13496
"
"1337c98434860281e1da7d60d44933fbe62caf89","2004-04-08 00:06:32+00:00","Updated NEWS file a bit (I hope people who work on the resp. frontends / backends understand they can add stuff here themselves... ? :-)

svn-id: r13497
"
"bf0e879aa168b1fbfe247c6774df550506dffcee","2004-04-08 01:38:07+00:00","Semi-experimental change: revised _hasMask handling -> simpler code (after removing those FIXME's that is :-), which should still produce identical results (let's wait for the regressions rolling in :-)

svn-id: r13498
"
"5ab0ba430bad8afd693241dd2b28048848a28020","2004-04-08 11:48:35+00:00","Can't do that on PalmOS, exit is event based

svn-id: r13499
"
"83b7d7f84ca7f8c56288518883abe0a2898334df","2004-04-08 21:13:25+00:00","fix for region code

svn-id: r13501
"
"6da153dc123207c4450232e3297d636a15deb143","2004-04-08 21:59:40+00:00","fix for music code

svn-id: r13502
"
"263bd0d0e707e242bc037a2c9abe5169a1592d49","2004-04-08 22:46:22+00:00","another fix

svn-id: r13503
"
"650dc2117ccc00ccf45466693bb9fe5b742960f4","2004-04-08 22:46:46+00:00","seems it is 'endianness' and not 'endianess'

svn-id: r13504
"
"ecf6976890888d329c2762f74abe812545a23c54","2004-04-08 22:54:22+00:00","Partially added EXEEXT support to configure script (incomplete; and boy, our configure script sure needs a cleanup :-)

svn-id: r13505
"
"2b94290c9738f3c3988c4b8e00edfab1663516f3","2004-04-08 23:38:09+00:00","cleanup

svn-id: r13506
"
"3dcd7bbfa8de79869a94ce1344fdb7ca141c0bf4","2004-04-08 23:41:10+00:00","Record on which virtual screen we last drew masked text

svn-id: r13507
"
"333a2aaea8010317fb4588dcf5e5b172f0c4dc23","2004-04-08 23:43:30+00:00","Fix for bugs #929722 (MI2: Difficulty selection screen regression) and #930385 (Subtitles are not shown correctly) by changing restoreCharsetBg() to only restore the screen area which is actually masked by text

svn-id: r13508
"
"00d844ff194b5cd66db336fbb7562768cf9344a4","2004-04-09 01:43:51+00:00","Update

svn-id: r13509
"
"6a175f294cec3adc954d2a15dbed9151c12fa266","2004-04-09 03:57:18+00:00","rename to _nextSeqToPlay

svn-id: r13510
"
"5f89f5b2b756891d5f7a032b84a6bd89333056aa","2004-04-09 04:20:17+00:00","correction for stoping sequence

svn-id: r13511
"
"d368d2e7fa03670c5f0a468caab1dda7da217ac2","2004-04-09 04:56:18+00:00","refreshScript was wrong used

svn-id: r13512
"
"5763122a69d7f33b93601a73c0add87576f2ce37","2004-04-09 05:43:24+00:00","back refreshScript only for DIG, add stopping music while changing bundle

svn-id: r13513
"
"c2e0647f6a2a17b4d1d8a41573aff9b6ddafe688","2004-04-09 06:17:20+00:00","-fix for dig demo
-handle some music opcodes without filename

svn-id: r13514
"
"86a546652633b6768656ffe747b56f37931b3cc7","2004-04-09 07:24:08+00:00","Changed the UNIX line breaks.

Fixed the problem where the lookout music didn't play in the MI1CD intro.
At least, I *think* I fixed it. It worked at home, but I can't test it on
this particular computer.

svn-id: r13515
"
"3978b728dbaad08a112f2f3b980221dea57523bb","2004-04-09 12:36:06+00:00","Add Kyrandia base

svn-id: r13516
"
"d3f647867efa39cadd0890e35d5671bfcfaf754d","2004-04-09 12:45:10+00:00","Whoops. Remember to make clean/distclean before commiting whole directories :)

svn-id: r13517
"
"a05c6e5406da6457cc492cff8e0a212d092e8577","2004-04-09 13:31:36+00:00","add instructions on using non-freeware FOTAQ and some extra keys

svn-id: r13519
"
"8a69ffc46c57fb550b5b50a724b908e404bc3c67","2004-04-09 15:10:23+00:00","Renamed template class 'List' to 'Array', since that is really what it is (a resizable array, not a linked list)

svn-id: r13520
"
"3e98a219b2c7c44ce276d4db6020599a8633db6d","2004-04-09 16:17:57+00:00","Fix plugin building

svn-id: r13521
"
"c4383474cf7dcba9a19bf89b6c7335a03ea34327","2004-04-09 18:18:42+00:00","refreshScripts only for full game dig, and cmi demo

svn-id: r13522
"
"e795a7ce65d3eac01f7b07c28543f5186cfa3f13","2004-04-09 18:19:22+00:00","revert

svn-id: r13523
"
"125e9b76593b8206a57b218c857ca19a4728d156","2004-04-09 18:30:44+00:00","update

svn-id: r13524
"
"6d4839d376a0eabd1cd5251e0a5b3f74deff798a","2004-04-09 21:42:37+00:00","it seems to be needed for comi too, hmm

svn-id: r13525
"
"95c17148aeef394d27d2055b4764f32ca1dcdade","2004-04-09 21:44:29+00:00","fixed 'region' code

svn-id: r13526
"
"3b7af85adf9009e90d6de1345bad807ce579e35c","2004-04-10 00:07:58+00:00","Cleanup Sound constructor; change search order of SFX files

svn-id: r13527
"
"a78fb367989db4c6416070a1f35446b3b63a5db8","2004-04-10 00:17:42+00:00","cleanup

svn-id: r13528
"
"d78e9bb0acbdc06431bf8b3e6f51bdf71c1e12df","2004-04-10 00:51:12+00:00","cleanup

svn-id: r13529
"
"2bc99154fb8e8ac9beaa33e0492148bc146b0693","2004-04-10 01:45:00+00:00","oops

svn-id: r13530
"
"56b5b9f7dfd3dcbf1f76538a2e0caded6f090ef7","2004-04-10 01:46:38+00:00","Fix for bug #885490 (FT: Ben stops talking mid-scentence @ the gorge) -> this only works for monster.sou files; compressed audio is incomplete, and we have to fix the extract tool to correct that

svn-id: r13531
"
"a3aead899ef8352624e8617b0608c29ab1dc5ae7","2004-04-10 09:17:36+00:00","special case for 384x242 smush resolution for ft pc demo, it use additional buffer

svn-id: r13532
"
"6bf0cce89c07e9d61295b92e4d25d012286f91d4","2004-04-10 22:34:07+00:00","Clean up VOC code, and fix potential out-of-bounds access

svn-id: r13535
"
"25df782332abd40621108737e05f090184e60e39","2004-04-11 04:20:09+00:00","Allow copy protection in FOA (Disk) to be enabled.

svn-id: r13536
"
"1c959090f8345b06afe171af4cd41f618aa1dd49","2004-04-11 05:55:06+00:00","update

svn-id: r13537
"
"a404cce55a2f8a60e50f3201e6d4017adfd07509","2004-04-11 06:06:36+00:00","disable warning 4189

svn-id: r13538
"
"26c8f9340db3db6f7296053a8e67a31293cce73b","2004-04-11 12:31:46+00:00","Fix for bug #907266 (MI Mac Music Bug)

svn-id: r13540
"
"def44acc6f03b3c752002f140e6accb74477e527","2004-04-11 14:48:50+00:00","implemented 'fade buffers' stuff

svn-id: r13542
"
"3a04ee24cd52ffaaf6e2cc4e37e1125c8b3ec9b1","2004-04-11 14:56:11+00:00","exclude for FT sound loops

svn-id: r13543
"
"908e80060da53882360c8a89fd06fb5affacd075","2004-04-11 18:07:03+00:00","forgot that

svn-id: r13544
"
"b05cc19d0d189d4aa9c5659c838b2c910dcf46f5","2004-04-11 18:56:32+00:00","add initial code for pull procedure

svn-id: r13545
"
"f489a2ae75386deebbabc5e1d9b76fb2ba384886","2004-04-11 18:57:44+00:00","pull not pool

svn-id: r13546
"
"f41e7a1e813c1e115ef05533b7546f8ae4554c72","2004-04-11 18:58:50+00:00","pull not pool

svn-id: r13547
"
"e4942c4b69569b4699fecfc52ce7dc4d83d4047f","2004-04-11 20:55:46+00:00","Oops! Accidentally copied the HEAD sound.cpp into the 0.6.0 branch

svn-id: r13548
"
"560ab5384ca4b20537cfa7d19a9ec97c9b3dbaf3","2004-04-11 22:13:20+00:00","oops

svn-id: r13550
"
"8fc35a9a84a5deff09089f355bf6bed7fdf4a9f7","2004-04-11 22:20:41+00:00","Fixing up the mess I made out of the branches <sigh>

svn-id: r13551
"
"fd3ff5b58a5c9d85c688b6a3f8c5c7f99cbe5134","2004-04-11 23:19:19+00:00","Workaround for bug #847827 (FOA: Wrong sprite z-order at specific place)

svn-id: r13553
"
"2a02291537a326947328683f18c142797e3f00ba","2004-04-12 01:19:26+00:00","simple double linked list template class (completely untested)

svn-id: r13555
"
"3b206ee83e190eb9213404213bd72568dfb9d09c","2004-04-12 01:19:39+00:00","Skeleton unit test for array class

svn-id: r13556
"
"2b1542803004f4ca26f30f4b7c4d94d7b7e6d5c5","2004-04-12 04:47:08+00:00","this no longer exists

svn-id: r13557
"
"c57234870601fa4241b68beefd0a83677e8c935a","2004-04-12 12:25:51+00:00","Enable hack for old games too. don't pass larger size on to resfile_read

svn-id: r13558
"
"8d6a1c12459fa12493b866786d449265259ed729","2004-04-12 13:34:34+00:00","disabled wait in stopAllSounds in imuse digital, it can cause deadlock

svn-id: r13562
"
"0a0a0c7b0609d8774cef849e7511e7b21d12c5db","2004-04-12 21:16:32+00:00","Updated to match scale2x 2.0

svn-id: r13563
"
"f3d340fb0ce72b9db59b8c701153bc82b595f75e","2004-04-12 21:40:49+00:00","WIP for SAGA engine.

o text formatting is not consistent with rules, just indent utility is too
dumb for that
o it does not use OSystem, i.e. it runs on direct SDL calls
o it may not even compile on your box
o if you enable it, expect zillions of warnings
o no sound

Now it runs ITE intro as reinherit did

svn-id: r13564
"
"975a9015e82d06166f9513029442a370d7812b8c","2004-04-12 21:51:26+00:00","Forgot to add header.

Please, remove SAGA engine from MSVC builds. It should be broken there until
porting to OSystem is finished

svn-id: r13565
"
"3fc1da7291b93b8e47bf5ca628ccf775833a5593","2004-04-12 21:54:02+00:00","More headers

svn-id: r13566
"
"6055328d27f73f27c016eac414531b9c1081a41a","2004-04-12 22:26:48+00:00","oops. Forgot the file

svn-id: r13567
"
"728470074112062584b6ff9298bec2d36697b0a7","2004-04-12 22:37:54+00:00","File is not needed

svn-id: r13568
"
"e42c1f0483b2bf7dd5af4a3473232fa1019618cc","2004-04-13 05:27:35+00:00","disabled SAGA

svn-id: r13569
"
"6680c5368dbbe605b6beb7314b4609f5dea1c5ca","2004-04-13 05:57:52+00:00","added CustomProcInputStream

svn-id: r13570
"
"6c94b42f9014d2ee46c6f325b481a5d06a71d0ec","2004-04-13 06:29:34+00:00","added experimental and buggy pull method to imuse, it's disabled by default, to enable uncoment in dimuse.h define #ENABLE_PULLMETHOD

svn-id: r13571
"
"e6766d413a8a2b5ee22a27a9e715cc483fb65717","2004-04-13 06:36:31+00:00","update

svn-id: r13572
"
"7f0adec96ef50ff84e41fafc7f6dc98ace86207a","2004-04-13 09:14:19+00:00","Fixed warning. (There are plenty of warnings in the SAGA engine, but this
one was obvious how to fix. :-)

svn-id: r13573
"
"e03cca03d46cadb869e08c7d62c5a7a06b0f46ba","2004-04-13 09:18:36+00:00","Fixed warning.

svn-id: r13574
"
"be5c52948785faa2cf4a4fb635341190224500b1","2004-04-13 09:25:54+00:00","Fixed warning.

svn-id: r13575
"
"881c86c1e71a96d291140788b277a9952bd7bf52","2004-04-13 09:45:09+00:00","File is not needed

svn-id: r13576
"
"6ea29bc7f8106b386cc9602ccd5e6b0334e13232","2004-04-13 19:20:16+00:00","added support for compressed FOBJ chunks in smush movie files.
the *.san files from 'data' dir in FT can NOT be compressed !

svn-id: r13577
"
"fae6675c5be5788e1ec4456fdf866466b80577ff","2004-04-14 06:37:00+00:00","forgot that

svn-id: r13578
"
"3a4536e2e2ea74a4332447d59813b916f2aa3aa7","2004-04-14 07:12:10+00:00","Cleanup. (Mostly of the comments.)

svn-id: r13579
"
"2de9cbf9fdf4b35955781f0b8aea3732e3f69ee6","2004-04-15 15:56:21+00:00","Changed the type of value from char to int8. Otherwise, if char happens to
be unsigned, the test for if value == -31 will always fail.

svn-id: r13580
"
"0a1cefb04e007ddd8097d830f5f296f7effb875e","2004-04-16 05:48:31+00:00","Fix regression introduced with the mac loom copy protection changes in rev 1.155, afaik all non mac versions of loom should be using that check not just pc. Fixes bug #934913

svn-id: r13581
"
"0d2d884bb744c1b88dbaa000490f5d6b3395e213","2004-04-16 06:46:03+00:00","Cleanup

svn-id: r13582
"
"22cd3dbcf9ab7640d6cdc1a41fab98a7fad27276","2004-04-16 06:49:52+00:00","update phony target list

svn-id: r13583
"
"c8e331e9b45935d72cf3f5180637ca5f2148cb21","2004-04-16 06:56:28+00:00","Makefile.mingw is no longer used

svn-id: r13584
"
"45dd6a4ae6633c2d6b85b686cd66de5793a0608d","2004-04-16 08:30:57+00:00","initial pass at adding install/uninstall support to configure script, also use DIR instead of PFX while here for consistency with autoconf like output

svn-id: r13585
"
"e398103f5896bf3ad1a8f97053caffa5cddf1f54","2004-04-16 08:41:57+00:00","more phony targets

svn-id: r13586
"
"9c55e7247c34419ab34c95225cc38553d87d5bef","2004-04-16 12:12:37+00:00","Rename this function and associate data with COMMON file

svn-id: r13587
"
"5af7979f0bf497fc1c93fdb581a5b90c2eb5857f","2004-04-16 12:47:55+00:00","Fixed illegal access to protected/private member on PalmOS (??)

svn-id: r13588
"
"bcb7878f10d9ca2f48dfb6ed4074415181c8af81","2004-04-16 20:49:14+00:00","Unify some code

svn-id: r13589
"
"f8d9bc6bcd3f2c0d9c8a6ec8e63e266ebafa5da4","2004-04-16 21:05:09+00:00","Revert debug levels

svn-id: r13590
"
"40afd9b56620491c72ad1a04323b4144b0350a70","2004-04-16 22:04:32+00:00","Fixed const iterator

svn-id: r13591
"
"1ee83cdeadddd84ab8b12e2cb296659172f790a3","2004-04-17 03:32:03+00:00","2nd pass at install/uninstall targets

svn-id: r13592
"
"9b904682b18c4a4a7540fb1dca721544a8d448a3","2004-04-17 07:22:02+00:00","Amiga Monkey Island 1 sound update from Quietust:
Allows MP3 music support in demo and full game.

svn-id: r13593
"
"e17a15d96e46939d2ec4403ee5241baafdd562c0","2004-04-17 09:57:15+00:00","Introduce ReadStream and WriteStream (as explained in my File class design mails on scummvm-devel)

svn-id: r13595
"
"ae50adfd310cc4304129e5c2b5de7ffc69ba229c","2004-04-17 12:42:40+00:00","Fix byte reads

svn-id: r13596
"
"9defe4fc1880ab8926c5cdf167f35985c7ee9afc","2004-04-17 16:29:03+00:00","Removed XOR encoding stuff from File class; instead the new Scumm::XORFile class provides this functionality now

svn-id: r13597
"
"ac967bde630457fbaf2220145ee048abda652cfe","2004-04-20 07:10:13+00:00","Increased _numNewNames from 50 to 100 to prevent overflow in MI2 endgame.
This should fix bug #936323. (There are still some game versions that use
50, but that can be fixed later, if the need arises.)

svn-id: r13598
"
"dfe25fbfd8f8c2a1d015e5d6ca9380ca5a07c00d","2004-04-20 07:21:25+00:00","Added note that the previous commit probably fixed bug #933610 as well.

svn-id: r13599
"
"b1cca1ed94ef89a10aab991a11ac334c99baa2f3","2004-04-22 18:35:08+00:00","Couple of discrepancies

svn-id: r13601
"
"fd38da7f134235c541860168f21c8706c2e62c19","2004-04-22 18:44:17+00:00","Might as well update this stuff too

svn-id: r13602
"
"8f8185f035d747c720371d88de90c54e43a543d0","2004-04-23 07:02:11+00:00","Major revamping of the BS2 memory manager and, some small changes to the
resource manager. All new code! All new bugs!

svn-id: r13603
"
"d04439323525a723b7314ddf84226fe2b25f6bd8","2004-04-23 09:23:17+00:00","remove old zak256 target, if you're still using this its time to start using the zakTowns target

svn-id: r13604
"
"729ccc0ac79d35fbfb947f31141dd85a60f613ce","2004-04-23 09:31:02+00:00","update

svn-id: r13605
"
"0ac8c4bd3f87399856ed0b5549877c01cd6d3506","2004-04-23 11:36:06+00:00","I forgot to clear the reference counter when a resource is forcibly removed
and I may as well clear it when a resource is read from disk as well.

svn-id: r13606
"
"8f8d1967c942f5eb6ba1b01ade037bb938f99d64","2004-04-23 11:40:51+00:00","convert the file routines to use the File class

svn-id: r13607
"
"8675bcfc6cf9be35075eec718f9757dfba879a95","2004-04-23 11:43:20+00:00","Fixed a crash regression in setLuggage() that was caused by a change I
didn't make. :-)

(That is, I made the change and then thought better of it, but I forgot to
change one line back to its original form.)

svn-id: r13608
"
"94962f6655f543f924048c23a6559932b089666b","2004-04-23 11:45:28+00:00","mention zak256 removal

svn-id: r13609
"
"a575576890045caf4beda9dacb7923558e7f3003","2004-04-24 12:29:35+00:00","fetchObjectName() no longer assumes that the resource will still be in the
cache after it's been closed. (Currently it always is, but ideally I'd like
for BS to work even if resource caching is disabled.)

svn-id: r13610
"
"14f74bb56899156a5edc7ec584c368c475a528ff","2004-04-24 12:54:02+00:00","Increased _numNewNames to 150. Judging by bug #941275 it wasn't enough to
increase it to 100, like we did recently.

svn-id: r13611
"
"e369538e344a366e7a0579253e0cc91b7bd37e57","2004-04-24 15:33:36+00:00","free slot and return NULL when it can't open bundle file

svn-id: r13612
"
"443d7ec553a7f3e2e235a8cb771b66ce40a0fe81","2004-04-24 15:58:51+00:00","fixed bug related to regions. sound of status for remove should not processed anymore

svn-id: r13613
"
"415a0f6880658dbf8f41a31253bda1d0504e4712","2004-04-24 16:15:01+00:00","c&p bug, it should not break loop but continue

svn-id: r13614
"
"24e49664e4e2550a2e9262de9a942dd523e36c6f","2004-04-24 16:17:10+00:00","in pull method code also

svn-id: r13615
"
"5241ae736841607af2e625503b22b5925ca6973e","2004-04-24 20:00:15+00:00","forgot removed hack

svn-id: r13616
"
"be28bc0403251f4f13e6ef9db7f5ff17e16a4e87","2004-04-24 20:02:17+00:00","add check if track is meanwhile stoped

svn-id: r13617
"
"bcb5005c31ae5aa82342a7f2aebfb02856f1eeba","2004-04-24 20:41:30+00:00","few corrections, more debug

svn-id: r13618
"
"a0647bd6b4490f206a26f572fbddf7faab729c0d","2004-04-24 20:57:42+00:00","Patch #937443 (Monkey Island SegaCD Sound Fix), and some changes by me

svn-id: r13619
"
"e39cfbd86429f0d6ae0663b2db5c06038f6415e7","2004-04-25 13:22:09+00:00","Updated the 'report to fingolfin' message

svn-id: r13620
"
"f9cd78cedd48371f8aa9d98cbcdeb879fe543fac","2004-04-25 13:34:19+00:00","Workaround for bug #864030 (COMI: ASCII 0xb (11) not handled)

svn-id: r13621
"
"d4f876b37df0fdc772936eedf9b112802987254b","2004-04-25 14:42:14+00:00","Fix many warnings; use C++ type system instead of C style typedefs; removed various unused stuff; const correctness; etc.

svn-id: r13622
"
"f6a4ed1cff00d813c297f59f9ad2c586da011739","2004-04-25 14:45:08+00:00","Fix yet another const warning

svn-id: r13623
"
"ae1b03a1f555bad80b82d5ea07fd665cb56973a3","2004-04-25 15:14:46+00:00","More ScummVMification

svn-id: r13624
"
"abc8dca0732b26d6d5e27e8a4c5a4136faff1bbd","2004-04-25 16:06:22+00:00","more cleanup

svn-id: r13625
"
"795a735a312c1a6c444c4b35c62721b69eee3d8b","2004-04-25 16:16:21+00:00","Comment about how our Rect class works. Note: the SAGA engine currently does use the alternate approach to rects! Hence we can't currently use all those nice and nifty helper methods from Common::Rect in SAGA.

svn-id: r13626
"
"0773177bba98de9d9e8680eed129089039997635","2004-04-25 16:54:59+00:00","Fix regression in DIG demo

svn-id: r13627
"
"cc5fb7fc58283512a344dc1f49698e1426788602","2004-04-25 17:24:17+00:00","dropped pull method for imuse

svn-id: r13628
"
"43979c90122e2baaf365046d232b8d4b5245d8c4","2004-04-25 18:43:46+00:00","delete CustomProcInputStream and add getFreeSpace for appendable audiostream

svn-id: r13629
"
"c5c1a83d3528332134e3215327901be86e24aa24","2004-04-25 19:33:46+00:00","Add FreeBSD plugins building

svn-id: r13630
"
"7251d5324ec47d422b4f69522fabd3f3f8b91088","2004-04-25 19:51:46+00:00","- added workaround for strange regions length in some FT voc samples
- increased regions up to 70

svn-id: r13631
"
"bdf98670418141ae3b8fdc7c08d4d33c829d379b","2004-04-26 05:18:45+00:00","added some indexed comments

svn-id: r13632
"
"d2aa9b91b5d9ec5a231f44c56558b0e70c244861","2004-04-26 06:26:18+00:00","fixed cue music in FT

svn-id: r13633
"
"0fcd887dcd38109688c8f7e07bf366430507fa3b","2004-04-26 07:37:25+00:00","Cleanup. Mostly removal of redundant comments.

I've also made the SaveGameHeader struct packed, which may break savegame
compatibility on some architectures (though not on the Linux and Windows
boxes I've tried it on). But I'm hoping it will guarantee, or at least make
it more likely, that savegames will be portable across architectures.

svn-id: r13634
"
"32d7c8c181d899a0be034a60aea1759f28e68634","2004-04-26 07:47:12+00:00","fixed stopping imuse sounds

svn-id: r13635
"
"6ca5f9a38ef9f07b1accb65c5b7d5908e3c8728d","2004-04-26 08:06:53+00:00","mixer buffer size depend on format of sound, it's 1 second timed buffer

svn-id: r13636
"
"2ee813b7c2f5a5b1f5536bd67fdb1624eb3bb8a3","2004-04-26 08:17:19+00:00","forgot it

svn-id: r13637
"
"883fdfdb7caba62c07dcc8bdaf59a4fc2e75f3fb","2004-04-26 08:58:03+00:00","rename

svn-id: r13638
"
"17332e393ef369acae3a43a25f859bd52f8022ed","2004-04-26 09:04:08+00:00","added mutex into smush player

svn-id: r13639
"
"f90a2a30c256afe88d390a3b9bdd973f4b5e7a4b","2004-04-26 19:22:27+00:00","locking resource sounds while using them to prevent expire

svn-id: r13640
"
"e256a54205df431b688f1ec7fc74a7a78b68ea8d","2004-04-26 19:30:12+00:00","fixed logic code bug. it should not try start sound if not free slot

svn-id: r13641
"
"ba930588851a177cb9f936055f6340f09e132e6d","2004-04-26 20:22:18+00:00","MSVC6 projects for the new engines

svn-id: r13642
"
"eba215d9a826ec31a2558ccc0040d561bbaafd97","2004-04-26 20:24:17+00:00","Cleaned up and updated MSVC6 projects.

svn-id: r13643
"
"4ee0365a231eee6baddf32a65ab15a59be6adb00","2004-04-26 20:28:34+00:00","Tweaked a few things to accommodate
MSVC6's idiosyncracies.

svn-id: r13644
"
"f7084c20e95ecb1fa508d0690eaf74e1c566f528","2004-04-26 20:34:59+00:00","MIDI control change 18 is no longer transmitted.
It is not a valid MIDI control change message.
It is used internally in the SCUMM MIDI tracks
to indicate part priority.
The only MidiDriver that needs it is Adlib.
It should be noted that the priority values are
out of bounds for a regular MIDI message anyway.
Valid control change values are 0-127, but the
priority value ranges from 0-255.

This fixes a crash with a certain software MT-32
emulator running under Linux. Thanks to olki for
bringing up this issue.

svn-id: r13645
"
"d2fa7bbcc7f836406fa69028f58fb6e61d8901bc","2004-04-26 20:48:09+00:00","synced code free space with buffer changes

svn-id: r13646
"
"88643e3363666a68b91420ce99e3c9dd903a64d8","2004-04-26 21:29:49+00:00","imuse audio stream are use dynamic append size now

svn-id: r13647
"
"aaf508d4da5ac68a4d7d4fdae9b64983a7177654","2004-04-27 08:54:03+00:00","Don't use uninitialized variable, lang_path, in debugging messages. It
caused ScummVM to hang on my Linux box.

Fixed - correctly, I hope - compiler warning.

svn-id: r13648
"
"49fc62b4d0a3d905195fa70e34dd33b10a49c62f","2004-04-27 08:59:58+00:00","Cleanup

svn-id: r13649
"
"707e9a403bb4ce25a8cec15d92a48c3c23dddb1e","2004-04-27 09:53:44+00:00","Fixed warning by removing unused variable.

svn-id: r13650
"
"b2b9317dad95c0e29e4283e482b45a771ec5401e","2004-04-27 10:01:15+00:00","Fixed warnings. At the time of writing, only xmidi.cpp causes warnings for
me now, but I'm not sure how to fix those.

svn-id: r13651
"
"9ae54838b94e4505ec095b8c6de9b17299069816","2004-04-27 11:22:13+00:00","cleanup

svn-id: r13652
"
"1e293d409d2691e9a0698aee43176bd8b72323be","2004-04-27 11:39:12+00:00","Remove some more unused code

svn-id: r13653
"
"38ef0d081b70bb84db04099ea32d08616a751814","2004-04-27 11:44:17+00:00","Remove yet another file

svn-id: r13654
"
"54d27c12d9fe74c36f516f002da38747b28e5ad2","2004-04-27 11:47:36+00:00","more dead code gone

svn-id: r13655
"
"1e83b30b98fa17f15384f69e527878cfcf9307ce","2004-04-27 17:31:28+00:00","that is not need anymore

svn-id: r13656
"
"56e25a8f7f43991c788bcba9d389e186320140f0","2004-04-28 00:30:16+00:00","Removing more files from SAGA. Justification: we already have XMIDI/SMF code; SDL already gets inited by OSystem (which this code should use, too, of course...); no need to have a simple poly hit test in a separate file

svn-id: r13657
"
"d6e78803db925898272e44386c90075fac6173ef","2004-04-28 02:11:09+00:00","Fixed crash. Original clip routine was more sane.
Some code formatting.

svn-id: r13658
"
"319ae4deede0e1714fd2e262d13abdbff5eea5a2","2004-04-28 05:39:53+00:00","cleanup

svn-id: r13659
"
"20a6c89068a6160cab330af7e4a7318a6159620a","2004-04-28 05:47:32+00:00","update

svn-id: r13660
"
"6a432d10b5f873d68cc3be8d849bf72d7061d1c7","2004-04-28 11:47:19+00:00","Cleanup. I plan to take a closer look at the sound effects handling later.

svn-id: r13661
"
"6e75100d61322932aea9065be1e3a092f2c3c5e3","2004-04-28 14:29:23+00:00","Small potential TODO

svn-id: r13662
"
"b59c8004a5ae25b96b0feb76784c4d10591f2dc8","2004-04-28 22:21:51+00:00","code formatting insanity

svn-id: r13663
"
"1ad6498bd5a650a39e343e87b33e02afb21abbef","2004-04-28 23:10:59+00:00","Objectize sndres.cpp

svn-id: r13664
"
"4f25dbb45b5d7261231948702cb2a0664dbc729a","2004-04-28 23:19:45+00:00","Rename Snd object to SndRes

svn-id: r13665
"
"c3171841aa53d201cdfb62f3630bfa6df53e8937","2004-04-28 23:24:56+00:00","Rename syssound.cpp to sound.cpp

svn-id: r13666
"
"4c889000f2dd40f32286bb5637fdbcd869b5cee6","2004-04-28 23:54:40+00:00","Objectizing sound.cpp

svn-id: r13667
"
"d7835da8c7d3bc223c8b1ec84e9b0b7439dbb6fc","2004-04-29 01:24:18+00:00","Voices are played

svn-id: r13668
"
"b03304c8707313f624e9280e8c0c345f117092c5","2004-04-29 01:47:51+00:00","Rename sysmusic.cpp to music.cpp

svn-id: r13669
"
"bb8ee598c9c71b7ee8b55819099274605a7b6224","2004-04-29 03:52:59+00:00","Music.cpp objectizing.
Initial MIDI checkin, doesn't work

svn-id: r13670
"
"e344d4e1b06b6639b04c7648ed4acefa27fce8ab","2004-04-29 03:54:03+00:00","Forgot to commit header file

svn-id: r13671
"
"91f5c00a12d7b613d95d4564972eac5cac339fd9","2004-04-29 04:07:14+00:00","Make MIDI driver run, though no sound yet.

svn-id: r13672
"
"4ed0d02f05db28f8007637ff429d0e23ec1ee6af","2004-04-29 04:24:55+00:00","Now it produces sound, but it's clear that XMIDI parsing is wrong

svn-id: r13673
"
"cd21d5919b18ad6cb33b63d2be899b2ea6689f0b","2004-04-29 04:50:45+00:00","init some things to fix segfaults

svn-id: r13674
"
"ce98de540db5a17c6c49cb22b2e31b13cc62d429","2004-04-29 05:13:18+00:00","fix another unitialised var use

svn-id: r13675
"
"92407c56b389abef86059efcba3c0cb28661f40c","2004-04-29 11:51:11+00:00","Changed printf() to warning(), plus some formatting changes.

svn-id: r13676
"
"a0623e6012c179951d9d06fc7adb555e9a0123ab","2004-04-29 11:57:25+00:00","Changed printf() to warning(). (Even in the case where the message used to
say 'ERROR'.)

svn-id: r13677
"
"f3d4bc7f8fda9b7d799affa1ee803f46263dd158","2004-04-29 12:27:17+00:00","Quick-and-dirty music fix. I can hear music in the ITE intro now. I haven't
tried IHNM yet.

svn-id: r13678
"
"90075cd190b0d3e04dcb92475f3a8a49433812e4","2004-04-29 13:45:10+00:00","use timer rate from driver, makes midi a bit more audible

svn-id: r13679
"
"33ef0d0a4b4cae8ab27b87725c03261deba26734","2004-04-29 20:28:42+00:00","Added signed read/write methods to the Stream classes

svn-id: r13680
"
"a6d632c6cff9d21b45e5eea3ca7e207ceb68c0e3","2004-04-29 22:19:15+00:00","Fix warning

svn-id: r13681
"
"7ab18634c728b1c4c7090a699600cd2f7c77a9e5","2004-04-30 07:13:26+00:00","Very experimental support for the separate MIDI files used by the Wyrmkeep
re-release of ITE.

Unfortunately I only know the mapping from resource number to file name for
the two tunes in the intro, and the second one causes ScummVM to crash so I
had to disable it.

svn-id: r13682
"
"580d47f5fe9da99cc7700fdabe9406ddb8c3d738","2004-04-30 10:40:18+00:00","Fix cut'n'paste bug. It broke queen building with kyra disabled

svn-id: r13683
"
"182cbf7091dc48fee56fbf1818ae82b7be083b1d","2004-04-30 17:48:20+00:00","Changed printf() to warning()

svn-id: r13684
"
"d5873104ad001ec0540e08517fbf92cc8246e1c2","2004-04-30 17:49:33+00:00","Added fixme comment about a bug that happens (at least) in the Wyrmkeep
re-release of ITE, and how to work around it.

svn-id: r13685
"
"06d9f402df8c1be896f0b369ceacf81d1488663d","2004-04-30 21:41:51+00:00","Indentation madness

svn-id: r13686
"
"1353e2d2dc8cf794279f4bc8f9ae12eb31accc35","2004-04-30 23:02:23+00:00","Move from custom unsigned types to those provided by main config.h

svn-id: r13687
"
"1ac5aef6474a7b83294d793690cc1694a5e795f5","2004-05-01 06:16:57+00:00","indent

svn-id: r13688
"
"1ecf43aabeeed953b1c7a16eb715ac155398171d","2004-05-01 06:31:50+00:00","Remove unneeded #defines

svn-id: r13689
"
"e8cb50e17fc15270ee493f8c1b1623c20e47071e","2004-05-01 06:35:06+00:00","indent

svn-id: r13690
"
"7792c3fd5ec79067262415685b3125d41cc37688","2004-05-01 06:50:20+00:00","indent

svn-id: r13691
"
"74fce461b8d42a53651e5eff1ae16a6a5481b362","2004-05-01 06:57:54+00:00","indent

svn-id: r13692
"
"b3fe9ee32a2f9f0caeac22a4b94cd547ffb3cf43","2004-05-01 07:32:48+00:00","indent

svn-id: r13693
"
"b7a1956382ef349ccc3a41ac844f449de810a16c","2004-05-01 07:39:39+00:00","indent

svn-id: r13694
"
"4b5e78b7747b0af51f4c128afcb4f81f4f320a55","2004-05-01 07:50:08+00:00","indent

svn-id: r13695
"
"a8453637f8206bd8199af619e40aef03788c9833","2004-05-01 08:44:00+00:00","indent

svn-id: r13696
"
"ae9f6dd86a36f2cdca91ff32b2a29b6ac3593f97","2004-05-01 09:07:31+00:00","indent

svn-id: r13697
"
"1d649b1c06660fd820c08b5cd2c90cfceedfb8fc","2004-05-01 09:19:35+00:00","indent

svn-id: r13698
"
"5f5e6e42798a1e55be6c82a97c5caced8567de9d","2004-05-01 09:36:02+00:00","Fixed warning. The R_GAMEDESC for the disk version of ITE didn't initialise
the gd_suppoerted flag, so I set it to 0.

svn-id: r13699
"
"4265979a6a626c60b4b97657ba42c074b5c5fbd1","2004-05-01 09:37:12+00:00","Fixed warnings

svn-id: r13700
"
"6b39b875fc978bc416c8b36555afb5f753532fcc","2004-05-01 09:37:24+00:00","indent

svn-id: r13701
"
"ca7b89d2a5e5c773140ee08650079ae0dc53e8a7","2004-05-01 09:38:03+00:00","Fixed warning

svn-id: r13702
"
"d82c9bd6402cbccac5659868058dac21be83a72a","2004-05-01 09:40:47+00:00","Remove scalers, 16bpp code, unused functions.

svn-id: r13703
"
"e830d35a21fda5e28bcc290b37a922dbf4114224","2004-05-01 10:24:47+00:00","Made the 'debugoff' console command actually turn *off* the debug info.

svn-id: r13704
"
"bc77ba431a7ccfc9a961df5fa8f1531e2f72fd44","2004-05-01 10:42:23+00:00","Simplified the handling of sound effects. It's not necessary for the driver
to keep its own copy of the sound data. It could be even further simplified
(I don't really see any reason for having two different sound queues), but
I seem to have reached a point of stability here and I don't want to jinx
it by making further changes yet.

svn-id: r13705
"
"84eb0101a777540d4652c0b9da6901863f91bbe2","2004-05-01 13:04:31+00:00","indent

svn-id: r13706
"
"72568a8b435dd0f91db564b564977790095f9c94","2004-05-01 13:16:45+00:00","Fix for [945497] Possible bug in midiparser_smf.cpp

Corrected Type 0 SMF compression to properly account
for command lengths when Running Status is being used.
Also increased buffer size for Type 0 output since
Running Status can result in the Type 0 output being
larger than the source data. Needs some more work,
but at least the Wyrmkeep people can keep going in
the meantime.

svn-id: r13707
"
"d46b68d7fe563303089567e8f092856d4108ad07","2004-05-01 13:19:15+00:00","indent

svn-id: r13708
"
"db5e659d0c965c4a32162100840fb3de0bfb0a75","2004-05-01 13:20:58+00:00","add some debug calls in the verify functions

svn-id: r13709
"
"273be948c07a696271a06ded93b670c7cffabb66","2004-05-01 13:48:01+00:00","indent

svn-id: r13710
"
"6f33b9225c296b5faa64794f8d68d70ccf19ff31","2004-05-01 14:00:53+00:00","unbreak change that prevented ite disk version from launching, add detection for win32 demo

svn-id: r13711
"
"e04312c0a56a875304dffec1a64b3fb40527e40d","2004-05-01 14:05:10+00:00","indent

svn-id: r13712
"
"3ad363a274ac767e5831bc0c69b8b89271aad3c7","2004-05-01 14:34:00+00:00","indent

svn-id: r13713
"
"d84d93b5d0709e95dec412fe8c9b4e5c2dfa9e2e","2004-05-01 15:08:20+00:00","Fix IHNM hang

svn-id: r13714
"
"0af53f3c97075e380aab15bcc8dd7126b05bd9c4","2004-05-01 16:15:55+00:00","indent

svn-id: r13715
"
"da719908fe0003f8a87eb9b09f41e8aa8fff3975","2004-05-01 16:23:54+00:00","indent

svn-id: r13716
"
"4d6b9206b937ab3cde2d8834457dc5b173fc1fff","2004-05-01 16:24:39+00:00","fix warning

svn-id: r13717
"
"e0600f4308e250906b2ab0cd1a947f804a5f92e6","2004-05-01 16:27:20+00:00","update

svn-id: r13718
"
"3ebb895e9a071d4d4363e774ee9831620de2017f","2004-05-01 16:42:58+00:00","Doubled the buffer size to prevent crashes with the Inherit the Earth
MIDIs. This is a temporary fix - Jamieson630 said something about making a
better fix later - but it will have to do for now.

svn-id: r13719
"
"4110aeb5d5c671cf6710802b8c405e65be757622","2004-05-01 16:49:23+00:00","With Jamieson630's MIDI parser fix, all the ITE MIDIs should work.

svn-id: r13720
"
"0b86e3e69cdf9361681eb8ef7bf3644882ad199a","2004-05-01 18:36:13+00:00","- update names
- remove nonused access to atributes sequence in comi

svn-id: r13721
"
"78f2d348253c69180f00221caad0566a09d69345","2004-05-01 18:53:03+00:00","remove useless mutex

svn-id: r13722
"
"c0772498b6d2351ed2f3c2ba308d0bbda84b7cb0","2004-05-01 19:41:47+00:00","All graphics and input now is in OSystem.
Only timers left.

svn-id: r13723
"
"66876dc1d12802b6d2339df2a31d010e55f3d700","2004-05-01 23:42:22+00:00","Proper #includes everywhere
Improved game detector

svn-id: r13724
"
"0765b272aef169411df8fc1a17d4a5f28f76bf8a","2004-05-01 23:46:23+00:00","Renamed files for consistency

svn-id: r13725
"
"90a876798ae05b865c25a8ee98f20d1695315984","2004-05-02 00:00:39+00:00","Merged sysgfx.cpp and gfx.cpp to gfx.cpp

svn-id: r13726
"
"6722103aa80e45d686488d149f9c2debebd92be9","2004-05-02 00:06:34+00:00","Removed last sys* file

svn-id: r13727
"
"64485a9314e49a7f4da2fffe957c1910edf71642","2004-05-02 01:39:14+00:00","use features so ihnm doesn't default to 1280x960, change over some of the timer stuff to osystem not yet finished

svn-id: r13728
"
"88ac74992ca66d561d8770a73bbaaaca5977817e","2004-05-02 02:11:55+00:00","get rid of the last bits of SDL timer usage, SAGA should now be 100% OSystem

svn-id: r13729
"
"15153bafc501091d8f3f3b8fb7bedf7a402997f0","2004-05-02 02:46:41+00:00","add some SAGA todo items

svn-id: r13730
"
"13445e3a20a8d0a2544b34f7ff7eed1a8fc991a8","2004-05-02 06:51:09+00:00","Add some SAGA TODO items

svn-id: r13731
"
"96d1c5c44e6e9d68c347fa583ea090d9e7e8b96c","2004-05-02 07:14:17+00:00","Some more SAGA items

svn-id: r13732
"
"805b1f8e0d6c5dfbf1b43e13a4cfce14ddaff102","2004-05-02 10:04:57+00:00","update

svn-id: r13733
"
"cdc73249519ccc391ff26c85dbfda02664ba94f1","2004-05-02 10:07:59+00:00","stub for digital imuse save/load

svn-id: r13734
"
"b877df6da444b114376a56776cc6d6e25748cb20","2004-05-02 11:49:08+00:00","added some save/load code (in progress)

svn-id: r13735
"
"24ccdb85e945463eeb29940c55b3c28094c35a7c","2004-05-02 11:53:10+00:00","ops

svn-id: r13736
"
"054acfbbd38771fb78f58754d6c7ee593a910cbf","2004-05-02 12:20:55+00:00","added rest of save/load code

svn-id: r13737
"
"8bdab25b7a5d8be475ff2166eae1384910e03c96","2004-05-02 12:23:51+00:00","ops

svn-id: r13738
"
"351eaff3296c1975ef97d86319f72226fbb19fc1","2004-05-02 12:46:01+00:00","start only used tracks

svn-id: r13739
"
"6c682fcfba4d073478d3ed02b1014a4358946cc3","2004-05-02 12:52:19+00:00","fixed two arrays

svn-id: r13740
"
"7701fece201fe89e0e710924b2de59228bbc7e88","2004-05-02 13:06:40+00:00","disabled reset state while change bundle disks

svn-id: r13741
"
"8c6f3ddc0a1a58954ac1f9f7a4c0c7c8aaa49bc3","2004-05-02 13:15:33+00:00","changed from int to int32 to be sure

svn-id: r13742
"
"ffb842c0269368b9bcbbc80f688502471826474b","2004-05-02 13:17:02+00:00","this too

svn-id: r13743
"
"7b9f508729311977ab2e594911c74d7cddcfb4be","2004-05-02 13:54:05+00:00","This fixes bug #917427, a masking problem, hopefully without causing any
regressions.

What the patch does is to make sure to check all layers when masking a
sprite, since it's possible that it's being masked by several layers at the
same time. The old code simply picked the first masking layer.

svn-id: r13744
"
"f6b8830158f279c7dbee17a133ae9d1813ee4703","2004-05-02 13:58:57+00:00","forgot it

svn-id: r13745
"
"7da4eccb1d5297d528bb664ef0d55dae9d5e58f2","2004-05-02 14:03:21+00:00","enabled save/load code for imuse digital

svn-id: r13746
"
"fb1b2efb49140da3ea90a3f4881cdf671da5ae23","2004-05-02 14:39:48+00:00","Applied my suggested fix for #933168, since I'm tired of waiting for
feedback. It *is* a bit of a hack, but it does emulate the old behaviour,
and we can always make a better fix later, if there is one.

svn-id: r13747
"
"67d82f23d80b6b7721636c57974a6b0ea13ee0a8","2004-05-02 15:44:19+00:00","Got rid of r_softcursor by having the backend always draw the cursor
instead. This fixes graphics glitches in at least ITE.

Got rid of r_fullscreen, which wasn't even used anymore anyway.

svn-id: r13748
"
"2617f36cb6f87c9fc05da4aebcc9fc343540eaf7","2004-05-02 15:59:06+00:00","Made the cursor work a bit better in IHNM.

svn-id: r13749
"
"86c055b7965f49c01a79e5ac750f79c07ef7da68","2004-05-02 16:32:28+00:00","Make sure cursor is always white

svn-id: r13750
"
"8e56e7b0bb47a30b64906d9d917514404132894b","2004-05-02 16:46:51+00:00","- fix for cuting voices in comi,
- fix for lipsync stuff (compromise append buffer ahead to sync position)

svn-id: r13753
"
"eec8b61b8d0d159fd65f0ced8c13e0446d9b661f","2004-05-02 17:48:30+00:00","tuned a little

svn-id: r13754
"
"151d92e8cd40afebe424f1d8494dcc9234e892ac","2004-05-02 22:33:28+00:00","Explain a bit what getSampleRateFromVOCRate() does; mark a hack in it more clearly; disable warning

svn-id: r13756
"
"ce03b7635fe70dc58587dd46b83191d4a334f2d3","2004-05-03 23:04:42+00:00","Fix LaTeX syntax

svn-id: r13768
"
"51801dc503f045dd6a79211db7696202fe978e7e","2004-05-03 23:06:57+00:00","Started work on moving from ys_read/write to MemoryReadStream

svn-id: r13769
"
"f7f485464d1d600ef33adea44f2d0c92abe37c16","2004-05-03 23:08:22+00:00","Well, now we use MemoryReadStream at least in SAGA engine.
Concept proved itself to be elegant and successful

svn-id: r13770
"
"5de55d2dfa82c31e330d5b9d8b5f4cbd4c395634","2004-05-03 23:12:59+00:00","indent

svn-id: r13771
"
"b9ebd68022f5614b0db6b30d8494062e911a8cc5","2004-05-04 03:27:00+00:00","Enchance ReadStream and MemoryReadStream with 24bits operations as well
as tell() and rewind() methods, as needed by SAGA engine.

svn-id: r13772
"
"8de181f4f0b6f974016eaee6ec238bbdfb5ded2f","2004-05-04 03:33:03+00:00","Move from ys_binread.cpp and ys_binwrite.cpp to MemoryReadStream.
In fact there were no binary writes at all.

svn-id: r13773
"
"163dc349b6c9110cfb497266b246b9b8806a7012","2004-05-04 14:56:47+00:00","Fix insane regression.

svn-id: r13774
"
"5d0f0ea0c6afd7defaba3df69b39879a63256776","2004-05-05 01:19:42+00:00","Added generic variable size stack class - COMPLETELY UNTESTED. Really should add some unit tests for this...

svn-id: r13776
"
"b7e62e4b61c7552fa91c9dbdd9273b620d7f876b","2004-05-05 02:32:46+00:00","Extend setMouseCursor with additional keycolor parameter. Lets saga use 255
as white color. Made this function more safe by copying cursor data to
newly created buffer.

svn-id: r13777
"
"5a5e6ba8680b5642f648431ce1fcd932f151a3b4","2004-05-05 02:35:33+00:00","Now cursor is really always shown.

svn-id: r13778
"
"6c38484c1a4b0932b331e6f83d067bfa9f1cc556","2004-05-05 06:56:01+00:00","workaround warning - fixme

svn-id: r13779
"
"42ba9c983f01cad3378c734e602f5e33c6c01382","2004-05-05 06:57:56+00:00","update

svn-id: r13780
"
"5882ea5819563aa1c381a96e736bc3be85bb2b17","2004-05-05 07:06:18+00:00","Cleanup.

Part of this cleanup involved removing _unpauseZone. It was only used by
fnISpeak(), and as far as I could tell it was just because the original
code didn't trust amISpeaking() and getSpeechStatus() to return sensible
values directly after unpausing the game.

svn-id: r13781
"
"06002009806a770198c7e228f8b3e0203439b17d","2004-05-05 07:22:35+00:00","Take advantage of the changes in the backend's mouse cursor handling. It
didn't do the change I was hoping for: the coyote stone is still partially
see-through, but perhaps it was in the original as well.

At least we no longer need to keep the buffer the mouse cursor is decoded
to, since that's now handled by the backend.

svn-id: r13782
"
"e29ec6e79c325bcea2c95ecbfeb3a64c80a30630","2004-05-05 07:25:32+00:00","adding initial code for Another World engine

svn-id: r13783
"
"b8bac5f208d38eabe55055887324ee258ee8d291","2004-05-05 09:08:04+00:00","mention fmtowns platform option in help

svn-id: r13784
"
"97a632e58ec9613882071ffeeac9b86e5f51c04b","2004-05-05 09:09:10+00:00","mention fmtowns platform option

svn-id: r13785
"
"0f57499cb1e7e30fdb5c88cfdb430d53ac43d86a","2004-05-05 10:15:02+00:00","When you make changes to the README, please don't forget to update the TeX docs, too

svn-id: r13786
"
"90cced2a5b65da7810694a118a1633dad439fb2a","2004-05-05 10:58:07+00:00","Remove odd sample rate hack (for DOTT demo); instead, be slightly less strict about VOC headers, since DOTT demo (and maybe others) use buggy VOC headers

svn-id: r13787
"
"95ae1896c2281bd27c7c83eef68626ac42883c82","2004-05-05 11:07:25+00:00","When you make changes to the README, please don't forget to update the man page, too. As an aside if we have the  TeX doc can't we remove the manual from the README now?

svn-id: r13788
"
"edf48a8473bbe8ddfff62a869802e9049fb6a721","2004-05-05 11:52:02+00:00","Added file

svn-id: r13789
"
"4102a3b13f1455ddfd7e8b17e4f8f1bd1e14f0c2","2004-05-05 12:05:00+00:00","Removed data_dir, since it wasn't used.

svn-id: r13790
"
"148872d1fd622092cb7975d414bb6f161d0801ef","2004-05-05 13:05:45+00:00","Replaced R_printf() with debug() and warning(). There are still a couple of
standard printf()s left, though.

svn-id: r13791
"
"0637bb70a7db21e5c2db49d09ec878cfc0c900db","2004-05-05 18:03:41+00:00","make use of OSystem::setMouseCursor() change

svn-id: r13792
"
"71df4c5e726deca772faef6993327bad360ddc29","2004-05-05 23:06:44+00:00","Cleaned up console code a bit - wrap around logic needs work

svn-id: r13793
"
"83cd0002076f1c45eb2b6e8c1c484961eb7eadcb","2004-05-05 23:08:30+00:00","Maybe this change will cure one of erik's two console bug reports (namely #941811). Maybe not

svn-id: r13794
"
"bd19811d19023f172152e4ef59b49e9358f9a5d0","2004-05-06 00:25:18+00:00","Get rid of mouse transparancy hack

svn-id: r13795
"
"88fdb5a6274c8e4a832daaf7de00ba275e7d895e","2004-05-06 09:20:21+00:00","Removed default value for keycolor in the OSystem implementations

svn-id: r13796
"
"ee94e81392b7da14459e6d9a0f1e0c31bff948c2","2004-05-06 09:58:48+00:00","Fixed & cleaned up common rules; this fixes the convenience target when doing a plugins build; and also fixes a bug which could cause plugins to be built against an old version of the main executable

svn-id: r13797
"
"e78421b66c7b608b767d9b4579466fed989b83c6","2004-05-06 10:07:17+00:00","Fix bug #910216

svn-id: r13798
"
"fe2f4382fbd97b40aaddf7bf470ec2a24b004ac5","2004-05-06 10:31:01+00:00","Clean up all tmps on mingw

svn-id: r13799
"
"6d02fd9d74a759325ae2148a014383d1a107ad28","2004-05-06 10:34:41+00:00","Reverted the last commit (on this file only) because it broke compilation
of gui/browser.cpp. Besides, it didn't seem to have anything to do with
keycolor in OSystem. :-)

svn-id: r13801
"
"701bd797b72ba3f163f3250ac2bfae2323153ab7","2004-05-07 06:54:47+00:00","Only access VAR_VOICE_MODE if there actually is one.

svn-id: r13802
"
"b672cf26fbe1dd1bcfaaacd7d300b8eb82b6fde7","2004-05-07 07:32:17+00:00","increase a little limit for better lipsync

svn-id: r13803
"
"628a4cb3c35ba908bed3b21d38de1b7320dcbfb0","2004-05-07 07:33:10+00:00","Simpler check

svn-id: r13804
"
"8d86693893a8a7492f4cf613792768139ab226d8","2004-05-07 07:40:37+00:00","forgot to remove

svn-id: r13805
"
"afb91fc184a141e23445368a7493e1d4ae19562d","2004-05-07 19:56:19+00:00","Cleanup.

svn-id: r13806
"
"011173f18c0d32f63b76222105880cd67dc3f2d2","2004-05-08 10:47:56+00:00","IRIX doesn't need ranlib - made it a nop.
Also write into correct variable

svn-id: r13807
"
"7804b57632e3e4eb57971f2a95fa873ef11866ea","2004-05-08 19:34:06+00:00","Added default iterator constructor, for convenience

svn-id: r13808
"
"f74a675850be9aa7066e491bffac88c9595477d2","2004-05-09 13:12:19+00:00","removed awe based on Endy statement

svn-id: r13809
"
"ed9bac56b00e5a9f81588c5436a473c95a39cf6d","2004-05-09 13:20:12+00:00","My recent sound changes broke 'restart'. This should un-break it again.

svn-id: r13810
"
"577600537c2e3cfdacb4e53ccfdab7e06b55a0ed","2004-05-09 13:24:07+00:00","When drawing lines and points, mark the corresponding screen area as dirty
so that it gets properly redrawn. Only the debugging code uses these
drawing primitives, so it's no big deal, but it's still the right thing to
do.

svn-id: r13811
"
"fc970b3c75fd64f399a4c22222d7e295825184c9","2004-05-09 13:32:04+00:00","Removed the buffering of mouse and keyboard events. I don't think any of
our other engines do this, so there is little reason for BS2 to. I did add
a filtering mechanism so that mouse button releases and scroll wheeling is
ignored during normal gameplay, but I don't know if that was necessary
either.

Since this left little more than an empty husk where the Input class used
to be, I've eliminated that class and buried its remains in Sword2Engine.

svn-id: r13812
"
"9e4c641de1faf3c040d1158912ba25062e05cb42","2004-05-09 13:40:39+00:00","Forgot to remove this file when I changed input handling.

svn-id: r13813
"
"30cea15d24a4f7d2f4f97ec29fb0d6fb34217d51","2004-05-09 14:22:10+00:00","Update project files

svn-id: r13814
"
"ab9598e2f56c62be37584e515d18296fe40730c7","2004-05-09 14:26:01+00:00","Config sample switch for WinCE

svn-id: r13815
"
"5d81e3b7856d28e0d881ff04bd7e1c1d7ac71ab1","2004-05-09 14:27:53+00:00","Tweak SDL init for WinCE backend

svn-id: r13816
"
"4fdf5675b8d46640e0c3b8e3db5549bfdad642eb","2004-05-09 14:30:29+00:00","Make a few functions GFX functions virtual for CE backend

svn-id: r13817
"
"300cd8c4111d8414ac2d9ff9cb24360624706368","2004-05-09 14:33:24+00:00","Switched to EventsBuffer for Smartphones

svn-id: r13818
"
"abda73a874edf55c8774f00cd8a0091931c2c625","2004-05-09 14:34:47+00:00","Goodbye KeysBuffer, hello EventsBuffer

svn-id: r13819
"
"6519c89180e67515a81eb2f3850b468d375884ba","2004-05-09 14:38:47+00:00","Tiny virtual keys changes

svn-id: r13820
"
"a533dde2e7dfae78fa7bab2a5218bab8c5a4e267","2004-05-09 14:46:29+00:00","Remove unused action

svn-id: r13821
"
"c21f38bc009d1517b1b917603919bb23f3802b2a","2004-05-09 14:47:26+00:00","Switch to EventsBuffer

svn-id: r13822
"
"03956df17f7f2efc3474c3ca29ea64475e5348b2","2004-05-09 14:48:59+00:00","Add warning for unresolved conflicts

svn-id: r13823
"
"b3ed0f2029538ee66505f8490efd84deb202058e","2004-05-09 14:51:08+00:00","Add Zoom scaler and Smartphone scaler

svn-id: r13824
"
"659b84633a1f01f8804a12fe2e4b286dfde363c0","2004-05-09 14:53:05+00:00","Remove GAPI hardware keys which is handled by SDL now

svn-id: r13825
"
"17c58019e1e772c9811862d31e2c2c348589410d","2004-05-09 14:54:02+00:00","Fix key mapping

svn-id: r13826
"
"69da998a659116b94968c4b4bed68621a222b15e","2004-05-09 14:57:04+00:00","Separate PocketPC/Smartphone actions

svn-id: r13827
"
"d075856d5d47834daa27981bd6ea8f33ae928f64","2004-05-09 15:02:10+00:00","Synch with branch and Smartphone changes (Smartphone build not ready yet, but getting ready slowly)

svn-id: r13828
"
"1bf82eb6244fcec178a444997f43d4e1b0185bca","2004-05-09 15:22:04+00:00","Do not delete pseudo stdout/stderr if debugging was requested

svn-id: r13829
"
"9742985e50662ba0ea07c5898a8b4e324811bd4a","2004-05-10 07:10:28+00:00","Fixed typo.

svn-id: r13830
"
"1189083fe0e6c4f8fc486c37b6a978bb8660a435","2004-05-10 07:11:40+00:00","Close menus before restarting. (This is a purely cosmetical fix.)

svn-id: r13831
"
"576e2986dd2453bc46567a40a4f84df369a3cfcd","2004-05-11 06:23:51+00:00","back to old method

svn-id: r13832
"
"d40de10534c5f69c9aa49a9fcffe1d6e6dca7d88","2004-05-12 06:21:44+00:00","Some usability fixes to the control panel code:

* Draw a blinking cursor when typing savegame names. (Bug #908679)

* Number the savegame slots. At the moment they are numbered differently
than in BS2 in that they start on 1 instead of 0. As far as I recall,
this was the case with the original engine as well, but we may want to
reconsider.

* Added scroll wheel support. This wasn't in the original, but it's a nice
thing to have. Particularly since the scroll buttons don't repeat. (It
would be nice if they did.)

I would like this patch to be considered for 0.6.1, if there aren't any
obvious problems with it.

svn-id: r13833
"
"3f884a0d5a7f423b9d62a28df94503286f437f1f","2004-05-12 17:00:18+00:00","Updated Broken Sword 1 section.

svn-id: r13834
"
"1b78dc468fe249fe22cad149ab5b04c27a644464","2004-05-13 01:41:23+00:00","Added more stubs from script fucntions, some renames for consistency with
disassembly.

svn-id: r13835
"
"14cc9b6e3ea881e6b7f61259af102f559aa64272","2004-05-13 19:33:24+00:00","fix warning

svn-id: r13836
"
"cd229dc57a0643015b743554de7c62659881f220","2004-05-14 02:25:36+00:00","Revamp static actor data. Add missed fields and reformat table.

svn-id: r13837
"
"f7a06d2d54492dfb322143b31dbb2262b45b4aab","2004-05-15 01:14:35+00:00","COMI demo doesn't auto set this var.

svn-id: r13838
"
"c51d9fba0859c735a65b4fa505acdd0fbbffa617","2004-05-16 12:57:49+00:00","Cleaned up the handling of external MIDI files, and added the missing ones.
This is based on experimentation and guesswork, so it might be wrong, but
it will have to do for now.

svn-id: r13839
"
"9ec42ab9a7d79cc392a48283d205fa2d24c8cb1d","2004-05-17 16:11:04+00:00","Added support for using the separate VOC file (P2_A.VOC) from the Wyrmkeep
release of ITE. The code is a bit rough, and there's a nasty 'pop' at the
beginning of the sound (and a smaller one at the end), but it's a start.

It's a shame that the sound is of such low quality: lower sample rate, and
8 bits instead of 16. Perhaps it was extracted from the floppy version?

svn-id: r13840
"
"b76b52913e2d54d9dd00c748fc0ee329fd5e7dc9","2004-05-18 09:32:35+00:00","Drop unneeded fields

svn-id: r13841
"
"50e4aafc9d32bb2e895a8ac015bb99356e932331","2004-05-18 09:44:19+00:00","Update TMs.

svn-id: r13842
"
"5464e0951bf5145faa6f4dbe54d012da2364ce27","2004-05-21 01:23:50+00:00","Some more actor struct renames to match disassembly

svn-id: r13843
"
"d33b24036e7a0753a6de8a416c5c649f7ba84180","2004-05-21 02:08:48+00:00","Added assembly versions of HQ2x and HQ3x scalers.

svn-id: r13844
"
"04f8cac775e8c380dd9fb76b473a77f1bfda0452","2004-05-21 17:06:18+00:00","update

svn-id: r13845
"
"6801dd2eef7e7a008f763294d0204014f8511fbe","2004-05-21 17:30:51+00:00","fixed mingw compilation

svn-id: r13846
"
"7a772513c54387141dbbff1a8f0c125d1a2b74e9","2004-05-21 17:43:16+00:00","Updated unit tests

svn-id: r13847
"
"cff4e1d49fd919dc8e0554beea930b02a7fcad90","2004-05-21 20:43:07+00:00","Tweaks (Morphos & Palm backends badly need updating :-/)

svn-id: r13848
"
"8b5f08efb6b50be0751d7cfa081b0329ac555f68","2004-05-23 14:06:52+00:00","Applied patch #956989 ('Varous console fixes'). Fingolfin said it looked
ok, and as far as I can tell it does fix bugs #941811 and #941814, just as
it promised.

svn-id: r13849
"
"4a93fa1421dba349320c9f2bc98ad9c8494b2fed","2004-05-23 19:16:35+00:00","we dont use more timers than 2

svn-id: r13850
"
"a26cfc8a382333998f15c2d4f9106b595b7d2ddc","2004-05-23 19:32:11+00:00","some optimisations in imuse digi

svn-id: r13851
"
"a6fd5a3fa9f472e4944355dae6b95e750a461b11","2004-05-23 19:44:10+00:00","ops

svn-id: r13852
"
"916dec37acda1328ca7120c7305790eeb5526012","2004-05-23 21:28:32+00:00","moved stacklock to allocSlot() from startSound(). there is no need lock track which is not yet used

svn-id: r13853
"
"0a54efa95b76962851101e8b011082de6934914e","2004-05-24 22:27:55+00:00","Updated MSVC6 projects

svn-id: r13854
"
"72ef08a1b6e2cba9d53fd14ae901ec33d8b9a03d","2004-05-25 12:55:40+00:00","New forms with tabs, updated menu, battery indicator (music & sound, misc options)

svn-id: r13855
"
"8e2d5ad56f5fe2faa3c3abd74e89607b7a4ad8e0","2004-05-25 12:57:53+00:00","Default (NULL) CD player

svn-id: r13856
"
"290ddb6f78b31291f3c14304b85870c1072c213b","2004-05-25 13:01:08+00:00","Revamped MSA CD player, now time is based on Sound Unit (SU). More compatible

svn-id: r13857
"
"ec282d0669316591ecd31a3e62e41bccc7e9900a","2004-05-25 13:06:38+00:00","Moved here

svn-id: r13858
"
"aecff97a43fed276afe25ff5e8251a8cff5513ab","2004-05-25 13:10:12+00:00","Moved to their own file

svn-id: r13859
"
"85575a51b02c35bdcac9030011d5622dfb8f16ae","2004-05-25 13:12:25+00:00","Moved DrawStatus here, revamped ARM call functions

svn-id: r13860
"
"feddf09742bf068aa81a92381d0bc35cff5f74ba","2004-05-25 13:13:20+00:00","Moved to compile.h

svn-id: r13861
"
"b284fa7d362f30c81a0abfcc803f28d1e1bbb6de","2004-05-25 13:15:33+00:00","Sony Pa1Lib bit mask, updated audio CD struct

svn-id: r13862
"
"3a1a4d451915711e5e3bdf02d14244fdbaa98f5e","2004-05-25 13:18:11+00:00","New Stdio initializer, added speech command support

svn-id: r13863
"
"baeba25ed3f6d52d2441757d37eef7497ad506ed","2004-05-25 13:20:22+00:00","Added Queen support, renamed files

svn-id: r13864
"
"7dcb1b76d90bcb96e83c1c60e5bd3cbccf7c61d3","2004-05-25 13:22:50+00:00","Updated form handlers

svn-id: r13865
"
"f29db9e03e272d555bf87ecbfaa187981585f647","2004-05-25 13:26:21+00:00","Removed, new version coming

svn-id: r13866
"
"df71bebd95645b948a89a80fedc5477272a0aec0","2004-05-25 13:33:31+00:00","Revamped [...]printf functions, may fix a bug with insane engine since %o was not supported, added more [...]printf functions. Now can easly be used with other projects

svn-id: r13867
"
"e228f9b55d66e491e35c28ebc71a0cf8a2e50c72","2004-05-25 13:36:02+00:00","New strtol function, bsearch now use system call, cleanup

svn-id: r13868
"
"2fd3e0ed8062f3b5748e5cbafbd5d3435fe725a0","2004-05-25 13:38:36+00:00","Cleanup, new strspn function

svn-id: r13869
"
"662ead7dcc78e594bcdb2888927c7ebccc97cda6","2004-05-25 13:39:50+00:00","Minor update

svn-id: r13870
"
"bbd13e5d91c04383cf63d3cd70517e6b4bae8e3b","2004-05-25 13:44:22+00:00","New ARM functions (sound, copyrect, wide display)

svn-id: r13871
"
"fc2eedaa37ca61172e6f5132599826deefe24817","2004-05-25 13:52:22+00:00","Now in the new Music & Sound form

svn-id: r13872
"
"9f40696ff337dff36e2d36ffe8c5258be3e6b47f","2004-05-25 13:53:59+00:00","Tabs manager

svn-id: r13873
"
"c6b29924652d261ac3fb1c8c7200c576ec219d3c","2004-05-25 13:56:11+00:00","Updated forms

svn-id: r13874
"
"d066a075980c4d9ee0b5544487f4b8e3f7a5ef14","2004-05-25 13:56:53+00:00","Use the new tabs manager

svn-id: r13875
"
"fc78794c94c522840356ed37846cc87ffd00e3b1","2004-05-25 13:58:12+00:00","New form including old music and volume form

svn-id: r13876
"
"429644d1a7b11f78da7e0565e42a75caa60091d8","2004-05-25 14:06:30+00:00","Added Queen support

svn-id: r13877
"
"b6f2b6fd531cbc4ee5035edb88729054dbf6fe41","2004-05-25 14:07:43+00:00","Updated

svn-id: r13878
"
"d08f952ca63cf3e4c72dc7c8c79ddc504247def9","2004-05-25 14:14:20+00:00","New file : Osystem overlay function only, overlay now only on storage memory

svn-id: r13879
"
"b9d56f4424e2ed30c3644c0fb8cff0f0b0eccc5e","2004-05-25 14:16:33+00:00","New file, sound support using Pa1Lib (bad) and Palm API

svn-id: r13880
"
"530fd01fa365f5f9fa35d193ccbe33d7d4a51ce9","2004-05-25 14:18:51+00:00","New file : OSystem mouse only, removed memory check using overlays

svn-id: r13881
"
"819bfde9cf90afee539b9b33b09c68c2e049cecb","2004-05-25 14:23:17+00:00","Sound FX support

svn-id: r13882
"
"30c851b3701ebcf3f490f8c0ec5b06e82defb462","2004-05-25 14:23:52+00:00","Forgot this one

svn-id: r13883
"
"9cfe68364e41a22ef4009de7acc3bcc8e40c24d2","2004-05-25 14:26:22+00:00","Removed obsolete options, added speech command and sound detection

svn-id: r13884
"
"fa80884b09b7d3a5a59ca9170a230623f8d383b1","2004-05-25 14:29:47+00:00","New file : OSystem event only, added hotswap gfx key, sleep/resume sound thread and battery handler

svn-id: r13885
"
"9db22d76bc9e3d979f47383ed4cb3f94462a53f8","2004-05-25 14:33:45+00:00","New file : OSystem gfx stuffs, added hotswap capability and new Osystem functions

svn-id: r13886
"
"e47ef7d49a72453e26276c9a1e62b25003dbc529","2004-05-25 14:42:13+00:00","Added battery handler and new OSystsem functions support, some parts were moved to new source files

svn-id: r13887
"
"66fd8f8658b9e0e8c742e3b00e816b27aa53aada","2004-05-25 14:44:02+00:00","New PalmOS includes

svn-id: r13888
"
"b06da5a81fddcb0fbf2842f6ffe93b6e8ef066ab","2004-05-25 14:58:33+00:00","ARM resources def

svn-id: r13889
"
"f66c9a36bc449c9c258e8428ef927102be6d2ca9","2004-05-25 15:02:00+00:00","New file : PalmOS renderer, updated 'buffered' now use PalmAPI only

svn-id: r13890
"
"b4f7ab7994bda2b0258b3b7853b661443af963c9","2004-05-25 15:03:24+00:00","Not yet supported

svn-id: r13891
"
"0e8cb3f9d22fa5d33351c53a2b3720ec9cadd0af","2004-05-25 15:06:03+00:00","Updated with lastest changes (PalmOS port is now up to date)

svn-id: r13892
"
"5edb86d6bd024d03c46a04a6bfc006f0ba11582e","2004-05-26 17:03:31+00:00","decreased usage of stack mutex locks for imuse digital

svn-id: r13893
"
"5c9fd89febb7660bd3f529eb6db5091a349750d6","2004-05-26 17:09:12+00:00","forgot it

svn-id: r13894
"
"126a8b91ca1947bf03525eb0112ad2f206493b60","2004-05-28 09:21:48+00:00","Added note about the updated AdvMame scalers, since AdvMame3x looks
noticeably nicer than before. (Of course that's subjective, but you try to
say that using only one line of text! :-)

svn-id: r13895
"
"ddc104d4efb6568405c58687172ac923b238576a","2004-05-28 14:42:49+00:00","Use the same volume and panning values when starting the sound as when
adjusting these values later. I don't know about the volume thing, but I've
noticed that new sounds would often play their first fraction of a second
in the right speaker only. This change should fix that.

svn-id: r13896
"
"b559e5e58fa269168c8f25a87a5965ad757db7d2","2004-05-28 20:46:50+00:00","apply mixer vol/pan at first time

svn-id: r13897
"
"b3feb1107e746aae5f9d5e9b6636d5ac92283787","2004-05-29 21:03:56+00:00","Remove slipped in underscores.

svn-id: r13898
"
"4ceb84c6430c2fa016259dc0717cce8f5e4b2bc9","2004-05-29 21:04:44+00:00","Extend midi music table.
Implement music looping.

svn-id: r13899
"
"37b311d628c29a9a52289075aec8d94ef3e87811","2004-05-30 12:30:29+00:00","Remove old savePath handling on WinCE

svn-id: r13900
"
"72b01684a7808347bd5a8e9a646cd032318606d4","2004-05-30 13:03:35+00:00","Remove unnecessary WinCE tweaks

svn-id: r13901
"
"ba2a4a48c425689cdddb63c65f6baea4c078c8ff","2004-05-30 13:13:36+00:00","Some constants for our new friend, Windows Mobile 2003 SE aka Ozone aka oops we broke GAPI

svn-id: r13902
"
"65949528d88221c6c3eb8305b0f48517d875c0ac","2004-05-30 13:15:02+00:00","Automatic severe crash reporting

svn-id: r13903
"
"055f9bf8647b842c69e435f672bfe3d7fd20778c","2004-05-30 13:24:51+00:00","Ozone tweaks (add virtual screen and infos) / Fix initial keyboard bug (Monkey 1 and 2)

svn-id: r13904
"
"b99ffd8faa62f2bf4a976f624a81058495f51dff","2004-05-30 13:30:29+00:00","Oops newline

svn-id: r13905
"
"7d1b755086d5bfbb7c3a0c9166e2dec7ed9cb3fe","2004-05-30 22:16:59+00:00","Applied patch submitted by cyx to bug #961365 (Assembly versions of HQ2x and HQ3x scalers), off-by-one error.

svn-id: r13906
"
"50b39e3095b1ddc0560b559dadb17947d436cbcd","2004-05-31 08:24:05+00:00","Added separate HE versioning.

svn-id: r13907
"
"f3014b9f4cbaf036271ea9ec9fa2b8010a38e723","2004-05-31 08:44:04+00:00","Add stub for HE o6_quitPauseRestart.

svn-id: r13908
"
"cddf02fc3253668174707dad515a8152f1c47460","2004-05-31 08:46:36+00:00","Make sure music is unloaded and the parser object deleted before starting a
new piece of music.

svn-id: r13909
"
"6dc0191e037a9103260fe7190d6eea4f8477ce84","2004-05-31 08:51:10+00:00","Make allNotesOff() also turn off all 'hanging notes'. Without this change,
I wasn't able to fully stop ITE's XMIDI music - there would always be a
couple of notes hanging even after unloading it. Apparently this music
doesn't use the 'active notes' mechanism at all, and I guess the ALSA
driver doesn't support the 'All Note Off' event.

I'm still not 100% sure this is the correct fix, but unless someone has any
better idea...

svn-id: r13910
"
"0552b10590d8af7466a0f4f2b41b3aed8d26c8d9","2004-05-31 08:56:49+00:00","Switch to _heversion

svn-id: r13911
"
"28e63617e10586511179a3d1bceff5b36e97bf4b","2004-05-31 08:59:11+00:00","Set _parser to NULL after deleting it. I don't know if it's necessary, but
it'll make me sleep easier at night, and I should have remembered to do it
before anyway.

svn-id: r13912
"
"4c8c01fa41ed04609310eebf259d277d9c153c85","2004-05-31 15:07:10+00:00","Forgot to commit

svn-id: r13913
"
"654099e7d658973b399b17b34a48eb805dcd5979","2004-06-01 06:38:36+00:00","Preliminary versions of HE opcodes kernelGetFunctions and
kernelSetFunctions. Somewhat buggy.

svn-id: r13914
"
"6c0f223440354fa0aa0df7b5378ccb4e2dd037f7","2004-06-01 08:37:57+00:00","HE games use slightly different E1 opcode
Move HE7 specific opcodes to he7, as requested.

svn-id: r13915
"
"60954319feada480d81dfce61e57028c56dba524","2004-06-01 17:56:33+00:00","minor changes

svn-id: r13916
"
"136c7593d2dfaebb8110fbd5107be239bd6857dd","2004-06-01 19:32:36+00:00","fix for imuse digi bug 952775

svn-id: r13917
"
"3f5c651551d134b45d78e60f9682611f8a7667d5","2004-06-01 20:22:48+00:00","better fix for unloaded sound resources in imuse digi

svn-id: r13918
"
"cd0c2dfdeb928d2f71da9bb7e941aedc17caf40b","2004-06-01 20:28:20+00:00","_allreadyInit was not initializedin smush player

svn-id: r13919
"
"6a314c99a97844d3250a9fbb51862d990522bb74","2004-06-01 20:59:14+00:00","Fix o6_writeFile.

svn-id: r13920
"
"ea4d26f04fd339eff4c84412ca36535c7bf28c5e","2004-06-01 22:06:05+00:00","(almost) fixed saving/loading images in fatty bears birthday

svn-id: r13921
"
"f897cafd3829962b01a74095a16663d166e22b56","2004-06-02 01:46:22+00:00","Update HE issues

svn-id: r13922
"
"86ad0e2b9f21e810cedc1b7d50bc9c6921faf866","2004-06-02 01:54:59+00:00","Increase debug level
Add error about NES MM been currently unsupported.

svn-id: r13923
"
"3632305c6c2f86cae41aea21aaab65df659296e5","2004-06-02 13:32:16+00:00","Ignore imuse control code in HE games
Add missing code for o6_stampobject (From diasm.)

svn-id: r13924
"
"d6aa0a47908b2f9bad74d3a334681ae37aef2079","2004-06-02 13:49:06+00:00","Remove old comment

svn-id: r13925
"
"2a34b9d5a1f7573621a0e3c352e790f8a102859c","2004-06-03 00:55:40+00:00","Phase 1 of move to _heversion use.

svn-id: r13926
"
"6be8956d2c253770ee1001838cd9d7019a58a5fc","2004-06-03 01:28:22+00:00","Phase 2 of switching HE to use _heversion. Now unneeded GID's are
eliminated.

svn-id: r13927
"
"39f49de6bb0a465561c3e5b5b8ad230218ab5f56","2004-06-04 17:29:26+00:00","handle long command strings better (see bug report 962828)

svn-id: r13928
"
"f873223284d3cddbf3e553a931d226bb669cb272","2004-06-05 00:54:48+00:00","Phase 3 of transition to _heversion.

svn-id: r13929
"
"9bfd778b54510f82f2447ee133ac9f782e01482c","2004-06-05 01:02:33+00:00","Needed for DOS HE games

svn-id: r13930
"
"33407c63d800035921d36e131508e1078cdf0d28","2004-06-05 02:20:40+00:00","Implement o7_readINI(), well, we pretend that we don't have .ini file.
Fix bug in stringLen() function.

svn-id: r13931
"
"faefc1fda182ba5eb0df1d63f0b1f6fde9bfe1e7","2004-06-05 02:43:12+00:00","oops

svn-id: r13932
"
"dac16f4f43b32adfdc7f08acb3605a5b0ad6c5f8","2004-06-05 10:28:42+00:00","Cleanup

svn-id: r13933
"
"fc2044f743400ceb3a2b913d29d7c2cf11b990e6","2004-06-05 11:12:51+00:00","Set graphics cursor before using it, fixes segfault when launching ihnm from the launcher. Fixes bug #966614

svn-id: r13934
"
"b8bc0d72e53579255a6149e205cc10a9233f2bcf","2004-06-05 12:02:36+00:00","Check if monkey sega cd sounds have already been demangled before trying to do demangle them.  Patch #959129 from Jonathan Gevaryahu

svn-id: r13935
"
"e356a4ccc37db1371620f98ec87248dc978c5795","2004-06-05 13:41:08+00:00","Allow dialogue options in the SegaCD version of Monkey Island to be cycled through with mousewheel. Closes RFE #953111

svn-id: r13936
"
"d39cf192db6680ebda0ed59ef4e453531006aaae","2004-06-05 15:14:19+00:00","explicity declare GF_WINDOWS on windows only HE games, list tags as strings not hex in some debugging messages

svn-id: r13937
"
"7b2a81a8a673493b829524c0189f4ced99cffc53","2004-06-06 02:20:53+00:00","o more _heversion usage
o hack to ensure 1x scaler is selected for 640x480 games. Begs for better
implementation
o 7.0+-specific extendions to
* resource loading
* o6_resourceRoutines
* o6_actorOps
* o7_pickupObject
* ScummEngine::setVerbObject

Now puttputt.w32 script execution advances little more.

svn-id: r13938
"
"2603446c0d2a15b0ac2702c9c025ba48182fc0b3","2004-06-06 02:36:44+00:00","oops. Fix resource loading for 6.x games

svn-id: r13939
"
"7765d6f6b367723adee267e84ef9d7d8d61903cc","2004-06-06 04:55:33+00:00","ActorOps case 219 exists in earlier HE games too.

svn-id: r13940
"
"cbbfc34e0a258e0067d0f23030d344f5bef1f35d","2004-06-06 05:20:52+00:00","puttdemo doesn't need HE specific opcodes.
actorOps case 225 isn't need for HE, was left over from scumm6.
No need to check for invalid cases, since earlier HE game didn't use those cases.

svn-id: r13941
"
"ccac679431a7d49e3e6364a833bc92b8b0fb98a4","2004-06-06 06:09:21+00:00","Ooops, kept wrong line.

svn-id: r13942
"
"29f03f0d9c09572d8b37d3efc1cf34be7f149d16","2004-06-06 11:10:47+00:00","verbOps differences are minor, so merge back in.

svn-id: r13943
"
"c9c56d2f7242b02e9b23217dfcd1c657f9811ea0","2004-06-06 15:40:31+00:00","Cleaned up sprite scaling.

svn-id: r13944
"
"4f8cb1d514c691b041d05dd8b1a7ae3284edbbb2","2004-06-07 00:26:08+00:00","7.0+ HE games have additional indexes. So read it.

svn-id: r13945
"
"78404c30d4a6d9b790b80c9318d14a6a1c84380f","2004-06-07 05:57:00+00:00","Added comment.

svn-id: r13946
"
"7e70c86870cf72e73aeb5a099f575ca01a9eed5b","2004-06-08 06:53:35+00:00","Added a few comments, rewrote a few others, and added a couple of assert()s

svn-id: r13947
"
"51b373eb6fdcbc6af2bc606341c92cd645c56096","2004-06-09 06:30:49+00:00","Fixed a typo in a comment.

svn-id: r13948
"
"0426d38aa599d554bd63c4053c6990356a62b71e","2004-06-09 06:33:29+00:00","Cleaned up the palette handling a bit. Renamed _palCopy to _palette since I
found the old name misleading (there is only one array that stores the
palette in the engine, though it could be argued that it's a copy of the
one used by the backend), and removed some code that I'm almost certain was
never used. (I've added assert()s to trigger in the cases where it would
have been used.)

svn-id: r13949
"
"c63cc7c7d12826a5e3d5607ddef32e05f9e2a998","2004-06-10 06:14:07+00:00","One of my not-so-recent cleanups caused BS2 to produce corrupt savegames.
And no one even noticed! Should be fixed now.

svn-id: r13950
"
"0d193e87ce9fd590ab6e87e098776b8caac77635","2004-06-10 06:33:11+00:00","Added another assert(). I'm hunting - unsuccessfully so far - for a
reproducable crash where an invalid pointer is decoded. Strangely, I never
saw it being encoded... Oh well, I'll find it eventually.

svn-id: r13951
"
"dabb32ce1ac3ffd961c2cb222d6f48e4e29f6356","2004-06-10 06:41:08+00:00","Some more work on the - still disabled - 'right click to clear luggage'
code I added some time ago.

svn-id: r13952
"
"3c70f5a85c6619d60d1f58b821c5cc3fd866ce74","2004-06-10 06:48:50+00:00","If the 'time' parameter to displayMsg() is 0, wait until the user clicks
or presses a button. This is how displayMsg() was always used, so the only
difference is that the code to check for events is no longer outside the
function.

In the process, it turned out that removeMsg() was probably unnecessary so
I have removed it. May cause regressions, but we can deal with them later.

svn-id: r13953
"
"13024364b73c1f34963287b3648b895729633192","2004-06-11 06:37:50+00:00","Fixed a regression caused by my recent cleanup. This one would cause the
game to crash shortly after Andr shows you the coyote stone. More
precisely, when the camera view shifts from the close-up of the
conversation back to the normal view of the caf.

For those who enjoy reading commit messages, this was the crash I was
hunting for yesterday.

svn-id: r13954
"
"93d26c0bd159c21a18a05f1d384f26339878955b","2004-06-11 06:38:45+00:00","Hopefully fixed the displayMsg() fade-up glitch I accidentally introduced
yesterday.

svn-id: r13955
"
"e554f46f71bb478def84544574e6c5ed8a801d5c","2004-06-12 09:53:45+00:00","Cleanup

svn-id: r13956
"
"a15f20535f5be44c0f8563ccc43403409abfad33","2004-06-13 20:00:46+00:00","Applied my suggested fix for bug #960674, now that Fingolfin has had the
chance to look at it.

svn-id: r13957
"
"3da9e2d21ea4eaf143b59d058e4840222e2577c4","2004-06-14 07:23:59+00:00","The 'Fatty Bear's Birthday Surprise' demo didn't erase subtitles properly
during the black-and-white 'Alfred Hitchcock Presents' style part of the
intro. I think this is the correct fix for it, but I could be wrong...

svn-id: r13958
"
"a7d7e6eb7adf660cf7c98ba955c410024050853e","2004-06-17 06:46:18+00:00","Itsy-bitsy cleanup.

svn-id: r13959
"
"726ac17b6ebcad268f6c8c7a88090a9081cb82ee","2004-06-19 14:41:04+00:00","experimental fix for expired sounds

svn-id: r13963
"
"eb867d6d3d6afce460ef56fed5c1cd06df8e8211","2004-06-19 14:54:13+00:00","removed unused code

svn-id: r13964
"
"212a451b1aa6b1a865c8af1112113ce4fdd21b9a","2004-06-19 15:05:18+00:00","correct for last commit, changed dummy reads to seek

svn-id: r13965
"
"22048dca5864e10dc00e69432d2cc96cbdb10b71","2004-06-19 15:17:50+00:00","that was very bad

svn-id: r13966
"
"f5c8c6664233c1f013322d69dbf9fad4d7651d84","2004-06-19 16:00:11+00:00","chnaged fps in imuse digi to dynamic param

svn-id: r13967
"
"4b9aa09f03ec16179c2f74dc8c6b8735e9f1fd74","2004-06-19 17:22:18+00:00","moved a bit

svn-id: r13968
"
"8f1191b3792ed777e7d6ea7c137b65987a556b2e","2004-06-19 17:48:06+00:00","some optimisations

svn-id: r13969
"
"b6ce351f6d65309175f53182be4c3d97f3ce3e62","2004-06-20 13:19:22+00:00","fix for not finding sample

svn-id: r13970
"
"3fd30cda0cf4c87475963058a3a6329edc7fc521","2004-06-20 14:47:14+00:00","Didn't need to split it after all.

svn-id: r13973
"
"83d4d9058ec17d6c51e07c498b09b3dfe72fabe3","2004-06-20 15:28:11+00:00","trackOffset is obsolote, added few debugs, added flush sounds while smush plying to prevent overload tracks

svn-id: r13974
"
"92fce3fa4955fde4999943e4d251148bff988d7f","2004-06-20 15:32:46+00:00","i wanted 16 not 24

svn-id: r13975
"
"24f5130de24ac7528a911153b7263819a3865888","2004-06-20 15:58:28+00:00","better check if track is used

svn-id: r13976
"
"8a685092d22dd3bd13165b9225e0219b7fc9a6c6","2004-06-20 16:38:28+00:00","moved sound calls to the same smush thread with others sounds

svn-id: r13977
"
"dcc12aa49f5c0e2b36ee49a6f8ec2a2643e302af","2004-06-20 18:36:10+00:00","stop track after stream is reach end

svn-id: r13978
"
"38ed122c9595a7475bc4020f40c8a4bea31a16d2","2004-06-20 18:48:17+00:00","what was that ?

svn-id: r13980
"
"dad34825008fdcebd0ae869cfaea13dfda5fcaa7","2004-06-20 19:19:53+00:00","Fix compilation

svn-id: r13981
"
"ce0e71dd1c3a3c0577695ccb19d619064a90522a","2004-06-20 19:23:04+00:00","now it should be in cvs

svn-id: r13982
"
"af3d1237300c983da6733e0ff118414d7883367e","2004-06-20 20:13:01+00:00","added exception for insane sounds to prevent deadlock

svn-id: r13983
"
"6268fdae257d0682d5b20fc379ec059b6d46088a","2004-06-20 20:19:09+00:00","missed changes

svn-id: r13984
"
"80216dc6d672e7a8d65496971b3adb3ae308192b","2004-06-20 20:54:18+00:00","Rewrote 3DO graphics decoders to more C-like syntax.

svn-id: r13985
"
"8b789937c6d02f7043ab5d490ebf9a7baae9aae9","2004-06-20 21:01:32+00:00","changed check to _insaneRunning

svn-id: r13986
"
"0b911df179306805f5e66e0405dcebe221779eec","2004-06-20 21:18:51+00:00","Mention HE fixes

svn-id: r13987
"
"02376854734790b17026a2836294e8f0111d2f40","2004-06-21 02:09:50+00:00","disable alt-x and ctrl-z quit keys in favour of ctrl-q on non Mac OS X unices (including Linux) for consistency with other applications

svn-id: r13989
"
"fce2762f2906e332c9cc3922642174c4931afa8b","2004-06-21 02:33:23+00:00","Add some missing code

svn-id: r13990
"
"416b9b2ab42f681dce67ef0ab91725a47b8cdc35","2004-06-21 05:31:51+00:00","fixed status of sounds for stream2

svn-id: r13991
"
"b44caf2c17768e968cd87a6a7aef49fb1fbf50d1","2004-06-21 05:43:29+00:00","Leave as warning for now

svn-id: r13992
"
"fdb2c41cdda7fa83856bf8654262387fe5776680","2004-06-21 06:59:24+00:00","increased audio buffer to solve scuttering problems

svn-id: r13993
"
"69ab14e1334d12df6c7cb41867f78d142a90c087","2004-06-21 10:06:52+00:00","More HE v7.0+ resource fixes.
Make puttdemo.win runnable again.

svn-id: r13994
"
"6fe5eca422cc7bd2e94652228ced9b0fb23c7df6","2004-06-21 10:23:26+00:00","Update

svn-id: r13996
"
"8c14139a3383a4b6581ffe434d8f80cafab1feff","2004-06-21 19:04:48+00:00","call imuse directly

svn-id: r13997
"
"5ce27765af27afebefbe0088d2fdd980e7dccc3a","2004-06-21 19:37:54+00:00","dont wait for end of stream while playing insane

svn-id: r13998
"
"7989a9895252935ab8bcb0740f7ea82301006c60","2004-06-22 10:39:46+00:00","Add FBEAR: Partial fix for the piano, patch #977249

svn-id: r13999
"
"31970a78776de8803ef00f45d75313035683fe49","2004-06-22 10:43:00+00:00","compilation fix from Nicolas Joly, bug #976657

svn-id: r14000
"
"2cd355107e6c83503130b1ad8c63afa9dd4ef2a0","2004-06-22 13:52:39+00:00","HE v7.0+ resources finally fixed

svn-id: r14001
"
"a350fcda0d02806a0593d556745e16226543eaa0","2004-06-22 23:52:31+00:00","Implement 24-bit read from memory functions

svn-id: r14002
"
"2e0814514c346cc3c7bf091131dce91f99473810","2004-06-23 01:36:57+00:00","HE 7.0 fixes

o Stub for o7_startSound
o graphics decoders
o findResource was moved to ScummEngine and extended
o 7.0+ titles use akos costumes, so fix that in launcher
o more o6_resourceRoutines stubs

Now HE 7.0 games (first 320x200 windows ports) show intros and some are
playable to some extent.

svn-id: r14003
"
"a7e85cab1a0f09782328c63ee22607936de58f28","2004-06-23 01:47:34+00:00","oops. Forgot to remove debug output and rename resource type.

svn-id: r14004
"
"53a0eb87f133e97fc490e857906fb6e2df4a83f3","2004-06-23 02:14:19+00:00","Fixed recognition of command-line --platform option

svn-id: r14005
"
"7d6f56ed48d021a9b13a4a5ffbb274c8eeef3722","2004-06-23 02:21:10+00:00","Enable some sound support in HE7 games.

svn-id: r14006
"
"fe146617e684ec50ea9b119776d436e7e7c2f2bf","2004-06-23 03:16:04+00:00","Fixed FT, so battles are not so ridiculously easy as before. Now match original

svn-id: r14007
"
"c7f06142a00a625c1f3bfe76bdc2b5429ba2cdc3","2004-06-23 07:45:28+00:00","use the correct transparency colour for akos codec 16 with hev7

svn-id: r14009
"
"9cc7594384eabde62624d5fcda82605e5e66c5c4","2004-06-23 09:13:25+00:00","Remove HE7 check that wasn't needed and caused resource load failures.
Enable startSound code in HE7 games.
Avoid loading music resources in HE7 games, since they are unsupported at the moment.

svn-id: r14010
"
"04d4f7fca108fecf960f10828204c2baa72db837","2004-06-23 09:48:27+00:00","Fix room changing in HE7 games.

svn-id: r14011
"
"918858ebcef46aea0e90ef32a9a4eae0c76b0448","2004-06-23 09:59:14+00:00","Positive values are only used in DOS version of fbear.

svn-id: r14012
"
"3744c9f772f61b505e46d698540bd750a3fb4c3d","2004-06-23 10:08:20+00:00","fbear always uses a transparency colour of 5 in codec 16

svn-id: r14013
"
"86af05599b1918d1ea61be2756e374c1b6769f0a","2004-06-23 10:18:19+00:00","this still needs to be sorted out properly but it seems the majority of cases use 0 not 255 need to distinguish which in future...

svn-id: r14014
"
"55ad317aadb2660c20a5af3262e8dae338b94240","2004-06-23 10:23:44+00:00","As the comment above this code section states, the only reason we accept 1,2,3 here is for backward compatibility. 4 and 5 never were legal values, hence they shouldn't be detected

svn-id: r14015
"
"755efffd78f02546fdbad7cae68b1254ead7e3c7","2004-06-23 10:34:44+00:00","Typo

svn-id: r14016
"
"615f0e4b47af7fc4943cdf15f75437d4888b5222","2004-06-23 10:47:14+00:00","for whatever reason hev7 gives us a 244 for quit instead of 160

svn-id: r14017
"
"2dae80dbd15ba4c5b85dbecff30571b1e14c1786","2004-06-23 10:52:22+00:00","Checked opcoded

svn-id: r14018
"
"88b127f25ee46d5eca521508cc1d5d7d68b2c5d4","2004-06-23 11:25:13+00:00","add some hev7 items

svn-id: r14019
"
"eecabcecb3ce9fb87d6eb8518a822f5830ec356c","2004-06-23 11:27:58+00:00","Remove duplicate code

svn-id: r14020
"
"8c70f6bb6afaf522335d0c3ba9fbd42804d4ea93","2004-06-23 11:28:51+00:00","Ooops

svn-id: r14021
"
"ef526eca8349b3f2de2f51458c0632b74390ffbc","2004-06-23 11:31:46+00:00","forgot one

svn-id: r14022
"
"90032ce348e6f36883e7b5c0ae83ae55817e0f43","2004-06-23 11:58:47+00:00","Proper fix for detecting --platform command line switch

svn-id: r14023
"
"9fae63756b8f3ff4e269e711c664545196a3b69f","2004-06-24 02:36:17+00:00","Phase #1 of HE v7.0+ cursors. Basically it's Win32 resource extractor
incorporated from icotools, no display, just searching it in resources
and display a warning. Graphics converter is on the way.

Code is NOT endian-safe. It will not work on BE system, as was tested by
joostp. Please, fix endianess.

svn-id: r14024
"
"54e3e20b985a652b43f57d1769f6671fe526a979","2004-06-24 05:11:19+00:00","Revert change, caused regression (Mini game in Cosmic Diner of puttmoon no longer works)

svn-id: r14025
"
"974f3e64313be569ba2ad0f548ab4c0dc17f230a","2004-06-24 05:55:04+00:00","Fix comi regression

svn-id: r14026
"
"622f3ec78fe4e8cc3e299a3dd4008d7a854928d8","2004-06-24 12:32:19+00:00","Fix mouse cursors hotspot in HE games.
HE games don't change cursor hotspot, when changing cursor image.

svn-id: r14027
"
"a9de63ef022ddaef7d5c8ac2d5ec6e6d73f9f320","2004-06-24 13:03:26+00:00","Add missing code

svn-id: r14028
"
"afbe1efa1821ab9710d9b66501cbc89d6aab3778","2004-06-24 13:10:48+00:00","Not required for WIN32

svn-id: r14029
"
"264dc1349bc1f61c5f27383d4293b4c2dcf34b87","2004-06-24 14:06:22+00:00","Extended ReadMemoryStream class with seek method

svn-id: r14030
"
"d6cfe9a5e90ffc6697e8ac621e93e309ea0fa034","2004-06-24 14:12:20+00:00","Phase #2 of HE v7.0+ cursors. Still no visual output, but all data is
parsed now.

svn-id: r14031
"
"08cebae47298a15895fc35e8755dd5bfa85ff6eb","2004-06-24 15:13:00+00:00","Add some more HE7 differences.

svn-id: r14032
"
"088676cdb2ae3fc463812771de12745162c1e7a0","2004-06-24 20:09:36+00:00","Add grabCursorFromBuffer() function.

svn-id: r14033
"
"6affa9e75afeac13afb233ba0351fc0e6e81c150","2004-06-24 20:20:35+00:00","Phase #3 of HE v7.0+ cursors. Now they show up correctly. Remove TODO item.

svn-id: r14034
"
"1503d476ec819c8d94d9efdbd9ff4fc6c843ff4b","2004-06-25 03:42:51+00:00","Fix $Header$

svn-id: r14035
"
"0db578ac11eb451bda64eedd05bff07a0d7ae0b4","2004-06-25 06:10:13+00:00","Fix minor bug in akos codec1

svn-id: r14036
"
"ae10ed243c658b3e0ecfc6fb70969caffddc6d3e","2004-06-25 08:10:34+00:00","Minor cleanup

svn-id: r14037
"
"2ce0184d12e926b559d9ca33b14f544cdaeb7544","2004-06-25 08:18:51+00:00","add debugging messages for index blocks which don't already have them via readResTypeList

svn-id: r14038
"
"b2c417d463dafd6e657e79a61c188f39d241e22e","2004-06-25 09:52:17+00:00","Fix regression in HE 7.2 games

svn-id: r14039
"
"22a6163a3ae2d52e0ea2142ac8f9f2a17dc11b55","2004-06-25 09:57:10+00:00","there were never dos versions of these HE titles so bump _heversion up to 70

svn-id: r14040
"
"31f9fb538ab0c5caec795ce92946a5c66d6c7110","2004-06-25 10:12:59+00:00","move puttzoo to _heversion 72 as it needs the newer MAXS block reading code, add bluesabctimedemo target

svn-id: r14041
"
"dce61ed32fc9b223a54ae6491eb1bf2718b173a2","2004-06-25 10:36:11+00:00","Correction

svn-id: r14042
"
"28b1c628aa28969ba5ba077576961f0be6567f25","2004-06-25 10:39:35+00:00","Check blocksize when reading MAXS, may potentially detect HE versions using it in future. Add/Correct some more HE targets.

svn-id: r14043
"
"bdba2baa18c69ec126f08a0b7abe750feda1bd92","2004-06-25 10:58:47+00:00","Display error based on the version a game is believed to be when reading MAXS block. Note additional C++ engine based version of spydemo.

svn-id: r14044
"
"cc62c0823b96ea353e916464b82a53e73d65ba8f","2004-06-25 11:32:19+00:00","Set fast mode for HE7 games too.
FIXME not needed, originals used getGraphicsPerformance()

svn-id: r14045
"
"b5c11e4660e92c2688e7dac6bce63a1bc4de65fc","2004-06-25 11:35:19+00:00","note targets with multiple interpreter versions

svn-id: r14046
"
"0c2e8ef9f5374b1133e864fff540d88a2bb7e99c","2004-06-25 11:48:29+00:00","add some items

svn-id: r14047
"
"4bb40b340896df616417e6abb04247aec369ebf0","2004-06-25 11:49:07+00:00","fix warning

svn-id: r14048
"
"c9e293b76c79a676a2c7fa0e34cef6b0a543efce","2004-06-25 11:55:23+00:00","Avoid illegal VARS in HE 7.2

svn-id: r14049
"
"7b62636e7515ea65deb90efb3cf4e24a85d3848c","2004-06-25 12:11:34+00:00","Delay only required when using subtitles

svn-id: r14050
"
"c399ca84860d55f85da13fe480c4ae06fd32f3a2","2004-06-25 12:17:33+00:00","Switch to debug

svn-id: r14051
"
"bb3ef09efad34d8263f90cc76fd5de449bf5c722","2004-06-25 20:01:31+00:00","Removed unused stuff; cleanup

svn-id: r14052
"
"fb188716d552a84ff98d082e690b70dd40482b3d","2004-06-25 20:11:46+00:00","cleanup

svn-id: r14053
"
"ca9448fe4088af1e7969f2c003146604a1501891","2004-06-25 21:47:37+00:00","clearnup

svn-id: r14054
"
"de7c36f063eb4ee33b01bfb7be4186c7cb9fd704","2004-06-25 21:48:12+00:00","cleanup

svn-id: r14055
"
"e5f90509a606819dec58b7642c9845373ae364d5","2004-06-25 22:11:48+00:00","Cleaned up SaveFileManager stuff a little bit

svn-id: r14056
"
"7a8d469c666f162570f633ec465798e1e5720eef","2004-06-25 22:12:57+00:00","Use auto_ptr to avoid leaks

svn-id: r14057
"
"6b722ff11bcaa4622cf662245819993316eb8c5d","2004-06-25 22:39:21+00:00","Added Engine::_saveFileMan; thus was able to get rid of auto_ptr usage again

svn-id: r14058
"
"dfa7af5b5d7935e2450ba6bdb49461229facd1c3","2004-06-26 01:02:52+00:00","Fix transparency for akos codec 16 in HE games.

svn-id: r14059
"
"cbf068b638c5d162c331bd5dc23d0293fe0f5c6c","2004-06-26 02:45:17+00:00","look for the newer BMAP blocks from later humongous games if we can't find an SMAP block

svn-id: r14060
"
"2abe07e0443418665795906179d9f24b2168124f","2004-06-26 03:00:37+00:00","let my Scummsys.90 version of freddi get detected properly

svn-id: r14061
"
"e5ddd7ef551a2cd0e3891f07627f90656f8b767d","2004-06-26 03:26:20+00:00","add catalog2 target

svn-id: r14062
"
"766d221552a646273b5ca5cec2a9f9d9d4e303e7","2004-06-26 03:41:21+00:00","Correction

svn-id: r14063
"
"ab0822e8c38ffb772bb2807df0a754527057ab82","2004-06-26 04:33:28+00:00","Enable next set of HE games, which all reach boot scripts.

svn-id: r14064
"
"bd87b82243ab3f5afb71bb0873e47e0b160f16c0","2004-06-26 04:50:33+00:00","GF_WINDOWS no longer required for later HE games

svn-id: r14065
"
"e61c96cb2ee96b7dd1bc6586898a1b551d7d829b","2004-06-26 05:08:02+00:00","work around for humongous catalogs

svn-id: r14066
"
"65abd6eb0a54edf109b3e6e4aa0de86c4a090c29","2004-06-26 06:03:34+00:00","update

svn-id: r14067
"
"46c50cf00c8647a76f17cc777283519fb0187b78","2004-06-26 06:58:39+00:00","move puttzoo back into the correct position and note Scummsys.90 version

svn-id: r14068
"
"5268717ad402399f05338c810d2c8ec35e11d1a6","2004-06-26 07:31:57+00:00","Older scaleTable and scale values are still use by HE games.

svn-id: r14069
"
"b02221a613e85cfde1830fe3635488f2a66ceabb","2004-06-26 12:57:11+00:00","Add initial support for reading sputm.9x index files.  Teach ScummVM about res type 13 (rtImage/AWIZ), although don't actually allocate when reading the DIRI block yet.  Error out when trying to read a sputm.9x DOBJ block as they are different to earlier versions and not yet supported

svn-id: r14073
"
"4ffcdcdf4f3d16e3583920f5b0c844b67871ffeb","2004-06-27 02:17:56+00:00","Remove bad comment

svn-id: r14074
"
"372296e918e7700c54d762d8924b1d692eecdd81","2004-06-27 10:54:31+00:00","Fix actor palette in HE 7.0 games.
Use roompalette[] for all graphics decoders

svn-id: r14075
"
"8c32afe796a65f18fef094b3caa187fe89863139","2004-06-27 11:12:23+00:00","HE 7.0 games don't actually use their color cycling resources

svn-id: r14076
"
"a4986c7ce8525e24722f808fdf08c33c609a68f9","2004-06-27 11:13:05+00:00","Update HE7 issues

svn-id: r14077
"
"2da9dc7fe4db0293c82e0f6e15740716849d0b7c","2004-06-27 11:21:54+00:00","Not required for WIN32

svn-id: r14078
"
"907f2dbf192afdfd9fee2984a2fca8254be1ccd2","2004-06-27 13:15:23+00:00","Use existing ScummVM functionality for packed structs

svn-id: r14079
"
"f8cc10321e385dcd06cb130d683ae020445ab739","2004-06-27 13:24:15+00:00","Fix memory leak

svn-id: r14080
"
"6f8f26dd381fd5fa998a745a09cb4dacf1456547","2004-06-27 13:32:50+00:00","Small TODO comment

svn-id: r14081
"
"a6b582a0c4929078abab75415ac3e2d31a45b670","2004-06-27 13:33:03+00:00","Moved _Win32ResExtractor to ScummEngine_v6 (and ideally, it should be confined to the HE classes only, but right now that is not feasible)

svn-id: r14082
"
"9ef85b62813b90c6c4d6a41e4c7f025b0354801a","2004-06-27 15:22:31+00:00","Renamed some HE-specific variables.

svn-id: r14083
"
"c026a0a5e18d1d4089b5f6e42bfde90b73feb2e1","2004-06-27 15:41:01+00:00","Another palette change needed for HE 7.0 games.
Rename a few HE sound vars

svn-id: r14084
"
"4b2d86392473184211a41e2fdc8a5d8188a4e636","2004-06-27 21:06:04+00:00","Renamed/documented some odd smush/insane vars

svn-id: r14085
"
"a1b82d8e13ca41834c494839c2a05ae7638a38c3","2004-06-27 21:30:33+00:00","Cleanup for MemoryReadStream; made it match the File-class interface

svn-id: r14086
"
"df984b3824c596c7f7e6a12e33bbbe0b2b470586","2004-06-27 21:52:25+00:00","Thanks to File::setDefaultDirectory(), in most cases it is *not* necessary to pass getGameDataPath() on to File::open()

svn-id: r14087
"
"b7f9e2137bcccf0928c8116333db5a8a6536e94a","2004-06-27 22:03:38+00:00","Thanks to File::setDefaultDirectory(), in most cases it is *not* necessary to pass getGameDataPath() on to File::open()

svn-id: r14088
"
"a461c7550e2260601a63cd113a31254f2fd3ef50","2004-06-27 22:04:19+00:00","irrelevant tweak, but I am a const-junkie :-)

svn-id: r14089
"
"b8ad54b3af1de97bf986e7e4d4da97f02ece3273","2004-06-27 22:14:35+00:00","Reversed param order of File::open() -- this allowed me to get rid of a few more getGameDataPath() calls

svn-id: r14090
"
"c7f97c0bcb2da7432ff730cab74a728c84d145f7","2004-06-27 22:19:21+00:00","Added small TODO to my currently defunct OSX-COMI-hack

svn-id: r14091
"
"d4f071c6c69711f0330754ad7f971bb666298941","2004-06-27 23:54:53+00:00","That check should of been for HE 7.0 games.

svn-id: r14092
"
"4744538752a94e922c81e169eb7754d4a7367b64","2004-06-27 23:58:41+00:00","Added operator + for strings

svn-id: r14093
"
"b1de21accbea8c333b24db91c47235bb5a8d14ef","2004-06-28 00:00:33+00:00","Don't use getGameDataPath()

svn-id: r14094
"
"53af3dc6700a6e7686fbf2e88cea283d6e335124","2004-06-28 00:06:31+00:00","Enhanced default directory support in the File class; now one can specify arbitrary many default search directories

svn-id: r14095
"
"a25f70661bdd7e6e777a7c8934761a074da499cd","2004-06-28 00:40:25+00:00","Correct default paths

svn-id: r14096
"
"0b045875ca359c5f4a4040f081cb2d7bba2f743a","2004-06-28 01:09:41+00:00","Fix missing sound effects in puttdemo (DOS)

svn-id: r14097
"
"8d5cb06d255c05624ad6e502ccd44bb1cc38a9ce","2004-06-28 01:32:36+00:00","Add a few more HE 7.2 vars

svn-id: r14098
"
"6b99d5a9718217d174ca23074057eb2f08b5c30d","2004-06-28 08:45:09+00:00","Added 'MUSIC' / 'music' to the list of default directories.

svn-id: r14100
"
"ba23b9f96e1a99d8271c4be9c445ebce986f8c6a","2004-06-28 09:03:08+00:00","Fix missing subtitles in Conroy Bumpus' song in Sam & Max

svn-id: r14101
"
"6980923df89d24299969c03f3dc548e84dca668e","2004-06-28 11:38:26+00:00","Move Win32ResExtractor to ScummEngine_v7he. Now it doesn't look alien.

svn-id: r14104
"
"875d0a580e2294c4f44fa1ecff06a5894b011f85","2004-06-28 13:47:39+00:00","oops

svn-id: r14105
"
"a5df4fba77214a93442a0a9e9607cd0a523f24a8","2004-06-28 22:34:22+00:00","Added simple ref-counting to the File class

svn-id: r14106
"
"e0eab01e639acfa7eee9fcd755f6fceb88f38710","2004-06-28 22:35:22+00:00","Make use of new File refcount code; also fixed long standing bug in vorbis code (ov_clear was not being called, resulting in a file not being closed)

svn-id: r14107
"
"a5455ade28b7a8fa1ebe5fe0a6d23c226ec6f0c8","2004-06-29 00:32:31+00:00","Add internal HE documentation. These are heavily used in development

svn-id: r14108
"
"8a9a5c2aa2950ad7eeb3e2e961b5818d43a57a8c","2004-06-29 01:03:31+00:00","Add more games' opcodes.

svn-id: r14109
"
"b38f62ffdd4a9060b6b77fcb7a1a36f9612883db","2004-06-29 01:34:42+00:00","Add check for older puttputt version.

svn-id: r14110
"
"e971ab1ea7d8f325e1b3abbac57e732e2dd6a574","2004-06-29 02:36:48+00:00","Yet more opcodes

svn-id: r14111
"
"20d7da335651e7430a748defdf405c8689613e2c","2004-06-29 03:22:49+00:00","Convert to HTML

svn-id: r14112
"
"13f6fa7396baf0c855db6d58471cd6070e945dcb","2004-06-29 03:29:14+00:00","Added couple buzzy games versions

svn-id: r14113
"
"7504e4f5c2b9c9a3d1a6327b4ea58f3e6acd2a61","2004-06-29 04:27:17+00:00","Add some md5's

svn-id: r14114
"
"b1e49b13af63c9090b76b9ba6623fa003c4a7988","2004-06-29 05:36:01+00:00","Fix actorOps case 218/9 in HE games

svn-id: r14115
"
"cbef4f757f4ddf37c20ac788ae7ff4cb0f0897c2","2004-06-29 06:00:58+00:00","Update HE issues

svn-id: r14116
"
"8a74791c64b470412b8eef89b18d9327d45e5a4e","2004-06-29 09:57:01+00:00","Add hack for mouse hotpot in funpack

svn-id: r14117
"
"a3b04b047bbcc7e41b72600c504da0da71647e0b","2004-06-29 10:21:53+00:00","Change stampObject opcode to use same method as HE game, in order to draw to background.

svn-id: r14118
"
"a78226a9c528f888a40456fbd84bfdbeec36c370","2004-06-29 10:23:15+00:00","Remove old commented out code

svn-id: r14119
"
"bebf55492aaa19b27204cc41749584b20d707a53","2004-06-29 10:37:52+00:00","Revert hypothetical off-by-one fixin akos codec 16, causes glitches in HE games.

svn-id: r14120
"
"26e38321dfca639f11fcb0d70e64b7f00f5884d7","2004-06-29 11:02:15+00:00","Rename var

svn-id: r14121
"
"2c687d3388261e3ed3a4b14721f1d23e0a735607","2004-06-29 12:07:15+00:00","Make md5_file() work regardless file name case and within arbitrary
directory.

svn-id: r14123
"
"74bf51d3d6c2a39ce7243abd4aab213f0a872e42","2004-06-29 12:10:08+00:00","Implement game detection based on MD5s. This lets us avoid multiple GIDs
for different versions of HE games. Right now there is just one game, but
more to follow.

svn-id: r14124
"
"d611b4bf1ff7e77acb89e46fc8fae70679790727","2004-06-29 14:23:39+00:00","Add 'Path' tab to launcher, w/ selection for Game, Data and a new 'Extra' path.

Extrapath is used for pointing to additional game resources - for example, running BS 1 or 2 directly from original CDs, Extrapath would point to the cutscene packs.

svn-id: r14125
"
"d40ea9f147eb0e73bdd571156a7207c2f0a557f8","2004-06-29 22:57:15+00:00","Fix some invalid opcodes, airdemo-farm.w32 was wrongly positioned.

svn-id: r14127
"
"4f80e2f36bcee0862f1360cae2b69ba7f0ad5732","2004-06-29 23:27:18+00:00","Fix for bug #981991 (VORBIS: Crash when using Ogg Vorbis CD tracks)

svn-id: r14128
"
"b7dbbc614120d219ef538ae6456ce5e71465a486","2004-06-30 06:46:32+00:00","Initialise _numImages to zero, along with the other _num<whatever>
variables. This fixes a Valgrind error, and the 'Invalid allocation size'
errors I got when running ScummVM in GDB under MinGW yesterday.

svn-id: r14129
"
"4ccea5f1b46bcd8e9e4d7f236d45e82d2df7a238","2004-06-30 08:55:20+00:00","Add some colors

svn-id: r14130
"
"5b0bccf2dad88b67fce63e9fc6e580122d2a89c8","2004-06-30 10:02:04+00:00","Added some titles/fixed typos.

svn-id: r14131
"
"0532767c1dc48dd1cf172604613474142066cb47","2004-06-30 10:39:26+00:00","Fix formatting, specify some resolutions, added MAXS and Smacker columns

svn-id: r14132
"
"857c9fc85834e1b28828e1f7d9503d4c94aa1063","2004-06-30 11:03:55+00:00","Changes for non-akos version of puttputt

svn-id: r14133
"
"b03301b97d51d6071bb263e92bd2c7722be098be","2004-06-30 12:50:30+00:00","Move some HE demos to version 72, where they should be.

svn-id: r14134
"
"360d5cffc020b9f5bfd4e227d998a18e4f9e10f5","2004-07-01 04:37:13+00:00","Add better check

svn-id: r14135
"
"c7133de8791605fa9d482ed8b305a093ead8be6c","2004-07-01 04:43:32+00:00","getFreeSpace() is not longer used

svn-id: r14136
"
"dcc74eb07d1d1ae1a8d67b4ae78e1895fa63eb64","2004-07-01 04:45:56+00:00","Commited wrong change

svn-id: r14137
"
"a6068ff5ae65cf4a5b74a8514feb9ebdbc826bd1","2004-07-01 05:46:39+00:00","fixed compilation

svn-id: r14139
"
"06dc6a2c4e45e7131c08f6cf86ecd0c9f17e9b44","2004-07-01 10:24:42+00:00","Backport C&P bug from local tree

svn-id: r14143
"
"26a4a688cfee19e6bf2561cb2a378606139087d4","2004-07-01 11:22:38+00:00","Fix large delay in library of The Dig regression.
Clipping in akos was made too strict.

svn-id: r14145
"
"5e1a8064341b630ff2608e106b0c51956da3b05f","2004-07-01 11:34:33+00:00","Added more opcodes, md5's.
Features table order now matches opcodes table.

svn-id: r14146
"
"d01f52a7f58a5c94d02d89c00b3b81e5c0a869e5","2004-07-01 11:36:06+00:00","Fix some HE versions, add multiple versions targets.

svn-id: r14147
"
"3423c617a1130862f5b9bb417f17083a2eaaceac","2004-07-01 12:18:28+00:00","Fix bug introduced with last addDefaultDirectory() change. It prevented
lowercase files from opening.

svn-id: r14148
"
"0c49fcd42b4d0e745c6f401f92430a4de728dec1","2004-07-01 19:25:56+00:00","Add more md5's.

svn-id: r14149
"
"a5e410201eb34e78b1a7aa4712bea48a036e2d0d","2004-07-01 21:54:49+00:00","Some more md5 updates, man, how much games did they release?

svn-id: r14150
"
"6422036267337533aebbbe704e17040e775d3214","2004-07-02 06:40:08+00:00","Add vars

svn-id: r14152
"
"995ac059f8c3f04cdf7fae1314f853ee4fd3aeb2","2004-07-02 07:38:40+00:00","Caused no speech in imuse digital games.

svn-id: r14153
"
"1590ea242e3c1be2fc04056e76e91e68fee27906","2004-07-03 03:06:15+00:00","Fix veggie head bug in fbear. Patch attahed to bugreport #984258 is
partially attached.

svn-id: r14154
"
"b2bb3a3aa4973e0d5d1fa580760a24f31f2f6ce2","2004-07-03 09:59:05+00:00","Add a few vars

svn-id: r14155
"
"80f6319454ac02846e6e9223d08ee7975fa1f618","2004-07-03 10:03:21+00:00","Not used by games, switch to invalid.

svn-id: r14156
"
"da05ebfa3d6c4b64f5d13f498ca24faef3d327a3","2004-07-03 10:43:40+00:00","Add vars

svn-id: r14157
"
"40eea5d38677c65cb931973e8a6176f149c6e5b1","2004-07-03 11:37:26+00:00","Keep mouse mutton VARS in sync.

svn-id: r14158
"
"7927f8574e0cab97c7ee7e9dfa4f6d124a359400","2004-07-03 13:32:56+00:00","Add suggested fix for bug #778281 (Solution checked against disasm.)

svn-id: r14159
"
"0a287fa7f6a04f6ccf31b7fdf8accb28a70eefc0","2004-07-03 23:58:30+00:00","Initialise HE 7.0 sound vars
Enable VAR_NUM_GLOBAL_OBJS

svn-id: r14160
"
"1a91b85549588514b215dcbe2cf1febda6ff8027","2004-07-04 00:10:30+00:00","Correction

svn-id: r14161
"
"d0f31a829a5f2b99552642974e6bf18109a70f34","2004-07-04 03:12:02+00:00","PC version of FT demo uses older animation/direction calculations
actor flip is only reset for HE games.

svn-id: r14162
"
"ac04b2e95bfcbe1e40fa00a8b05602558f1329b6","2004-07-04 03:14:41+00:00","Update FT demo

svn-id: r14163
"
"84ea22d80cb85f2c43d32a6ad06d31da02ffe7b0","2004-07-04 03:25:24+00:00","Switch warnings to debug, since they occur normally in games.

svn-id: r14164
"
"fedc852ba4e41e6b75b1102c53455bda2147bac9","2004-07-04 04:31:20+00:00","update

svn-id: r14165
"
"11d552ff7e799a64dacab81909a1cb09d5099567","2004-07-04 06:14:18+00:00","added code for bundle script vars

svn-id: r14166
"
"5b7157e3c9c8809b20171e1bfb5170847944759c","2004-07-04 12:06:17+00:00","Match disasm., applies to The Dig too.

svn-id: r14167
"
"9160374f238ccffde8d300cf37415d2b6beeb35f","2004-07-05 01:33:51+00:00","Get rid of old hack (possible thanks to Kirbens recent change to the createBoxMatrix opcode)

svn-id: r14168
"
"510d9c847f31c0a7c5f69c7b0487da4d53eab671","2004-07-05 06:02:05+00:00","Should use putActor

svn-id: r14169
"
"40fa690de06716055b93f2a0dae49f6d889aa6f6","2004-07-05 06:25:01+00:00","Merge into new function.

svn-id: r14170
"
"a1cd1787e847831557e4f880f3eaad03330ccc90","2004-07-05 06:26:57+00:00","Unused in original game (According to diasm.)

svn-id: r14171
"
"03ddb782d143e9ce67c8453006768d805c9286f5","2004-07-05 06:29:38+00:00","Code is correct, check against disasm.

svn-id: r14172
"
"edb6878d651c40231bd9bcc9714c17f7f6fa2196","2004-07-05 10:30:11+00:00","Added John Passfield and Steve Stamatiadis to the credits. Perhaps someone
who was involved with the FotAQ development could flesh this out a bit?

svn-id: r14173
"
"5c5baf957b072e083db60ab4669d1662bef5acdf","2004-07-05 10:54:12+00:00","Update smackers

svn-id: r14174
"
"a52cac70690cb0a2a14ea1fef6a3aec1096fd7c6","2004-07-07 00:11:11+00:00","Ooops

svn-id: r14175
"
"b0cf75722e8652636c2b5e3ee512b7252eb3bb98","2004-07-08 10:47:44+00:00","Experimental fix for bugs #795938 and #929242. In both cases, text is
apparently printed before cameraMoved() has had the chance to update xstart
of virtscr[0].

All this change does is to call cameraMoved() from setCameraAt().

svn-id: r14177
"
"8f6a61991343a298f628724e044f9ec593c9add0","2004-07-08 12:21:40+00:00","(Ab)used the yes/no dialog to show an error message if saving a game fails.
As far as I can tell, writing a proper one-button dialog is tricky. It
can't re-use a button from the yes/no dialog since the whole thing appears
to be just one sprite!

svn-id: r14178
"
"a2afa0158029dc310feb7f921f2de6c41696fd6a","2004-07-09 07:06:30+00:00","Don't allow codec 1 to skip columns when _scaleX is 255. This is consistent
with how we do it in costume.cpp, and it fixes a graphics glitch in the CMI
banjo duel for me.

svn-id: r14179
"
"4b4bb0d726bdfed29e5eb4a8a8242e5648510948","2004-07-10 11:42:31+00:00","Full Throttle handles verb differently

svn-id: r14182
"
"32335f0ea11f95ef54d2b18418fdafb01bd6d33c","2004-07-10 11:46:15+00:00","Ooops

svn-id: r14183
"
"ebafa060c65acd1c69f55a62879e5dfb050a2527","2004-07-10 23:32:31+00:00","Always stop actor walkscript when required.

svn-id: r14184
"
"e94931462ba4eced22f9b4d9f665a86619d25ecd","2004-07-11 01:30:21+00:00","Add vart

svn-id: r14185
"
"26f4df6aa35199522be4111da17e38f7a6ffbd61","2004-07-11 03:46:32+00:00","Color cycling is only used in SCUMM 4+ games.

svn-id: r14186
"
"9756a420a3629900783c63f1bc4778c08e2c969b","2004-07-11 04:41:48+00:00","Use extrapath in Sword1 engine (from 0.6.0 branch). More verbose errors to go with the forthcoming new manual. Sword1 CD swapping doesn't work as expected HERE, either :)

svn-id: r14188
"
"17802b8035e1e122fd90900c28bdb8e47266afc1","2004-07-11 09:15:14+00:00","Rename var
Add some changes ready for next save game version (Commented out)

svn-id: r14189
"
"e98b7c11edafc0c4d161ef818079f2f0b78b6b19","2004-07-11 10:47:25+00:00","Missed one spot

svn-id: r14190
"
"032405d6f7ef0cd5b546e26d0bfe64bcb4863534","2004-07-11 11:59:18+00:00","Bump save game version for HE 7.0 changes
Remove mention of talkspeed default, since it no longer applies.

svn-id: r14191
"
"b42e853ddd27631665a652def14fd35b898d694a","2004-07-12 06:22:40+00:00","Fix puttdemo (dos) regression.

svn-id: r14192
"
"621ff05aced6de205975103c0de5a58695163719","2004-07-12 09:02:18+00:00","Add support for music in HE 7.0 games.
Check music status correctly in 3DO versions.

svn-id: r14193
"
"a5187aa8233b2c07fcf2a6ce4e1f15d902e2a19e","2004-07-12 09:26:30+00:00","Should be right this time.

svn-id: r14194
"
"fd6024627701108439f04148762f373abe4da19a","2004-07-12 13:22:48+00:00","Add HE 7.1 games music support, untested.

svn-id: r14195
"
"ea0b3ccacc854a55290e0257468b86b2111f2d23","2004-07-12 13:27:59+00:00","Too Many HE versions.

svn-id: r14196
"
"fd8f64f005883eb0d125c54e1b12d49c0eaac462","2004-07-12 14:21:16+00:00","Correction

svn-id: r14197
"
"0cbed40ae4f8b3df4b67a6c44cce919348081018","2004-07-13 00:22:10+00:00","Fix memory leak

svn-id: r14198
"
"eb44bbc7273e50c2ed7ae8bdc9717329fe9796ff","2004-07-13 01:20:09+00:00","Fix music in 3DO versions of HE games.

svn-id: r14199
"
"ae70a7034e7760338b7f10fd915f5e5f8946c270","2004-07-13 01:40:47+00:00","Stop music when requested in HE games.
Fix sfx status for HE games.

svn-id: r14200
"
"a98f67562b659a7813916ec5a0329e1d466c813d","2004-07-13 05:02:27+00:00","Add correct sample rate for DOS HE 6.0 games.

svn-id: r14201
"
"d189654e55e7ed485d3a5575b72b343fb5ef5bff","2004-07-13 09:59:13+00:00","More palette changes needed for HE 7.0 games.

svn-id: r14202
"
"465331ceba750c82fd843d136060969ad4f9f2df","2004-07-13 10:18:06+00:00","Simpler method from _sev

svn-id: r14203
"
"f1b8ff0e1e13bb1b424bbba37016ec7c33292487","2004-07-13 10:37:36+00:00","Update HE issues.

svn-id: r14204
"
"6d36d28224f9951fb0747adaf4330fda092f918e","2004-07-13 10:45:47+00:00","Plug memory leak

svn-id: r14205
"
"485b3380ccafc030067543903ace161cbc5dab9a","2004-07-14 00:19:37+00:00","Update He issues

svn-id: r14206
"
"c7e39d4191f1f9eae19abb9a9a92aeea2f745a60","2004-07-14 04:54:06+00:00","Fix speech in HE games.

svn-id: r14207
"
"63003a1ccaee2f4ebfdc08d3954e317dad432283","2004-07-14 05:53:37+00:00","Ooops

svn-id: r14208
"
"d68d9a4e1ddce1e660dd09e48479c15873cedd2c","2004-07-14 07:29:09+00:00","Add support for sound offsets in HE games.

svn-id: r14209
"
"e69d51e1ba11b875500838ddbc7e409a05b50360","2004-07-14 08:16:40+00:00","Ooops

svn-id: r14210
"
"be7ee03501025b0e8237ae0e719c7944d0924cc4","2004-07-14 08:55:31+00:00","Remove old FT hacks, no longer needed.

svn-id: r14211
"
"50c80a808aba13160a2a4a218f8f0dc49a157e1c","2004-07-14 09:37:15+00:00","HE 7.0 games set fade effects to 1 but don't actually use any fade effects.

svn-id: r14212
"
"fc0ee149383c5ab294bf37ef7de40a9478ff61f4","2004-07-14 10:48:33+00:00","Update comment

svn-id: r14213
"
"84e77997d3531dcd89c81bf95cae6852f7385765","2004-07-15 05:44:57+00:00","Fix music volume regression in HE games.

svn-id: r14215
"
"95520634d32b1086f6eea7a1b93085d975af1363","2004-07-15 05:53:36+00:00","Case only used in HE 6.0 games after all.

svn-id: r14216
"
"6a18e02a534e9e90a0734d49b1d7716f6436e45b","2004-07-15 12:26:10+00:00","Actually use actor talkScript when required.

svn-id: r14217
"
"85124a75e388c4f6edac12ca07e8a3f1e615a447","2004-07-15 22:26:04+00:00","Added .desktop file; updated RPM .spec (thanks to wjp)

svn-id: r14219
"
"efbd2fe42feacbcc93a72932aadb35af8d8bd512","2004-07-15 23:15:13+00:00","Use VAR_DEFAULT_TALK_DELAY

svn-id: r14220
"
"bd8c7f08f626eb75b5eb3d20769b3de2a3aeda43","2004-07-16 03:39:23+00:00","Fix bugs:
FT: Stadium Salesman Glitches
COMI: Wally's Fake piratehook still on ground after pick up

svn-id: r14221
"
"613642efd01b0c4bbbdc167cc85abdc5e4fde549","2004-07-16 06:57:47+00:00","Open the control panel on both F5 and ESC, like the original did.

svn-id: r14222
"
"f2f1687988d9d83cbaa5f0911921fb73aba7d127","2004-07-16 09:29:09+00:00","Only show gfx mode change messages in the OSD if the change was initiated by the user; not if it was done automatically (e.g. because a 640x480 game was started and we auto-switch to 1x scaling)

svn-id: r14223
"
"078dc6220f2f2cb829429c1075c9c66bd0f717c3","2004-07-16 10:17:41+00:00","Remove old hack and comment

svn-id: r14224
"
"70f8f689a152aee9a599c310a09da0a72508af6d","2004-07-16 10:24:29+00:00","Applied patch #957544 to make output sample rate configurable at runtime.

svn-id: r14225
"
"edcd6b15d7e4f43f11f2756561966968e2c5969f","2004-07-16 10:26:24+00:00","Added missing part of my previous commit of patch #957544.

svn-id: r14226
"
"619c21a3186e2cbf5dd7ad41b457dfe6aefaf6d8","2004-07-16 14:41:05+00:00","Set new VARS for older save games.

svn-id: r14227
"
"64ec170fce2494d05ba6f92b247b8dcf1b330a7a","2004-07-16 15:50:45+00:00","With Kirben's latest changes, Wally's hook does not mysteriously reappear
on the ground, and his head stays firmly attached to his shoulders.

svn-id: r14228
"
"60dd6b7d3b6cbfa6ebff7a92b4134dd2a45a05ff","2004-07-17 05:29:56+00:00","Use VAR_VOICE_BUNDLE_LOADED in FT, it is need by at least one script (250)

svn-id: r14229
"
"7da0466ec59fa1b2410bc6783345b167768201c7","2004-07-17 05:35:38+00:00","Alter check, since later games set VAR elsewhere.

svn-id: r14230
"
"5b238e17c1f6ac340ae22928db607aea662967de","2004-07-17 07:34:34+00:00","Don't remap arrow keys in later games.
Allow arrows keys to work in lander game of Dig again.

svn-id: r14232
"
"002b9331a8a8f60671fd066d0c25db78a00c94df","2004-07-17 10:25:22+00:00","Minor cleanup

svn-id: r14236
"
"f02a14427b33715bf79c4f83582a049dcbdd3733","2004-07-17 14:00:07+00:00","Allowing both music streams to share the same rate converter only worked
by accident, and could cause bad noises during music cross-fades.

This wasn't a problem in 0.6.0 since all music is sampled at 22050 Hz,
which is the most likely output sample rate for ScummVM, so the converter
didn't actually have to do anything. Now, however, the output sample rate
could be anything.

I've given the music streams one converter each. In BS1, which uses similar
music code, it was already necessary to do this since some of its music is
sampled at 11025 Hz.

svn-id: r14237
"
"3aa5d9dd069e294234ec84d106d485f7dd07a330","2004-07-18 04:24:03+00:00","Only change actor.frame if actor's frame is actually updated.

svn-id: r14238
"
"9563fb9c6eae59e85a8ba2495426c7e3af4d6f7b","2004-07-18 05:04:30+00:00","Revert small part of scumm/saveload.cpp revision 1.129.
Fixes bug #884171 - DOTT: Transition effect glitch (regression)

svn-id: r14240
"
"b317fbb39dbe7c748805acb2dfae1cd37b64efdd","2004-07-18 09:53:58+00:00","Remove out dated comment.

svn-id: r14242
"
"c87804b893ffa527a9cbb99129596e4def651cb5","2004-07-18 11:46:50+00:00","FM Towns versions of indy3 and zak set three extra timers (Verified by disasm.)

svn-id: r14243
"
"8a593e2e05114dae3120604f0d39bd62e99119f8","2004-07-18 14:16:37+00:00","update from wjp

svn-id: r14246
"
"74d898d1606ffc3fd9df4fec58efd02ef4a5dc6c","2004-07-18 16:30:01+00:00","Fix Digital Imuse deadlocks for CE platforms. Other platforms using event-based timers may be interested in it, too

svn-id: r14248
"
"2695e9724d510122a6243c515bf428e131a27071","2004-07-18 17:07:28+00:00","Use the same John and Steve credits as in 0.6.1

svn-id: r14250
"
"8e8b93aec03cbf2f02d95f34ebfcbeb7d634a6af","2004-07-18 17:08:00+00:00","Tiny cleanup ;-)

svn-id: r14251
"
"006cac577d9993447d31f1d0ca4bc9964c84c347","2004-07-18 17:08:10+00:00","Simplified fopenNoCase (and reduced the code redundancy)

svn-id: r14252
"
"0e2c7d6d7fab0fde7a00e57a625ddae9eaadbe2d","2004-07-18 17:47:19+00:00","Let displayMessage() restore the mouse pointer to the standard BS1 arrow
once it's done.

svn-id: r14258
"
"e02e6408f25b1d683b06cef1d83b389a8d43aa89","2004-07-18 18:25:16+00:00","Adapted Fingolfin's BS1 code for better error messages when save/restore
fails. The downside to this is that while the error dialog is showing, the
mouse cursor is drawn in dark greys, so it's almost invisible.

svn-id: r14260
"
"adc9313f89c7130ea9ad310219d280d1ee5382f7","2004-07-18 20:02:27+00:00","Move g_timer destruction to proper place

svn-id: r14262
"
"fb88830bd6bffef66d8e96ac2e77be5dbed2252e","2004-07-18 22:29:22+00:00","Too many newlines

svn-id: r14267
"
"904493bb760570c10738bdb73f28a531ff70af30","2004-07-18 23:41:49+00:00","Hack to work around bug #775097 - probably wrong, probably will cause regressions, probably should be undone soon -- but it's an experiment ;-)

svn-id: r14268
"
"5ecfa56b5ee20f1a439fd50870d1e2e101981020","2004-07-19 01:58:08+00:00","Rename object fields

svn-id: r14270
"
"dc9963ec976f888d6691159e021651973b83fb01","2004-07-19 09:55:33+00:00","removed not needed call for pause imuse and non used variable

svn-id: r14271
"
"52701d581b1033afdc068f664fdc97b95487f789","2004-07-19 10:20:00+00:00","Changed order of initialisation in XORReadStream::XORReadStream() to match order of declaration, to avoid a pedantic warning

svn-id: r14273
"
"9e7f2342c75d37a05797a1a47bdaf43a6add1fc2","2004-07-19 10:51:00+00:00","removed not needed code and moved pause mixer after pause imuse

svn-id: r14274
"
"23c17eb9c6d584a5f4e652bbf9453843b182683f","2004-07-19 11:35:29+00:00","Changed order of initialisation in BaseAnimationState::BaseAnimationState() to match order of declaration, to avoid a pedantic warning

svn-id: r14275
"
"056751e1ee95c02e62627df7f528fddd6cce0956","2004-07-19 13:52:20+00:00","Updated the null driver to current OSystem interface
(makes it easier to start a new driver)

svn-id: r14276
"
"bc300cb0622af2308cd1fc76effaaa4d2c7e5e98","2004-07-19 15:21:29+00:00","Applied patch #993803 (fix for a COMI hang) after some discussion with
aquadran. Let's hope the cure isn't worse than the disease...

svn-id: r14277
"
"963aa6085d3f2b19d3084f2ab43ff55f12398efa","2004-07-19 15:26:07+00:00","Valgrind complained about an uninitialized value. This appears to fix it,
and anyway it won't hurt.

svn-id: r14279
"
"54d2f49f8a4ad53cd094b42e6dd82b18bc272c35","2004-07-19 17:25:09+00:00","BS1 now allows both F5 and ESC to open the control panel.

svn-id: r14282
"
"8ad464b49863c8842426a6fe839faf2ddd54d926","2004-07-19 17:28:21+00:00","BS1 accepts both F5 and ESC to open the control panel.

svn-id: r14283
"
"6225285a59f11df5acbe3ac1e64f1592a8a441e1","2004-07-20 11:30:15+00:00","Add support for version key in The Dig

svn-id: r14285
"
"08a260444f56c54ae8b20e0542a398c78fbdeddb","2004-07-20 11:50:44+00:00","Use for HE 7.0 games too.

svn-id: r14286
"
"38ddd36d4132253d914a721d66e3b4c8601e3568","2004-07-20 11:54:42+00:00","Correct version key in HE 7.0+ games.

svn-id: r14287
"
"521d46b425aa699d0554330b0c43118083fca6a5","2004-07-20 13:42:36+00:00","Add null driver to configure

svn-id: r14288
"
"33ef51b7a7026cc51bdb42ec4ac4e06abf412120","2004-07-20 14:26:32+00:00","fix null backend driver

svn-id: r14289
"
"d478bc31ac6a17516d3c5b8afa75612307731a86","2004-07-21 11:37:41+00:00","Extra timer used in Amiga version of indy3 too.

svn-id: r14291
"
"9dfee6c315aa2908002bc800adb706e5f070f08c","2004-07-21 12:05:00+00:00","Confirmed extra timers are in all PC version of indy3 too.
VAR_DEBUGMODE isn't used in SCUMM3 and below.

svn-id: r14292
"
"0605918ab412f3424450f11f8582dfb4c4940208","2004-07-21 14:20:37+00:00","Small tweaks for the String class

svn-id: r14293
"
"be31329d05c77c5eee3537911567ecd1803c7ea2","2004-07-21 14:27:45+00:00","Ignore case when sorting file system nodes

svn-id: r14294
"
"9f91359c2ebd574ff1698ec944f6e84603e49e48","2004-07-21 14:28:57+00:00","Allow user to select ListWidget entries by typing them (see FR #922921)

svn-id: r14295
"
"f09313d6a9ed8ddac1c6fc4d4f207837a925bf86","2004-07-22 04:13:46+00:00","Correction to VAR tables.

svn-id: r14296
"
"e133de4d515033defc056375f0a93a6a33cae549","2004-07-22 04:28:31+00:00","VAR not used in scumm3.

svn-id: r14297
"
"6a1800a2cd9d5c337307a06767e494b16af6e244","2004-07-22 04:37:20+00:00","Remove unused code, VAR_SCROLL_SCRIPT is never set for scumm 1/2.

svn-id: r14298
"
"2ab9807dd812845701fc144e49f0fd63974ada8c","2004-07-22 04:42:43+00:00","Should not be set for any scumm3 games.

svn-id: r14299
"
"c6f605501396491950d6d7ccc52767c7c12186aa","2004-07-22 05:53:56+00:00","Only used in scumm5 and later.

svn-id: r14300
"
"24e89ad42428ed7d612f124a67e5329ce6c84505","2004-07-22 11:31:07+00:00","Ooops

svn-id: r14301
"
"3381b831eb59570b9318a7a0179429f39b90df84","2004-07-23 01:39:05+00:00","Allow subclasses to modify File class members (e.g. to set _ioFailed); change some warnings into errors

svn-id: r14302
"
"28812cae215f0834351c9e1654ec06dd28ac0c80","2004-07-23 08:50:16+00:00","Only needed for Zak [ega]

svn-id: r14303
"
"840248a9726265571fae07350556c0b60ca75a5f","2004-07-23 08:59:07+00:00","Mention method used to skip copy protection in original Loom

svn-id: r14304
"
"0afb8635cb58e919748e411b00d2ba54f4901a82","2004-07-23 09:30:53+00:00","Add more details

svn-id: r14305
"
"e7997ab91d068787d482be833f0e2884c8a9b960","2004-07-24 02:18:05+00:00","heap space is used by loom too.

svn-id: r14306
"
"10ef09ec1f6892f39df99fc1cd811d9626bb4913","2004-07-24 04:09:14+00:00","Add another var used by Loom [ega].

svn-id: r14307
"
"334343a3403a8e875a08824a897c3158d221dca1","2004-07-24 04:18:26+00:00","Ooops

svn-id: r14308
"
"086c8da888b4a016151f23ea26b775104ad5d5dc","2004-07-24 04:36:54+00:00","Enable VAR_FADE_DELAY

svn-id: r14309
"
"2cbc4039e8d33fa8e9f4e9152b479af4567cbe64","2004-07-24 07:14:26+00:00","A few HE games are supported now.

svn-id: r14313
"
"546fd77e1b60d2f5f137ce13422ea0fadf4a5ba6","2004-07-24 07:18:18+00:00","Ooops commited wrong branch.

svn-id: r14314
"
"7550ebed81d784ef26a673ee05498682bdf50c1f","2004-07-24 11:15:59+00:00","Rename VAR

svn-id: r14318
"
"370cf65966a0a14e12dbc8db68b2f0b3f6f1c546","2004-07-24 13:36:26+00:00","Corrtection from disasm., mouth sync uses speech timing.
Fix bug #

svn-id: r14319
"
"ce620d17fd46a4187bc7b0287410e2b926826b43","2004-07-24 14:24:34+00:00","Remove lefts overs of old hack

svn-id: r14320
"
"290d73ea0b8cbde721a693dd4f7e858cdf34e920","2004-07-25 09:21:58+00:00","Sam & Max doesn't need separate palette, just uses _shadowPalette.

svn-id: r14323
"
"4105fdd4f61786854e6ec658a0f96f8192bf170f","2004-07-25 11:29:38+00:00","Merge palette functions.

svn-id: r14324
"
"55a4164f3375bbad5890be5a4bdbe610f6280677","2004-07-25 14:48:07+00:00","Fix love sign missing when black light turned on, in Sam & Max regression.

svn-id: r14325
"
"db4c7d22bf1475b9460456bad01b4d73a6ab36d7","2004-07-25 19:05:16+00:00","smush codec37 sub1 (FT demo)

svn-id: r14326
"
"1c743547d1de86be07ffe7d0636008569ecf1569","2004-07-25 23:58:59+00:00","Update issues

svn-id: r14329
"
"ebdbb97d38c6340153a441687021a5f4d8f21f9c","2004-07-26 00:08:23+00:00","VAR_SOUND_RESULT should be reset.

svn-id: r14330
"
"54b813c4a61d2226b044a3261d3f11d8dce2f4ea","2004-07-26 00:12:51+00:00","Not quite right spot.

svn-id: r14331
"
"3a8f518b02e01580d292a6a65a71e1a0f7baa94a","2004-07-26 04:03:11+00:00","VAR_ROOM_FLAG should always be set after load of saved game.
Other VAR_ROOM_FLAG setting in scumm5 specific.

svn-id: r14332
"
"dc6541dedbbf16f95cfc62a34d4b69a9e6e3344f","2004-07-26 05:40:23+00:00","Fix darkness issues in Amiga verisons of FOA/MI2.

svn-id: r14333
"
"e256033622af0cd0afda6bd4d6127a90880d4ee1","2004-07-26 06:23:47+00:00","Amiga versions of FOA/MI2 should use a VAR_VIDEOMODE value of 82.
Fixes all palette issues.

svn-id: r14334
"
"1d31aff18ee3402a06f425c4a2964fe34a8c4ae5","2004-07-26 11:49:41+00:00","One last hack to allow demo script in V2 Maniac Mansion.

svn-id: r14335
"
"5c2a7a7775e30bfca78748124082131c0c0b36d9","2004-07-26 13:53:24+00:00","Cleanup

svn-id: r14336
"
"f8e0fb18ba5101dad5792506bc198f518623e8f4","2004-07-26 14:10:42+00:00","Ooops, adjust for start value.

svn-id: r14337
"
"c460aae163fce421c0d3427e7b31e5a88e1e5686","2004-07-26 14:11:27+00:00","Ooops, adjust for start value.

svn-id: r14338
"
"f28adf7a6c57e16f97d97bd1e919eaaf591d09a4","2004-07-26 15:14:10+00:00","Keep compatbility with older saved games.

svn-id: r14339
"
"2fedf7d285e01bfade39ce907400614cd7e13812","2004-07-26 16:41:57+00:00","I shouldn't be mixing cleanups and bug fixes, but I'm doing so anyway, just
this once. :-)

The parameters to drawLine() aren't clipped to the screen size, which meant
that it was accessing memory out of bounds when marking the screen as
dirty. The function now uses plotPoint(), which does the bounds checking
and screen dirtying for us. Apart from being a little easier to read, it
dirties only the parts of the screen the line actually passes through,
instead of a rectangle defined by the line's end points.

Since drawLine() is only used for debugging, I wouldn't consider this a
particularly serious bug.

Next change is that only the pixels inside the original parallax layer are
considered when creating the block surfaces. This may make the drawing
slightly more efficient, since fewer surfaces will be labelled as
transparent.

Plus some other minor cleanups.

svn-id: r14340
"
"17ec7c5d6abdbaba0fa55023ac896ff560315e46","2004-07-26 17:06:39+00:00","Turn various File class methods into virtual methods, to allow overloading

svn-id: r14341
"
"f045cbf17c8e489e37f9a2f5f72137e82c1c9a42","2004-07-26 17:14:57+00:00","Add support for the mac (rescumm) container file format used by Sam&Max and DOTT, making it possible to play those directly from the original CDs (no game detector support yet, so you have to add them to your config file manually for now)

svn-id: r14342
"
"580870e9ba36125e24075874907572d1c109adad","2004-07-26 18:11:55+00:00","Fix label width; properly distinguish between a global default extrapath/savepath, and a target specific one

svn-id: r14343
"
"f8f312f0bb41ae0cf96b4ff616c99ead7748a753","2004-07-26 18:13:53+00:00","Add game detector support for the Mac SCUMM container file format; add support for more of the games/demos using that format; clean up detector code (and probably introduced some regressions in it, so watch out :-)

svn-id: r14344
"
"1db27f0203198137118241c944ba408ca98d6bc6","2004-07-26 22:53:29+00:00","slightly more informative error messages in class File

svn-id: r14345
"
"908723cc84b78fac6320e1613069e2a9139f2722","2004-07-26 23:15:01+00:00","Load SMUSH files and NUT fonts from mac container files, too (done that by adding a new high level method openFile to class ScummEngine)

svn-id: r14346
"
"1ab8ff040389a7125ebe2873f865b4eb83cfa0cb","2004-07-26 23:16:37+00:00","Fixed leak in Insane::readFileToMem

svn-id: r14347
"
"213e417315cb05de41ca408ae96917b0e8fbd059","2004-07-27 00:13:38+00:00","some syncing with 0.6.x branch

svn-id: r14348
"
"bd88e98c9cb4c1b8d853cb0603254eee30a3b8e3","2004-07-27 00:37:11+00:00","Updated README/TODO/NEWS

svn-id: r14349
"
"f734014fd2ce201f1fbec340d09d5695305a649e","2004-07-27 03:47:56+00:00","Add support for speech in demo.

svn-id: r14350
"
"c8cbe16c7a4758d161abd31a311c6540b6355543","2004-07-27 07:21:28+00:00","No need to calculate values

svn-id: r14351
"
"3cf5c78c42a287a73ddd6ddb82f9c455f83c5309","2004-07-27 12:16:03+00:00","Given Makefile now depends on the configure script output move these default parameters out to the configure script

svn-id: r14352
"
"49c9929d5435ae5454c0abafa7bbc1f942b53203","2004-07-27 12:37:03+00:00","Not needed, invalid in Loom[ega]

svn-id: r14353
"
"d1616e1cb5957179c50103f31bb4c0eaa3a48fa9","2004-07-27 13:21:52+00:00","Add passthrough ability. Patch by Christian Schoenebeck with slight modifications

svn-id: r14354
"
"a50b6cf776304f2c405679ac1fec8f9cd18fb7b9","2004-07-28 11:56:14+00:00","Add patch from madm00se for:
#869003 MIVGA: Guybrush shrinks & grows near end of game

svn-id: r14355
"
"b486e15959b3e46c066fb85f7b27e11bc02ce3fb","2004-07-28 12:05:30+00:00","Ooops

svn-id: r14356
"
"c6b037b9ed7e9bac002b458f57538ca6c4d6b730","2004-07-30 09:00:29+00:00","Reduce simon 1/2 targets
Add auto detection

svn-id: r14361
"
"130910a380836c012fb4bcc1632701423faf69a2","2004-07-30 09:15:18+00:00","Ooops, make sure feature flags are updated.

svn-id: r14362
"
"86a0b290817fc5a9601036dec24e92dac65568a4","2004-07-30 09:36:42+00:00","Correcxtion

svn-id: r14363
"
"d89d729725c054c77980ec5a38db10502101c19f","2004-07-30 10:23:14+00:00","Add a few more.

svn-id: r14364
"
"b33331acde104f630a465a62fb184c62c90dbf2b","2004-07-30 10:37:01+00:00","Update Simon 1/2 target details.

svn-id: r14365
"
"069f5f839a3d2891dc3013db9d4c611465fdf506","2004-07-30 11:02:47+00:00","Re-use old md5 hack to gather checksums from users.

svn-id: r14366
"
"d5b1a7cacaa019af4aa22631c291d1b687ccc151","2004-07-30 11:18:49+00:00","Add a few more

svn-id: r14367
"
"b0c3b8838f79c7c1a16a92ec601797361beb61f8","2004-07-30 11:47:27+00:00","Switch detect filename back to prevent conflict for now.

svn-id: r14368
"
"9ae69f7590e5dad52f7a2ff5e4c4c13a2f52f044","2004-07-30 12:14:11+00:00","Add two more
Leave out Acorn details for now

svn-id: r14369
"
"1e54e2471f3ef249f9328693b543526c4e7459ed","2004-07-30 20:05:24+00:00","fix subtitle alignment

svn-id: r14371
"
"be6da23092863532f0778cc20a1ec10bc545d7fe","2004-07-31 01:16:56+00:00","Update

svn-id: r14372
"
"e7d9bdbee372e8268e34f9f54c46b257e7e805ba","2004-07-31 08:55:08+00:00","Avoid gcc warning

svn-id: r14373
"
"02e6d64ee7c25aa81255510bf86bf3d32973cc52","2004-07-31 09:31:15+00:00","Less irritating place for this message

svn-id: r14374
"
"cef2de6a691288d26f9bdba912fdfa373ffa204e","2004-07-31 09:34:10+00:00","Fixed bug #1001069; clarified/simplified some error messages

svn-id: r14375
"
"6d52fbe0b10bba3e8ae5f328bb186f8048bc0c8d","2004-07-31 10:14:05+00:00","Add support for Russian Simon1.

svn-id: r14376
"
"7a6ab7e85e316ac599949afd294446aa11cceb74","2004-07-31 10:18:10+00:00","Update

svn-id: r14377
"
"e5ab6c0284bd16452b20203d6ee025fa762789a1","2004-07-31 10:22:04+00:00","Update TeX README, too (the drift is gonna kill us... hopefully the new manual will be there soon :-)

svn-id: r14379
"
"6d0c7755770dc265daa2cb8784a39b840ba4f691","2004-07-31 10:28:22+00:00","Add my recent changes.

svn-id: r14380
"
"4f0f6abdd519b3313972507b1bf93a8c5ef44b68","2004-07-31 11:09:07+00:00","updates to the man page seem to be made even less often than the TeX

svn-id: r14381
"
"76bfd1f92925bc708bec2b970a7e0b1b1a6668d8","2004-07-31 11:32:25+00:00","Allow Alt-Enter to toggle fullscreen mode, just like Alt-Return, matching our README (see also bug #1001126)

svn-id: r14382
"
"4b6dae31eb9dd30c996eb5d428460f26f9c77b40","2004-07-31 11:46:58+00:00","changed loadVOCFile to work on a generic ReadStream instead of a File, and renamed it to loadVOCFromStream; removed readVOCFromMemory as it isn't used anymore, and in the future, a MemoryReadstream plus loadVOCFromStream can achieve the same effect

svn-id: r14383
"
"020d0d22869e0dc9ecff1e1d906193eb133aea56","2004-07-31 12:33:05+00:00","Add better note about Simon 1/2 targets changing.

svn-id: r14384
"
"c7d6425a386a046189689e54b46f34b38fe19b32","2004-07-31 12:37:36+00:00","remove YS_IGNORE_PARAM macro and some uneeded yslib.h includes

svn-id: r14385
"
"387c8abeda132d601918e1bb34ba46e997985616","2004-07-31 12:39:26+00:00","update comment to relfect reality

svn-id: r14386
"
"d53a852c16c45bc75861ce793171cd37436e3ad2","2004-07-31 12:46:30+00:00","enable SAGA engine by default

svn-id: r14387
"
"59c88e428b044914fefc48fa6c7bc1e3ac569de7","2004-07-31 13:34:43+00:00","merge animation.h and animation_mod.h into a class

svn-id: r14388
"
"52918b919730f29b22632ffba54dcb49a731ab04","2004-07-31 13:36:06+00:00","no longer needed

svn-id: r14389
"
"6038cf68ada2495c7335a771df4ad0e9652a877b","2004-07-31 13:44:23+00:00","Add xref.txt to saga module, though it's empty.

svn-id: r14390
"
"6e6edb8c0d13f24f14c315bae25088a6b2226c7a","2004-07-31 13:49:26+00:00","Objectize image.cpp

svn-id: r14391
"
"aa62bc65eec48fe1961d9456cc83103085c233da","2004-07-31 13:56:04+00:00","Auto convert old Simon 1/2 targets

svn-id: r14392
"
"62bcb7975f0312488342344baa343421f616f255","2004-07-31 19:10:47+00:00","Fix warning (static functions are source/object file local; declaring them in a header makes no sense anyway :-)

svn-id: r14393
"
"2060a9475d30f2275b3ee7a464f4246e0b9826f0","2004-07-31 20:50:34+00:00","Rename some more functions to fit our naming rules

svn-id: r14394
"
"c5836541fe4632792f6c7dbab8f01bf0459c03c3","2004-07-31 23:00:48+00:00","Objectize render.cpp

svn-id: r14395
"
"f0d6fd8c5ac3bf144eef93f146e9c056321e11db","2004-07-31 23:20:37+00:00","isGlobInMemory == isResourceLoaded

svn-id: r14396
"
"46a1c45d70bbfb6654a9c13e26949a4543d17e80","2004-07-31 23:33:14+00:00","Extended CVAR_RegisterFunc with callback object parameter.
Got rid of static structure in animation.cpp

svn-id: r14397
"
"7f5f1c141810ae83350bfcbafa24632a88363aca","2004-07-31 23:34:07+00:00","Fix for bug #941275 (FOA: Game crashes when clicking statue part (Sentry Statue))

svn-id: r14398
"
"d530fc76961ee75e68179a40e5282cb0efa2954f","2004-08-01 00:03:45+00:00","Objectize actionmap.cpp

svn-id: r14399
"
"f1cfbe9065bece88d167af9e9dc33c007cd53616","2004-08-01 00:07:17+00:00","Forgot to implement destructor for ActionMap

svn-id: r14400
"
"98ea92322b39371394f2ad098f370a074b6a9ec9","2004-08-01 01:19:54+00:00","Fix for bug #953302 (COMI: Crash when you choose Rottingham as your first oponent); this would be suitable for the 0.6.x branch, too...

svn-id: r14401
"
"862b096f99f383daebbd286f4c6e505e4f50ec1d","2004-08-01 01:21:26+00:00","Cleanup & enhanced error messages

svn-id: r14402
"
"5e3236ac47bcda486642753480b96e6d9848bc54","2004-08-01 01:54:37+00:00","Add symbolic names for the array types, which makes the code easier to read/understand (note that array types != res types)

svn-id: r14404
"
"182dd48bd4bf3f1c0bb0e6cf7d208fbe961cf7fa","2004-08-01 01:56:22+00:00","merge reinherit.h into saga.h and gfx_mod.h, note the error loading animations wasn't caused by this commit :)

svn-id: r14405
"
"c87d33a1028afbf45eb8785021d51ffa0051baf4","2004-08-01 02:03:07+00:00","More array code cleanup

svn-id: r14406
"
"2d5bfca892f613ea752425215bb2fa82e6552354","2004-08-01 02:07:57+00:00","Even more array code cleanup

svn-id: r14407
"
"4b4ab244b1d114fd4740a7dd724924bd42b5a8a3","2004-08-01 06:52:56+00:00","Correct default settings used by COMI
Allow object_labels config option in COMI

svn-id: r14408
"
"d4c84fefdec61200a0f6eeac4d75fd28f16b9970","2004-08-01 07:23:36+00:00","Initialize Anim object properly.

svn-id: r14409
"
"e20d53a8692cde23f9057088bb9a3a2d7b986f1e","2004-08-01 07:32:27+00:00","More correct Anim destructor

svn-id: r14410
"
"2ed2770eed6c9b60966d31f1c8151c283b881fd9","2004-08-01 07:37:42+00:00","Yet more proper memory free'ing

svn-id: r14411
"
"890d66708732ffd5b8d952c7b5831745bd0418d5","2004-08-01 07:41:15+00:00","oops

svn-id: r14412
"
"6a2e05edb8ac8c1e1cdbcfdcc9d42dcf2a2584c9","2004-08-01 07:50:28+00:00","More tweaks

svn-id: r14413
"
"bc900fde60f53601c100be5a2c994ae160441d9f","2004-08-01 07:56:08+00:00","init some member vars

svn-id: r14414
"
"5833e67076fa17130d720cc1765893034f721fce","2004-08-01 08:45:40+00:00","try to stop the abuse of MemoryReadStream (ie actually delete the memory when we're done with it)

svn-id: r14415
"
"69cf6a070a927ef17932f6d4303460ed5e867668","2004-08-01 09:15:12+00:00","move sceneproc.cpp/h into scene.cpp/h

svn-id: r14416
"
"4ef4583523df87d0db73aed58b5d0a4145affa2e","2004-08-01 10:02:41+00:00","Oh the beauty of stack based objects: they free themselves automatically, so you don't leak them all the time (fixed 10e6 object leaks :-)

svn-id: r14417
"
"12e1c4711bc9a4e56096a6a7ab38c3146eccd35d","2004-08-01 10:48:11+00:00","prune uneeded code

svn-id: r14418
"
"0bbeb61f5e74437c2105b0aff042caeacb34bc8d","2004-08-01 11:48:53+00:00","merge gfx_mod.h into gfx.h and stick functions into a class

svn-id: r14419
"
"c8d90189093bb270a9ce1abf7bd47e125a7732bf","2004-08-01 12:06:12+00:00","init _gfx in a less hacky manner

svn-id: r14420
"
"f97621d6e4d620212c5b7071ae8841d0e361709b","2004-08-01 13:29:39+00:00","Remove unneeded code

svn-id: r14421
"
"ea694ffd68a5071fda937b3d23d6796c3abb3ba3","2004-08-01 13:34:20+00:00","Pass SagaEngine object to Anim and ActionMap objects

svn-id: r14422
"
"d60973b05e9c607b46edaa45b56b86953d7d079d","2004-08-01 13:57:00+00:00","HE games use different method to clear some arrays resources.

svn-id: r14423
"
"48cddda4b9728353317def35d0afd5e33f7a5bc1","2004-08-01 19:53:29+00:00","move SDATA_* into seperate class

svn-id: r14424
"
"4aaea2131e510e635a6ff34bece7057e908cf3f0","2004-08-01 22:48:40+00:00","create Script class from SCRIPT_* and ScriptModule

svn-id: r14425
"
"936142bf40a75e61e629fa5370f5b83be97d62ca","2004-08-01 22:52:45+00:00","rename load() to loadMap()

svn-id: r14426
"
"873c886910f43cce67cfaf25e671c4adc70ebb7b","2004-08-01 23:24:22+00:00","Made all MemoryReadStream local variables. This plugged a giantic constant
leakage in the engine.

svn-id: r14427
"
"2a7f8854777318edab70ec00164424a79572f721","2004-08-01 23:47:19+00:00","Clean up Script class a bit; add get/set functions

svn-id: r14428
"
"6214ae34246552105da50d9f3a468bef209c65d8","2004-08-02 05:01:28+00:00","Allow SAGA engine to be disabled.

svn-id: r14429
"
"c5446494b848c5cb3ede7a6b17f5c85efa6040ad","2004-08-02 05:09:53+00:00","Should have limited that to HE games only.

svn-id: r14430
"
"cace3577d9d60cf714f9f5b41fe81b6a90426614","2004-08-02 06:21:00+00:00","init _arraySlot

svn-id: r14431
"
"8ab743e39722c58ee0033865003f1e0f56fbe76f","2004-08-02 07:47:05+00:00","Missed a line

svn-id: r14432
"
"faaea905002c1c2ca4d243ae259b69de5a3ef4d9","2004-08-02 07:49:20+00:00","Opcode BD is stopObjectCode() in HE games.

svn-id: r14433
"
"7846a6ed610a59440337d2f2be33c34faf766e34","2004-08-02 11:27:50+00:00","move static vars to private members

svn-id: r14434
"
"e5a59beb826e062b8ec845df8d0e72fd360798ab","2004-08-02 11:37:07+00:00","Cleanup

svn-id: r14435
"
"910a390ae7065eb3f54e5f378eefec8f1f8746e0","2004-08-02 11:53:33+00:00","Remove pointless delays

svn-id: r14436
"
"e4c813670f4eb003505d72b6cc0f18f1f4bb1137","2004-08-02 12:41:40+00:00","remove timer wrapper functions

svn-id: r14437
"
"b127f1882c5807ec1510208f063ab12121a88dbc","2004-08-02 14:27:10+00:00","Fix regression in HE. It cries for proper fix, though

svn-id: r14438
"
"632612680b894f21653379e0754f8123a83bc3e2","2004-08-02 14:51:48+00:00","move isomap into a class

svn-id: r14439
"
"dcf5805440ab116df9918d63de4ef8a6300b7268","2004-08-02 15:44:18+00:00","create objectMap class

svn-id: r14440
"
"98816ad3aeed38dbce2f3d1c9b4d7baa64bd6bd6","2004-08-02 15:47:42+00:00","Objectize actor.cpp

svn-id: r14441
"
"79e2af87877095b317ad47cf2f42cf10a38fd6aa","2004-08-02 15:53:33+00:00","no longer needed

svn-id: r14442
"
"166b05aed4c6431c6c4b19a87c94646498ed1e99","2004-08-02 16:20:35+00:00","Fix #include paths.

svn-id: r14443
"
"527c1cd200dbdcebac3cd141c8733cdb4e694948","2004-08-02 17:09:31+00:00","Workaround for bug #999122; this will fix config files which were broken by the 0.6.1 release

svn-id: r14444
"
"76862bec654c8362a17afd2d71c00015b87dc83e","2004-08-02 17:55:14+00:00","Fix for bug #896060 (DIG: Two sentences spoken at once); might cause regressions, watch our for speech related quirks in COMI/DIG

svn-id: r14446
"
"4289da7d3eb6be36ab02e3c7549b76fc0dd45f88","2004-08-02 18:32:19+00:00","WORKAROUND bug #645711 (FT: regression segfault in minefield)

svn-id: r14447
"
"8585d77d34317412dbacbac058d704b98b8a0a78","2004-08-02 20:55:35+00:00","WORKAROUND for bug #985948 (INDY3VGA: Lockup during conversation with drunken nazi)

svn-id: r14448
"
"fe1ab79beeec83d156572c12a8f3e1cb874d7d7d","2004-08-03 00:06:18+00:00","Move FONT_* to class.

svn-id: r14449
"
"415400f24e4041298ebd2b084f8fa4a32ea4e7c7","2004-08-03 00:40:16+00:00","Move TEXT_* to SagaEngine class.

svn-id: r14450
"
"b197c3dac8e9872f188ffea80c069f4862e64fe0","2004-08-03 01:07:34+00:00","Move SPRITE_ to a class

svn-id: r14451
"
"ab326af54e97206e88e53a95009345150f6b7bbb","2004-08-03 01:12:08+00:00","Rename some class variables in Font class.
Fix compilation.

svn-id: r14452
"
"fd2e14f33c92d15fc49157d435aa9b80b1983bb7","2004-08-03 03:18:51+00:00","Add invalid version used by French Simon2

svn-id: r14453
"
"55c291a9b7499e287ffc1a20390891c2cf9f4ef8","2004-08-03 04:26:30+00:00","Shouldn't error out in early scumm 1 - 4 games.

svn-id: r14454
"
"2b1c98b6ea067013cc479fedfd2868240eb11343","2004-08-03 09:46:38+00:00","Add comment

svn-id: r14455
"
"5e7d2494bb65e47326d47ebcec3e6a62193986a0","2004-08-03 10:11:54+00:00","Update comment

svn-id: r14456
"
"11078570dcd3a5be520cdc84223674411a08f088","2004-08-04 18:07:57+00:00","Move state static variable to appropriate class

svn-id: r14462
"
"51b5acfc9c30cf656d6ac380cc6cce7a1a9938ff","2004-08-04 20:28:57+00:00","Move SCENE_* to class.

svn-id: r14463
"
"5d42e7d7ced13172f09aca4b2837e8f6a57c26ec","2004-08-05 02:04:34+00:00","Small correction from FT disasm.
Add some basic support for INSANE in PC version of FT demo

svn-id: r14464
"
"89f838be67715f9bcaac3e4eea2c65368f81a145","2004-08-05 05:35:43+00:00","More difference in INSANE of PC version of FT demo.
Some sounds work now.

svn-id: r14465
"
"c6dcbd8eca34f021f67a86baf74233e4cebff6a1","2004-08-05 09:32:03+00:00","Use array slot and not array number.

svn-id: r14466
"
"b569d58b6ee79d41e9135dd7d3763d4514e7954e","2004-08-05 09:57:36+00:00","Aargh, my work around code was using a wrong check, and then using the wrong operations (which were effectively not doing anything)... Fixed the workaround code, which cures bug #918280 (and its dup #1003717)

svn-id: r14467
"
"b154e524a9b8e862dbf34e868264ab8d11f21066","2004-08-05 11:03:22+00:00","Correction from disasm.

svn-id: r14468
"
"61bf615168d1619f97d00ed7b08ea4a92c916732","2004-08-05 11:10:27+00:00","Try the current dir last, not first

svn-id: r14469
"
"b4223febd350ffaa2265570669e88a30642c4ca1","2004-08-05 11:13:00+00:00","Enhanced extrapath support

svn-id: r14470
"
"6b463e99076207f16d02b8f23c7894cb94eb7107","2004-08-05 17:25:54+00:00","not needed anymore, as File::open() handles the current directory

svn-id: r14471
"
"aaf6da02dbff2cefd520122e00859f094ee44e3c","2004-08-05 18:10:34+00:00","simplified some code

svn-id: r14472
"
"a1480ba0689cd45c0c6b4a0dfd5e68de190b12a5","2004-08-05 18:17:39+00:00","forgot that

svn-id: r14473
"
"378491faf90470ce8daf746c9720594c053b36ee","2004-08-05 20:14:43+00:00","Fix for bug #908434 (COMI: Using the ventriloquism book on Blondebeard acts weird)

svn-id: r14474
"
"137f0e4ca3910beccca28a028b785247a380c209","2004-08-05 21:25:58+00:00","Disable this workaround for COMI, as it causes a regression there. Actually, maybe we should just remove this again completely; we can 'work around' it by allowing more obj name resources, ultimately...

svn-id: r14475
"
"ad1ab2cb620198329f8b3d677b3c872a7de3d03a","2004-08-05 22:10:42+00:00","Fix a small overpainting issue, visible in some of the COMI dialogs

svn-id: r14476
"
"602cd289f37425582355edcd2168f2a7c9087659","2004-08-06 01:39:17+00:00","Move INTERFACE_ to class.

svn-id: r14478
"
"2c0c065fe4b065d980f43bd9ca0598cebf2272d6","2004-08-06 01:43:57+00:00","No longer needed.

svn-id: r14479
"
"fac44fbfec7eea4dfa8ca5315d6c51c0368946a9","2004-08-06 02:10:23+00:00","Set cemera default values for scumm7 games.

svn-id: r14480
"
"e8a10c219e49cc1081bb44dad0439c053207760e","2004-08-06 06:19:14+00:00","COMI/DIG always redraws verbs too
Remove old var, no longer required

svn-id: r14481
"
"7e561d255542ab4991af1e77feafbe0351cd05d0","2004-08-06 09:27:53+00:00","More PC FT demo INSANE differences

svn-id: r14482
"
"f0d7ee966b519563fb25f8ab448ecf62fb7262e6","2004-08-06 10:03:49+00:00","More PC FT demo INSANE differences (Weapons)

svn-id: r14483
"
"79f235ef269b8c01dc7dff5b43a80c755fbcdb61","2004-08-06 11:28:33+00:00","minor cleanup

svn-id: r14484
"
"2d7273671fd61a9e3d99e197925daddc1b45da53","2004-08-06 14:20:15+00:00","Minor correction for actor rooms.

svn-id: r14485
"
"fe4b535d6f48982764dd85d7fbc6f726ac5826dd","2004-08-06 14:43:43+00:00","More PC FT demo INSANE differences (Costumes)

svn-id: r14486
"
"a7b610b25b5035962e5ee27610e49c1a5d2e5172","2004-08-06 15:55:12+00:00","WORKAROUND bug #903223 (COMI: Guybrush reads church clock incorrectly (German))

svn-id: r14487
"
"8b0e9502ec706cc82b05c216801ac0fd0a46d7fd","2004-08-06 17:01:58+00:00","cleanup and simplify Resource class a bit more

svn-id: r14488
"
"f8a006952b851b9eee3f6478afcba26c3e82257e","2004-08-06 17:07:21+00:00","forgot to reset dynalum color index during init

svn-id: r14489
"
"f697beafedd7aa7d192a5d8b58684cd5201044ce","2004-08-06 22:14:48+00:00","Cleanup; added ugly workaround for bug #901462

svn-id: r14490
"
"7f574d4e8ef8611dd3f3d3aea6704618980fb3fb","2004-08-06 23:02:13+00:00","Make the global savepath button match the look & feel of the 'local' one; fix bug #916498

svn-id: r14491
"
"69ce0c29bfa90cd166b6f360a62be8a5f9ed558f","2004-08-07 00:59:56+00:00","More PC FT demo INSANE differences (Sounds)

svn-id: r14492
"
"dedcd3e99a149e4a2296a5d813bd39adc9c7aab5","2004-08-07 01:25:53+00:00","More PC FT demo INSANE differences (Sounds)

svn-id: r14493
"
"d098727ce304a32308a65e5599db4bd2e3fd6142","2004-08-07 02:03:40+00:00","PC FT demo INSANE actually used a combined actor02Reaction/actor03Reaction

svn-id: r14494
"
"3ae46890df9b965d80620ad5af01969ab77760a9","2004-08-07 05:57:51+00:00","Ooops

svn-id: r14495
"
"b53c75561ee8f0c7c5b55b61325076795a90f1fe","2004-08-07 06:07:31+00:00","Wrong value

svn-id: r14496
"
"078e195d0fb73eaff3d57ef906b1afcf0f518384","2004-08-07 07:40:39+00:00","Update

svn-id: r14497
"
"cb8b522bdca526e85321884a0e36bc299a419f6d","2004-08-07 08:31:56+00:00","Correction my earlier mistake

svn-id: r14498
"
"11329c0e932109e5da82f64d751b37ffc63bc0f2","2004-08-07 09:18:41+00:00","Always clear weapons in INSANE of PC FT demo

svn-id: r14499
"
"7811b898ae72273e3ed4326ef640890737e74e6b","2004-08-07 11:52:11+00:00","Re-arrange code to allow second INSANE in PC FT demo to work

svn-id: r14500
"
"d88a9c21d6ba47776c059037f11d9112752c11e1","2004-08-07 14:09:44+00:00","Added 0.6.1b NEWS items

svn-id: r14501
"
"2a9c6f6d5f5d3ee5a4218cd2da765b34345c33d8","2004-08-07 16:04:43+00:00","Base our advmame scalers on the official Scale2x source - this way we can easily update to new version and benefit from their optimizations (e.g. MMX support)

svn-id: r14502
"
"0f6242dfafd34ee228c0bf0f5e856eae9320acb5","2004-08-07 16:23:16+00:00","should be 16 not 8

svn-id: r14503
"
"f122dd6fb3f91600e1eeb1c7361ab0f341397807","2004-08-07 16:47:25+00:00","Fix scaling of the borders of each given rect (for non-ASM version)

svn-id: r14504
"
"db6e7ae2caac16c1babe1ef53d0fea0eac581c5c","2004-08-07 17:21:53+00:00","centers the scaled bitmap and fix the scaling of borders for ASM version)

svn-id: r14505
"
"41288cb8e08c88d0e9d9ffc90f7c187b1a97efa3","2004-08-07 18:17:09+00:00","Init _compInput (prevents bad free)

svn-id: r14506
"
"1134ea5c85ee9a199886730abe8a1d3e977b9394","2004-08-07 23:49:34+00:00","Fix compile for now, include doesn't exist in mingw.
Should be checked for in configure

svn-id: r14507
"
"d92d3b6b9a05d8c86ee68acc99a71b4279cc96d7","2004-08-08 00:47:38+00:00","insane skip tag is different in PC FT demo

svn-id: r14508
"
"0a89fea43b6c4a38fd4317c6a2eda01c0f8df03a","2004-08-08 02:21:26+00:00","Non-interactive INSANE sequence in PC FT demo works now.

svn-id: r14509
"
"f3ddfd4080bee44d23b6bdbb0e32a5c151e83383","2004-08-08 03:12:23+00:00","fix compilation

svn-id: r14510
"
"bbebe291b247bea25aa5e099879eabfdf254bd02","2004-08-08 04:39:27+00:00","Correction from FT disasm.

svn-id: r14511
"
"3d4054c793043b71c2647c0f02fbc7a118662bee","2004-08-08 10:03:55+00:00","Added suggested hack for bug #556558, which was bug in original game.

svn-id: r14512
"
"90b209449c6fcfde262c6d891504d1d5b2ac849e","2004-08-08 11:43:54+00:00","Update comment

svn-id: r14513
"
"ff471a3fefbc27befc8c99b413f6a1d530dad2f0","2004-08-08 11:44:42+00:00","No longer required

svn-id: r14514
"
"83600ac7316869843b15e0f464eebc41ec202149","2004-08-08 13:23:31+00:00","Removing annoying debug messages

svn-id: r14515
"
"6772f1d358c1d9a44c6aafd649d34dbea06bece0","2004-08-08 13:24:41+00:00","Moved some code out into a separate function

svn-id: r14516
"
"cebd4a24cb9be98930caa6ab42b2b9b7ac644c7b","2004-08-08 15:22:47+00:00","Remove orphaned TODO

svn-id: r14517
"
"87756c9f46fab0b97e54858c89be68ce0c49d03b","2004-08-08 15:28:37+00:00","Updated TODO list

svn-id: r14518
"
"5564f36b0e762164d1e6fda5e804723266f8e9ae","2004-08-08 15:45:58+00:00","Slightly optimiized Normal2x

svn-id: r14519
"
"f8cc6c22416c0e9615abfdd98fc2e86852e897a9","2004-08-08 18:03:52+00:00","Initialise variables to stop the ITE intro from crashing.

svn-id: r14520
"
"835ef5f0127718959425dfdd7c123cf14ce13829","2004-08-08 22:10:38+00:00","Patch #1003866 (SCUMM: New text rendering code (fixes various bugs))

svn-id: r14521
"
"312e4047dcea65e202fdb24f86cb4a1eb5ba08b1","2004-08-08 22:39:07+00:00","Remove these warnings -- no reports came in all the time anyway, and things seem to work fine

svn-id: r14522
"
"809c3bd943df6a180ba40e015e01394a51a3da86","2004-08-08 22:44:15+00:00","Fixed variable access in the debugger

svn-id: r14523
"
"dc476abe6021806a8cc30935c91ffabb8e766829","2004-08-09 00:58:21+00:00","Fix bug #780922 - SAM: Conroy doesn't stop singing when escaping cutscene

svn-id: r14524
"
"d63d23ed077eb958e3dbdb6d760fe4b75af258de","2004-08-09 01:07:48+00:00","Add patch #999887 - Possible fix for bug #998276
Also saves _currentMusic

svn-id: r14525
"
"599f9382d76b842a18231a08f5e9c4584081c9db","2004-08-09 02:35:30+00:00","A few more correction for INSANE in PC FT demo

svn-id: r14526
"
"a6e1eb9c95d1791bba853c8da85466895ea12be4","2004-08-09 03:21:51+00:00","Better method, shouldn't be used in PC FT demo.

svn-id: r14527
"
"87f1cd48d62cf8147bd06cda941fdf9370a269f0","2004-08-09 23:22:29+00:00","Fix for bug #902387 (MANIAC64: Graphical glitch when Space Police arrives)

svn-id: r14528
"
"2481ebf89615166f0c268672c083369b76040cb5","2004-08-10 02:04:15+00:00","Fix a few remaining graphic gliches in V1 games

svn-id: r14529
"
"ca181299d5cf7d1eea5803da6db1c85796406c91","2004-08-10 02:13:25+00:00","Should be 8 pixels for V1 games.
Fixes actors been cut off too early when running off left side of screen in last scene of demo mode of Maniac Mansion.

svn-id: r14530
"
"2c1c5d655de946cf136428bd51f92689244e5834","2004-08-10 02:17:34+00:00","Remove old unused and unneeded function.
Update comments

svn-id: r14531
"
"36846f537af3e14f3065e7f35003f5fd090d72d6","2004-08-10 02:19:16+00:00","Limit to old saved game only.

svn-id: r14532
"
"e97b0a02ebc7fd32bdc7fd6bf299265c74e9e57b","2004-08-10 02:21:27+00:00","Update SCUMM issues

svn-id: r14533
"
"9754794e021b749d9ca6e4c07076c815cf7b0438","2004-08-10 04:23:58+00:00","Few updates / rewordings

svn-id: r14534
"
"d42e2af68a85d247bedaedc64e8d421fd8ba70c4","2004-08-10 06:13:25+00:00","Correct verb order

svn-id: r14535
"
"039e6dc8dbb6e585684dd9cd37d8f412e0c72a53","2004-08-10 17:46:04+00:00","Relaxed the assertion for the 3x scaler a bit. Since it uses pointers to
uint16, it should be enough that dstPtr is even; it doesn't have to be a
multiple of four.

The old assertion failed for me when I used the 3x scaler without aspect
ratio correction.

svn-id: r14536
"
"0f1c83f1e76297302fb4ed58b90113a99ee0baec","2004-08-10 18:09:00+00:00","Document that 'windows' is a valid platform setting.

svn-id: r14537
"
"632042dae47246ba313b7375831349f197b03678","2004-08-10 18:31:33+00:00","Move CON_* to a class.

svn-id: r14538
"
"fe7ac87bc76ec6f0d99322d0089ff640a4564eaa","2004-08-10 19:00:30+00:00","Move EVENT_* to a class.

svn-id: r14539
"
"720ea20bed7c6c81af7e0ce41faeaee8c76ad2ce","2004-08-10 19:20:33+00:00","Moved PALANIM_* to a class.

svn-id: r14540
"
"390c4dccbbfbdfb1503882e5d97f956e07821433","2004-08-10 21:54:29+00:00","Fix by erik for bug #1006098 (FBDEMO: Subtitle regression in intro)

svn-id: r14541
"
"b8946e3cf4e784af1a45db17a0f1e97db742d519","2004-08-10 22:05:03+00:00","This TODO is DONE

svn-id: r14542
"
"9956666a7a3740d2732bb1bb76089eb66051073f","2004-08-10 22:35:12+00:00","sync man page

svn-id: r14543
"
"b13fc9f366d45736c3edd04399d2590aa2fb0cf5","2004-08-10 23:04:52+00:00","Improved intro. Now it correctly shows game title.

svn-id: r14544
"
"6e87774d33d966ca358a9145bbb30b9e68338496","2004-08-10 23:07:05+00:00","oops

svn-id: r14545
"
"f50f7e143836a41cd9a90e55e5b614791f7cdb38","2004-08-10 23:20:28+00:00","Update man page date, too

svn-id: r14546
"
"dfc04a7d237218c48ecc7eb6ed94b67c3d4c471d","2004-08-10 23:51:52+00:00","Perform proper clipping (this fixes some graphic regressions in The Dig)

svn-id: r14547
"
"6c060161e6bb4826de25b51a396c4ce768dc73f8","2004-08-10 23:52:19+00:00","Correct scene transitions. Now intro seems to be complete.

svn-id: r14548
"
"92f5c90b9adc6082231f1838dfe62dfd899ee988","2004-08-10 23:54:15+00:00","Added a FIXME, maybe Kirben (or whoever add this stuff) can comment on this :-)

svn-id: r14549
"
"4c97ea67d8d44fdf0555690152bf8c7b745c5f8d","2004-08-10 23:54:33+00:00","Close some SAGA items. (Note: reinherit never ran fairy scene)

svn-id: r14550
"
"aba3176b0edbe171ee1a73ee48b0aff18a81946a","2004-08-11 00:16:23+00:00","Correct ESC key behaviour.

svn-id: r14551
"
"57b158214949fbb24b37e23d0adeec2c52bbf86a","2004-08-11 00:27:43+00:00","Move CF_ commands to class and call them from wrappers. This will let us
remove global _vm later.

svn-id: r14552
"
"c0d8b6c47ad7d420179070b4652b2d563cea7dc5","2004-08-11 04:46:41+00:00","Add part of suggested cleanup to remove extra variable.
actorDrawVirScr might still be required in future HE games, see actorOps case 219.

svn-id: r14553
"
"c41b0ad99ae1beb9c2f769a226b339c198d41102","2004-08-11 05:08:28+00:00","A few corrections

svn-id: r14554
"
"23d5d1fb8235ced4e29bb0b771ba6aa972a46ad1","2004-08-11 14:04:12+00:00","Move SYSINPUT_* and TRANSITION_* to SagaEngine class

svn-id: r14555
"
"39137da10d4c8c18c0c0a6b30351459d1654a6c2","2004-08-11 18:02:03+00:00","Fix scene description structure data types and rename it.

svn-id: r14556
"
"ee70457667b7480226b3af3bf3047e098a0344c5","2004-08-11 21:49:58+00:00","Fix for bug #1007093 (GUI: removing game configuration from Launcher buggy); moral: either document how things work, or at least provide well named constants for certain return values... using the cheap way out here, i.e. method (b) :-)

svn-id: r14557
"
"94b377ce739c0640fe3f6ef70c087f7637bb73d1","2004-08-11 22:27:39+00:00","Handle fades in scene load routine.
Introduce immediate events.

svn-id: r14558
"
"f9b1c3991cf7ad7858d8f7c86a0b32cae88b25c6","2004-08-11 22:47:45+00:00","Start animations too.

svn-id: r14559
"
"a8ea40756fbd2e7d01751373ef64a3d0599f1811","2004-08-11 23:42:02+00:00","Move ITE_* and IHNM_* to Scene class.

svn-id: r14560
"
"f2c3731f7b0539a06e30868606e5e569be3d2936","2004-08-12 01:11:11+00:00","Launch scene start script.

svn-id: r14561
"
"bca746e80211d1b28cddcb7a5791d8dd20984f11","2004-08-12 04:19:47+00:00","Fix FOA regression I caused.

svn-id: r14562
"
"e31aa607306b7b32891d4dd65efe0c06e1c71793","2004-08-12 21:33:59+00:00","Fix compilation of remove_at() in array.h. It was never tested before.
Make stacks' pop() return top value, not just move stack pointer.

svn-id: r14565
"
"ec5d498703309e1bded1126442c361255d7226c8","2004-08-12 21:39:11+00:00","Drop SSTACK_ in favor of common/stack.h implementation.

svn-id: r14566
"
"cdb88416a850cea68baab90685c14aa1d7624111","2004-08-12 21:49:48+00:00","Fix bug in FixedStack.pop(). Returned wrong value.

svn-id: r14567
"
"3fe739efb24e72a97fd9212657cd692df8d97c90","2004-08-12 23:57:45+00:00","Merge SDEBUG_*, SF_* and STHREAD_* into Script class.

svn-id: r14568
"
"47c04ea4f72f0c8429b9437828ac0a5934396923","2004-08-13 01:02:24+00:00","Ooos

svn-id: r14569
"
"c7843dc1a51f8c1417c823b475acaedcc3e9a925","2004-08-13 06:10:39+00:00","Alignment fix for WinCE (fix bug #934343)

svn-id: r14575
"
"de6dc08463c199c062181bb0917314bef33bb3b6","2004-08-13 16:40:54+00:00","Apply Max suggestion :)

svn-id: r14585
"
"eae0ab3a9fac1849259928302b25e7085b06b7a0","2004-08-14 00:17:49+00:00","Fix for bug #1008621 and #1008622

svn-id: r14587
"
"a23e1e841da5ed2d53ab0c4a24dcc659b5170fb4","2004-08-14 00:24:12+00:00","FIXME comment regarding blitAlso charset rendering mode (which i believe is broken right now)

svn-id: r14588
"
"da8ad9d94b8a59f794268beeb72efb8280681b77","2004-08-14 01:16:53+00:00","Add suggested fix for bug #1008466 - MI1VGA: Guybrush not scaled properly

svn-id: r14589
"
"4d86651ae2d79474cd8c15a09e7557f50c913c66","2004-08-14 02:44:16+00:00","Check no longer required
Move palette function define back to correct place

svn-id: r14590
"
"66cb97e66b521ee52a0ec739580363572e2f6f9d","2004-08-14 03:16:32+00:00","Shorter check

svn-id: r14592
"
"2ec0c553a61ee56444046a10dae432100f7ea8b7","2004-08-14 04:10:29+00:00","Update HE issues

svn-id: r14595
"
"15e3d8cbe397c89db72602f94ca5ec12a64d670d","2004-08-14 07:04:31+00:00","whitespace

svn-id: r14600
"
"1756fcd60938e34e93d1218519345fce32924c0f","2004-08-14 07:52:08+00:00","updated

svn-id: r14601
"
"80bcaf8d0943ffcaa8f669fd773374877f7e1428","2004-08-14 08:13:24+00:00","updated

svn-id: r14602
"
"d62ff5dca7b9bb7009d4edc91c2e3f31863ecb7d","2004-08-14 09:10:14+00:00","fixed warnings

svn-id: r14603
"
"acc51d2e29ce2664ca44072dd584e5ee455fa6fd","2004-08-14 10:38:34+00:00","Fix verbs on computer terminals in FT

svn-id: r14604
"
"8bc615a3941d3e23c49cf7c73bf3a8257f59f5c7","2004-08-14 11:31:36+00:00","Fix loadCharset failures for computer terminals in FT.
Later games use slightly different code.

svn-id: r14605
"
"bc7b72f13dc075c3b221941c4f182a98d689715e","2004-08-14 11:49:01+00:00","Wrong order

svn-id: r14606
"
"239aa2b0629f4499279f79d52a2c955a9c17877f","2004-08-14 15:14:01+00:00","Renamed o6_unknownE1 to o6_getPixel; use vs->xstart instead of _screenLeft

svn-id: r14607
"
"171fac3895ccc4b91ec8e5be6880847a26696390","2004-08-14 15:23:44+00:00","Get rid of _screenLeft

svn-id: r14608
"
"90521f836f1f46be025b80800430ee2f020f62ec","2004-08-14 16:30:39+00:00","cleanup

svn-id: r14609
"
"40dcd61a4d3e390a63e8d692ad2481f9c3dcdc39","2004-08-14 19:11:20+00:00","sync with README

svn-id: r14610
"
"d5f20cacd7061b4cff302f5b4f50c61a14461425","2004-08-14 19:39:16+00:00","Fix regression in The Dig (object desc shadows had wrong color)

svn-id: r14611
"
"152a5e97fe5197a5494fdde8967301888f360d2c","2004-08-14 19:42:00+00:00","Modified VirtScreen to inherit from Graphics::Surface, and added getPixels()/getBackPixels() accessors (these changes make it a bit easier to implement smooth scrolling); also replaced some uses of rtBuffer by proper access through the corresponding VirtScreen

svn-id: r14612
"
"2deccf994969a896dfce6b07db478bcc3ec13d75","2004-08-14 19:52:20+00:00","Fix MI2 intro text colors

svn-id: r14613
"
"048c19ef70ad7f93e3762b4ed8e4d11ca16f8236","2004-08-14 20:02:40+00:00","Remove obsolete comment

svn-id: r14614
"
"b45b82a4a385715cc84708fffdb0ec0452c78875","2004-08-14 22:24:40+00:00","Updated from current md5.txt

svn-id: r14615
"
"5a6590ba7dcdc77f515fe98e83b9a2c03fcd864f","2004-08-14 22:33:13+00:00","minor cleanp

svn-id: r14616
"
"9f13a75c7949af79468305d32a4670cb78ef8208","2004-08-15 01:22:04+00:00","Fix Dig regression, small part of code was lost.

svn-id: r14617
"
"d8dbb063b52810535c9ed50e8b585d9df668e62d","2004-08-15 04:52:18+00:00","Add patch for:
#1009417 - scummvm crashes in first dialogue at sophia's flat

Verified via disasm. of original games.

svn-id: r14619
"
"4f4b5c713d07d6c1677c72e1847b9dfed7bb95d0","2004-08-15 07:40:09+00:00","Add missing code
Not sure where they are used though.

svn-id: r14621
"
"54a5e3612d6f62c1843c60b75f428376fa0de208","2004-08-15 07:44:57+00:00","Correct value

svn-id: r14622
"
"e27f2c559243ee316f96d9ee490d4757d981f3a6","2004-08-15 13:15:55+00:00","Removed some obsolete stuff; made switching to the alt font less intrusive (you only have to recompile a single file now); foundation for future run-time font switching...

svn-id: r14623
"
"0f142572f7e4ee643a462d22654a4f9dd9b2ee7a","2004-08-15 13:49:13+00:00","Allow char drawing with a custom font

svn-id: r14624
"
"bfe9c26a3d838d17c28eceac00c0e35cd5c6138e","2004-08-15 14:05:28+00:00","Changed the way NewFonts are instantiated (will make it easier to add multiple fonts)

svn-id: r14625
"
"c4884a1525640f03b57c32e1ea24938fd557e854","2004-08-15 14:13:31+00:00","oops

svn-id: r14626
"
"cb052da949eb752f7860b0cc11a1b920fff2ed08","2004-08-15 14:39:35+00:00","Use custom font for the console -> more information visible, helps when using e.g. the 'actors' command

svn-id: r14627
"
"6c484970598ed43f937c5066c671bae5419ff86c","2004-08-15 14:40:02+00:00","Show a bit less info so that the output of the 'actors' command fits into the console

svn-id: r14628
"
"784a786969980d66a8546af761a3adccabff5f65","2004-08-15 16:07:30+00:00","cleanup

svn-id: r14629
"
"b48c56875fcec1d6177279994f016850c53f8c78","2004-08-15 16:23:18+00:00","Fix potential OOB access

svn-id: r14630
"
"60a7d6062727c80ddf814e85af436beffc634472","2004-08-16 02:38:02+00:00","Init array

svn-id: r14631
"
"7cce3cec832317f8eb03ef10b8a81c3cbeaec458","2004-08-16 04:19:43+00:00","Set _language before checking its value

svn-id: r14632
"
"65f026732b069cfbb872edaa94c20cf142a84fe1","2004-08-16 04:37:58+00:00","Fix regression in HE games

svn-id: r14633
"
"a4ac4379689b5246722502bad7ef6ad737be36d2","2004-08-16 22:23:58+00:00","Yet another charset fix (should help bug #1008621)

svn-id: r14634
"
"bf7eae79327a63342dbb50288526d807cf1056c3","2004-08-16 22:24:24+00:00","Added another sanity assert (I got one crash in this sport while using a memory debugger -- likely a thread race condition

svn-id: r14635
"
"bb00a8b7bca7d7a8287704191af959aa894983cb","2004-08-17 12:47:03+00:00","This check is Sam & Max specific, doesn't exist in other games.

svn-id: r14636
"
"8d4c2fd9dd581dbf82845ac45913eec13d2a19f1","2004-08-17 13:09:20+00:00","Typo

svn-id: r14637
"
"bb62b07f4fbbe283a1c50169d0de752c2a4baa06","2004-08-17 13:52:18+00:00","Don't try to free text sprites with the memory manager - it uses standard
malloc() nowadays! (This only affected the 'dummy' player.

svn-id: r14638
"
"0b6a19d25dfbeebf8ed85bc83e9dc1621f8b55b4","2004-08-17 19:22:30+00:00","remove some debug information and fix bug #1010929

svn-id: r14639
"
"98aeb40968f1d0d94ebc081c439361a4f56da65e","2004-08-18 10:41:39+00:00","Causes name to be lost in the Dig too.
Only scumm6 games originally used this method.

svn-id: r14640
"
"5ef8aa4ed5461b545b5622503680daa0ad20667c","2004-08-18 12:20:26+00:00","Correction from disasm.

svn-id: r14641
"
"6ebe5ab30646a31d54c5896808388ae3ed2df3df","2004-08-19 07:25:34+00:00","Enable function

svn-id: r14642
"
"9fadfae98d859d762b1afd12d111d6246a846132","2004-08-19 11:16:55+00:00","Fix potential OOB read

svn-id: r14643
"
"e11787a494a2a7def5be1ba41cc4002de81f0c7e","2004-08-19 15:53:15+00:00","No need to manually check inside extrapath -- this is done automatically anyway

svn-id: r14644
"
"6a2306c9690a784ef03d9c98e84b673986b57feb","2004-08-20 01:26:56+00:00","Enable original method of skipping copy protection

svn-id: r14645
"
"02c5ffb639738b0ee609507619f761ce65693e82","2004-08-20 13:06:50+00:00","Update

svn-id: r14646
"
"cdd3397c29614901be2851135be598bd3cf05ce1","2004-08-20 13:37:50+00:00","Initialize variables (fix valgrind warnings)

svn-id: r14648
"
"2b47c12f7ae212573025764de4affbcda7d18458","2004-08-20 13:42:43+00:00","remove unused variables

svn-id: r14649
"
"b8a3a88daf97817ded64c69b0488c195276fb103","2004-08-20 15:10:00+00:00","Update

svn-id: r14651
"
"3542ca398829b105700949d38976d08ed72a06fd","2004-08-20 15:25:12+00:00","Make platform difference a bit clearer

svn-id: r14654
"
"174193c289e3d87f438e06ef980af0ed5f62c6f0","2004-08-20 21:44:07+00:00","More build-dirs added.

svn-id: r14655
"
"25dbd3430ea01541636b485da5cc3b4a49e8ddf7","2004-08-21 00:47:29+00:00","Small correction for filename different on some systems

svn-id: r14656
"
"396ae19f5d189119513c11ea2866a39eb167dbe1","2004-08-21 01:36:59+00:00","FM Towns version of MI2 seems to use different value too.

svn-id: r14657
"
"47785295d26f7af94e3846384a74a9f01fdbf440","2004-08-21 03:29:02+00:00","Change to allow FM Towns platform to be used with later games

svn-id: r14658
"
"3158a9c1d0d3e198df9e800803808eebe3e1bb33","2004-08-21 03:35:08+00:00","Missed one spot

svn-id: r14659
"
"49d31d7fbeaa331cd0ae0f271e607d9613dfcef9","2004-08-21 04:15:03+00:00","Missed a spot

svn-id: r14660
"
"3b420ef9399a52216b6ca542f7cbc9313d977697","2004-08-21 07:16:27+00:00","All FM Towns versions set VAR_VIDEOMODE to 42.

svn-id: r14661
"
"b318794cc1ae531ce7ed7aa4d0b0f73559cad2fd","2004-08-21 07:18:57+00:00","Comment no longer valid

svn-id: r14662
"
"01c0cb3d8f2e227baafe079f9528b9e9b2da115b","2004-08-21 09:02:45+00:00","Skip copy protection screen in indy3ega.

svn-id: r14663
"
"db3e1b7b314ae1c54d79acba6ab8b7f4f15e56db","2004-08-21 09:41:54+00:00","Fix

svn-id: r14664
"
"3c233116252d3abd545e1a369a5c2f446abf9b1e","2004-08-21 09:51:01+00:00","Typo

svn-id: r14666
"
"cc585c177375b587f6cd97511fe5e6d6ff20ed67","2004-08-21 10:01:19+00:00","Used in Amiga versions

svn-id: r14667
"
"61ad833dbdd6ee9e4bbf7db06250aa8faef0e4b1","2004-08-21 10:18:13+00:00","Also used in Atari ST versions.

svn-id: r14668
"
"d35ef7c7f18034772048bd81aacfd7f947fd075b","2004-08-21 22:33:23+00:00","Removed some obsolete TODO comments

svn-id: r14669
"
"0574c35fa45a856f4176ad72e597311c65b4f677","2004-08-21 23:12:11+00:00","HACK to work around bug #1009344 (Doesn't distinguish monkey and monkey1)

svn-id: r14670
"
"82b9f1e599b0cd37d81eeda573a5b23bd0d85d9b","2004-08-22 06:16:16+00:00","Mac. version of indy3 uses VAR_VIDEOMODE value of 50
Add initial support for loading EGA resource

svn-id: r14671
"
"312200f5309e49a83ebfeb9f1fde057dd093e471","2004-08-22 06:18:56+00:00","Ooops

svn-id: r14672
"
"4e2d3af64622098ac97b154ccc0458f83ca8b9c1","2004-08-22 07:22:03+00:00","Original games used blastTextQueue size of 50.
Hack no longer required.

svn-id: r14673
"
"178d577eb41d85cab8fe332cc37cccd57a0ebccb","2004-08-22 08:53:53+00:00","Oops, I didn't mean to check in those actor.cpp changes (thangs Kirben!)

svn-id: r14674
"
"12dc81cdbfbc90d71ac0fcd1c07814dc6bf964ce","2004-08-22 08:59:33+00:00","Removed obsolete TODO

svn-id: r14675
"
"2e3833dc1f3dc889f92e90450ebeb89b622377b2","2004-08-22 09:14:19+00:00","Switch smush debug to channel

svn-id: r14676
"
"319f2c83334422db2346ca0419b444dc3dac2e56","2004-08-22 09:17:24+00:00","No longer required

svn-id: r14677
"
"a13966d64ce15497f2bb6d16b000283e7caa297a","2004-08-22 09:30:08+00:00","Switch to debug channel

svn-id: r14678
"
"bb3cc5b0779711bc317d68b74f835f94a68350b2","2004-08-22 09:38:18+00:00","Make function protected again

svn-id: r14679
"
"60cc2470b3fcff5c2e9dc2b1d8f19a720065a250","2004-08-22 09:47:12+00:00","Change to invalid, should never be called

svn-id: r14680
"
"8ced6f85e47f26762ad48176531904b309586d0d","2004-08-22 10:52:55+00:00","Quick & dirty HACK to allow building the SCUMM plugin again; this will break building plugins on systems w/o zlib for now, but currrently it's broken on all other systems, and plugins aren't enabled by default anyway (better solution can be implemented later)

svn-id: r14681
"
"50719f7b6843ba6383ca75c881af589d947150f2","2004-08-22 11:33:11+00:00","If bug still occurs, the problem is elsewhere.
Since case doesn't exist in zak256.

svn-id: r14682
"
"759cd67de518a583804ccfb14d5fead44ef05e96","2004-08-22 13:27:34+00:00","cleanup of TimerProc mess

svn-id: r14683
"
"e00f9f4a97dc2bcd1b8007a043396e49d0583b0d","2004-08-22 14:28:11+00:00","Experimental (i.e. slightly broken) code for handling compressed speech.
The equally experimental compression tool is in patch #854561.

Support for compressed music will require some restructuring first.

svn-id: r14684
"
"4f51ae998842324c268a08a6b88ca9e6f8b84c4e","2004-08-22 15:02:53+00:00","Basic start on freddemo (old version)

svn-id: r14685
"
"bfd0b427000b651e2964ffbe04eb9bce4f06dae4","2004-08-22 18:28:42+00:00","o Eliminate all structure _tags.
o Fix RSCFile on MSVC8.
o Started fixing script opcodes.

svn-id: r14686
"
"c8d0270510ea09c9080759e1cbd353ba07391ac6","2004-08-22 21:39:49+00:00","PLUGIN_PREFIX and PLUGIN_SUFFIX moved to Makefile, PLUGIN_EXTRA_DEPS added.

svn-id: r14687
"
"ba39d7a3dbe8cfce4293838e87c1ff6caa1a27d6","2004-08-22 21:41:22+00:00","Support dynamic plugins on Dreamcast.

svn-id: r14688
"
"45ac190548b0b0f33c8dbc391cf14869862b1dac","2004-08-22 21:47:20+00:00","Support dynamic plugins on Dreamcast.

svn-id: r14689
"
"b20187a0e92a284deb62298a63017de6e63a3661","2004-08-22 23:38:00+00:00","Cursor code cleanup

svn-id: r14690
"
"9b6e23000df96ba18da4618188fc7aec0b56940b","2004-08-22 23:50:36+00:00","Update.

svn-id: r14691
"
"796fdcdd2bc424be9c851ab74ab7d8a6ac5311f3","2004-08-23 00:00:02+00:00","Fix warning.

svn-id: r14692
"
"bfe88771cbf438de230b85053d5805a6986c1dc8","2004-08-23 00:17:07+00:00","A few changes for freddemo

svn-id: r14693
"
"48c0be7b5f3f11575f5a11939404b4537fa17640","2004-08-23 00:41:43+00:00","Fix bug, actually a typo introduced with last cursors improvements. It crashed
all HE7.0+ games with custom cursors.

svn-id: r14694
"
"dffbcceb9150c6e35fb777b6f412f04c38ca04ca","2004-08-23 05:23:58+00:00","Add opcode

svn-id: r14695
"
"a3d531a9fd87bd385391c4f3dbcf0922e8199047","2004-08-23 05:53:41+00:00","remove cast that produces a warning

svn-id: r14696
"
"e46c81ad7432330add28f3da2a8f2f8cdf5f0a3a","2004-08-23 05:56:29+00:00","fix compilation by removing what was presumably a typo

svn-id: r14697
"
"44eca16eb69613c0fc7247c7eb5447d560339466","2004-08-23 06:17:40+00:00","Fixed the bug that caused Vorbis and FLAC to misbehave with compressed
speech. (Apparently it was just an accident that MP3 worked.)

Unfortunately I had to change the file format of the compressed files to
include both the compressed and uncompressed size, but since the tool to
create these files has only lived as an item in the patch tracker, no one
should have exptected it to be the final, working version, right? Right.

svn-id: r14698
"
"b7ad2a612abb62bfc9e9432bb02efccaa441924b","2004-08-23 06:30:34+00:00","add readMAXS debug statement

svn-id: r14699
"
"c7b0f202695629146f08d7eae9b091fb9d0b9a82","2004-08-23 07:10:16+00:00","Correction

svn-id: r14700
"
"9d081a640ed8d664b8a08776d5df224499318e8c","2004-08-23 08:12:09+00:00","add md5 based windows targets for HE titles that also have DOS targets and make the description appear in the title bar

svn-id: r14701
"
"5f3009d7d04cd818caa9fd8a4ace614fe4408be4","2004-08-23 08:35:35+00:00","note existance of DISK index block found in f4-demo

svn-id: r14702
"
"28c32a9fb702014393490365f84d2d97f9822cc7","2004-08-23 08:37:55+00:00","Add LOOM cursor support

svn-id: r14703
"
"bbfe489e9f4529169d3787b4598003c638d76067","2004-08-23 08:41:23+00:00","More changes for He 7.2 games
Might need HE7.2 class eventually

svn-id: r14704
"
"71678056abaf51f3173559429b99e08665210262","2004-08-23 08:49:04+00:00","Typo

svn-id: r14705
"
"b1654de7aa7681f9781bf728de8d4c705ebce94a","2004-08-23 08:50:54+00:00","compilation fix

svn-id: r14706
"
"bb5cae10b4bf572776e8b7ad8a718803995ecd24","2004-08-23 09:18:55+00:00","More HE 7.2 changes

svn-id: r14707
"
"85addeb67b750718f2d205c743c02a23a3cbaf3f","2004-08-23 09:25:37+00:00","Oops

svn-id: r14708
"
"bbc75e4220b7e5cca186b50575af8b1775a50364","2004-08-23 10:34:50+00:00","Add He 7.2 class

svn-id: r14709
"
"b57fa3a20b49096463895b4103c88b9f311b0916","2004-08-23 10:37:29+00:00","Missed a spot

svn-id: r14710
"
"d8aa9226958c194cb028e9cd46c6fa95fa7f7a72","2004-08-23 10:46:00+00:00","Switch function to He 7.2

svn-id: r14711
"
"d35660a6cb72afa610aba8296ac1b23813be17de","2004-08-23 10:52:10+00:00","Switch to case

svn-id: r14712
"
"2b2b55be909f616e833ca76e059e2fd3b95ccebf","2004-08-23 10:59:53+00:00","Ooops

svn-id: r14713
"
"4f55b334eb94f129e7b23019c188f4e0dd4fc6df","2004-08-23 11:20:25+00:00","Re-order opcodes

svn-id: r14714
"
"f362bad6469e81e8dfc6fa7cadac1d4bf0f017c0","2004-08-23 11:28:28+00:00","Corrections

svn-id: r14715
"
"dd20c05db57129ef59b433170746b16815d12f93","2004-08-23 11:44:29+00:00","Adjust max resource type

svn-id: r14716
"
"a5ebe93bc7711c0fa9cb803060798362adef29a9","2004-08-23 11:47:51+00:00","Correct value

svn-id: r14717
"
"42fb68694d9d587e1c173d216e53a8448bafe5fe","2004-08-23 12:19:08+00:00","Minor cleanup

svn-id: r14718
"
"25ccf3a0eedf1678b170362197e6be3f79f530dd","2004-08-23 14:03:54+00:00","Another He 7.2 function

svn-id: r14719
"
"6d62e7ec664974ea07c0a124cbd8186ac57a673b","2004-08-23 14:11:53+00:00","Another stub

svn-id: r14720
"
"400582bd9d67588c951bd06ced6be18760a590b5","2004-08-23 14:23:40+00:00","Update opcode table for HE 7.2

svn-id: r14721
"
"bdd0dfef430b11b35199a0bd472dfeefd608e0e1","2004-08-24 00:58:28+00:00","init var.
avoid valgrind warning

svn-id: r14722
"
"deeadc97fa0001a8013c29dae992a6f6323d995d","2004-08-24 02:02:56+00:00","Resource corrections

svn-id: r14723
"
"07eb3f50f9038b31cf4bd75c514fa7297fcafb58","2004-08-24 05:04:14+00:00","Correct bug in array loading from index.
A few changes/corrections for HE 7.2

svn-id: r14724
"
"bb0b18515b9fe88bb537a366e5a18c6e57d78d6a","2004-08-24 06:20:30+00:00","Fixed slight regression in the Loom cursor shape: The whole thing was
shifted one step to the left, so the leftmost column wasn't included.

(Hotspot is still wrong, of course - that's a different bug.)

svn-id: r14725
"
"103cbac40a22189d01e06ed0e0a26ceca1344959","2004-08-24 06:36:12+00:00","Fixed bug #1014296, the Loom cursor hotspot regression.

svn-id: r14726
"
"f16065d86ded3a4ba7466432db4574748a150cf0","2004-08-24 11:17:28+00:00","Remove some old/duplicate code.
Add a few more functions/stubs for HE 7.2
Moved HE 7.2 o_resourceRoutine() specifics.

svn-id: r14727
"
"f9059d591d9979d79fa835e97691b16d19d40338","2004-08-24 11:18:45+00:00","Missed spot

svn-id: r14728
"
"2cf3a12fae67b095f3e5e90231f3297451a135a4","2004-08-24 11:24:51+00:00","Add var

svn-id: r14729
"
"467b72479829ebbd15dc2aecbade516ff08dd1a5","2004-08-24 15:08:26+00:00","Typo

svn-id: r14730
"
"35a354bab7316fad0638533b35b487d35212c68f","2004-08-24 15:25:32+00:00","That should not have been removed

svn-id: r14731
"
"531b570394f506becb9d9aa85e3957f3da913b4c","2004-08-24 16:02:26+00:00","HE 7.2 uses different size in this opcode alone

svn-id: r14732
"
"649e9b71a5837b10573fcfcb11497497827e35a8","2004-08-24 16:30:20+00:00","HE 7.2 correction to o6_pickVarRandom

svn-id: r14733
"
"45d8b3b00291b6dcdae4d4966021ded316c2cfae","2004-08-24 16:31:46+00:00","Rewrote the way strings are extracting from the datafiles, now it should be 'alignment safe'. Maybe it will fix bugs #923570 and #1013886, too.

svn-id: r14734
"
"d3727e1c2a4ba7e262f415711ca8bb269a4e820c","2004-08-25 02:12:03+00:00","HE 7.2 uses different array headers. they introduced start indexes, so it
became in somewhat Pascal fashion, i.e. array[2..3][10..20]. So I had to
override ArrayHeader function in ScummEngine_v72he.

Also there is new array type kDwordArray. So that is implemented as well.

Though, not everything yet transferred to use new ArrayHeader, so running
HE 7.2 titles is risky now.

Some opcodes were implemented along the way.

svn-id: r14735
"
"2917071bd616870f3edca551e491a70d18ed3e48","2004-08-25 02:34:17+00:00","Add back change that were reverted by last commit.
Add comment

svn-id: r14736
"
"7aa9f41188560b58fe30f5df4abf0681fba8f848","2004-08-25 02:48:44+00:00","Another array change for HE 7.2

svn-id: r14737
"
"137d1ebe486c0fc76dd9ebeeabdf3e815e8b7a8b","2004-08-25 05:57:17+00:00","Added a destructor to the FontRenderer class to free any remaining text
sprites on exit. As far as I can tell, the only case when this makes any
difference is when there is text on screen when you quit ScummVM, so it's
not really a memory leak, but Valgrind will report it as one.

svn-id: r14738
"
"0d3d9b4c09e67f0ae157c31e5593b129ac5e0c5d","2004-08-25 06:34:33+00:00","Add all array related functions to HE 7.2
Add some more HE 7.2 code

svn-id: r14739
"
"68acd13ad496615083b0d0c6e8204d4eced76e53","2004-08-25 06:55:15+00:00","The original speech clusters are now decoded through a custom AudioStream
class, so they are handled the same way as the compressed clusters.

The next step will be to migrate the music playback to use the same class,
which means the fade-in/out logic needs to be separated from the decoding.
Once this is done, adding support for compressed music should be a piece of
cake.

svn-id: r14740
"
"4bdbd7969084e24bfb5f1c88d4802aa56582f91b","2004-08-25 06:58:30+00:00","Don't skip arrayindex in HE 7.2 games

svn-id: r14741
"
"5b7f8b5e7894efe6fcc733f4de7685d05fad56a9","2004-08-25 07:03:38+00:00","added comment for insane hack and not tested fix for deadlock bug imuse + debugger

svn-id: r14742
"
"f249e3e508abd019f6345564016ae1fbf3a85c25","2004-08-25 07:10:12+00:00","No mainmenu variable in HE 7.2

svn-id: r14743
"
"d0ebee2517a3f49e173c0b56c2c8f577029cb4d8","2004-08-25 07:18:18+00:00","Add stub

svn-id: r14744
"
"057ea5cba8fe5fbec3a36a98b0eef67e7b3296d3","2004-08-25 07:23:48+00:00","Fix compile

svn-id: r14745
"
"a8a53b1e54e837287d5b27eb44a3cba7354a7063","2004-08-25 07:30:05+00:00","casts to avoid gcc warnings

svn-id: r14746
"
"c6a9167362d933f06b775e48afa16d1866e81ad1","2004-08-25 08:49:34+00:00","Rename var/opcode
Add missing breaks

svn-id: r14747
"
"e5855ab0a9d0bbf7fc4d34345be895e06b864508","2004-08-25 08:54:43+00:00","Add missing break

svn-id: r14748
"
"742e023e855c63ffa60c317c56911024634339b9","2004-08-25 11:17:16+00:00","Add a few cases for later games.

svn-id: r14749
"
"34b7c1a31fa7ec9f74d5c9688556438c755fbccd","2004-08-25 11:20:33+00:00","Add case for HE 7.2 games

svn-id: r14750
"
"daa7d32b75c56872253056bf4e670c4fafaca74b","2004-08-25 11:34:28+00:00","Revert back proper array bounds checks in readArray/writeArray
Fix type in redimArray

svn-id: r14751
"
"468404ab3391958a9dbb8d162a2b4490365e9a8d","2004-08-25 12:48:47+00:00","Add some file opcode difference for HE 7.2

svn-id: r14752
"
"d0d7e594d62a407907a264827085fef5951576a9","2004-08-25 21:19:47+00:00","Only relocate allocated sections.

svn-id: r14753
"
"65729bcff5340774a45bc20661d759ffd09f5de8","2004-08-25 21:47:07+00:00","Build plugins.

svn-id: r14754
"
"18758f1b9426b3bd51556e085951e1cb95b6a4f5","2004-08-25 22:32:15+00:00","typo

svn-id: r14755
"
"a956d5ece64b5666983364eeff151738ff430866","2004-08-26 00:27:51+00:00","Ignore case when sorting entries in the launcher

svn-id: r14756
"
"09e07912d04bf88091f7503891721c32d74549f0","2004-08-26 00:35:32+00:00","Support Mac DOTT straight from the disk (note: those fooMac targets may be removed again in the near future)

svn-id: r14757
"
"0d8488d6057e3eda7104b713d766f9d92da02abc","2004-08-26 00:44:49+00:00","Add game id for Pajama Sam, since it uses different amount of actors

svn-id: r14758
"
"70dbcaf9da7602de187bf8e4ebb831895006f155","2004-08-26 02:47:49+00:00","Added initial support for BMAP resources of HE 7.2 games. Doesn't work
correctly yet.

svn-id: r14759
"
"68d35856c03900f2777933072a38f4665451ccc0","2004-08-26 03:21:33+00:00","Fix bugs in decompressBMAPbg. It appeared to be similiar to
decodestripHE. Now it works.

svn-id: r14760
"
"8e2e48e40c4e52ae190a380f6e372119c565743c","2004-08-26 06:08:41+00:00","Add some stubs for HE 7.2
Fix warning
Add music support for later HE 7.2 games

svn-id: r14761
"
"15fa71e1bf8c3826bdd8f0e6d4abe72c7fc1abca","2004-08-26 06:59:15+00:00","Explicitly cast value to uint32, since there was a report about compilation
problems. Perhaps this will fix it?

svn-id: r14762
"
"0e71cd9b58b48bd44790f55105247c8dfeaf75ad","2004-08-26 07:09:38+00:00","force screen update to update mouse pointer position (bug #1016446)

svn-id: r14763
"
"b1d8b144bafb0bc26c9f0fa27044b0bed72838c2","2004-08-26 08:47:07+00:00","More code/stubs for HE 7.2 games
Add another temp hack
Add id for water, uses more actors
Another small correction to music playback for HE 7.2 games

svn-id: r14764
"
"fe59c97cc8578849f256e8fbd7b6d4b447f6b930","2004-08-26 08:52:12+00:00","socks used 62 actors too.

svn-id: r14765
"
"79fb54ba29c42ce1fabfb623bbc3a7782f15bd20","2004-08-26 09:50:44+00:00","Remove leftovers

svn-id: r14766
"
"6384093878c6197efa440a1e8efb4b29fd53d870","2004-08-26 10:51:11+00:00","HE 7.2 games use @ as charset code
Small sound fix

svn-id: r14767
"
"61bf875b336ea381df2b9abb4240580a7f92079a","2004-08-26 11:44:08+00:00","farm also has similiar actor requirements to pajama so change the gid, also add smaller target while here

svn-id: r14768
"
"ce56e0d5174437729f776e46730859c8f2594e8e","2004-08-26 12:06:08+00:00","Added stub

svn-id: r14769
"
"a124e88ec0f6bdfe63753464d5effefaedb01b02","2004-08-26 12:13:54+00:00","Correction version

svn-id: r14770
"
"5072ee6c2fdcf5e070510d5606474b211328f9ac","2004-08-26 12:17:10+00:00","balloon/dog seem to be HE 7.2 too.

svn-id: r14771
"
"1edf0553856f4665fc6619548f08ec0448da6199","2004-08-26 12:25:14+00:00","*** empty log message ***

svn-id: r14772
"
"3377ea476c3f86f6a5b0d87caf7f2c582e5443c1","2004-08-26 12:27:20+00:00","Change title

svn-id: r14773
"
"a6da84d0c6bc310777c28255a07e5416424e363f","2004-08-26 12:35:17+00:00","catalog2 also needs pajama gid

svn-id: r14774
"
"13b59c1b42f545a6bf68299c07b2cfea247502ab","2004-08-26 13:51:06+00:00","Reset the 'pitch wheel' when turning off a note. This should fix bug
#1016556, hopefully without causing regressions.

svn-id: r14775
"
"35a0c52f4292c75bf4bbc98ac687d6d68a37630b","2004-08-26 13:53:20+00:00","Clarified the comment added in the previous commit slightly.

svn-id: r14776
"
"3d8ef64d39fcc05e216478840a84f96ee6833987","2004-08-26 14:07:19+00:00","allocate memory for dobj in he 90, point games claiming to be 90 at 72he class

svn-id: r14777
"
"5805529c2c1d33df8fcf1800a20a4f2f57e98dde","2004-08-26 14:09:51+00:00","c & p error

svn-id: r14778
"
"f6eae9d1a1beeca56667ad40047a1cbac7b91f83","2004-08-26 14:28:42+00:00","Update akos error messages
Add proper timer opcodes
Up some debug msgs.

svn-id: r14779
"
"30c31c9cb0b4b8fdaf4d8b29ba05c61cbee6dc4f","2004-08-26 14:35:38+00:00","make more he titles get to boot scripts

svn-id: r14780
"
"8a9fa534b8f275c7327e01bb194537955b8026cf","2004-08-26 14:56:10+00:00","Add another HE 7.2 opcode

svn-id: r14781
"
"e54006b5b8eb5970adf73db3aad3251c8eb4fc83","2004-08-26 15:33:51+00:00","Fix height

svn-id: r14782
"
"4075398e6c8591cbb1e8fed2532e073ce7927f99","2004-08-26 15:39:24+00:00","Original games always used screen height instead of pop() value.

svn-id: r14783
"
"3b2bf3c6832842c614e3f0987c8ab25945488dbe","2004-08-26 21:01:21+00:00","Make building scalers optional.

svn-id: r14784
"
"549ffd9cc190804cffb9416b6546d104e2a3a5f9","2004-08-26 21:01:54+00:00","Disable building of scalers.

svn-id: r14785
"
"fa89ee800aafcfd59d9e64ed27fbbabf9372dd11","2004-08-26 21:29:56+00:00","Removed obsolete checks for LFL games (thank you MD5!).

svn-id: r14786
"
"77026760c8f76dbd28c81f1804c5c172ff70e2b8","2004-08-26 21:51:26+00:00","Run the DC launcher from inside the regular main() function.

svn-id: r14787
"
"e967fdbb2a200216cbf49fb5eb896ee7a3a380c1","2004-08-26 21:56:25+00:00","Don't return -1 from read/write, they are uint32...

svn-id: r14788
"
"3b7d3120c18ddb06ae14e5faac78258c8cb5ddee","2004-08-26 23:15:39+00:00","Add var difference in later HE games

svn-id: r14789
"
"d71604c20cc563629892828b8affef5c4ab88f48","2004-08-26 23:28:10+00:00","add some comments about unimplemented opcodes

svn-id: r14790
"
"eb7671f0a76c98766c1629ce4fb8bc418dba28f8","2004-08-26 23:30:28+00:00","Add another variable which improves readability.

svn-id: r14791
"
"c89bfad61dc7c1c260540e173df198d1fe9f8dc4","2004-08-27 00:08:43+00:00","Correct music skip value for HE 7.2
Play TALK sounds

svn-id: r14792
"
"d1d308ff743c85fd91d45bf8a2e2a7f9507b6ced","2004-08-27 01:32:10+00:00","R_GAMETYPE -> GID, remove unused supported flag and trim some unused bits of GAME

svn-id: r14793
"
"f004af9d4fe743730ec3fc254db2e0e652379387","2004-08-27 08:31:33+00:00","Use the same code for opening the music clusters as for opening the speech
clusters. (No, that doesn't mean compressed music is support yet. This is
just a tiny little step closer.)

svn-id: r14794
"
"ff6859b3bc234d8c941dd7b6e25d0e3988060ad7","2004-08-27 10:35:13+00:00","Apply patch #1017343 'latex documentation compilation warnings' submitted by
Daniel Steinberger.

svn-id: r14795
"
"4aeb595967fb04d61b44bac29f1553e9d26e939f","2004-08-27 12:56:01+00:00","Applies to all HE 7.0+ games

svn-id: r14796
"
"1d8c4794bf3ad731da0a62cffa55ab75aaa928ab","2004-08-27 13:10:22+00:00","HE 7.2 games use difference charset codes, skip for now.

svn-id: r14797
"
"13b6cf7c67dce13c1d457d58ecee20345c83e8e2","2004-08-27 23:50:45+00:00","Added support for ImageHeader version 800, used by the COMI demo (inspired by cyx' work, see RFE #690559: support comi demo)

svn-id: r14798
"
"22fb004e209f837b86231ec213a07ad7e7b90ec5","2004-08-28 03:18:52+00:00","akos should queue commmands and executate after drawing costumes (Caused race issues in HE games).
Remove some duplciate code
Enable from HE games
Add a few stubs for some additional akos codes

svn-id: r14799
"
"09b3b6cb57f4454850ff60e2a539702b64bdee44","2004-08-28 03:24:29+00:00","Remove left overs

svn-id: r14800
"
"26ff4a2b703fc040f1d09a3341b098cc9e3bfeb1","2004-08-28 03:25:13+00:00","*** empty log message ***

svn-id: r14801
"
"dc7c03029dd74b58495b65eebe0571d56ff05a01","2004-08-28 04:02:49+00:00","Update HE games
Update HE game issues/todo
Disable opcode E4 (Specific to fbear and has no benefit so far)

svn-id: r14802
"
"4c732d15c6162a34905cf215e71012ced3d412bc","2004-08-28 04:14:33+00:00","Limit nukeArrays to only location thats requires it for now.

svn-id: r14803
"
"75fd690c20c8b33a02584e32b0727145cad6e1db","2004-08-28 04:34:34+00:00","Safety check

svn-id: r14804
"
"0dd52d351bc99813f6a7d7738b381888569494e0","2004-08-28 07:14:14+00:00","Add missing case

svn-id: r14805
"
"d1a5cd802e3b9ce72ec7dd5405a312c67c96d52d","2004-08-28 07:20:04+00:00","Should redraw too.

svn-id: r14806
"
"51c1ca442eada2281df1c8001848f6fb08066d6f","2004-08-28 08:02:28+00:00","akos code C025 is almost the same as complex_channel

svn-id: r14807
"
"0f71f50d3743f1a8680a87b6ac88b8a742708885","2004-08-28 09:19:53+00:00","Sound change for later HE 7.x games
Revert cursor change, later games have no .he3 file.
Add some stubs/opcodes
Later HE games use hard code value for _numRoomVariables

svn-id: r14808
"
"1c390ece72081fc99e4b63c15792a05d4c879926","2004-08-28 10:20:02+00:00","Add other version of puttzoo

svn-id: r14809
"
"d552e6d8ea8cb16e91f41977d1aab0e02d6accd3","2004-08-28 11:01:01+00:00","Add stub

svn-id: r14810
"
"3d7955dab7b981b2d05c83730fde413b3d3901de","2004-08-28 12:01:28+00:00","Need throughout puttmoon

svn-id: r14811
"
"0e203f6ccd54b1097832784f9a4696584baac09b","2004-08-28 13:30:59+00:00","Fix for bug #1015941 (COMI: There's only background behind dialogue lines)

svn-id: r14812
"
"b0be0f045294d00a231989fdc624ade298234815","2004-08-28 14:05:33+00:00","Revert last change, was wrong opcode.
Add a few more HE 7 opcodes

svn-id: r14813
"
"98bcae943d0c4b16e2b70eb82b5db112f05ce3d8","2004-08-28 14:06:36+00:00","Cleaning up code a bit while trying to understand it...

svn-id: r14814
"
"13356dfa1784820a4f56aad79e162436ff3d7c6a","2004-08-28 14:19:56+00:00","Reduce code duplication

svn-id: r14815
"
"3e75807fa8abc890a10c97724b004fc4ae9c2d33","2004-08-28 14:33:34+00:00","more cleanup

svn-id: r14816
"
"e023ba7a815b4b9f28ea7bffc144372cd0cd18c1","2004-08-28 14:45:52+00:00","Make it possible to compile with WITH_DEBUG_CHEATS again.

svn-id: r14817
"
"4fea28887e43c18d187a9d360293c6eb1d67c7c8","2004-08-28 14:48:51+00:00","cleanup

svn-id: r14818
"
"4a6d5e4119e3b7a0b4ffe2c57894de9406abb38a","2004-08-28 14:50:44+00:00","Cleanup. Removed the original DipMusic() code. If anyone wants to
implement it - personally I don't see the need - they can get it from CVS.

svn-id: r14819
"
"8198af44a212bddcce1352548a8f5624bcc94344","2004-08-28 15:09:54+00:00","Small correction for code c025

svn-id: r14820
"
"c7490614051aa85b079c8bbda77681e5d66a7f2e","2004-08-29 00:15:36+00:00","Reduced warning to the case which actually might be broken...

svn-id: r14821
"
"4d4dd4fe024d7ad9d6974e4438febf87ae32750a","2004-08-29 01:24:17+00:00","Add some charset codes for HE 7.2 gasmes
Later HE 7.2 games use hard coded sound rate for speech (Rate never changes anyway)

svn-id: r14822
"
"8c8ed39b05ad3fb4d470c53cae5c05de38db16a8","2004-08-29 03:19:09+00:00","Add HE 7.2 differences

svn-id: r14823
"
"2b5c7c37b603137e260ad10710313dc8cf4a1136","2004-08-29 03:19:44+00:00","Clean up

svn-id: r14824
"
"9046906d797655c7bb12f137931634186468bc2b","2004-08-29 03:40:22+00:00","Add comment

svn-id: r14825
"
"3540014e4590941f39c5975ce072f489f467edd7","2004-08-29 06:40:03+00:00","Later HE 7.1 games need to send virtual x/y mouse vars.

svn-id: r14826
"
"cbf5a60bab5770e7b199014f509720a248d12d5a","2004-08-29 11:27:16+00:00","Add a few akos codes
Give unknown akos codes better names
Rename actor variable
Remove hack (Use multi-version flag instead)
Another sound correction for HE games.

svn-id: r14827
"
"ca6ad7a76fe48737b6daf6ce3259227850fc5d27","2004-08-29 12:52:16+00:00","remove unused var

svn-id: r14828
"
"f6af7cdcc7530149bf976cb69a2aa7aab21abb84","2004-08-29 19:08:08+00:00","Provide unloading of unneeded plugins.

svn-id: r14829
"
"5a1e353c12db617c18760efe204f0a69631a29a1","2004-08-29 19:32:14+00:00","Oops, forgot to clear BSS...

svn-id: r14830
"
"76e72ce98d30798146269a5ec58ae9ead7fbcce4","2004-08-29 19:36:34+00:00","Disable interrupts while performing cache trickery, just in case.

svn-id: r14831
"
"c7a7f00577e610e349d088f67acb5c7b9f12b9ba","2004-08-29 19:42:27+00:00","Clear screen and overlay buffer after allocation.

svn-id: r14832
"
"704ad7f63b70cfe90d968127bf7140a590f79d9f","2004-08-30 00:10:36+00:00","Correct resource value, to match original.
Adjust rtLast

svn-id: r14833
"
"9558cf379a1fe74510267589d74bf91b16ea9b1e","2004-08-30 03:32:10+00:00","Should read string too.

svn-id: r14834
"
"3b8a0c053ddc6c67eb77e7f38d59d4f5ca1c83e5","2004-08-30 07:06:41+00:00","Add more akos codes

svn-id: r14835
"
"ad56456e7b1b9444ec04b1a799d4af15ede15719","2004-08-30 07:52:54+00:00","Add some more actor code for HE 7+ games.

svn-id: r14836
"
"8b34cb4a6a95180758c0fcfbc1ce65934f0c0cb0","2004-08-30 09:43:21+00:00","HE 7.0+ games don'yt use imuse

svn-id: r14837
"
"d5e5c54fefc0667cd4c1a33e9e2c9d9bed18b41c","2004-08-30 10:04:53+00:00","Ooops, shouldn't have commited that part.

svn-id: r14838
"
"e0bb88b91cad7e753c18476df3cfbf35097c4fcf","2004-08-30 11:52:33+00:00","Add some WIP code for HE games.
Add some music adjustments

svn-id: r14839
"
"4abeb21aad8847e5473e394584d16d1cfcaf8f39","2004-08-30 11:55:24+00:00","Update HE issues

svn-id: r14840
"
"026e3755618b0c74c3c0721ef168da920a1226ba","2004-08-30 13:05:03+00:00","Typo

svn-id: r14841
"
"292846c2f531748d343e33c3cf45dde726ffaf75","2004-08-30 14:26:52+00:00","Small correction

svn-id: r14842
"
"93584bcdc395cc34e3ccde3ce47e5aa3aaec98d3","2004-08-31 07:32:53+00:00","Add HE version 80 to avoid additional game ids

svn-id: r14843
"
"0ab96ee6c87f6ca4be680f11f3bb502594b3b16c","2004-08-31 07:40:28+00:00","Move function as requested.

svn-id: r14844
"
"3f1aee9ff4c71c069f5ba22dbd9effd013b5de34","2004-08-31 07:47:34+00:00","Add HE 72 version

svn-id: r14845
"
"870eac39a22ed48ce0e57bf2e5391b3a128bf14e","2004-08-31 07:52:47+00:00","Add eriktorbjorn's patch for separate target for Broken Sword 1 demo. Avoids sound regressions in full game.

svn-id: r14846
"
"6130d8920179fd683817bfe25b5bb5debab00a39","2004-08-31 08:35:10+00:00","Remove newline

svn-id: r14847
"
"3efe85f5cec5b0cc28a7b3365b644354a307ce0b","2004-08-31 08:54:35+00:00","Ignore akos codec 32 for now

svn-id: r14848
"
"6962e64fad3644f0d5639aa9fff7fdfe1c408a63","2004-08-31 08:57:36+00:00","*** empty log message ***

svn-id: r14849
"
"35bc32625c546683a2f65644d563dff448b3d918","2004-09-01 02:41:48+00:00","Correct assert

svn-id: r14850
"
"ac7d8653bb90f2c9788e3f543407c98d4364312d","2004-09-01 03:31:33+00:00","Update HE games

svn-id: r14851
"
"db2f3cd8680f783728adcaa003da4f41d8b6b40a","2004-09-01 03:58:04+00:00","Add HE 72 versions, still not working right yet.

svn-id: r14852
"
"2a219cc70108908251b113a78f22dc433c244ef4","2004-09-01 06:21:07+00:00","HE 80+ speech files aren't encoded

svn-id: r14853
"
"d8fe05a5fa9de0122aefbd8811d0e1110c7dec3f","2004-09-01 07:59:30+00:00","Fix incorrect flObject base address computation

svn-id: r14854
"
"2a23b8fbc9414853c7246a9029f6e78c0aca7507","2004-09-01 10:15:10+00:00","Add misisng case (Used in funpack)

svn-id: r14856
"
"2810a06581ce1724fdab2acf90e56ff5c21ab598","2004-09-01 10:39:43+00:00","HE specific

svn-id: r14857
"
"b556b277fced5a9f4a70be8751f3aa500fb47a31","2004-09-01 12:10:41+00:00","Update debug code

svn-id: r14858
"
"a8a75eb009a98871829295112d1fd2674a85d7a4","2004-09-02 03:54:29+00:00","HE games should check _numSounds to check whether sound type is music.
Set maximum resource idx at 8000 for now, some HE games include huge amounts of sound resources.

svn-id: r14859
"
"0c5db81d0dc6df0ba82c2b9d40902882d4a2a616","2004-09-02 04:23:13+00:00","Add extra sound check for HE games

svn-id: r14860
"
"c4467d8e43ff5decefdcaefd9c71d9937cddc4f7","2004-09-02 07:00:57+00:00","*** empty log message ***

svn-id: r14861
"
"88ebc3bfc5a9d912447587049766fe42a16cf212","2004-09-02 10:18:34+00:00","Update IMHD fields

svn-id: r14862
"
"fc9e18f26a925e2c018835820d5e82d278fb2b8b","2004-09-02 11:35:42+00:00","HE games don't mask.

svn-id: r14863
"
"18dad39bc9afc61346e5979f7bb92adafc1519b7","2004-09-02 11:37:05+00:00","Update HE issues

svn-id: r14864
"
"56c1c5cbaec69c258eaab26fbe55f82db95fd2a8","2004-09-02 13:31:32+00:00","Update

svn-id: r14865
"
"feb4d7950639819b5c8b723d5325b49e3305e36b","2004-09-02 17:29:48+00:00","cleanup

svn-id: r14866
"
"ae4cb96f3940ae36947dad953ef22b535a3a6813","2004-09-02 22:47:10+00:00","Make clearTextQueue call removeBlastTexts -- this fixes a text redraw issue in the ship-to-ship combat

svn-id: r14867
"
"8f6e066374bf783dcfbb7c4f4e374b68db9df5da","2004-09-02 23:16:58+00:00","Cleanup: renamed 'value' to 'scaletableSize' and made akos codec1 & the old costume code look even more alike

svn-id: r14868
"
"077d977834f00758d7484e2e146cad39b2e64a65","2004-09-03 00:22:31+00:00","Add fingolfin's suggested solution for bug #881132

svn-id: r14869
"
"6bada66d16026428d05d59d8dbf32d51704bbdd7","2004-09-03 02:08:32+00:00","Revert verb draw order change.
Fix recent verb regressions.

svn-id: r14870
"
"438daed1f1dbeb61e142b5f3e7e86f13cb371601","2004-09-03 06:57:38+00:00","Add basic decoding of debug script scripts.

svn-id: r14871
"
"374f7859a912904bab17556e8f949901978f5caf","2004-09-03 08:58:32+00:00","Fix warning

svn-id: r14872
"
"d269e911225483606b4172cc85629d1cbc042a86","2004-09-03 11:34:47+00:00","Another akos code difference in HE 71+ games

svn-id: r14873
"
"08fc27b764dcf93f5d052912d9ab5a241e2b7602","2004-09-03 15:39:14+00:00","Small correction for V7-8 actor drawing

svn-id: r14874
"
"54a84da97c1aab75ed1cec46f65691a00d4ff87a","2004-09-03 17:27:40+00:00","preliminar Wiz images support (HE 72)

svn-id: r14875
"
"054460a170d60d6b74114882e15af22b284f3066","2004-09-03 19:54:58+00:00","Fix for bug #1021538 (COMI: Graphic glitches in ship-to-ship fight)

svn-id: r14876
"
"3aabdd44c60f3868797e4a7ae952f54f2becf686","2004-09-03 19:59:11+00:00","Trying to be a bit more consistent in NEWS entries ('Added/Removed/Fixed/Deleteted/... feature FOO in BAR')

svn-id: r14877
"
"cc3a255c5482ba28c627e366842b5e2b9722b3ac","2004-09-04 00:04:36+00:00","cleanup

svn-id: r14878
"
"6dd0ab939732489760f04da3aed7dfefe46c9c3f","2004-09-04 00:18:55+00:00","Add actor cliping override for HE games.

svn-id: r14879
"
"bdf736f25c18fafa307b0754ab09b80b172b42de","2004-09-04 00:23:06+00:00","Ooops

svn-id: r14880
"
"b086ee7f67b7de4d218ff1e4862271d9e921ba9c","2004-09-04 00:31:38+00:00","Missing pop

svn-id: r14881
"
"4bd05071e511c077811040c7c746d1c5f8e8c3f8","2004-09-04 01:31:04+00:00","Got rid of OSystem::move_screen

svn-id: r14882
"
"255736dfb70099b7cacea3f071453b5d48307f5f","2004-09-04 08:13:48+00:00","Complete actor clipping override code for HE games.
Add akos speech queue for HE games
Minor cleanup

svn-id: r14883
"
"e6b2535ff97c511d4e31a52744239742bbee52e6","2004-09-04 08:32:04+00:00","cleanup

svn-id: r14884
"
"868ec03962aa42eb01ea01e861f16c5b9c74cb78","2004-09-04 09:17:38+00:00","Ooops

svn-id: r14885
"
"ae4105de50ef26265a469cde6fa3003a7bd6c000","2004-09-04 09:26:08+00:00","Should use _numSounds too.

svn-id: r14886
"
"cb399b63d5cc24e6adb0289a1ff0dfd32ff29b1e","2004-09-04 09:27:17+00:00","Added support for compressed music. I'm sure there are some glitches still
to fix, but it should work well enough for now.

In this rewrite of the music code, I removed the 'save/restore music state'
function, since it just complicated things for a very small gain. It wasn't
in the original engine, and I added it just for the credits, so that the
previously playing music could be resumed afterwards. I might re-add it
later, but probably not.

svn-id: r14887
"
"eff7b341d0ef40279743cc9794a3de8561b1b40a","2004-09-04 09:46:47+00:00","Fixed a glitch in the music fade-out code.

svn-id: r14888
"
"3511e688ab560cd25b9d68b166a4eda85987248a","2004-09-04 10:12:22+00:00","Fix for bug #1022265 (Memory leak in vorbis.cpp?)

svn-id: r14889
"
"91a57ad8f5baa98ab72c2a5692d433b1cf6aadc3","2004-09-04 10:29:06+00:00","cleanup (this actor clip stuff is really evil -- I have to agree with Kirben, it's totally unclear why they didn't just use the good old virt screen system...

svn-id: r14890
"
"23e294e10c237fc5ddb53205d2d7d187e4537e0d","2004-09-04 12:35:19+00:00","added comment for insane hack

svn-id: r14891
"
"3a19ca1be3ef163cf88f58236cb004163947340f","2004-09-04 13:13:23+00:00","fixde bug IMUSE+DEBUG

svn-id: r14892
"
"9032d086afde50abdcba39e2fc557d8c4058ee20","2004-09-04 14:27:16+00:00","added error info for bundle mgr bug

svn-id: r14893
"
"0901b17828fa5f74e622d0079f3c4501e846aaa8","2004-09-04 14:53:14+00:00","fixed warning, updated msvc projects

svn-id: r14894
"
"1c94a93a2e0baf0c41ef01bf751593f99f7fa5ca","2004-09-04 15:17:58+00:00","added msvc8 project files

svn-id: r14895
"
"858153c4f7bfacd8a0f6e8077ccc276fc995eea6","2004-09-04 19:28:30+00:00","Some type corrections

svn-id: r14896
"
"f04e412269fc2118f8777802acb2da81a0f7a0b2","2004-09-04 21:17:27+00:00","Rewrote the code that loads credits.clu into memory. The new code is
perhaps less clever than the old one I wrote, but should be much easier to
read. Besides, the old code had a small memory leak in it.

svn-id: r14897
"
"95a52bf4b44376110ec4d12d1b7900c99edd7bf0","2004-09-04 23:05:34+00:00","Fix compile

svn-id: r14898
"
"ac140c296350f3f8e70674d8da5054ba7e3043cf","2004-09-04 23:35:14+00:00","HE 72+ games set VARS with amount of each type of resource.
Often used by their scripts.

svn-id: r14899
"
"2894f13d2b315004b94bdd88b1a7a5591fdfc5ac","2004-09-04 23:58:15+00:00","Add opcode

svn-id: r14900
"
"8db0a7bb7955280e73e199511ed4bc0e0c848079","2004-09-05 03:46:00+00:00","Caused music regression.

svn-id: r14901
"
"010a781adaa311643dde1674a41f3728b87f0a29","2004-09-05 05:40:29+00:00","Fix bug which sometimes lead to some enemies never appear.
Remove some unused code.
Give some vars and functions proper names.

svn-id: r14902
"
"6b09826b33a44f0b8c0f802fdcfef437695f86af","2004-09-05 09:36:51+00:00","Increase actor.sound to 32 for HE 80+ games.
Add some more HE vars.
More adjustments for copying script strings in HE games.

svn-id: r14903
"
"647d8e8bcff2a64c8aa2cd19ed7a26cc54f77be6","2004-09-05 09:41:16+00:00","Ooops

svn-id: r14904
"
"c4065d0af952eddc93e24cd8d19cc564750f6c8e","2004-09-05 10:10:29+00:00","code simplification

svn-id: r14905
"
"80c9d31f54fd20bd07a5ac7f539473dc5862c7bc","2004-09-05 10:16:01+00:00","compilation fix

svn-id: r14906
"
"548e51dce85d44d9da214a8b679d18aed5cff7ed","2004-09-05 10:28:30+00:00","Valgrind warning

svn-id: r14907
"
"11a449a08c4f9ddafa0226aa89673af3782251b7","2004-09-05 15:44:29+00:00","Fixed scrollEffect() regression introduced when move_screen() was removed.
I have tested this on all the cases I know of where scrollEffect() is used:

* The diving scene in Monkey Island 2
* The camel and balloon rides in Fate of Atlantis
* The arrival of the thunder storm in Day of the Tentacle
* Seeing the loose end in Sam & Max

So far it seems to work fine. Knock on wood.

svn-id: r14908
"
"14b3a8e588c2cfbdea43ba88da92b16533d6f1b5","2004-09-05 16:18:07+00:00","The old 'sound' array was introduced in savegame version 8, so surely the
MKARRAY_OLD entry should use 8 as its minVersion? Today's CVS snapshot
triggered an assertion when loading a savegame that worked fine today. It
worked again after this change.

svn-id: r14909
"
"7916291efc8e556f924a988fd866732740fc4473","2004-09-05 16:18:41+00:00","Removed entry about compressed sound/music in BS2 since it's done now.

svn-id: r14910
"
"96ad0d9cb78ce510ce82072c34740a0ca4a1ec5d","2004-09-05 17:39:54+00:00","Added BMAP support in objects.
Though I didn't test it as I don't know when it is used. Please, tell me when
you'll see warning that it is called.
Now we have BMAP for all cases in HE 70+ games.

svn-id: r14911
"
"2c80f1c4d66eaf5ba0c9537265755fab4112ca3b","2004-09-05 22:19:52+00:00","fixed awiz display

svn-id: r14912
"
"d21525d7fe93b9b6d15c442a1263149e89eb70bc","2004-09-05 22:57:09+00:00","Implement roomOp 234

svn-id: r14913
"
"f1c0202e7c418d75f8c560366413b56f343f66b0","2004-09-06 00:58:40+00:00","Add HE 80/90 classes, will be filled up over time.

svn-id: r14914
"
"61c1a11c60c0cb0cb63341f1c18856d401b0fa24","2004-09-06 01:00:18+00:00","Doesn't use smush

svn-id: r14915
"
"c797a781774a63fcd3c2360191266025d7d4087b","2004-09-06 01:10:31+00:00","HE 72+ games use a remove object from queue function.

svn-id: r14916
"
"42277f416f7db065822a7dcc8d3fe0ac566572e2","2004-09-06 01:19:38+00:00","Add back stub, in right place this time.

svn-id: r14917
"
"4ace797f4eade4a9fac06363e0db9ecffbb56c4f","2004-09-06 01:54:24+00:00","More stubs

svn-id: r14918
"
"60bccf377e2c1cd636b0accc67e179c7a53db301","2004-09-06 02:01:00+00:00","Add target

svn-id: r14919
"
"3bd8642f7321547a4eef31f44b3cf29560539e79","2004-09-06 02:39:02+00:00","More stubs for chase

svn-id: r14920
"
"79c5ac987f22bc9919ee5719604aad010953061a","2004-09-06 02:54:28+00:00","Should always push result.

svn-id: r14921
"
"5adc650736061ecec168c8491aa788f41a793f5a","2004-09-06 03:26:47+00:00","Add another ini related opcode.

svn-id: r14922
"
"98584a42f3d2cbbcccbadfd7cfe3f453011edded","2004-09-06 05:50:32+00:00","Should be int

svn-id: r14923
"
"1dcd2612c031f04bbb1feca39cf14a053bbcfa62","2004-09-06 06:39:31+00:00","Added a section about sword2mp3 to the documentation. I don't have the
tools to test the changes to 07_05.tex, though.

svn-id: r14924
"
"0010669d5586359c4ff4e26cb702278b04142494","2004-09-06 06:46:59+00:00","Add basic AWIZ call for HE90 games.

svn-id: r14925
"
"aa264a5079957a82f9e1e5a87837629a8b28eb54","2004-09-06 06:51:30+00:00","Add temporary hack to ignore akoc drawLimb C021 for now.

svn-id: r14926
"
"3f42d6f0aba4492ba4195d6547e5753f63ec7a0b","2004-09-06 07:06:11+00:00","fix compiler warnings, including a if (foo = bar) occurance

svn-id: r14927
"
"35e364dc6e4277d89d0886904cdaee7e595ffb72","2004-09-06 07:31:51+00:00","Skip extra speech header in HE 80+ games

svn-id: r14928
"
"5a4548ed14e88f4f350cca964b1c23bbeb2027a5","2004-09-06 07:54:26+00:00","Not every speech file has the extra header.

svn-id: r14929
"
"3be4ae1d1dc3e37ccdee9f1b9c7cd38501f304c7","2004-09-06 08:53:19+00:00","stubs

svn-id: r14930
"
"5f908120647eaae531a45b0ac453dc8e6c10b637","2004-09-06 09:27:22+00:00","Missed opcode

svn-id: r14931
"
"3a4d9dc6899ad148476e3662d856e67d268b002a","2004-09-06 10:52:52+00:00","Fixed bug in DrawBMAPObject.

svn-id: r14932
"
"85bd972d89e470c3ab67e1e1a4bafa68cb0311b7","2004-09-06 11:09:25+00:00","Save setting of the text toggle when quitting, fixes bug #855542

svn-id: r14933
"
"f1fdfeda346cb6917bac351a4c3e8957a1c37b39","2004-09-06 11:50:32+00:00","Don't check for verbs, if no verbs exist.

svn-id: r14934
"
"98eeb34f2779f41b80df0b33286800824d15612f","2004-09-07 02:53:22+00:00","Switch to cases, to catch any missing cases.

svn-id: r14935
"
"b2ac15afa466bb527729a3d91f79b6efe586ebb8","2004-09-07 03:42:15+00:00","More cases

svn-id: r14936
"
"e6f19ff83a08078295456fc9ed472f9f2da9f190","2004-09-07 06:29:57+00:00","Much like an early civilization with no concept of the number zero, the
new memory manager didn't have the concept of the NULL pointer. Now it
does.

If ScummVM ever crashed for you when using the phone early in the game,
this patch hopefully fixes that bug. (If it didn't crash for you, memory
block zero was still allocated, so 0 still decoded to a valid pointer.)

svn-id: r14937
"
"44ab28cec561d328d6b09b0d898d748e8b00c66c","2004-09-07 09:25:37+00:00","Correct opcode

svn-id: r14938
"
"c6e0afadf0055c931c2f6a27afeabb8a1a264fb6","2004-09-07 12:21:54+00:00","Add index for HE C++ games.
Enable all HE games again.

svn-id: r14939
"
"67498a174b0c73d060d704484fa767ccb4f6c7be","2004-09-07 12:54:41+00:00","add some he c++ engine related changes. For some reason the cpp versions of spydemo and timedemo aren't getting _heversion set correctly

svn-id: r14940
"
"505bbcc295232ae97c0d55b15b863096d0b842f8","2004-09-07 12:56:12+00:00","Add another opcode/stub

svn-id: r14941
"
"8e5aa391c2c06c744038a01f8340314d58e07573","2004-09-07 13:05:09+00:00","Add HE 98 version

svn-id: r14942
"
"88b9335b275cf8f3761aba917f710073f5db58bc","2004-09-07 13:11:00+00:00","Ooops

svn-id: r14943
"
"67e963507d3e83d94181ed4c324ede9d0220c0b3","2004-09-07 13:20:54+00:00","ah of course...

svn-id: r14944
"
"5532f83a56e23d9fcb46bedd9c326be2d7684fcd","2004-09-07 13:23:26+00:00","Load talkie block

svn-id: r14945
"
"452f783fc8559d3b5d492598054d024dee33f577","2004-09-07 13:30:25+00:00","Add opcode

svn-id: r14946
"
"4cc31b030aa0c9e8bb4894ac467baf08510f42db","2004-09-07 13:57:58+00:00","Add case

svn-id: r14947
"
"74d9f1a37d2954bd8936e85af42ffad0530c86ea","2004-09-07 14:16:08+00:00","Add cases

svn-id: r14948
"
"b7fe39812a2f4e8de29aaadb42efdd47cc6eaadb","2004-09-07 14:26:51+00:00","Add target

svn-id: r14949
"
"93ae8343333f91bae55c1f588cf9ac64d72e056e","2004-09-07 14:31:19+00:00","Should be HE99

svn-id: r14950
"
"933cbeb91e0489cc4f23f2b8812e927ff7ec9143","2004-09-07 17:52:03+00:00","Fixed debug output.

svn-id: r14951
"
"6bc9a84c2011e786887156451004ea37893dbb46","2004-09-08 00:19:18+00:00","Add more akos codes for HE80+.

svn-id: r14952
"
"6b0b39c7d6775720ec7fef286644de4da1013f58","2004-09-08 05:58:36+00:00","Add extra index types.
Remove duplicate code.

svn-id: r14953
"
"8d6e15b34af3b1ba960cdff580482bb962d59baf","2004-09-08 06:35:38+00:00","Verified values.
No extra object data in later HE games.

svn-id: r14954
"
"c9a4f23e51aa190b5fe4c52d1c8a38b0560d8f71","2004-09-08 06:38:31+00:00","No shadow palette in later games.

svn-id: r14955
"
"fc60379b216390571236145baddf65184a4d3c22","2004-09-08 06:46:52+00:00","Caused crash.

svn-id: r14956
"
"d662863db152e85c85f82220e37eed20d89d7fdd","2004-09-08 07:10:43+00:00","Lower debug level

svn-id: r14957
"
"412f7105f06343c6a592a58df4b575fd64b74024","2004-09-08 07:10:54+00:00","Fixed evil regression #2. Restarting the game, or using the 'start' debug
command, would close the global script variables and player object
resources, without reopening them again. This made them fair game for the
resource expiration mechanism. The player object is probably referenced
often enough to stay alive, but the variables died on me pretty quickly,
causing ScummVM to crash.

I've also added a 'reslist' debug command to make this sort of things
easier to spot. By default it only lists resources with refCount > 0. Use
'reslist 0' to see all the cached resources as well.

svn-id: r14958
"
"df9e6ef7585e44996817138ab01dc25c03ea96ca","2004-09-08 09:24:18+00:00","Fingolfin's suggested fix for bug #1004919.

svn-id: r14959
"
"ea0620044661425f8f75e34563418434710ffa48","2004-09-08 10:36:06+00:00","Fix array issue.

svn-id: r14961
"
"8227fcddf4aa7278033cdd3927f98d83adfffe6b","2004-09-08 12:14:56+00:00","Should be reading array id resource.

svn-id: r14962
"
"31aeef307ed9d2f6be3ddacfc55ac8390271ea5b","2004-09-08 12:28:29+00:00","Add freddi3 target.

svn-id: r14963
"
"1a9d6e023b1750ce118c55586abbb4b8c163e8e5","2004-09-08 14:49:15+00:00","Fix pjs-demo

svn-id: r14964
"
"7593129d986a7560edcf0e74fbc164bc58627c94","2004-09-08 21:14:12+00:00","some AKOS tweaks for HE72/80

svn-id: r14965
"
"d28581ed461570602ac7202cf97677f22c48f9b1","2004-09-08 21:38:44+00:00","Semi-working akos codec32.

svn-id: r14966
"
"f6d2be28486d6e30d159e5c25cf65590b6957ffa","2004-09-08 22:36:05+00:00","Add missing section for C022

svn-id: r14967
"
"0d647f41012590c7aac0e0957cd8c070bc34cd44","2004-09-09 01:53:23+00:00","Implement HE 80+ wiz-based cursors. Current implementation is a dirty
hack because drawWizImage has much more code in these games comparably
to 72 games. Also they pass cursor parameters in a quite obscure way.

svn-id: r14968
"
"d95dde29638edc0dd9feb759957e4dafc8477f93","2004-09-09 02:10:05+00:00","Cases don't exist in HE80.

svn-id: r14969
"
"6f7a3713b380912fd3e0090acf1e6f8a09dd8255","2004-09-09 02:20:03+00:00","Disable for now

svn-id: r14970
"
"95a5e3d951cec8f2d2bde59eb19dfdac7c2ddbf4","2004-09-09 02:21:48+00:00","Minor correction

svn-id: r14971
"
"9f95f2a614c023ad18d76e1ea2f2deae14941670","2004-09-09 04:05:31+00:00","Add extra opcodes for freddi2
Allow akos to play any actor sound.

svn-id: r14972
"
"1e0e9e0e038515b887d966d765c904cb6793f5a7","2004-09-09 04:16:57+00:00","Fix dog regression.

svn-id: r14973
"
"2bc880a9290e52403c4be1ca5e03d993faa1550e","2004-09-09 04:27:57+00:00","Add later spy fox 1 version.

svn-id: r14974
"
"f6b4532086e318c119e2d4f9ced1d6b7b0e81815","2004-09-09 04:44:46+00:00","Duplicate

svn-id: r14975
"
"5e9b5a059484da6f2e870c970a27e17f97c2ee98","2004-09-09 07:29:49+00:00","Ooops

svn-id: r14976
"
"84549db76a8f2d46a70cad9c3dce901f4d2d2fb0","2004-09-09 07:32:03+00:00","Oops

svn-id: r14977
"
"b4fa1914e463d10e5dd0288c1ddc7cb6351a445a","2004-09-09 10:08:39+00:00","Fix bug in ScummEngine_v7he::getCharsetOffset()

svn-id: r14978
"
"62ba3e9a58c58874eac600ba003d6bd0a5bafaab","2004-09-09 10:36:10+00:00","Corrections

svn-id: r14979
"
"1131a70e0012dd3fe0784e6bd240a1d50958db93","2004-09-09 10:44:17+00:00","Add HE 70 version changes.

svn-id: r14980
"
"3232d22f5fb66f27945ac05adacaa47f6cc41b0b","2004-09-09 11:12:22+00:00","correction

svn-id: r14981
"
"1502b39634af13cd6f8af882e32e56732c1e1ecd","2004-09-09 11:50:23+00:00","Correction

svn-id: r14982
"
"9eb69ed03ad2dd635498467e5ec10bfcdbc6fcd1","2004-09-09 13:54:32+00:00","Use screen width, not hard coded value.

svn-id: r14983
"
"655728fe7d40a114913e68681ba747b887039d73","2004-09-09 14:07:51+00:00","Change needed for HE 71 too.

svn-id: r14984
"
"c7d28132b4240c7c253ad91904f59cf3dd896e4d","2004-09-10 01:03:01+00:00","Save game changes for HE80+ games.

svn-id: r14985
"
"67f7c40446bf28ce28401ef2e97bf4dd2f334a95","2004-09-10 01:55:37+00:00","Ooops, actually clear _roomVars.

svn-id: r14986
"
"0a3ca185e095348d3d0e240f1e815849b346e3ec","2004-09-10 02:03:31+00:00","Check _scummVar size of restart too.

svn-id: r14987
"
"9a22fe5c2dce701d5ce7f4695c3dc4574536da4d","2004-09-10 03:36:39+00:00","Add updated fredd2

svn-id: r14988
"
"a33a6cfe07be2fc982a6b2b2871d2b0d10300820","2004-09-10 09:22:31+00:00","Update HE72+ vars

svn-id: r14989
"
"0ed136f0c6d6fbd52f111b67fcbdac32388bc1b2","2004-09-10 10:39:10+00:00","Add HE vars

svn-id: r14990
"
"98f8433396aaecb8bc23f13566b6cb9ac383c201","2004-09-10 10:43:10+00:00","Missed line

svn-id: r14991
"
"00452c40736dedc2cfdb0c01d306856b0a6b452d","2004-09-10 10:45:22+00:00","Ooops

svn-id: r14992
"
"c1fe9cefd3c62554de5b8e46d11182cf450997a6","2004-09-10 10:55:43+00:00","Rename opcode

svn-id: r14993
"
"f16ee4dfafca5d78d1b924645eb5dfc0205b8908","2004-09-10 11:01:17+00:00","*** empty log message ***

svn-id: r14994
"
"71866c1287d35bb88b4d9dc048b296cc84bafb32","2004-09-10 12:07:53+00:00","Correct HSHD sounds

svn-id: r14995
"
"a427d72d0407aae11ae43ebe54aa630bd8323160","2004-09-10 12:13:03+00:00","Store SCUMM md5s in save game. Save format bump.

svn-id: r14996
"
"3a416ff478b4d57e91799d314cac42e0ea705b1d","2004-09-10 12:29:43+00:00","Update HE issues

svn-id: r14997
"
"6fda040ac624f9d5ea70a5dee322310d5d618ce6","2004-09-10 14:29:36+00:00","Minor correction

svn-id: r14998
"
"28c0ea02a33c1fc91f9b17c60c004d155194a6a7","2004-09-10 14:31:20+00:00","Add stubs

svn-id: r14999
"
"5e8ccb315f0f0144cbfa691c36a7fd0f86240e56","2004-09-11 00:49:22+00:00","Add stub

svn-id: r15000
"
"a636f2ce9187f22245136627bf6bf65d937fa019","2004-09-11 01:44:08+00:00","Not popping enough.

svn-id: r15001
"
"e372b145b86d042fed9aa6c2f7a5022c235a658e","2004-09-11 03:02:37+00:00","Correct object state.

svn-id: r15002
"
"618dcf6217fe30aa6a53527e6a474bf33bf9ea42","2004-09-11 03:04:10+00:00","Fixed

svn-id: r15003
"
"8144bc100b6377c1da6ebd777afbd33f7353400f","2004-09-11 03:10:31+00:00","Update this one too.

svn-id: r15004
"
"ecddda094a625c6e4b7c44f20e186bc646f3004b","2004-09-11 08:50:45+00:00","Update with alternate floppy loom.

svn-id: r15005
"
"b495c7ea07e9994ef735bc4e58fb669030327c3a","2004-09-11 12:22:06+00:00","Use random talk animation in HE 80+ games for now.

svn-id: r15006
"
"c8e65e1c8f11623782d7e8617ee47e923c85eae3","2004-09-11 12:55:50+00:00","Ooops

svn-id: r15007
"
"42739375901467d0ab1769c27e27bbb4648dc536","2004-09-11 13:22:45+00:00","Local script difference in HE 99 games.

svn-id: r15008
"
"2be3bff2a6f6b81b0aff73e4e6ac2b18c71dc267","2004-09-11 13:30:24+00:00","Should be HE99

svn-id: r15009
"
"1a2c46fa72b7cd842b8022a1bcff82a780a67dc5","2004-09-11 13:37:26+00:00","Should be HE99

svn-id: r15010
"
"26a83df8534ba0aa909b13fbaf0d237065bb902f","2004-09-11 13:47:18+00:00","Seems to be off by 1.

svn-id: r15011
"
"867809fb1db68da6e669805a87e85166d04b7c82","2004-09-11 14:14:07+00:00","Add stub case for now.

svn-id: r15012
"
"09dfaa924eaa59ade2605b8a94718ebe1b930c4d","2004-09-12 00:48:16+00:00","Add some HE90+ opcodes

svn-id: r15013
"
"ad6c8217bcfc797b0017102f0ecbd3518599d34c","2004-09-12 00:52:14+00:00","Add case

svn-id: r15014
"
"c77df77180c49a684de568cab7de6de7c38387d5","2004-09-12 01:12:06+00:00","Use talkie resource for HE 99+ games.

svn-id: r15015
"
"1f4abd4432de2146cd57eca318c8e1bc9d3eb4a2","2004-09-12 02:05:12+00:00","Typo

svn-id: r15016
"
"3b9def962c53a9aa9e0a2bd1a7de4d1cb24788e7","2004-09-12 02:25:12+00:00","Add some change to start later HE99 hames.

svn-id: r15017
"
"175ef8f1cd3e4b26e4af5b6afca779ff7ee497c8","2004-09-12 06:00:56+00:00","Skip speech name in subtitles.

svn-id: r15018
"
"2bd07c2c8de772d5e513bbafdca8edccc28e05a0","2004-09-12 06:09:19+00:00","Add targets

svn-id: r15019
"
"f8e2bcf02425d986dc76cd28e3a0e268e7b71264","2004-09-12 09:26:48+00:00","Add debug

svn-id: r15020
"
"f8c05424eaa42093befedb62a3dff2f8de1ff3ae","2004-09-12 10:23:20+00:00","More HE opcodes.
Can get a bit further in pj2 now.

svn-id: r15021
"
"3b39dd2ff9538ab93a0c1b5eee02a501a2f960c9","2004-09-12 10:45:15+00:00","Enable Zodiac driver

svn-id: r15022
"
"b8520692f4c462e10262a72381d324962a9f36be","2004-09-12 10:48:04+00:00","PalmOS : ARM optimized proc3 function

svn-id: r15023
"
"0a44ef3d3c2d6d957581e1d451b430e70a4a8a6a","2004-09-12 10:49:29+00:00","PalmOS : ARM optimized DrawSTripToScreen function + disable dissolve(1,1)

svn-id: r15024
"
"6b58b000c60c2810fda5b5ac4ac882ef16ce27da","2004-09-12 10:51:00+00:00","Correct variable name

svn-id: r15025
"
"7988660bda736b567710b348e38ee0b7144ab5d5","2004-09-12 11:07:32+00:00","On PalmOS too

svn-id: r15026
"
"19e17b1c93e4962bee1f108c179de12dedb887c3","2004-09-12 11:10:31+00:00","Fixed russian support

svn-id: r15027
"
"951131e7c2a7ce270398f4635126c2cdcd1892e7","2004-09-12 11:14:14+00:00","Zodiac midi driver

svn-id: r15028
"
"a1c22f9d7f823bef55be5c2c31e5d963ac29c8d6","2004-09-12 11:15:26+00:00","Another HE opcode

svn-id: r15029
"
"3a89406b76efee69496d1620fc5111949ff11e00","2004-09-12 11:27:36+00:00","New exit(...) function

svn-id: r15030
"
"f2cc2c809f6f2812aa07091554fb6522c5bd34da","2004-09-12 12:02:17+00:00","Use the new exit(...) function

svn-id: r15031
"
"1f747ab8822e0a5779696fa81fc4cfcc1e992502","2004-09-12 12:09:47+00:00","Prepare new form with tabs

svn-id: r15032
"
"4dbb77fc2a6b48c4e265f59357332549b945725f","2004-09-12 12:14:53+00:00","New pocket Tunes CD driver (MP3/Ogg)

svn-id: r15033
"
"0f2f3c0072773f678ac986eab717fc050adc4eb5","2004-09-12 12:15:19+00:00","Be a Better Programmer (tm)

svn-id: r15034
"
"e0b156387e7b37cbbdaac81dc213558c6ad8278c","2004-09-12 12:18:46+00:00","Be a Less Lazier Programmer (tm): Lesson 1.
Typing your code instead of copy/pasting it from a few lines down.

svn-id: r15035
"
"7aca0381e48d16f9271287981d75ee8a438c8b29","2004-09-12 12:30:32+00:00","Removed obsolete files

svn-id: r15036
"
"a727918ba1f6a91977ad789c6196453e4c05f440","2004-09-12 12:35:43+00:00","Files to be renamed

svn-id: r15037
"
"926571bf7938244da5268853ce87798fdf9a08ce","2004-09-12 12:36:40+00:00","Convenient macros to ease ARM code

svn-id: r15038
"
"edc26ee3a7d5d18b2c0bf8750092644123d7fd3d","2004-09-12 12:40:51+00:00","Renamed and use the new ARM macros

svn-id: r15039
"
"f413780189cc734dccad8fb87106f5ab9c9dd5d7","2004-09-12 12:42:07+00:00","New ARM optimized functions

svn-id: r15040
"
"eeee0b6f5402119015072534747c05c09c9d9421","2004-09-12 12:44:57+00:00","Cleanup

svn-id: r15041
"
"f90902959b78bf25204555e938c1b47b1ada58c9","2004-09-12 12:46:35+00:00","Rumble functions

svn-id: r15042
"
"11f1ccf43a399d24412f13df9fe4101982c2b0dc","2004-09-12 12:50:52+00:00","16bit skin support + Palm API only redraw (=skins can now be compressed) + cleanup

svn-id: r15043
"
"1f8f4c0ea37218f3156b840f9abb97642e3bc346","2004-09-12 12:53:47+00:00","Removed obsolete code

svn-id: r15044
"
"30d0b6f7ba5e8e11baaf9dc0c14d41a48c283f70","2004-09-12 12:56:28+00:00","Make use of --output-rate option + cleanup

svn-id: r15045
"
"609c57c25ae0f7174bdacd4df14d6c290d6ca2be","2004-09-12 13:01:12+00:00","Cache read/write data to speed up access

svn-id: r15046
"
"e88274f4b2fd047ec91a9c7e85bf820c7f125d78","2004-09-12 13:03:50+00:00","- Use new rumble functions\n- REnamed updateScreen functions\n- Zodiac support\n- ARM calls using the new macros

svn-id: r15047
"
"c97c169ac0ff6c0b4705320f4a96251510b3da08","2004-09-12 13:07:15+00:00","Get rid of _quitCount and _selfQuit

svn-id: r15048
"
"9645b59032fb8fef30401f594ab2c7bf088d498e","2004-09-12 13:09:40+00:00","<<Get rid of _quitCount and _selfQuit
Added Zodiac support
Use new ARM macros
Cleanup

svn-id: r15049
"
"217a8d0eb7a4241dbe8d4bd63db76cfb19c67678","2004-09-12 13:12:39+00:00","- New mouse emulation code
- Get rid of _selfQuit and _quitCount (useless with the new exit(..) function)
- Zodiac keys support

svn-id: r15050
"
"9d0bee29340273ae1acd45317c9306787a245cd5","2004-09-12 13:15:17+00:00","- Pocket Tunes support
- new mouse emu code
- setWindowCaption fix
- get rid of _quitCount and selfQuit
- clean up

svn-id: r15051
"
"b4b5aa20a579ed666e9fe11237681574bb8d3a6b","2004-09-12 13:17:15+00:00","Feature memory init/cleanup

svn-id: r15052
"
"47f4c6f9c50b7db28896d22e8e80cda8d70dbfa6","2004-09-12 13:19:58+00:00","Forgot this one

svn-id: r15053
"
"172eefde7dae37c59ab3d81360a80d8561e45ec7","2004-09-12 13:21:44+00:00","Correct debugs

svn-id: r15054
"
"5789eb3204aec1c2e36e0d0185eb00e68ef70792","2004-09-12 13:24:06+00:00","- New rumble code
- ARM init functions
- use the new game config
- use the new exit(...) function
- --output-rate support
- clean up

svn-id: r15055
"
"53114674058599844436c83151596f676fe721ba","2004-09-12 13:25:15+00:00","Added Zodiac code

svn-id: r15056
"
"c3f2f286ccfccc2ba0d076013443eb89433648f8","2004-09-12 13:29:03+00:00","- ARM functions are now global
- Zodiac filter option
- more CD options for Pocket Tunes API

svn-id: r15057
"
"2be4ef999fddab612b0435c7ad5eec7e92d91808","2004-09-12 13:32:27+00:00","- Music and sound options can now be defined for each games
- updated games config

svn-id: r15058
"
"262c6e0d8428fd0533bad1214be56f5e8128d4ee","2004-09-12 13:32:58+00:00","- Music and sound options can now be defined for each games

svn-id: r15059
"
"3c01d453d5246e58deb881ff340cbbb7d8d332bc","2004-09-12 13:34:11+00:00","Cleanup

svn-id: r15060
"
"7afd085317c20420a2d80e70d4ffef5cd1b2a258","2004-09-12 13:41:28+00:00","This is now defined for each games

svn-id: r15061
"
"83dac5960f985020fb8bb6d71fdddf338d96f118","2004-09-12 13:43:13+00:00","New form with tabs

svn-id: r15062
"
"e06913a5dfd05c7127d9dd5c751370560b18ac93","2004-09-12 13:44:03+00:00","Create folder for MP3/Ogg files

svn-id: r15063
"
"5ce8b8d74141415d2cff1991375ad5b8c44bd172","2004-09-12 13:48:20+00:00","????...

svn-id: r15064
"
"788c120cf379d45fd7c9365d7b2f5da89be4d71e","2004-09-12 13:52:05+00:00","...

svn-id: r15065
"
"0b4e8fb7fd0753625810f785371130506908994a","2004-09-12 13:53:30+00:00","- Use new form names
- Fixed card redraw

svn-id: r15066
"
"b9b0bf52a7a8b3daa5db2e525c984f28e0fd6ab4","2004-09-12 13:54:57+00:00","Those options are defined for each games

svn-id: r15067
"
"bc369ce6e27a689409034a7a6d839bbdd029bf9c","2004-09-12 14:20:57+00:00","fixed endlines

svn-id: r15069
"
"89ae0de009b5d310e053cd5b5264be9b6e05aab5","2004-09-12 15:07:31+00:00","Not used

svn-id: r15070
"
"b83979d8193536a4709430fd24d0eaf29b8e3cef","2004-09-12 15:09:36+00:00","Changed min version

svn-id: r15071
"
"f1d3b582520011152ee69d7c9a43cb59713477dc","2004-09-12 15:12:33+00:00","- simon : russian support
- simon : remove obsolete const
- scumm : oldScaleTable support

svn-id: r15072
"
"b847f38ea66b0ba341bc075869461d717ef9e435","2004-09-12 15:14:28+00:00","New forms with tabs

svn-id: r15073
"
"230ea60d674ff2fb50441f47e509f96747edaffb","2004-09-12 15:16:04+00:00","New ARM code

svn-id: r15074
"
"1bea934ba3fa44fed2acb83c0db0354b76efd0c7","2004-09-12 15:17:46+00:00","New project file

svn-id: r15075
"
"afface9c37f31a7b4f2cac35e049a9acd5713ff4","2004-09-12 16:17:14+00:00","Disable these games for now

svn-id: r15076
"
"2157011ba9bde7bde7bbcfc48ee2668d7939e74c","2004-09-12 16:29:11+00:00","Oops

svn-id: r15077
"
"7011d697cbad88ed17f87cb528fc0503fb0a2bff","2004-09-12 17:05:17+00:00","Made the output from the 'mem' debugger command a bit more informative, and
sorted it to output the biggest memory blocks first.

svn-id: r15078
"
"d010b9e560c6eab95ffd5a46067ab9ffc8573724","2004-09-12 17:10:59+00:00","As an experiment, expire SCREEN_FILE resources faster than other resources.
They're generally the largest resources in the cache by far (though some
ANIMATION_FILE resources are about as big).

I still don't know how much benefit there is to resource caching, but some
of it is definitely needed, or the game won't work properly. Oh well, as
long as no one complains about the extra memory usage...

svn-id: r15079
"
"7688c017e162fc0808891eee22e074b69d651abf","2004-09-12 17:33:18+00:00","Added missing parameters to debug(), as pointed out by Lord_Nightmare.

svn-id: r15080
"
"dc461ca770c763aae6888269ce115d4890f95bc6","2004-09-12 18:21:21+00:00","Fixed some other cases where the number of parameters to our message-
printing functions didn't agree with the format strings.

GCC will find a couple of other things to warn about if these functions
are labelled as printf()-style functions, but those were less important, I
think.

svn-id: r15081
"
"3573ad8dc5ef03c513ead11a0775c1270dfa6e57","2004-09-13 02:09:35+00:00","Set correct array length in HE 72+ games.
Add some stubs

svn-id: r15082
"
"a14bdf55105d1a2baaf8b46d30efe0f714dd6d1d","2004-09-13 02:24:28+00:00","Corect size.

svn-id: r15083
"
"9105a3ae1d57214edd709556dfe293f9b35a21d7","2004-09-13 02:29:45+00:00","Required for later HE games to.

svn-id: r15084
"
"fde215e10682b8ded5f08c772cc4ba973cfdd1df","2004-09-13 02:32:13+00:00","Sound ids 10000 - 10008 seems to be sound channels in HE70+ games.

svn-id: r15085
"
"c1122f4333d1988a78c9d9fbe67076dc979d5c83","2004-09-13 04:16:22+00:00","Debug code strings should use string num, not var num.
Updated work around for loading datafiles.

svn-id: r15086
"
"6611493a567b7f7b85208bb56fa931e7efba7df3","2004-09-13 04:45:21+00:00","HE arcade game work a bit now.

svn-id: r15087
"
"4b1ba6a7edfc96b694f1dd8a6c73c173ba864652","2004-09-13 05:25:35+00:00","Add Missing pop

svn-id: r15088
"
"51bcffef855acbab8615d78263e56b994e0400be","2004-09-13 05:33:54+00:00","Needs to be higher for now.

svn-id: r15089
"
"5a4686b92d65033969823dd511cd7b9df6f86cf4","2004-09-13 10:24:37+00:00","Order wrong

svn-id: r15090
"
"3c0ac41aa8bd3cbcd7a363d5deb0d0b0d02e0de0","2004-09-13 10:27:10+00:00","*** empty log message ***

svn-id: r15091
"
"576ba76c03dad976211d5c813f926354afb5415b","2004-09-13 12:24:33+00:00","A few corrections

svn-id: r15092
"
"0ede5ca36e9c44d47da448ca173440a9d664579b","2004-09-13 12:30:16+00:00","Remove debug

svn-id: r15093
"
"831e967e9f2360db2b8fa990d185fb9a19771091","2004-09-13 12:34:53+00:00","Not needed.

svn-id: r15094
"
"f4d609d72884fc19d48325bed5d0fe17cb9824b5","2004-09-13 13:07:35+00:00","Correction

svn-id: r15095
"
"f937f6723fdd330d7a56de863949d8fc999ae2ce","2004-09-13 13:52:08+00:00","Reads extra script byte, just like readFile.

svn-id: r15096
"
"1f9e3739558405893eb62d6ac0a6d15d76abc2dc","2004-09-13 13:59:02+00:00","HE 80 uses up to 255.

svn-id: r15097
"
"a57fcac59a47c406251e129e327487db90a14507","2004-09-13 17:05:23+00:00","Add debugger for BASS.
This should help in tracking down remaining bugs, such as the grid problems and walk deadlocks.

svn-id: r15098
"
"00dd95ac0a041ab1c2b4655c9b25b0233f148f68","2004-09-13 18:01:25+00:00","fix cursors hotspot

svn-id: r15099
"
"7dc4f06af8f0b5b5e5896790ab25e10d4fa6a292","2004-09-13 19:16:11+00:00","Use ARRAYSIZE macro

svn-id: r15100
"
"af0ac901aef6117b7ac4da28f20a4cfb8d829342","2004-09-13 22:44:23+00:00","Update

svn-id: r15101
"
"08908850e00fb38be1557702cf49a55c3ec7166b","2004-09-13 22:47:01+00:00","Update

svn-id: r15102
"
"1699fae48332c77174f1e95b08b17fa4b0d03231","2004-09-13 23:24:36+00:00","Implemented formerly known unknownFB and unknownFC.
ScummEngine_v7he::polygonContains() is still buggy and prevents whole
thing from working.

svn-id: r15103
"
"0eb748b7a22c8b7c62301e4778c975b470f2c886","2004-09-14 00:59:59+00:00","Fix bug in polygonContains(). Still doesn't work.
Preparations for implementing findObject() HE changes.

svn-id: r15104
"
"1439822d1bad04e396f7c11f7158638c7d7afdf2","2004-09-14 01:12:16+00:00","Fixed yet another bug in polyugonContains. Still not everything :(

svn-id: r15105
"
"674cdf130b9c096d06b4c2987b6cb264c4b1d8c2","2004-09-14 02:56:36+00:00","Set numVerts when storing polygons

svn-id: r15106
"
"b42731afabd4d7b229b4de241f8b24b2fb1b1cf8","2004-09-14 06:21:11+00:00","Load POLD resources in HE80+ games
Some more WIP on polygons

svn-id: r15107
"
"b14a21970c343495ded778eb5c719df819eb6cae","2004-09-14 07:59:40+00:00","Report when polyogn Wiz image is used.

svn-id: r15108
"
"bd1e96a728047d5446b56ab72e97a33fd20049cb","2004-09-14 08:01:35+00:00","Only reports trace status

svn-id: r15109
"
"f605130496fe220c3a453040e4aaffb951d3b3bd","2004-09-14 08:28:23+00:00","Fixed latest bug in polygonContains. Now hotspots work as expected.

svn-id: r15110
"
"488430a06ec8868fe82bd5f759da12b02c6db40f","2004-09-14 08:52:12+00:00","_numActors should be 30 not 29 for HE 72 titles, makes HE 72 version of puttzoo work

svn-id: r15111
"
"20a444099deb0fa2f108a712c1e138ddace766d2","2004-09-14 09:09:06+00:00","Correct id check

svn-id: r15112
"
"5d25e4a197978938719bb50390e7a9f395e6d3dd","2004-09-14 10:46:09+00:00","Fix array issues.

svn-id: r15113
"
"c97d5297870526f9a138d8d3af9357da0b3f8e93","2004-09-14 11:35:15+00:00","polygon slots should be cleared in startScene

svn-id: r15114
"
"8c5381295d0400551d51ffa022fc460b838e6c69","2004-09-14 12:05:00+00:00","Add opcode

svn-id: r15115
"
"6522c060fd26aafbd3cd9482b93db9154125642f","2004-09-14 12:17:15+00:00","Typo

svn-id: r15116
"
"8e1d3aa939d76cd91cbeb5544674da627ffb6428","2004-09-14 12:55:48+00:00","Avoid warning

svn-id: r15117
"
"167f5d543f57e7856c003d488c7f56650c54e24e","2004-09-14 15:06:02+00:00","Save polygons
Move findObject changes to HE72

svn-id: r15118
"
"17ea1f87df044ea9a0656726584f582b028e562c","2004-09-14 20:46:04+00:00","Use -more informative- constants for certain script variables

svn-id: r15119
"
"e494f53822d850a64a6ed96805dd95912c8576a5","2004-09-14 21:59:46+00:00","only clear the polygon slots when playing a HE game

svn-id: r15120
"
"5df545630bf31ddfea86bad9d909686bb3986f17","2004-09-15 00:19:33+00:00","Update HE checksums

svn-id: r15121
"
"7f766fc2a55a792fbd1be2c5ed8752b8469ee9fc","2004-09-15 01:56:42+00:00","Only palette is different

svn-id: r15122
"
"1ee9a242c3a89ee97edd77f65a882e5860de4943","2004-09-15 06:41:11+00:00","Still not quite right.

svn-id: r15123
"
"dd78319ee06739cd3423e48ee61a656421233707","2004-09-15 11:56:07+00:00","A bit safer

svn-id: r15124
"
"d7ccfd0350d291c8b0e29ae651b50b0b76756836","2004-09-15 12:12:43+00:00","Ooops

svn-id: r15125
"
"3605440f9a0da597f700bd5c54405e30f77b784c","2004-09-15 12:14:25+00:00","*** empty log message ***

svn-id: r15126
"
"efeb100c700af5d37e23dd43437cb5e581abc36b","2004-09-15 12:40:49+00:00","Call direct

svn-id: r15127
"
"c5978208f7d0b5bcc685d174726ebdcb405f72dd","2004-09-15 15:31:39+00:00","Allow the BASS debugger to be invoked by the 'standard' Ctrl-D / ~ / #
keys, since ` is bloody awkward on a Swedish keyboard. To keep joostp
happy, ` will still work even if it currently doesn't for any of the other
debug consoles in ScummVM.

svn-id: r15128
"
"013f0f9a3370814c4240ab10dcd24b30cee0b3ad","2004-09-15 22:48:35+00:00","Update. For some reason one md5 was lost. Spotted by Lord_Nightmare.

svn-id: r15129
"
"9a8d2c6c4a3b3723bcc0559d023046c67e04d9ba","2004-09-15 23:47:54+00:00","Add missing akos case.

svn-id: r15130
"
"2a34670cfdcd45caf5f6a45d09ff83cefe5a1627","2004-09-16 04:53:04+00:00","ADD HE80+ difference

svn-id: r15131
"
"2cfcc33a33aa8a5e515db7244c5d9aff453cb2dd","2004-09-16 05:04:09+00:00","Update comment

svn-id: r15132
"
"e467ce17157479e59586736521952fffcce59629","2004-09-16 07:35:01+00:00","Made the dataFileHeader struct packed, after discussing it with olki.
Neither of us can verify it, but it should fix bug #1002534.

svn-id: r15133
"
"5ff185d7f8552abd49c2bdbddc223df4602fddf6","2004-09-16 09:20:49+00:00","Correct local script range in HE99+

svn-id: r15134
"
"0233a1c6107b8089d59881e2d78ff340d5bd5a28","2004-09-16 09:34:08+00:00","Add Dutch Freddi2

svn-id: r15135
"
"b45b800ed52ec2c721c2f9c17bb09c59b4249d8e","2004-09-16 09:40:08+00:00","HE90+ games use two local resource types

svn-id: r15136
"
"9bc8383ceeec56234a1e2a14af9d8d830d0d132d","2004-09-16 09:47:07+00:00","Oops

svn-id: r15137
"
"49cd965411720b3ee20dc628ac864f5ec0e07c5d","2004-09-16 12:30:54+00:00","Correction to pickVarRandom
Add HE80+ version too.

svn-id: r15138
"
"31772ea47d00b23dc0de73e52aa39933d59dd86e","2004-09-16 12:54:32+00:00","Ooops

svn-id: r15139
"
"0a320ac7aff085a791c6b865fcc23c5659a2b881","2004-09-16 13:51:03+00:00","Correct array size read

svn-id: r15140
"
"cf717603916aae5c420055dde35f74660803c95e","2004-09-16 14:31:16+00:00","No longer required.

svn-id: r15141
"
"2ac60430fcea9c751552ae6e7d09076d2233c8b2","2004-09-16 23:34:26+00:00","A few more corrections, fixes freddi2 crash.

svn-id: r15142
"
"3f7ecb9db2031012f61832da58b937b5919e5f1c","2004-09-17 02:59:38+00:00","Correct mouse vars, should be mouse hold in scumm6/HE.
baloon works now.

svn-id: r15143
"
"9a65451109bb0764104f1689853bedd09900adf6","2004-09-17 03:18:00+00:00","Add case stubs for water

svn-id: r15144
"
"d34da28ed9948fa1d6454e67c4294bf3b546dcd6","2004-09-17 05:43:37+00:00","nukeArrays still nuking wrong arrays.
Add some more differences in later HE versions.
Add HE opcodes changes.

svn-id: r15145
"
"5e7e609d19d12fc4a5f9a466b9365ec5a55e7a71","2004-09-17 10:33:40+00:00","print some more info with the 'compact' command

svn-id: r15146
"
"48fb2878871488c5c4bfc3e674e68873e1c5a2a6","2004-09-17 11:20:37+00:00","Correct and rename opcode

svn-id: r15147
"
"22b2cfa00255dcb282c88817f5b33c0999473ab7","2004-09-18 00:36:17+00:00","preliminar AuxQueue support (freddemo intro), some glitches though

svn-id: r15149
"
"e026d179d4d623b48468df71dcf9398cd287cc60","2004-09-18 00:37:35+00:00","update

svn-id: r15150
"
"a0312bd8cb832b37263d6c1b24911a37464c68af","2004-09-18 01:00:22+00:00","Should be for HE71 and later.

svn-id: r15151
"
"81be6793425ee3e47976f4fc4e79a246dbc88e2e","2004-09-18 01:21:14+00:00","Neeed to know where polygons are renderered

svn-id: r15152
"
"cda52bf2bed27f8088c2246d3492c56ced337521","2004-09-18 01:37:29+00:00","Not soundOps in He80+

svn-id: r15153
"
"e6044abd27731830bf66a3380216dba6688dbaf1","2004-09-18 03:15:42+00:00","Update HR issues

svn-id: r15154
"
"c35757d6bbb553fe9e6560922ed804313f483dc0","2004-09-18 04:12:14+00:00","spyozon intro. runs

svn-id: r15155
"
"1c046674e52f682a7f0da90aa535b71f9b4a3abb","2004-09-18 05:00:38+00:00","Skip sound caching in Sam & Max (Talkie)

svn-id: r15156
"
"3904c0b5b9cee8e0200995973fd8f02b42765584","2004-09-18 05:15:57+00:00","stubs for freddicove intro.

svn-id: r15157
"
"e11456cb9232b8726b21482e0c026e6cde2c1789","2004-09-18 06:17:50+00:00","fix offsets computation (Putt-Putt's head and body are no more detached in timedemo now)

svn-id: r15158
"
"af77554dc3c7f29380462bdca57068eb3bccd454","2004-09-18 06:29:07+00:00","minor code simplification

svn-id: r15159
"
"27946f1e86d0deeea46b167bf49f950a61965875","2004-09-18 10:25:49+00:00","fixed msvc compilation for __restrict__

svn-id: r15160
"
"5c442f53aaa705d6c4502cc9cd8430a5e78f2ffa","2004-09-18 11:34:55+00:00","fixed warnings

svn-id: r15161
"
"89602bc9361bb7e260c4de3676adb9f52f99b3a2","2004-09-18 11:45:32+00:00","update

svn-id: r15162
"
"a6486ad2285151d6b77a4f5314054778b0304476","2004-09-18 11:48:17+00:00","changed zlib support for msvc

svn-id: r15163
"
"1da55dc2ad0d1df83b08f43601c25f103b3f1af3","2004-09-18 12:38:22+00:00","changed zlib to dynamic for msvc8

svn-id: r15164
"
"9baf06c9faf1ba9707932ebb72578a5fbcafdb63","2004-09-18 13:24:02+00:00","workaround for decode bundle bug (it overloaded memory)

svn-id: r15165
"
"8e2af996becdb74ae0dbf588323bb4e4ecbf5aac","2004-09-18 14:08:00+00:00","Ooops, broken saving.

svn-id: r15166
"
"0e9967afe12dd3b095a4f21a3f43d788e08c65a3","2004-09-18 14:31:36+00:00","smush tracks are not music channel, removed outdated dimuse comment

svn-id: r15167
"
"bdf2a24eb747153a62961b85d128b6c2900a7b5b","2004-09-18 18:09:35+00:00","added experimental ogg file support for comi smush audio track

svn-id: r15168
"
"58c574d7cc82ff342d9f176d60ef6236e9d7926b","2004-09-18 20:29:13+00:00","Moved mouse cursor code into ScummEngine subclasses were possible -- this makes it much easier to see which cursor code is used in which SCUMM version; also changed cursor code to not overwrite default_cursor_* (which would cause problems when switching to another game)

svn-id: r15169
"
"3552024aa97d07f634aece9b43b36ffc3ddbc068","2004-09-18 20:50:15+00:00","Added ScummEngine::printString() convenience method; changed enqueueText to call addMessageToStack

svn-id: r15170
"
"c1913852df54c5f88caa9017af90858b1ac3a62b","2004-09-18 21:40:07+00:00","GFX codec cleanup: renamed some of the Gdi::unkDecode methods; simplified and/or cleaned up some of the codecs; added some relevant TODO/FIXME comments

svn-id: r15171
"
"81191ea60bd66baf6cbffa52ab52121592c33b86","2004-09-18 21:44:00+00:00","Follow our coding conventions

svn-id: r15172
"
"7b7021028676f61b0ff261c35ab8d6d5e86a118e","2004-09-18 22:09:34+00:00","renamed HE opcodes to distinguish them from their 'regular' V6/V7 counterparts

svn-id: r15173
"
"e74a3c9a2bdaead10b130e09e7a9cdf2fac17d55","2004-09-18 22:26:19+00:00","Reduce code duplication a bit

svn-id: r15174
"
"768133d6e6e4432d599fcf1261193334227b2033","2004-09-18 22:42:45+00:00","Rename some member vars to avoid _ followed by an uppercase letter. More of those are left in the code, though (and I am not really sure whether we want to change that, so far we had no problems caused by this)

svn-id: r15175
"
"ce2c5a0d1da465f8384cc560ac1fa1fd994b4f81","2004-09-18 22:45:53+00:00","removed _heV7RoomIntOffsets

svn-id: r15176
"
"c7ba97b18231ecbf440338bd5286385ab100dc04","2004-09-18 23:02:08+00:00","removed _heV7RoomIntOffsets

svn-id: r15177
"
"4869c2f9c1fe850b57e520b7001e6eebd5a3bd14","2004-09-18 23:48:48+00:00","Revert last commit by Fingolfin 'removed _heV7RoomIntOffsets'.
res.roomoffs[rtRoom] has a nick _roomFileOffsets (by means of #define), and
it gets overwritten in ScummEngine::readRoomsOffsets(). HE games actually
stored those offsets in additional array. Removing it breaks all
HE72+ games badly.

svn-id: r15178
"
"64043ff1fc713e0b215d1c802de6d2f1bee53efc","2004-09-19 00:15:17+00:00","Removed some not necessary #defines which could (and did) lead to program
logic misinterpretation. I assume these were added for readability, but
(a) names suggestet that they're class variables but they didn't
(b) their use wasn't consistent, i.e. there were places where variables were
used directly, not by means of the macros
(c) they didn't save that much space because they are used in few places.

svn-id: r15179
"
"1475b5ad0dec7cfdbd8bdfb5ce53346cd18f7e93","2004-09-19 02:00:33+00:00","Correct auxblock hides.

svn-id: r15180
"
"8a42691d8752312ee3e14e95a4abc53dbb51dddc","2004-09-19 03:26:47+00:00","Missed one spot, needed for costume reset too.

svn-id: r15181
"
"3493a90b15dc34e5b111187afd98766a8df602a4","2004-09-19 06:01:46+00:00","Enable debug mode in HE80+ games.

svn-id: r15182
"
"169d13080b08935d0a9ae4da34cb538fe5a41a74","2004-09-19 06:02:59+00:00","*** empty log message ***

svn-id: r15183
"
"45c34259bddf2acf563b95f40770f242848ca61c","2004-09-19 08:37:20+00:00","Fix last commit
Add stub/warning

svn-id: r15184
"
"fe2f551952e71bcc469a24a67989eb550ae8c842","2004-09-19 08:58:51+00:00","only warn if the AXFD block is valid

svn-id: r15185
"
"8906d3a3bff6a56dea3ed81f7ffaa24166d671b7","2004-09-19 09:57:24+00:00","Don't break when /tmp is nonexec pointed out in gentoo bug #64550. Don't submit to stupidity of recent coreutils tail behaviour just yet however, have yet to see a system ship without support for -1 including gentoo

svn-id: r15186
"
"989de0d5dc51c8bec8bca0c6159902b9ecfd9cf8","2004-09-19 10:14:34+00:00","Ignore trace msgs.

svn-id: r15187
"
"e22230e223b0182086b2565d5db59934391354c9","2004-09-19 12:22:47+00:00","Actually check if a sound is active, if the sound is outside music engine.
Add some more HE differences

svn-id: r15188
"
"680b7ecd510c3934bb28a61b5ca134554fc90e6e","2004-09-19 13:42:25+00:00","preliminar WizPolygon rendering support (this is completely *untested*)

svn-id: r15189
"
"0ae51c06f0a54108c701240257dd0aceca7aca53","2004-09-19 13:43:01+00:00","add missing break

svn-id: r15190
"
"9ec7b57f9bf4ace710bb8136650eef48bc282f61","2004-09-19 13:54:24+00:00","Fix potential race condition

svn-id: r15191
"
"c1671bdbca90ee590f2fbc1641c5f90d5762db38","2004-09-19 14:49:00+00:00","Update the script's program counter in a more sane way. The opening script
runs for much longer now, but - unsurprisingly - it doesn't work yet.

svn-id: r15192
"
"095035e9c7f50dfb1fc274db5c4aad1599b323fe","2004-09-19 18:19:30+00:00","Removed obsolete comment.

svn-id: r15193
"
"18be57a0d961e6321b7d6d372979054401f57710","2004-09-19 20:17:57+00:00","Cleanup, added some HE related TODO/FIXME comments (for consideration by the HE folks :-)

svn-id: r15194
"
"c25ab75e92be07c1273d21d7dde9bf26ba66d06b","2004-09-19 20:51:38+00:00","fix broken WizImage display

svn-id: r15195
"
"09444181ce19cbebbe2b3dc34d6bd45ee8d0f956","2004-09-19 21:14:51+00:00","Moved some code from Gdi::drawBitmap into a new method Gdi::getZPlanes; cleanup

svn-id: r15196
"
"0cb722d71d1ddda5da07fb63bcd1db64436c1ed9","2004-09-19 23:21:09+00:00","slightly updated drawWizImage()

svn-id: r15197
"
"e9a9a6410927b1cc749335d19492ed617efcb5cd","2004-09-20 05:30:26+00:00","Opcode1C in HE90+ games seems to setup WizImage settings via various cases.

svn-id: r15198
"
"1d1442553b9edc13eb5d2ea1f5726ae3dd520ffd","2004-09-20 09:16:49+00:00","Add case for kindddemo.

svn-id: r15199
"
"dd45c4272116248cfbc7fdf3fab5f0226745b9d8","2004-09-20 09:54:21+00:00","Ooops, was off by one again.

svn-id: r15200
"
"df407cd0631c167ed47dbaa78d4fbeb63f7cd216","2004-09-20 12:56:07+00:00","Add unencrypted russian freddi5 target.

svn-id: r15201
"
"046017aba6953cfc2c6ef67c5c564530d13eff7f","2004-09-20 13:41:36+00:00","Clean up.

svn-id: r15202
"
"0fad7a95387eb27e10c5776c1ccd8a069d2e8364","2004-09-20 18:27:13+00:00","cleanup / code re-use

svn-id: r15203
"
"f9f79225834572047c2b6fa00ea0a3ca58a23d09","2004-09-20 19:19:57+00:00","cleanup

svn-id: r15204
"
"dfab30c0121da3fda2ff2e382d7613a9eaedea48","2004-09-20 19:32:26+00:00","Removed some stray spaces

svn-id: r15205
"
"f61a0f83ff5c3c98e6efaa573d45b3c39601cb6e","2004-09-20 19:48:08+00:00","more cleanup

svn-id: r15206
"
"3b9bcb7745834c6482b0502e7fbeca4e2af59fb0","2004-09-20 19:58:07+00:00","Fix for bug #1031390 (FOA: Graphical corruption and possible crash in Atlantis Map)

svn-id: r15207
"
"6bafcf81d117364291dbdd01efd23936e4489f39","2004-09-20 20:56:10+00:00","Fix array out of bounds access

svn-id: r15208
"
"faf42c28588e7588c00f54fb01b432abb17ff0e2","2004-09-20 22:04:06+00:00","Moved some init code around (hopefully this'll help PalmOS)

svn-id: r15209
"
"c63169d3f3ce10978cde806b64488ea9762df3cb","2004-09-21 00:43:26+00:00","More HE todos

svn-id: r15210
"
"2c0f36cddcd6bcafaa4a6ae6044d197359c8ceb1","2004-09-21 01:00:30+00:00","Should be HE60/70.

svn-id: r15211
"
"860d1c67a0b23d7e160b5a337249316e3c097d7f","2004-09-21 01:04:09+00:00","No longer needed.

svn-id: r15212
"
"d7085acea18e9134da230e8223f529f7978fb3f9","2004-09-21 01:07:29+00:00","Switch order to prevent warning

svn-id: r15213
"
"2fdfd35834bd03496357c63dfcf6c4c5c35b2548","2004-09-21 05:59:26+00:00","Add HE90+ opcode difference

svn-id: r15214
"
"d49f0b90a0bb870f192689100bbe7a34a96e6fc3","2004-09-21 06:35:00+00:00","The TourneySetup script now runs and finishes cleanly. However, this is not
as exciting as it first sounds, because even before this patch the script
would run in its entirety - it just didn't know when to stop.

I guess the exciting things don't happen until the next script is triggered
(TorneyScene?). I think it will be easier to start fixing the numerous
deficiencies (stack handling, SData, missing script functions, etc.) when
we have something more concrete to work with.

svn-id: r15215
"
"b359c9281fe66f6488aad3f15b5c468a64343bae","2004-09-21 09:09:51+00:00","HE90+ games use actor layering too, in reverse order.

svn-id: r15216
"
"b0f0bf8dc2b0c1604b664307b34bf210a31ce4e9","2004-09-21 11:22:39+00:00","Add multi-block support for HE games.

svn-id: r15217
"
"bcb66fc93edc45472cb3af0be3431ef1901975ea","2004-09-21 11:23:23+00:00","*** empty log message ***

svn-id: r15218
"
"0a4a328cc4b5c8a91aa18123ddb38238499d8674","2004-09-21 11:46:56+00:00","Filter out both trace msgs.

svn-id: r15219
"
"042d59acb2c26a4c332198f98c75221fe9c56d03","2004-09-21 12:08:02+00:00","Add missing cases

svn-id: r15220
"
"62ff56804c34aaaf2741fea33eee5d681a9a28b4","2004-09-21 12:29:02+00:00","Fix memory leak

svn-id: r15221
"
"899a64cbc92184086219306dcbd83b122b3c81a0","2004-09-21 12:44:34+00:00","cleanup

svn-id: r15222
"
"5f0ec872e04dbd8c5fb491be4a56802d522d6704","2004-09-21 12:57:38+00:00","More cleanup

svn-id: r15223
"
"2f9ea12ddd9901eaacd46de7a3062375ec4439b3","2004-09-21 13:54:30+00:00","cleanup

svn-id: r15224
"
"6e9ce1b17ccbcf8239da45624f434ee5bddfcea7","2004-09-21 20:21:31+00:00","fix freddemo intro glitches

svn-id: r15225
"
"6bfeab77e1d38d8f1583f2e5214764dcacf05d4a","2004-09-21 21:10:23+00:00","cleanup
add some warnings to detect the use of new Aux animation data

svn-id: r15226
"
"abefac8cd079ef786cdb9218d7bf665cd5df40e0","2004-09-22 00:22:32+00:00","Add missing cases

svn-id: r15227
"
"b7a5d73499ec93605628e93252a8b7d8d5e4cb4b","2004-09-22 02:07:14+00:00","No longer StopMusic

svn-id: r15228
"
"76e0414117eeac589fe1cf76a9ec174da427b7aa","2004-09-22 02:29:47+00:00","Add a few more case stubs

svn-id: r15229
"
"93784786744cc1507de68c27065d2d79b5bdb112","2004-09-22 03:56:27+00:00","smaller is 99 after all.
add some array code

svn-id: r15230
"
"08856609f3db4fdf5d18d1cd8c7c2e6bebcdc9ea","2004-09-22 05:08:07+00:00","Filename string go a bit higher

svn-id: r15231
"
"7389ca8884701eccc3992de52901b1a52a5fbd7e","2004-09-22 07:05:23+00:00","Start the scene script as well, just to make things more interesting. This
doesn't do anything to fix any of the underlying problems, but it still
runs pretty well.

svn-id: r15232
"
"1c84b9fb50bbfb93b1111f4e97a3d154df9980f1","2004-09-22 07:21:57+00:00","Value is correct, but string index not array id.

svn-id: r15233
"
"8950f786990fc4677537061ca9cfffad05f97ddc","2004-09-22 09:48:40+00:00","Add case stun

svn-id: r15234
"
"4871a2af1950da3e0012713d8b04762227ca06a2","2004-09-22 12:13:15+00:00","Debug values are shown correctly now.

svn-id: r15235
"
"05cb8627beed97bb92f1b29b54866d446b05d926","2004-09-22 17:57:20+00:00","Made dstPitch an explicit parameter, instead of (ab)using _screenWidth (important for 'smooth scrolling')

svn-id: r15236
"
"7de7bc50c3b114c74ed11877ac70a80b537cced3","2004-09-22 20:32:11+00:00","New MD5s by Tobias Fleischer

svn-id: r15237
"
"ffd6944b12d1497e85351b560143ccb684eaeca4","2004-09-22 20:35:25+00:00","This was on the website but not in md5.txt, it seems?

svn-id: r15238
"
"be1ab48a57d45315941c5b8396357aa65bf2dd0b","2004-09-23 05:02:15+00:00","Fix array pointer overflows in HE80+ games.
Some arrays are nuked in startScene.

svn-id: r15239
"
"c7338cccdb211fde6c6deb45b6168dd97de58989","2004-09-23 06:46:44+00:00","Replaced the standard stack with a custom-made. In the original SAGA engine
it appears that scripts are allowed to access the stack like any other
memory area, so it's probably important that our stacks behave as closely
to the original as possible.

I don't know if this implementation does that yet, but it's a start.

svn-id: r15240
"
"caed46c816340186e8ef433940bf76e4ebfc4855","2004-09-23 06:53:46+00:00","Added support for scene music and the music-playing opcode to make the
opening scene a bit nicer.

svn-id: r15241
"
"d08a1994f249b9f4b510a5dad03a600e29647c07","2004-09-23 09:11:52+00:00","nukeArrays seems fine now.
Fix dog regression

svn-id: r15242
"
"02906713e6288b52ed623f62e3720ed3788e1a22","2004-09-23 09:13:52+00:00","Update HE isseus

svn-id: r15243
"
"17ec22c7fa2c6285e824b2a435171d84fe1d0ea1","2004-09-23 09:23:17+00:00","Missed a spot.

svn-id: r15244
"
"9f97086b2f4bfff508f010fea3ee96fe307422cd","2004-09-23 19:49:59+00:00","match TheDig and PuttMoon disasm, maybe this will fix fbear crash ?

svn-id: r15245
"
"9aa01251ffdab6efb03593b7f66c62c20b9c3333","2004-09-23 19:51:12+00:00","try to detect what's wrong in akos code with pjs2

svn-id: r15246
"
"4db6f8ffd41b1e7cf656ae46ff8da68d7c84efa2","2004-09-24 07:36:29+00:00","More V7_SMOOTH_SCROLLING_HACK hackery

svn-id: r15247
"
"1f166d5b6e71277650b01269aa38eb14b95c952a","2004-09-24 09:55:06+00:00","One last correction.

svn-id: r15248
"
"924e66b0cc3f31fe54a5b26980b0b9e851620364","2004-09-24 10:05:27+00:00","No longer required

svn-id: r15249
"
"fbfa606e4f44c2b3df8fae8cf8a8ba127f883cac","2004-09-24 20:37:24+00:00","More V7_SMOOTH_SCROLLING_HACK related fixes

svn-id: r15250
"
"4c1ff1d0874512f1199f88c9dfeb01e8c2712174","2004-09-24 21:00:15+00:00","More V7_SMOOTH_SCROLLING_HACK related fixes

svn-id: r15251
"
"1036a7fc01d3b193204e14dbb756170eab207f7b","2004-09-24 21:18:07+00:00","Fix for bug #795940 (COMI: strange light pixels)

svn-id: r15252
"
"2872c312a942dbbb29645aca627d852ab1d38bcf","2004-09-24 21:35:37+00:00","Added some const qualifiers

svn-id: r15253
"
"d17f88d9670d428995a69edc08f54d585e0f181f","2004-09-24 21:36:04+00:00","Use Gdi::_numStrips in costume code (this allows us to be more flexible in how we compute _numStrips: from now on, only one place has to be changed for that)

svn-id: r15254
"
"503fb0982ecb2c66a033344d4e0dd85f342ed4f5","2004-09-24 21:38:22+00:00","Get rid of unused dbClear flag

svn-id: r15255
"
"5d655be798a811831c74064601121136a6cf6917","2004-09-24 21:49:52+00:00","gdi.drawBitmap already performs clipping, no need to do it here

svn-id: r15256
"
"bad5721c63e2e8c494e30f69fc529b4e54617f35","2004-09-24 22:30:51+00:00","Fix charset text in V7_SMOOTH_SCROLLING_HACK mode

svn-id: r15257
"
"6749efe84c65434bcbf54fa7130fb072a4e22fb0","2004-09-24 22:31:42+00:00","Avoid out-of-bounds access in V7_SMOOTH_SCROLLING_HACK mode

svn-id: r15258
"
"216aa7319313fbce26aa3dff7378b178f4723027","2004-09-24 23:21:15+00:00","Some clipping for updateDirtyScreen; Evil hack to fix an actor drawing glitch in V7_SMOOTH_SCROLLING_HACK mode (which, by the way, works pretty well now)

svn-id: r15259
"
"360e189fc0b94a8e4aefd1a363f7d51f8e5df252","2004-09-24 23:29:46+00:00","Fix OOB access in V7_SMOOTH_SCROLLING_HACK mode

svn-id: r15260
"
"7c22767b87aac75f808a0a7df56a086889ef6a76","2004-09-24 23:33:32+00:00","Enable V7_SMOOTH_SCROLLING_HACK temporarily, so that some people get exposed to it and can reported all those remaining bugs to me ;-)

svn-id: r15261
"
"05e440cc5a8aedbbcb508cb53527c5f286fc8169","2004-09-25 09:50:41+00:00","Limit to HE games

svn-id: r15262
"
"05829b6edb131033adc9010af05a5326bfea5cb5","2004-09-25 10:11:17+00:00","Enough stubs and pops to make the intro scene script finish properly.

svn-id: r15263
"
"0c12afcd71cf5689279ee3ba6fc1e4922b66f23f","2004-09-25 11:17:23+00:00","Cleanup to reduce code duplication.

svn-id: r15264
"
"2bc1e81a71455d1dc29eb28f613554cc9733a95a","2004-09-25 11:20:38+00:00","Lost comment

svn-id: r15265
"
"3d8fa00317aba7d38f1ca5b080eebf0b888a1daf","2004-09-25 11:33:50+00:00","Cleanup to reduce code duplication.

svn-id: r15266
"
"ca88387343051e9d5318bac35e9b76af7fe2311e","2004-09-25 11:40:40+00:00","Cleanup to reduce code duplication

svn-id: r15267
"
"554d157c78869cf07dc6257e989f71c4d6ab6c76","2004-09-25 14:03:14+00:00","enable WizPolygon rendering, maze in kinddemo is now displayed

svn-id: r15268
"
"ac4ca820ee556c55b99b83ca3d569a52957e31e2","2004-09-25 14:17:49+00:00","get rid of the dirty hack needed to display wiz cursors in HE games

svn-id: r15269
"
"972846017c9345193befe68482f1ae88522ba652","2004-09-25 15:52:50+00:00","Turning off V7_SMOOTH_SCROLLING_HACK for now again

svn-id: r15270
"
"5c146947ccb4603fffeac4f7b9af970939005cd1","2004-09-25 16:30:14+00:00","Fix compilation.

svn-id: r15271
"
"a7406555d802ac2230503f76586b7606306580c5","2004-09-25 17:46:23+00:00","Cleanup / correction

svn-id: r15272
"
"3211239a7d7d1422e9d58d79b056b4d81f60763e","2004-09-25 17:50:42+00:00","cleanup

svn-id: r15273
"
"b70df8a975d68ad4402026495b470f3a0aaf81cf","2004-09-25 22:42:07+00:00","Remove leftover

svn-id: r15274
"
"d10dc2a3d0a4d7d8e79799737e1c5948fcecf26c","2004-09-25 22:43:44+00:00","No longer required

svn-id: r15275
"
"db00315d5ba6d69e8db72d8e0e5631b657825835","2004-09-25 23:14:09+00:00","Revert change, breaks draw of objects.

svn-id: r15276
"
"61b7e2155a958c471771da3339a8f1ffcfd633de","2004-09-25 23:26:46+00:00","Fix doxygen warnings

svn-id: r15277
"
"f66960c4b9d6c090259d2522529035a4b8c6162e","2004-09-25 23:33:34+00:00","Remove obsolete path param

svn-id: r15278
"
"bb39c2e3890cf18428fd533961c9baad69feb9cb","2004-09-25 23:47:10+00:00","fix for bug #1034707

svn-id: r15279
"
"71216d46caa214ef11d5ddb0d74b923c3f12da23","2004-09-25 23:59:43+00:00","Enable drawWizImage flag 0x2

svn-id: r15280
"
"75b4bd0cc462957391786fa67e76f88975c8a8ec","2004-09-26 00:06:51+00:00","reorder stuff

svn-id: r15281
"
"4e24375caef88d6d7d7b33d57a51175fd1adfd1d","2004-09-26 03:06:45+00:00","Always reads the same spot.

svn-id: r15282
"
"a53d6ebcf09842466e88465fde22383deb55a5b9","2004-09-26 06:50:08+00:00","_shadowPalette should be cleared for SCUMM 7 games too.

svn-id: r15283
"
"cc7ca9ce4bb071a6d220b945b08a971249e6e892","2004-09-26 07:30:29+00:00","some more pointless cleanup / moving around of stuff :-)

svn-id: r15284
"
"db5e3079017aa4c1422bed427db1174ae93ea594","2004-09-26 08:50:10+00:00","COMI reads object flag from headers, it doesn't use useOrDecompress at all.

svn-id: r15285
"
"175264c36aaa7470e4a08cb6d13d702919ccb2b1","2004-09-26 09:13:02+00:00","Ooops

svn-id: r15286
"
"e42e428de861c9635cfaf84221b4f895e5e08e46","2004-09-26 12:49:43+00:00","I think this fixes bug #1034519

svn-id: r15287
"
"274a69a38411ea8361cc957f090d1f22073c7a4d","2004-09-26 13:41:10+00:00","Re-enable V7_SMOOTH_SCROLLING_HACK since invalid read/write were unrelated.

svn-id: r15288
"
"dd778741c969aad0f3c9b38fe5fb11d0c7605fa3","2004-09-26 14:07:53+00:00","flag computation makes no sense; the whole thing looks quirky :-/

svn-id: r15289
"
"3b24bb05e45f6d52ac3a5a4e69685cae2bb0a501","2004-09-26 14:46:51+00:00","Correction.

svn-id: r15290
"
"dfad37c10b68b909f11452976a2f42237d322cea","2004-09-26 14:56:51+00:00","Fingolfin's suggested fix for the DOTT cursor regression. (The initial
cross-hair cursor was set while _roomWidth was 0, so the cursor image was
cropped down to nothing.)

svn-id: r15291
"
"28727812319185ac39d951176c6e63bed8b68f21","2004-09-26 15:25:58+00:00","Add HE object flag support

svn-id: r15292
"
"914d00f51a5c3ea06dee7481f157e21baefde1b0","2004-09-26 15:29:58+00:00","wiz stuff cleanup and o90_unknown1C opcode update

svn-id: r15293
"
"925d7d1aa1b994693da0bfc7d542e30f000bea9f","2004-09-26 15:44:49+00:00","Use enums instead of hard coding assumptions about their values (i.e. 1 in this case)

svn-id: r15294
"
"5053ee335f6dd728ab9e475a8d49050fd5c9426f","2004-09-26 16:09:17+00:00","Comment clarification

svn-id: r15296
"
"8f4a5ea3a5d419f1e72b6d4726e13b45b7624c00","2004-09-26 16:10:21+00:00","Removed obsolete comment about floating/locked memory.

svn-id: r15297
"
"f3fe01fa6703476ba06742305dcf8a25ea39e03f","2004-09-26 16:53:51+00:00","Text clipping in charset renderer was broken in some cases, fixed (this might help bug #1033857)

svn-id: r15298
"
"59fb1a53cfe17c020b9d7268dcd19ac5fb7a5dc6","2004-09-26 18:08:51+00:00","enums are more efficient  than static const ints :-)

svn-id: r15299
"
"b60c95be7caffbc43d0656c9a441c46bbe1ddcc9","2004-09-26 18:09:06+00:00","cleanup

svn-id: r15300
"
"bc5407c15462b0be2bec522805f792295053a01f","2004-09-26 18:09:48+00:00","fix actor masking with V7_SMOOTH_SCROLLING_HACK enabled

svn-id: r15301
"
"bbb4de2360c8db3b84dabf4c5941b305ba7a0cfc","2004-09-26 18:55:11+00:00","stop the current sfx from playing if a cutaway is cancelled

svn-id: r15302
"
"3c050327ce28f6a5a578ab39e0e41d7e379f6f28","2004-09-26 20:32:57+00:00","Properly fix actor redrawing in V7_SMOOTH_SCROLLING_HACK mode

svn-id: r15303
"
"9dcd1d5ccdef5086d392a5f0905b6a89471b79df","2004-09-27 01:26:05+00:00","Revert by bad change and just adjust for BMAP images.

svn-id: r15304
"
"9df6b709908f7ab744ceb61ea1693f0ec546026c","2004-09-27 01:35:19+00:00","tentacle (and maybe others) were reading too far.
Hopefully this way will work better.

svn-id: r15305
"
"993ac60b9b7743f626edeca9146705ec2c75f7ec","2004-09-27 07:32:49+00:00","Revert, just made matters worse.

svn-id: r15306
"
"d066b12eae2bd20e08a47059304e16ea58ccf658","2004-09-27 10:25:45+00:00","Correction for roomImages
RMSC is room scripts.

svn-id: r15307
"
"d3444e3ba1f014bcd9fdca199ce10e584b91467d","2004-09-27 20:42:10+00:00","Perform some more clipping -- yet another attempt at bug #1033857 :-)

svn-id: r15308
"
"93f86eda94cc4820917dcee35aedd8d69a519b5e","2004-09-27 20:44:27+00:00","cleanup / comments

svn-id: r15309
"
"9eede9a4ac949afb99fda1a08e9dab996d407452","2004-09-27 21:07:27+00:00","Looking at my code transformations again, numstrip could in theory become negative, so strengthen the loop condition to catch that case

svn-id: r15310
"
"b347a5d4c019e7c5098c302f6931cc18ac226502","2004-09-27 21:46:25+00:00","Temporary fix for akos codec32 (this should re-use the existing code in Gdi). There are still some glitches, but catalog2 doesn't crash anymore when displaying the HE logo.

svn-id: r15311
"
"193c3bc8ee5e6b7dac74286fd5fa2d6dd41b99a6","2004-09-27 22:29:35+00:00","Fix for bug #1035184 (ALL: Transition FX not working anymore)

svn-id: r15312
"
"f974de7e166af55dfa728ef0f917c504d51a4e6e","2004-09-27 23:10:19+00:00","Well, it *looks* as if that clipping code could be simplified. We'll see if somebody starts to yell about the changes, though :-)

svn-id: r15313
"
"1aa01bf1cc3d52307f3058b00c5c641d8e7344a5","2004-09-27 23:31:17+00:00","Revert small part, actor backgrounds were no longer reset.

svn-id: r15314
"
"92c17aecd43405c6a82f69691f730bd7d900f67a","2004-09-27 23:38:19+00:00","Fix endian problems with some HE sound code; also: better code to determine the size of the SDAT chunk

svn-id: r15315
"
"1610325c4ca72aa2ab593629a68e29005463e35e","2004-09-27 23:53:03+00:00","Hm, there seems to be no point in subtractig 1 from height/width of these rects (in fact it might cut off too much in a few corner cases, now?); so i am changing it to match the way rects are used in the rest of the SCUMM engine

svn-id: r15316
"
"daef27cec9d5bc6b4b4a39a32f0d4be5005dfad8","2004-09-27 23:55:49+00:00","This one doesn't make sense either...

svn-id: r15317
"
"7ced14e961d9b79c3efdb6bb6f88942bd2755357","2004-09-28 00:58:00+00:00","talkQueue should be actor specific

svn-id: r15318
"
"ae73d1a4ee373f8c94291dc79f090c991dc021e4","2004-09-28 04:14:57+00:00","use MAXPATHLEN for path buffer size

svn-id: r15319
"
"4fed56e8a6bbbd193e12c437bd0f262c174c7a89","2004-09-28 11:29:32+00:00","including sys/param.h causes several conflicts with symbol names we use, so don't do it

svn-id: r15320
"
"2c627a20181c22cd8b9622dae7af8b6147b2083d","2004-09-28 11:30:17+00:00","Remove unused symbol

svn-id: r15321
"
"ab82837dcc07e3655958ac2c39192734bf5e3ebe","2004-09-28 12:10:49+00:00","Preserve the order of config file sections -> to suite people who manually edit the config file

svn-id: r15322
"
"3ef93e9e54925d6e586c70c7302991aa39a127db","2004-09-28 12:11:00+00:00","forgot to commit this, silly me :-)

svn-id: r15323
"
"3f803aa88115d6d6edf5512a614389e6a6ea4593","2004-09-28 15:40:39+00:00","NEWS/TODO update; update smooth scrolling comment

svn-id: r15324
"
"e1fbbf12cfae5793fe31c8645611ffc6e51cb77e","2004-09-28 15:59:36+00:00","Add puttcircus target. Game is not completable and has major glitches.

svn-id: r15325
"
"cf04ca94ff22e3baa2e5194fd6832fcfab1b456d","2004-09-28 16:13:39+00:00","Mention newly supported HE titles. 46 new targets. That's not few.

svn-id: r15326
"
"9ec250ceb7c0638e18609f422da46916cbe79042","2004-09-28 16:26:37+00:00","Adjust transitionEffect to work properly for vertically scrolled rooms

svn-id: r15327
"
"fe12bbe4f5d74d0fb584ae8cef0a16e62ec4f5e8","2004-09-28 17:35:35+00:00","Seems the difference between o6_kernelSetFunctions case 16 and 17 is whether the text shall be centered or not. Helps Asteroid Lander in The Dig

svn-id: r15328
"
"9ed43685c0e188d2578c32aa3a0536801c6f105c","2004-09-28 17:54:41+00:00","Added TODO item for SAGA.

svn-id: r15329
"
"17f85e8b1a3aada9672d0929e775e776bcbd89f0","2004-09-28 18:36:16+00:00","Add/update SAGA items

svn-id: r15330
"
"6a50ba2308c6a9fc3eb733f310c87ed279b565ed","2004-09-28 19:28:59+00:00","Changed more of the actor class members to match our coding guidelines (in the future, when adding new member vars here, please always use our conventions, i.e. prefix them with _ and use CamelBackStyle

svn-id: r15331
"
"ce8c99bf62838099142aa79f2935e64639aa5571","2004-09-28 20:19:37+00:00","Rename remaining OSystem methods to match our coding guidelines

svn-id: r15332
"
"abba267bb7680386e3ee2b075052fadfe581a0fc","2004-09-28 21:42:34+00:00","use the return value of getZPlanes rather that directly accessing _numZBuffer

svn-id: r15333
"
"21d2a6ec5530ece29bba0d97a2f88060f2cd1f6b","2004-09-28 21:53:29+00:00","cleanup

svn-id: r15334
"
"ad3062ab933d404c9ac32579f4c8dfc2f717964a","2004-09-28 23:05:45+00:00","Fix (I hope) for bug #1032964 (INDY3-VGA: actors walking in wrong places)

svn-id: r15335
"
"16549bef3a6fbccb1865d9f6cc1001aecfca63af","2004-09-28 23:30:50+00:00","Cleanup, add some comments to ScummEngine::areBoxesNeighbours

svn-id: r15336
"
"88842cb911f81ce837b175c31f95529de442d5bd","2004-09-28 23:35:07+00:00","One further cleanup -- make use of Common::Point assignment operator

svn-id: r15337
"
"bf33a1e10a77bf5dc810b4bf720c8470b3bd6503","2004-09-28 23:47:04+00:00","Removed some unneeded #includes

svn-id: r15338
"
"ead49832a9d2b544b1e7cb6ea82b757926af9e94","2004-09-28 23:47:51+00:00","Argh, didn't mean to commit this

svn-id: r15339
"
"f2f27634c2718f666299cc9001e1cbdb908f9c4d","2004-09-29 00:04:38+00:00","Check for negative width/height

svn-id: r15340
"
"bc9ac3ea7fe6d0fad438e0acbc9eb06ce57c5865","2004-09-29 00:28:35+00:00","Leave disabled

svn-id: r15341
"
"8e8761dd4c3f51fb578b0565d8ce6cab07af07ef","2004-09-29 01:04:28+00:00","Update HE issues

svn-id: r15342
"
"d0e5fe1ded5fd176ff3e4edd03887878ec443180","2004-09-29 08:40:15+00:00","Should only copy data, not tag/size.

svn-id: r15343
"
"94758814886604aa0d414364ec29792e829c6fb3","2004-09-29 09:42:36+00:00","FM-TOWNS is the 'official' spelling, we should try to use it everywhere (see also common/util.cpp)

svn-id: r15344
"
"468758fa6cbee1f16eaa35cec2e2b7c5e9fa631e","2004-09-29 09:47:38+00:00","Use FM-TOWNS consistently

svn-id: r15345
"
"fa149a52d4dfb31d6402a46719e7b0d4d9c9868c","2004-09-29 11:25:21+00:00","Correct string for temp save/load, original load/save screens now displays in HE 71+ games.

svn-id: r15346
"
"4827b6a7a13bba1a10a1451c67213bf0b05525d6","2004-09-29 11:33:28+00:00","Found a nice website with info on the Zak C64 disk format; added this to the TODO, might help any interested parties...

svn-id: r15347
"
"a4c6c4725d4dd8536308f262594ffdfc9cbce6d0","2004-09-29 11:58:28+00:00","Add caser

svn-id: r15348
"
"61f8a035c78f9790e8f88dae9b584f6d6c739c13","2004-09-29 17:50:17+00:00","Hack to work around bug #1037052

svn-id: r15349
"
"40deccb10507eeb2a3e25bb21f615b2e4de6d260","2004-09-29 21:45:52+00:00","cleanup

svn-id: r15350
"
"13c0d340a083243c59ce6fc5e863575e9b4bf109","2004-09-29 22:06:24+00:00","cleanup

svn-id: r15351
"
"3e4fd97f428b736f88a2e94b16ad3ce67d7ece92","2004-09-30 06:39:39+00:00","Number of local scripts is no longer constant

svn-id: r15352
"
"0013beac556bc907afc77bcc60d38b3fb89925a2","2004-09-30 06:46:02+00:00","roomVars rises to 256 is some HE games.

svn-id: r15353
"
"f9fca592bd09b6cdd89e488e76e9247353462e93","2004-09-30 06:57:18+00:00","Change to warnings for now.

svn-id: r15354
"
"26225b18152faf5c10e119d0484fbe4496a960e7","2004-09-30 07:26:21+00:00","Actually always stored in index

svn-id: r15355
"
"f3a06934fdc781bfe54d63db866c74808c7e1b5d","2004-09-30 09:35:02+00:00","Add some extra cases/opcodes for lost/smaller.
Add work around for paths

svn-id: r15356
"
"a412809335579e570e149df62c6a307d5f7052ed","2004-09-30 09:37:46+00:00","Oooops

svn-id: r15357
"
"d0eecc921589f0edecd48c51c3952684ee2216f9","2004-09-30 09:54:45+00:00","Add stub

svn-id: r15358
"
"176c0cc999c8884aa014feb9d0b9ca58ba615703","2004-09-30 10:24:26+00:00","Add extra cases/stubs

svn-id: r15359
"
"8499a7bc430b50925b0315214b42bbcbcaf2cdf4","2004-09-30 11:48:27+00:00","Add missing case code.

svn-id: r15360
"
"63a5bb802751994ff5be0e57f9f748948f5d005a","2004-09-30 11:56:59+00:00","Not quite right.

svn-id: r15361
"
"e29133df127a54fc765e413f759789745306c0dc","2004-09-30 22:39:13+00:00","Whitespace

svn-id: r15362
"
"98d82b84e96123bc0d99f3c95ea577a513da132b","2004-09-30 23:30:59+00:00","rewrote drawStripHE ; although it's less efficient than the previous version, it should fix all the invalid mem read accesses reported by valgrind

svn-id: r15363
"
"2f8136b703a5738e8a7f715b2cb3c4c4dd013473","2004-09-30 23:49:46+00:00","constness

svn-id: r15364
"
"54cec2e011b56d875022ec6a6c05654b08300876","2004-10-01 06:45:13+00:00","Set up file paths to handle the differences between the file layout of the
Windows and Linux versions. (TODO: Handle game detection.)

Added preliminary support for the P2_A.aif file that the Linux version
uses, where the Windows version uses p2_a.voc. Someone will have to verify
the actual format of it, and we have a silly bug in playVoice() which will
have to be fixed before things work properly.

svn-id: r15365
"
"ff975beeee6f21ebc5ccad6693f3ca5580d1e408","2004-10-01 09:03:01+00:00","cleanup

svn-id: r15366
"
"763eae3f70b1caf1119ddd0dfde4e6cfa2853ec2","2004-10-01 09:06:12+00:00","Fixed text rendering in vertical scrolling rooms in COMI (I hope), fixes bug #1036707 (COMI: Subtitles positioned incorrect)

svn-id: r15367
"
"bfc61d2b0b8a3869b50afa2900095c705dd67409","2004-10-01 11:14:01+00:00","Ooops

svn-id: r15368
"
"9570bf38de35f680b551b9390e1690b0b8d704ea","2004-10-01 11:25:25+00:00","Definately Palettes.
Update HE todo.

svn-id: r15369
"
"6751e16da1d1283c477032c7b29ecfb9bdd8ee66","2004-10-01 14:48:49+00:00","Use the SilentSound class for sfx/speech when sound output is not possible.
This should fix the hangs where the game waits for sfx/speech to finish in these cases.

svn-id: r15370
"
"ca12f3f996bd8775002c58248dc8e2fb133d4caa","2004-10-01 20:40:03+00:00","Smooth scrolling seems to work very well, so I am promoting it now from hack-status to a fully official feature ;-)

svn-id: r15371
"
"ee3158cb8ca8b05d7c1a474f09ade8ac91209fbc","2004-10-01 21:12:18+00:00","Patch #896096 (Restoring last selected game selection) with some personal modifications

svn-id: r15372
"
"71264fbc56b2e6b7004fadd83d4bada36f6591b7","2004-10-01 21:37:29+00:00","Workaround for bug #1035739 (SMUSH: Ugly palette change when video finishes)

svn-id: r15373
"
"e082cb05875e82bec9cb1436ba15bb7b54c14b05","2004-10-01 23:04:47+00:00","Fix for bug #902360 (MANIAC: Plant has no head if he has Pepsi before growing)

svn-id: r15374
"
"9c4a17bc5d65239bff7f035e143566048d8a6e4a","2004-10-01 23:15:48+00:00","Add couple other HE games and make Blue's birthday demo show intro. It dies
on opcode 2d, though.

svn-id: r15375
"
"bb44270c850b2b1ee7d16ab3f7bc3969a012ecfb","2004-10-01 23:22:56+00:00","Remove Blue's HE games again. Smacker is used there.

svn-id: r15376
"
"09cfed33f2cbd8c91d349ae85203d9f02cbb99eb","2004-10-01 23:56:39+00:00","Add/correct opcode

svn-id: r15377
"
"060393d5e13ffe1933e214d3cb2fd63cf719422d","2004-10-02 00:12:09+00:00","That was duplicate

svn-id: r15378
"
"431797610767f7c69a7aa1b6dc320e1e5376ea74","2004-10-02 01:08:31+00:00","Add a few opcodes for pajama3

svn-id: r15379
"
"168c9757d300c218143d96a64abf6be414aaac29","2004-10-02 01:40:34+00:00","Add/correct opcode

svn-id: r15380
"
"1345fcac14c17ba63e0db8b2dfb68c2e7cf5577c","2004-10-02 07:46:06+00:00","Array corrections

svn-id: r15381
"
"e7cff906a9a2222f8a20933f02f5b1a078d07868","2004-10-02 10:58:15+00:00","Increase Actor animVariable for HE80+ games.

svn-id: r15382
"
"37aa90052cc9d821de0fedec300889857588253e","2004-10-02 22:23:59+00:00","Turned some methods into static functions

svn-id: r15383
"
"e72ccd620be6e5648094ad7acc8011c228bfc235","2004-10-02 22:26:34+00:00","One more...

svn-id: r15384
"
"b1bf9f94d8028e856abdcb6372af7f6d6505b07b","2004-10-03 04:49:20+00:00","Should use findWrappedBlock

svn-id: r15385
"
"ac58d5c307e753b948d9bd89bf3066f70d5f10f7","2004-10-03 05:29:31+00:00","Add missing code for opcode.

svn-id: r15386
"
"39645f5bef3931ea93e1aff6b42935cb841ba7ad","2004-10-03 05:34:48+00:00","Ooops

svn-id: r15387
"
"74453937200f975b4a31758e0a62138adfe67790","2004-10-03 06:07:25+00:00","Add missing code for opcode

svn-id: r15388
"
"6c2a8ee48b5b4a8bbdde6903ab5e6f9ec3f1d3d9","2004-10-03 06:23:03+00:00","Reading 1 too far.

svn-id: r15389
"
"a34efa68c21d6e0957876b62a1e2f4a882466388","2004-10-03 10:02:32+00:00","Too many semicolons

svn-id: r15390
"
"3aadf745f918b98d39228a86613d3e7740bb20a1","2004-10-03 14:13:05+00:00","Add missing code for opcode

svn-id: r15391
"
"80fd0d75f304fe17ec4ad7784ef5b749f1caf76d","2004-10-03 14:24:28+00:00","Add safety check.

svn-id: r15392
"
"ff1cf82089751a6b11d2397115acb91e2baa00c8","2004-10-03 17:11:23+00:00","A few, mostly untested, fixes to the SAGA script engine:

* The frame pointer is updated. This won't make any difference since we
don't actually *use* the frame pointer yet.
* Return values from script functions are handled like in the original now,
i.e. the function sets thread->retVal and lets the call instruction push
it onto the stack. (There are two call instructions, one that handles
return values and one that doesn't, so the script function doesn't know
if it should push or not.)
* Script return values are handled.

None of this makes any noticeable difference to the ITE intro.

svn-id: r15393
"
"4fcdba446e461a8e239b6179687cfb1dcff8526e","2004-10-03 17:25:24+00:00","Fixed bug #1039162 (Sam & Max intro crash) by making drawBox() do nothing
if the box's width or height is zero or less.

svn-id: r15394
"
"247d5724f5cbc3e7ed100150a81f8681d0389354","2004-10-03 19:57:19+00:00","simplification

svn-id: r15395
"
"f94cc6b19893243c3ef0030d3f7647139824204b","2004-10-03 20:14:55+00:00","cleanup

svn-id: r15396
"
"fbe5b94137bb73ad238df6d24ca48237ed493047","2004-10-03 20:27:39+00:00","as pointed out by salty-horse, it's better to stop speech and sfx only when the cutaway is cancelled

svn-id: r15397
"
"e681049e560a2efcc59e26073479e06c1030e1bc","2004-10-03 21:34:39+00:00","merged FRAMES_JOE and FRAMES_JOE_XTRA

svn-id: r15398
"
"781191e83d091167e269056cbd68d233e3f20779","2004-10-03 23:37:34+00:00","Add stub

svn-id: r15399
"
"d48661766aaea62c1935dc74685997ec7998549c","2004-10-04 00:01:06+00:00","Add opcode difference

svn-id: r15400
"
"a7570bf99db86433ecda0c7984f2325868c142cc","2004-10-04 01:19:05+00:00","Add extra HE99+ cases for wizImageOps

svn-id: r15401
"
"f9e21fe4e221723bc331a0ed690b260c9c7e8963","2004-10-04 01:34:29+00:00","Rename opcode

svn-id: r15402
"
"4364606894151216963fb0cc79216d6783853ceb","2004-10-04 02:23:02+00:00","Add some HE99 vars
Rename opcodes

svn-id: r15403
"
"db6348300199c605a0a183157e4174da8e8e3edb","2004-10-04 04:04:37+00:00","Add missing roomOps case for HE games.

svn-id: r15404
"
"49a36911322a6feb147912f7c7cb60e9186ab757","2004-10-04 06:20:10+00:00","Add actor transparency var for HE99 games.

svn-id: r15405
"
"38a7893aa905fd74c5461e28027e4533776837ec","2004-10-04 12:16:52+00:00","COMI stores room transparency in RMHD.
Minor cleanup.

svn-id: r15406
"
"460212697a66ef711df40ed1c0c8114e1d875c8c","2004-10-04 12:38:52+00:00","Add warning

svn-id: r15407
"
"1cb05366f8b3e59b450e57a02ee8e3966d0ddee0","2004-10-04 13:49:30+00:00","Implement case 150 for drawBMAPBg

svn-id: r15408
"
"292bd1a62b4f28538f92f79c210ae17ebf350884","2004-10-04 14:02:37+00:00","Ooops, got reverted.

svn-id: r15409
"
"4e268316d0f598b196ae05ec762b6987fe07b7a6","2004-10-04 14:28:43+00:00","Rename var and enable in COMI.

svn-id: r15410
"
"0de20e2911f585d8c79f4137423f7adf83851a44","2004-10-04 14:39:21+00:00","cleanup

svn-id: r15411
"
"b8419baa67f26c807fdfb1fa5c5d3d3e2d3ff406","2004-10-04 14:39:42+00:00","Remove Gdi::fillRect, use the existing fill() method instead

svn-id: r15412
"
"05412066b1cbcd8ce202c25f892f69009ab9ee34","2004-10-04 14:58:37+00:00","Sort variables by their number

svn-id: r15413
"
"8b7740d8afda1b9796f8df91242a41f5eed62190","2004-10-04 23:09:38+00:00","R_POINT -> Common::Point, R_RECT -> Common::Rect. Less R_ prefixes.

svn-id: r15414
"
"53d807ab169572a9991c18cc1373b585a8ec44d8","2004-10-04 23:51:23+00:00","Fix button clicking. Now actor walks to correct spot and interface buttons
work.

svn-id: r15415
"
"f1ffeaf3ecebbbb1806645d70b3b745d9da4b7ea","2004-10-05 02:16:26+00:00","o Convert some objectMap methods to more C++-like.
o Add stubs for unhandled scene resources in first scene
o Fix object map entry structure
o Fix bug with objject_info() debug command

All this was done in attempt to make room exits work until I realized that
they are different hit zone list which is activate at end of walk sequence.

svn-id: r15416
"
"56ae86ef4fd96807e3fa4c25f89b45ecfa377266","2004-10-05 05:52:48+00:00","HE71+ games use wizImages for charset too.

svn-id: r15417
"
"67efe7f6d0ba2fe129a0c31715fe4a31fca961c1","2004-10-05 06:14:40+00:00","Switch to warning

svn-id: r15418
"
"29e0bbb13fe8e2547b560f211540c0a97e2c921b","2004-10-05 09:39:39+00:00","Allow color adjustment when decompressing wizImages.

svn-id: r15419
"
"96c493d94bb2bb63fb0e2d5b8a21f19e960a77e2","2004-10-05 14:05:23+00:00","Missed spot

svn-id: r15420
"
"3ea5ebce0eba744e50fda6d1ae8c788b63344295","2004-10-05 14:40:22+00:00","thinkerk works now.

svn-id: r15421
"
"5912d5d25a9b5c246fdad4be11cf59871fc11aed","2004-10-05 22:28:13+00:00","fix drawWizPolygon glitch

svn-id: r15422
"
"ac896f09dc801a0fc48936feba487dca1d381c1f","2004-10-05 22:28:58+00:00","fix ending credits glitch

svn-id: r15423
"
"23ae8207deda440157c31b8f2493f268c8d0d0bd","2004-10-05 23:37:59+00:00","Better clipping code.

svn-id: r15424
"
"270de2a503a00c34648a18ec268768808a6a040c","2004-10-06 01:01:44+00:00","Ooops

svn-id: r15425
"
"2f72e6fe2d958ab7d180317065ee0d6079cf6c20","2004-10-06 09:33:26+00:00","Adjustments

svn-id: r15426
"
"a5e47bf68773699eb58fbeb9c651fdaa0b24eeab","2004-10-06 09:35:02+00:00","FOTAQ ARM optimization

svn-id: r15427
"
"1f197548f2d5cf4017dd4ccb8d649d09329d9c3c","2004-10-06 09:36:01+00:00","Not needed anymore

svn-id: r15428
"
"d31cd1dd73aaf55fb0fa85b4da72267bbbf2d7a8","2004-10-06 09:39:07+00:00","Added M_PI definition

svn-id: r15429
"
"c9250e0c0cdb56ffb8efea105b1871f17074bd28","2004-10-06 09:44:09+00:00","Use system path

svn-id: r15430
"
"4212ed09ace305cefa22c830638b2284f80b8024","2004-10-06 09:51:09+00:00","Update table

svn-id: r15431
"
"7b0ce255106cfd3cc6550784c7f745588ce42587","2004-10-06 09:54:20+00:00","PalmOS update

svn-id: r15432
"
"621f5f7cfc649a5d20ddf25d4f9ce485ae43c9a8","2004-10-06 09:55:38+00:00","PalmOS : ARM optimization

svn-id: r15433
"
"d76a37588946865bdcc6fad49e9118ed8d07ea30","2004-10-06 09:58:18+00:00","Updated comment

svn-id: r15434
"
"2ca4529bbad0f92f1567309ec68281f19ed57c13","2004-10-06 10:14:31+00:00","Use common PI value instead

svn-id: r15435
"
"a6632277e11fc746e293c7984e111fa465b18646","2004-10-06 10:18:28+00:00","Indentation fix

svn-id: r15436
"
"4ba9994bb3fa70d4bff5fce694e2c8c27b1266b9","2004-10-06 10:20:21+00:00","PalmOS update

svn-id: r15437
"
"a1a56be3363206f84c0dfa1038bb7233f79fd4bc","2004-10-06 10:26:09+00:00","Forgot this one

svn-id: r15438
"
"418f798090d7f25466539c56845b78e1e4babbbf","2004-10-06 10:31:51+00:00","Updated with new files

svn-id: r15439
"
"bb2417d9afa061a0eb5cf5ecf851672240a4d6cf","2004-10-06 10:37:32+00:00","Fixed Builder sub-project

svn-id: r15440
"
"7b16b16e202c23bf4ea2ae28bca99a09ff292304","2004-10-06 22:19:49+00:00","Fix bug reported by salty-horse. When list is so short so it fits
one page, list position gets negative values. This never was triggered until
lastselectedgame config file key was introduced.

svn-id: r15441
"
"b38b5a5c6489cab54bb79c914c4087d34b98c73b","2004-10-07 06:54:33+00:00","Pointer correction

svn-id: r15442
"
"a9f1d362eac0d590c9bbb370d3c488b2cbe35b3f","2004-10-07 09:19:33+00:00","Force ARM in direct mode

svn-id: r15443
"
"6f02fab8f359fbe8d48dffd569ddc03506f5e0fb","2004-10-07 10:33:46+00:00","Removed some code which has no effect (looks like a coding mistake?)

svn-id: r15444
"
"9383a074cdc8082705fca3cdd6894cc36bcba4df","2004-10-07 11:31:50+00:00","Correct values.

svn-id: r15445
"
"7564fc2323d92e282ea3c0e027b9d10de71babbb","2004-10-07 15:42:39+00:00","I don't know if it matters, but I'll feel safer if we initialise maskPtr...

svn-id: r15446
"
"f52893217e0c886b0b3c8c5c9bdad7809fc45454","2004-10-07 16:09:30+00:00","Adjusted come comments

svn-id: r15447
"
"3f842b201727daad422a20740d0b89c218769b80","2004-10-07 16:10:51+00:00","Simplify calling drawBomp a littl

svn-id: r15448
"
"22dc16fc2543ddaff121aa2901d6bc013f613dfe","2004-10-07 16:34:54+00:00","Fix blast object drawing glitches introduced by the smooth scrolling changes (were visible with the inventory in The Dig)

svn-id: r15449
"
"cd28cba36fabf5df76cc012e12804956ac8b7e6a","2004-10-07 19:41:34+00:00","updated

svn-id: r15450
"
"2c5e42ca22909800531e33398a68adf29c479392","2004-10-07 20:55:22+00:00","Fix for bug #1042509 (SNMDEMO not recognized)

svn-id: r15451
"
"86113ad04297dc463a6fdb650cbcf91c893ff16d","2004-10-07 21:18:54+00:00","Fix doxygen warning

svn-id: r15452
"
"ad285d6349371de885680049b155db19ff770e64","2004-10-07 21:19:37+00:00","Use proper range for the (screen/local) strip values

svn-id: r15453
"
"186201c68f9910fa3001e668024339cb8e2a7244","2004-10-07 21:20:44+00:00","Use slightly less irritating variable names; remove box draw hack, as its semi-broken for smooth scrolling games; if at all, it should be replaced by a proper debugger command

svn-id: r15454
"
"f488f4c15fbdc1342f1729b5701a01de6a483fea","2004-10-07 21:23:29+00:00","Another attempt at a fix for bug #1032964 (INDY3-VGA: actors walking in wrong places), by making sure all actor walkdata is saved

svn-id: r15455
"
"29a5f6bbd37ce1f2ca3d41f215d4bd2608c0a9ac","2004-10-07 22:31:39+00:00","Remove duplicated code in actor walk code.
Turn ActionMap into real object.
Rename ActionMap variables to conform our code guidelines.

svn-id: r15456
"
"4dc49e713b04137a4242ee64b901713e4ff43136","2004-10-07 23:02:19+00:00","Turn ObjectMap into real object.

svn-id: r15457
"
"bf905b2eeb256eeaa8ac216abe5ca0bcc4ee422e","2004-10-07 23:26:41+00:00","More de-C'fying. Pass Point object instead of direct reference.

svn-id: r15458
"
"9fdd43e25ee07123d8e2a245ababb14eb50c134e","2004-10-08 00:37:29+00:00","Return 0 is array doesn't exist, possible script bug in HE game.

svn-id: r15459
"
"39fad0387be5fb4bd061718ce6cdd99d62ca086e","2004-10-08 01:07:44+00:00","Unfortunately still not perfect.

svn-id: r15460
"
"0850dbdaf2ad79cf296f79a001b4b60e82f481cd","2004-10-08 01:08:19+00:00","Unfortunately still not perfect

svn-id: r15461
"
"94d9a2149b8b757ed36cb0f315cd281d1447d1a0","2004-10-08 01:22:39+00:00","Implement scene change via exits. You still cannot leave first scene
because it goes to now buggy isometric level. Use debugger to switch
to some word, say, in Dog Castle and there you may go between rooms.

svn-id: r15462
"
"970a782edf005540067424c104e615e392439235","2004-10-08 06:52:08+00:00","Small correction
Ensure object exists, before pushing data.

svn-id: r15463
"
"903073df2e88e2b490c0f822d23abb7953181881","2004-10-08 07:04:57+00:00","Small correction
Ensure object exists, before pushing data.

svn-id: r15464
"
"aaa5ccae771a2dec9288b87a1c38bcea540d02e0","2004-10-08 07:07:34+00:00","Removed unnecessary whitespace

svn-id: r15465
"
"59be342467a9f0437d5d8a0c20f209855b015c99","2004-10-08 07:13:13+00:00","Match opcode names with SCUMM8.

svn-id: r15466
"
"7eb10f167cce7d7d221ade3596d7f597ec00e045","2004-10-08 07:34:06+00:00","Restrict to full game, since it doesn't exist in demo.

svn-id: r15467
"
"251a44ea9bbc32744459b8b774ffc83a41c54d7d","2004-10-08 09:43:33+00:00","Partial inventory fix for HE games.

svn-id: r15468
"
"ad23981a4e7ab004b6b671ea4a54fb7cc496f247","2004-10-08 10:49:30+00:00","Cleanup

svn-id: r15469
"
"3f3f186fb43ffe6f9465016275e4b27a64216108","2004-10-08 13:33:25+00:00","Fixed path

svn-id: r15470
"
"1e13280ff478ff989a16a26f73243f9ae48dec7b","2004-10-08 13:34:55+00:00","True assert function

svn-id: r15471
"
"a34c7e4b812705891eb76ead1f46b35f01b67f0d","2004-10-08 13:38:14+00:00","Use compile.h as prefix file

svn-id: r15472
"
"757f2fdcefde1606e822acf00f0e6b783bd3174f","2004-10-08 16:09:52+00:00","Prevent double slash in path

svn-id: r15473
"
"eb97857c95f501f919e6de6b9d9beceb54af14bc","2004-10-08 17:56:08+00:00","more math opcodes

svn-id: r15474
"
"9c863283ede4a5bf08eb1c0def5528556de2fb94","2004-10-08 18:30:14+00:00","fix bug #1042931. This version of comidemo doesn't have the videos. In this case, SmushPlayer::play() returns immediately without calling init(). Thus, if init() is not called, we shouldn't call release() at all.

svn-id: r15475
"
"648b7b1e57411998f27f814c252748479e3738a3","2004-10-08 18:43:24+00:00","cleanup ; follow the code conventions

svn-id: r15476
"
"43a62296cdcbab2ea46bdc9534e6f1d6bcd2a5a3","2004-10-08 19:58:49+00:00","pass arguments by reference-to-const rather than by value, it's usually more efficient...

svn-id: r15477
"
"2611630f81535f3db7911f1176f84c083e21264b","2004-10-08 22:58:49+00:00","wizImageOps update

svn-id: r15478
"
"ca41dba220eceb2f2cca43126ee91ef9c86bae95","2004-10-08 23:06:19+00:00","Use image header to detect presence of the V8 flags field; rewrote that flags field to load the ObjectData.flags field differently; added a comment in saveload.cpp since we are not yet saving ObjectData.flags

svn-id: r15479
"
"b3c72a792bf2625f58c68822a1ca87a299318c87","2004-10-09 00:06:36+00:00","Fix for bug #1042802 (DIG: Graphics glitch when scrolling) -- the fix is to properly distinguish pitch and width of the target surface

svn-id: r15480
"
"a904bfc9cfbc4fb2e018dbaf61c2af802e5867a5","2004-10-09 00:33:35+00:00","This makes no sense here...

svn-id: r15481
"
"0d746b05fc4dbf4ef2e2530e6ad95b69bcdfe58d","2004-10-09 00:47:47+00:00","Added methods to access charset x/y offs values (though those seem to be all 0 in COMI)

svn-id: r15482
"
"c68b6323e502af2bc8af682dac17603091cd5240","2004-10-09 05:15:12+00:00","No longer startMusic

svn-id: r15483
"
"64a91605a11152e2b1c54eba0e5ae9d514530028","2004-10-09 07:39:46+00:00","Initial attempt at fixing the SData problem. I'm still not sure exactly how
to fix the script 'static' area, though.

In addition, initialise a few variables, and test for NULL-ness of a few
pointers. This fixes a few crashes I saw with yesterday's CVS snapshot.

There's still an unexpected scene change in the intro (I think it triggers
on Rhene walking too close to the exit), but at least it no longer crashes.

svn-id: r15484
"
"b902c220aa1b359ee3669e1d9389bdef8368c203","2004-10-09 14:33:31+00:00","Inital support for later HE games with altered opcode table.

svn-id: r15485
"
"50da10489e10a13b7a5f849faa69fe90e1b46c64","2004-10-09 14:37:39+00:00","Correct version

svn-id: r15486
"
"9524476fb86ea77086f080ee3d52d33c70fffa88","2004-10-09 14:46:44+00:00","Ooops

svn-id: r15487
"
"7d6b584472ca4b6bd61c5fd19dc651d226dbee8c","2004-10-09 16:03:14+00:00","Fix warning messages

svn-id: r15488
"
"550b64dab661e234b8689b86170516d0e2ae181d","2004-10-09 16:10:53+00:00","o90_getPolygonOverlap update

svn-id: r15489
"
"dd0d454da94d5afb2c2437b44310404fe9581772","2004-10-09 16:41:35+00:00","ScummEngine_v90he::processWizImage() cases 3 & 4

svn-id: r15490
"
"ae7421ae2b4cd7817fdf0d25d8c8dcb35a84946c","2004-10-09 22:51:00+00:00","Make AppendableAudioStream endianness-aware.

svn-id: r15491
"
"daff6d40749a0b3c7b9abb8c7c86e276771bbcd0","2004-10-09 23:45:04+00:00","Fill in a few more case stubs.

svn-id: r15492
"
"873fecd67d854698470654013da1e1797b536923","2004-10-10 00:24:15+00:00","Complete stub cases.

svn-id: r15493
"
"8df034b6ac8a92e23d8a9dbb02f959006878174f","2004-10-10 01:52:35+00:00","Add some missing code for HE100.
Cleanup

svn-id: r15494
"
"f1ab0487af4c59a389c2d735cb0e401ae7414d4e","2004-10-10 02:06:01+00:00","Correct array type order for HE100.

svn-id: r15495
"
"ca9cf13dd00f3ec9f57ce9b237c8b1d250d6de44","2004-10-10 02:13:28+00:00","change version numbers on some more he cpp titles

svn-id: r15496
"
"e3d590d4d8fe28abecc6ce7015f9df4559952b2e","2004-10-10 03:02:42+00:00","Group HE100 games together.
Fix a few HE versions.

svn-id: r15497
"
"d5aa0a0953d4e5165e00639490d787ce97a673ea","2004-10-10 03:22:54+00:00","Update HE100 opcode table.

svn-id: r15498
"
"3ddc6b8cbb42f34963ae094d62a99b96da45d6aa","2004-10-10 03:33:48+00:00","Add missing cases.

svn-id: r15499
"
"38f8de858ec00a2cc847e22d4d8f4f5683bf3fec","2004-10-10 04:02:37+00:00","More HE100 corrections.

svn-id: r15500
"
"81b6d3174cd6572713ac6f883a0841ff41f168c6","2004-10-10 05:16:12+00:00","More HE100 corrections.

svn-id: r15501
"
"c35a093f960eae55527fd9c2af4ce26ef69732f6","2004-10-10 05:49:30+00:00","Rename opcodes

svn-id: r15502
"
"c8dc1483ac0b8f2ecb59de837e4b6e0809c558e1","2004-10-10 06:32:02+00:00","Changes for mustard

svn-id: r15503
"
"06951591392ab72703e7533efdb1916d504aa33e","2004-10-10 06:48:00+00:00","Correct a VAR value.

svn-id: r15504
"
"544266d971e8df1078831b09bda76e70f2e9ce53","2004-10-10 11:09:23+00:00","Ooops, bad comparison.

svn-id: r15505
"
"e5b97ee63b20aebf5a44098e6d377042c7ac8569","2004-10-10 11:31:22+00:00","Correct order

svn-id: r15506
"
"353741ebee1b763a1672a2aec61f9d5ca68111c6","2004-10-10 12:26:49+00:00","The thread variables I added yesterdays will be accessed by scripts, so
byte order will matter.

svn-id: r15507
"
"4aa55a188acc07a1d5b069e29e34a8d2be336379","2004-10-10 12:27:43+00:00","Fixed the nasty 'pop' when playing the standalone VOC file in the intro.
Fixed the overlap when playing the standalone IAF file in the intro.

svn-id: r15508
"
"bb5ed19d3ec61adc67cdc1febb8c82c26aa04fed","2004-10-10 13:48:49+00:00","Added missing word in subtitle.

svn-id: r15509
"
"09c0855f9ad4631f87f0d5d40ded3e35ae978e38","2004-10-10 16:31:15+00:00","Reenable persistant launcher, in order to encourage some debugging ;)

svn-id: r15510
"
"bbf1de48d520c70e2b534aa595238b1eac160b1c","2004-10-10 17:12:50+00:00","make queen engine returning to the launcher when finished (next step: plug all the memory leaks, mainly in Logic class)

svn-id: r15511
"
"17d3e301805b1caee8cfb800108cda990f221013","2004-10-11 01:31:34+00:00","X/Y order changed again in HE 72+.

svn-id: r15512
"
"76ea75ca6610a276616791e55275a175830cc0cf","2004-10-11 02:05:37+00:00","Still not quite right.

svn-id: r15513
"
"88caf6cce9737134831940d981ec21e0cd5b85eb","2004-10-11 09:47:07+00:00","Fix bug #1044074. Check which triggered the error is too strict, so
disable it.

svn-id: r15514
"
"00ab3be379cf571a1d1c1f811851d9f0ad4a9978","2004-10-11 10:49:59+00:00","Another off by 1.

svn-id: r15515
"
"29c0c5965265000ababb17abf5a59d9d3d10afc0","2004-10-11 11:15:23+00:00","HE games only use flag value too.

svn-id: r15516
"
"40a13df5b2107cf9f61ce4fcc6a81bdd9145538a","2004-10-11 13:27:13+00:00","New params

svn-id: r15517
"
"5992cdb890ee658e495d61e5e08b02f3827436e0","2004-10-11 13:29:08+00:00","PalmOS : new params

svn-id: r15518
"
"93dec8661cbd36b806b8707a098e92dbcaafc613","2004-10-11 14:01:38+00:00","Fixed param

svn-id: r15519
"
"3142e79d3245408ba2a07e2be2f6f0b306f70c78","2004-10-11 14:04:36+00:00","Subtitles by default

svn-id: r15520
"
"0c785afd2e6e9cee5714613224025c811be29a0f","2004-10-11 14:07:10+00:00","New file + segments order

svn-id: r15521
"
"1036e88aa63adfe503a8d22d3b2df207d8e235c2","2004-10-11 22:01:21+00:00","Implement premix proc via an AudioStream / Channel (eventually we'll remove the setupPremix method which takes a proc pointer)

svn-id: r15522
"
"bdf66b1a072b93bfb128f7a6368b500b81d0036f","2004-10-11 22:19:22+00:00","Make use of the new setupPremix variant (i.e. use an AudioStream subclass instead of a premix proc)

svn-id: r15523
"
"42863d5cc24a89e955b91804cdfbafeeb8dd404b","2004-10-11 22:27:26+00:00","cleanup / updated some comments

svn-id: r15524
"
"4b4c4f1d1d09a11258079c39941e87cadbf33d19","2004-10-12 04:26:02+00:00","Rename var
Update HE issues

svn-id: r15525
"
"eaccebd7fcc39043d4a245a1347af7ef9d8e6c9f","2004-10-12 06:24:46+00:00","Cleanup

svn-id: r15526
"
"ec413cc8f9d49ca3c93092e955032a92857c3960","2004-10-12 11:45:53+00:00","Added support for digitized music, plus some other music-related fixes.

Note that I've only tried this with the music.rsc file from the full Linux
version. It seems likely that the Mac version uses the same file format,
but I have no way of verifying this. I'm told the demos use compressed
audio, so the music files from them probably won't work yet.

svn-id: r15527
"
"687a5db4a835185147571452f22b700182f9b6f5","2004-10-12 14:12:20+00:00","Rename vars
Add some missng code for HE games.

svn-id: r15528
"
"e634fda1eb0b65f4aac830445240bfa72e93a73c","2004-10-12 14:22:52+00:00","Updated a few SAGA entries since they are now at least partly done.

svn-id: r15529
"
"beb1ed459892216f1655c6041adf25eb2bf9ae83","2004-10-12 14:40:32+00:00","Rename as requested.

svn-id: r15530
"
"f5403e079fbfa5348d1e9f084ed215dc40314655","2004-10-12 15:50:00+00:00","added mp3 and ogg vorbis playback for music and speech.
compression tool will follow soon.

svn-id: r15531
"
"372eeb54cbc030737afac9bda9ccc7f41b873659","2004-10-12 17:03:07+00:00","Migration to the newer form of setupPremix().

svn-id: r15532
"
"3842898a3e0a7acaab7db8ea2edee33f4e6fcea2","2004-10-12 17:05:16+00:00","Compile fix.

svn-id: r15533
"
"e2917b1664f94071a19fb7597fa26f583149aa6c","2004-10-13 00:59:27+00:00","I hope this fixes speech in demo

svn-id: r15534
"
"79ef36cf0e3cbd5e154bdd4e2ad7f7deaf1c61d5","2004-10-13 06:35:13+00:00","Clear g_engine when an Engine is deleted. This avoids a crash in error()
when quitting Broken Sword II. (I still get the error message, of course,
but that's a lot more helpful than an SDL parachute.)

svn-id: r15535
"
"6a1c315fdf60f700b3f49f62a714baf7b2b8ea08","2004-10-13 06:36:29+00:00","Don't let undraw_mouse() terminate with the surface still locked. Now I can
finally quit Broken Sword II again, without ScummVM crashing.

svn-id: r15536
"
"90055146018202f5e9760c4e74798f2d39a1868e","2004-10-13 07:52:42+00:00","Add initual sound looping support for HE 70+ games.

svn-id: r15538
"
"3539b6ad959467141e802e0605d901000f29e846","2004-10-13 07:59:51+00:00","HE 60 specific

svn-id: r15539
"
"3ff56dd43b87293c5ed058d260b81b30e10e1541","2004-10-13 08:08:45+00:00","Correction

svn-id: r15540
"
"942ad1dc6c147a2e41c47356522a8f2c66706012","2004-10-13 08:49:33+00:00","Remove the 'boot_param' and 'save_slot' settings from the transient domain
when returning to the launcher after quitting a game.

From what I understand, if they're in the transient domain it means they
were set from the command-line. And it's unlikely that we want to re-use
the same bootparam or save slot when starting what's likely to be a
completely different game than the one we just quit from.

svn-id: r15541
"
"1460a3032fa5bbebd061f999b5bb7cf158182395","2004-10-13 09:18:17+00:00","Add for HE100 too.

svn-id: r15542
"
"f78ded554c1f7ae3ef622753e496281de48bd5a2","2004-10-13 09:39:59+00:00","Rename opcode

svn-id: r15543
"
"086724d774399aa0b101d2503929e3fca54813d5","2004-10-13 10:55:50+00:00","Remove more duplicates.

svn-id: r15544
"
"5a0673c0de9fd849da235deb9627940399a109ca","2004-10-14 06:36:05+00:00","The checkCdFiles() function still looked only for SPEECH1.CLU and
SPEECH2.CLU. Now it also looks for the corresponding CL3 and CLV files.

svn-id: r15545
"
"73f89577d6de2aae97c93b7f8e5034bfaa868086","2004-10-14 07:17:02+00:00","Documented the --savepath option.

svn-id: r15546
"
"600087ceae2d577f4f771ab87aa1685bd206496c","2004-10-14 08:36:04+00:00","document BS1 speech/music compression

svn-id: r15547
"
"6baea70212cce9d022ed64e4b2c4b98f4d99e635","2004-10-14 08:58:02+00:00","added sword1mp3 to the documentation

svn-id: r15548
"
"522da1ddbc46bc58789f2250281c6bd4a9f37cf9","2004-10-14 09:18:20+00:00","forgot to remove these debug messages

svn-id: r15549
"
"d06c76b8d7a1636f22300b7eb0ccbb38b4a0d74f","2004-10-14 10:33:48+00:00","Changed 'mp3' to 'MP3' whenever it refers to the actual format. (It's still
lower case when used as part of a file name, etc.) I don't know if it's
correct usage, but that's how it was done in most cases already.

svn-id: r15550
"
"f619a63ecb9747899211e747be848f42ec278151","2004-10-15 00:36:49+00:00","Update SAGA todo items.

svn-id: r15551
"
"61b4a9faba13d7f279902cbd61c1e209e4f12ef1","2004-10-15 00:37:50+00:00","Mention HE games in New Games section and update their number.

svn-id: r15552
"
"9e40ef7d29ccaca45708b39e1da92bbca088d6ac","2004-10-15 02:53:00+00:00","Only 26 HE titles and they are not supported yet.

svn-id: r15553
"
"8f65711a28b0cdedca29cdd1787b40546d448575","2004-10-15 06:06:47+00:00","Merge in some of LordHotos kyra code, with some changes.
It's still non-functional, but once I merge in some more of my local changes things should actually be moving a long a bit.

svn-id: r15554
"
"a5e188b9d826e6f1c088ab716c82079a7342260e","2004-10-15 10:32:17+00:00","Fix a few things

svn-id: r15555
"
"15c184cc12eebb97d0a4c9ecddb056b5b30a0fe6","2004-10-15 10:42:44+00:00","Fix opcodes.

svn-id: r15556
"
"0ee4b3e542e713b91cef3ecbfc58dee050105ff6","2004-10-15 10:53:06+00:00","Init error.

svn-id: r15557
"
"b1ec9a92bf5a15ab400799275ba5eeb1a6c09286","2004-10-15 10:56:16+00:00","Init in the right spot :P

svn-id: r15558
"
"293162d2bab17b8ab01b42c0a72326ad2a9bbb34","2004-10-15 19:47:16+00:00","Fixes for big endian machines

svn-id: r15559
"
"2b2fa690e9057c303891a22909bbcd6644348a3f","2004-10-15 19:48:07+00:00","Fix what looks to be a typo, anybody who actually has kyra may want to verify this...

svn-id: r15560
"
"37ba67178c949ee3085a93d929568402ed6692a9","2004-10-15 19:49:15+00:00","Ordering the source files by name

svn-id: r15561
"
"ccb8d04f35baeca212ef535c208f7e7abdc62ebf","2004-10-15 19:54:14+00:00","Clarify OSystem::setPalette documentation (thanks for pointing this out, LordHoto)

svn-id: r15562
"
"bb462f64e0c374fea76a6e513d29b60d049f9aa0","2004-10-15 22:28:12+00:00","Renamed _scaler_proc -> _scalerProc; cleaned up _scalerType handling

svn-id: r15563
"
"d42f98d0c4590c5f57ff92055fc741f97f89ca06","2004-10-16 05:10:15+00:00","Add missing case for HE 90+
Always clear complete local script vars.

svn-id: r15564
"
"4174c4b0ba9c01b66fbcdb152aaeb5f0aa4d47f5","2004-10-16 05:27:42+00:00","Ooops

svn-id: r15565
"
"4840c16c1b40146ce4268e3599f6ab3115b51ce4","2004-10-16 07:46:04+00:00","Oops, forgot to remove these lines. Now all three forms of music (XMIDI,
MIDI and digitized music) use the same method to decide whether or not to
loop.

svn-id: r15566
"
"cebce0f5361cc58a4b6c232d042d2daebb2b4088","2004-10-16 07:46:52+00:00","Introduced script events to fix the 'actors appear before fade-out' bug.
There are some minor music-related changes here as well, but that's just
cleanup.

svn-id: r15567
"
"78ddff569dbeea3f26a675a36ee1e40929c3b898","2004-10-16 07:47:44+00:00","This is done now.

svn-id: r15568
"
"600a4369fed52a3506b749b2a7f74d7c1f9a9c11","2004-10-16 09:59:40+00:00","required for ff5demo

svn-id: r15569
"
"75e821c341649719c91fc9e13b4ef8c1f2b4daa9","2004-10-16 10:29:24+00:00","Add case

svn-id: r15570
"
"6299eaa546b085ebc3e1c21fd6863511507e2984","2004-10-16 10:30:22+00:00","Typoi

svn-id: r15571
"
"54dc902ae4b12a140e450673fb51a42b8ca39b4d","2004-10-16 13:09:52+00:00","Add gets() method to File class.

svn-id: r15572
"
"2337d924ce3c9513a1f2e11fa2f63f5eaaa75ee4","2004-10-16 18:40:06+00:00","Fix bug #1048129 which prevented eof() method from working.

svn-id: r15573
"
"c9a552bebcfd97907237654a308a0be55c9dc5e6","2004-10-16 20:38:37+00:00","fixed warnings

svn-id: r15574
"
"f0a7f8f0fbe1869b8ada4df161c8e4fb38ff8699","2004-10-16 20:42:56+00:00","update

svn-id: r15575
"
"b41902f4079793236a20ebc380481fd598401c1d","2004-10-16 22:28:29+00:00","Fix whitespace / code formatting to match out guidelines

svn-id: r15576
"
"3905129a9702e8f6db9b345734a27133fb630882","2004-10-17 04:35:36+00:00","preliminar o72_captureWizImage() implementation ; still have to handle flag 0x2 in drawWizImage to display correctly the painting in 1grademo

svn-id: r15577
"
"0765435c444c364016b0647a530085939a037f57","2004-10-17 05:04:49+00:00","cleanup: moved some things to gfx.cpp and changed o60_setState to match disassembly of version 72

svn-id: r15578
"
"4667a12c9d071df2f086773f6cad8686649cf630","2004-10-17 05:54:56+00:00","Revert, break older games.

svn-id: r15579
"
"eaa65d57dd9d45eb7eef7bd8e7f5fdd4fd54f993","2004-10-17 06:07:45+00:00","Check if VAR_WIZ_TCOLOR is set, before using it.
BMAP images are only used in HE71+.

svn-id: r15580
"
"cb12a2a0a1022f79ca9c4946b2bd37a8262bfb44","2004-10-17 06:32:58+00:00","Rename opcode

svn-id: r15581
"
"dc446bac8732efdbfc7f139e92381a1f78a0e76d","2004-10-17 08:02:42+00:00","Missed some code

svn-id: r15582
"
"18cf513a12e2ef9425e8f82a6d06814268d83c44","2004-10-17 09:17:32+00:00","Complete stub

svn-id: r15583
"
"2319d271782f4d7a37aac91ff7ff7906f300464e","2004-10-17 09:29:52+00:00","Typo

svn-id: r15584
"
"4aa211a8e05600b22cbad1aa5fba527432989b78","2004-10-17 11:47:12+00:00","Polygons used by HE71 too.

svn-id: r15585
"
"c823af303acb25b70373ce97fe334a1546804a91","2004-10-17 13:14:21+00:00","Color correction for HE70+ strings.

svn-id: r15586
"
"9f4bf02c1ea5e1d899172dcf697a196252dceb18","2004-10-17 13:49:11+00:00","Fix playback of MP3 files till EOF in some cases

svn-id: r15587
"
"649eb19a3ed45dbea8b2796a57190ff18534fffe","2004-10-17 17:12:35+00:00","Cleanup

svn-id: r15588
"
"267144e69c09862c230506ec1550b6b1ac8437f3","2004-10-17 17:49:45+00:00","added MidiDriver_Emulated base class used by the adlib & ym2612 midi 'drivers'

svn-id: r15589
"
"a41b8d22937396c10b913a0e9d58af311bccc5ad","2004-10-17 17:57:33+00:00","Patch #1040501 (Possible fix for inttypes.h problem)

svn-id: r15590
"
"b33f7b4b76495b08532989fe9cde9e49a1d08a95","2004-10-17 19:00:09+00:00","plugged some memory leaks

svn-id: r15591
"
"058598370a09faca7ade00143551e8d3ebd420b1","2004-10-17 19:06:35+00:00","fix intro glitch regression

svn-id: r15592
"
"82a3d09a65e322b2b6b864dc8570031b97e84243","2004-10-17 19:34:43+00:00","Fix warning

svn-id: r15593
"
"365b9a1e27b30f25d0782563a3d6838a30ab24cd","2004-10-17 19:39:46+00:00","Doxygen fix

svn-id: r15594
"
"697da0eb9bbe3a889946269ee803f63c77ff3fc0","2004-10-17 19:39:54+00:00","Add comment

svn-id: r15595
"
"42909eb0b03f569b789db9001b29e885f8adc1ad","2004-10-17 19:40:05+00:00","Use new setupPremix variant (incomplete)

svn-id: r15596
"
"ea9d53be79084ca212c5fca6b151f84ff1940647","2004-10-17 19:40:34+00:00","cleanup

svn-id: r15597
"
"3ebaf08d6cd738a4b6a977d27b1589e967910585","2004-10-17 21:34:37+00:00","Fix compilation.

svn-id: r15598
"
"e797a60e2a34f8f2fc1c6b3ebb6ed89658ac702c","2004-10-18 00:44:10+00:00","Extra case used in fbear introduction, no purpose.

svn-id: r15599
"
"f49f6b047d6dead7658fbacdc07826565278e2c1","2004-10-18 05:03:58+00:00","Correction/cleanup.

svn-id: r15600
"
"6ad08cd944fec6685f7d82f082437e2de87a8871","2004-10-18 05:10:15+00:00","Cleanup

svn-id: r15601
"
"33cab902029fdf62987e03bb393ebb73ceca648d","2004-10-18 05:15:10+00:00","Leftover

svn-id: r15602
"
"a6da7109238d4bf70c51276d83cb2067f053417e","2004-10-18 05:23:43+00:00","Typos

svn-id: r15603
"
"1922b330adeb553dc7f02fa93f2faa5328f176c3","2004-10-18 06:40:36+00:00","Add keyboard control for HE80+ games.

svn-id: r15604
"
"9531348692f8eb0ad82018fe046db643326a1fa2","2004-10-18 14:37:38+00:00","_images not required.
Free extra HE resources on exit.

svn-id: r15605
"
"95eb4e11318dd8c86fd1dd3d90670716d07d6898","2004-10-18 14:50:09+00:00","Free some memory on exit

svn-id: r15606
"
"83560e5110c2ea52702b731c8ad97d7a6557a06f","2004-10-18 19:15:00+00:00","minor changes

svn-id: r15607
"
"acf6e4a12f0e676c9a33cb8f96b6d95f83f1b77a","2004-10-18 21:22:10+00:00","Accepted patch #1048693 -- Making File::gets() more well-defined.

svn-id: r15608
"
"4d3913d1b21d00692b0f761a8ade9d8b506cd7e0","2004-10-19 07:12:23+00:00","Cleanup of the credits code. Use the new gets() function.

svn-id: r15609
"
"61e438df2287d83dfe17e2497da0a41672e6df05","2004-10-19 08:47:10+00:00","Made the calculation of _samples_per_tick a bit less prone to arithmetic
overflow. It failed if the output rate was 44100 Hz. (It didn't use to, but
somewhere along the line an unsigned value was changed to a signed. This
seemed like a better fix, though.)

svn-id: r15610
"
"1ac29aae1ea2137743afedf588dca0c9aae8df39","2004-10-19 12:30:42+00:00","Help PalmOS (and more ?) to save memory

svn-id: r15611
"
"e31cd239bdddeca1045455646f719f988e8f6059","2004-10-19 14:19:52+00:00","Use the same REDUCE_MEMORY_USAGE trick here as in scumm/intern.h

svn-id: r15612
"
"d37a55ef19cfe85a67547c0255bd37938d96d8f8","2004-10-19 16:51:26+00:00","Increased debug level in the name of sanity.

svn-id: r15613
"
"82b6902b5661b6b9832d39ae33627bc964cccf34","2004-10-19 17:12:53+00:00","Initial, and slightly buggy, support for sound effects.

svn-id: r15614
"
"20e57d8bd59e906264d2dbf285638a86a761a933","2004-10-19 18:11:50+00:00","Cleanup. No need to have a lookup table for something that can be expressed
by simple arithmetics.

svn-id: r15615
"
"1fa79b09dea9f19fab2e321ef630db8309abfcc9","2004-10-19 18:28:41+00:00","Got rid of ungetc() to save Chrilith from the trouble of implementing it
himself on PalmOS.

svn-id: r15616
"
"f4443646e51c86656a82eabf6a9e592fb8a842e5","2004-10-19 18:45:42+00:00","Oops, now it plays the correct music again, I hope. The sound effects seem
a bit better now, too. At least the crowd is no longer cheering when the
fair is closed.

svn-id: r15617
"
"72df42e0475f6f32425ba0e969e1c1b5a7b21646","2004-10-19 23:03:04+00:00","Fix for bug #1049937 (FOA: Regression in Adlib music)

svn-id: r15618
"
"a635831b1f16214f6f4f83c33a4eb58d37cb587d","2004-10-20 09:17:46+00:00","Added fgetc/getc function

svn-id: r15619
"
"daee7c19e53817e5e331286c2c595c8358dcd74a","2004-10-20 09:19:14+00:00","Added note about output sample rate.

svn-id: r15620
"
"e58a097acfd231f36eda89f76b385c7c13d58ded","2004-10-20 22:38:24+00:00","FX_CROWD constants are correct.
Add some simple stub.

svn-id: r15621
"
"e721c6de0c0f5f66beb9e602746d25713e0398f8","2004-10-21 03:47:15+00:00","this should work around bug #922774.
well, at least it should keep the engine from crashing.

svn-id: r15622
"
"06066565a6fc55d3715abc1821dd193d092920a6","2004-10-21 05:18:06+00:00","fixes bug #786482, stupid gardener getting stuck in his hacky animation script.

svn-id: r15623
"
"47face89e512ed8af1aebc510e61b7d16d4ccf75","2004-10-21 06:44:25+00:00","Fixed warnings. (Maybe it should be 'const char *' instead, but then I got
warnings from a different part of the code. Ho, hum...)

svn-id: r15624
"
"ed089f7f389e64ddccd751d1d4e30f81c445497e","2004-10-21 06:47:21+00:00","Fixed some clipping problems. I think there are more still in there, but I
am sorely tempted to rewrite so that we use the Rect datatype consistently
with how most of the rest of ScummVM does. (E.g. a rectangle covering the
entire ITE screen would have right and bottom as 320 and 200 respectively,
not 319 and 199 like I think we do now.)

svn-id: r15625
"
"1e062a6d8980d845f058b2782798d4c6e608c54f","2004-10-21 06:49:11+00:00","A bunch of mostly panel-related fixes for the ITE intro. Apart from the
numerous animation glitches, it's looking almost like the real thing now.

It's no longer possible to walk away during the intro. This should provide
a great incentive to implement the 'Escape' feature. ;-)

svn-id: r15626
"
"32d8d0adbf8c9fb08bf8a3b3432bfdbc5f3a1634","2004-10-21 08:18:48+00:00","Added another SAGA item.

svn-id: r15627
"
"561f6ab6e8100478183f9439bcb862b11400e831","2004-10-21 08:47:13+00:00","enable czech control panel. should work.

svn-id: r15628
"
"2653a45fd352a5c4842eecdc954c3879f0f0044b","2004-10-21 11:22:26+00:00","Added a reminder that we need to put the Wyrmkeep folks (or is there just
one?) in the credits section of our README eventually.

svn-id: r15629
"
"e97d6a5f977ccbac0936fa6b73a7929d0c99cbf2","2004-10-21 12:35:39+00:00","Prepare PalmOS support

svn-id: r15630
"
"542b24f116e4b3f88b799c115061b910062ce6b1","2004-10-21 12:37:13+00:00","Fixed alignment problem with BS1 demo

svn-id: r15631
"
"25b70535bebc6fb1957f185a7c4a3d5749e3cee1","2004-10-21 12:43:49+00:00","Make PalmOS happy

svn-id: r15632
"
"feb6b490c15ae8890b6b8fa90c7c315dd9106a60","2004-10-21 13:23:52+00:00","Ooops

svn-id: r15633
"
"9cb88f1d46388561457f44fb19dbe8d508ba14fc","2004-10-21 15:54:06+00:00","Whitespace -> tab

svn-id: r15634
"
"9d0b746aaaaf78cfcc18e866e4375ad1de533bc4","2004-10-21 22:37:37+00:00","Patch #1048326 Better MT-32 support

svn-id: r15635
"
"44bd54b476b192c403a9c9bed0a463b1d715d103","2004-10-21 22:40:06+00:00","Better support of MT-32.

svn-id: r15636
"
"7e339bfbd23c0ab4cf0e010a1ff5243fe10bc92e","2004-10-21 22:53:54+00:00","Don't hard code refs

svn-id: r15637
"
"5c87bcafa6094239270e65cafe6a9c8a203bdb7c","2004-10-21 23:03:09+00:00","Fix sign warnings

svn-id: r15638
"
"eb7fe9cee4f248887ac7d18d84b0637c14a094fc","2004-10-22 05:34:18+00:00","changed timing code.

svn-id: r15639
"
"4115b54b004db5f8879d92f01bea17a52008af5d","2004-10-22 07:18:01+00:00","Fixed two of my own stupid bugs:

* The length of a script data buffer is measured in words, not bytes.
* In the long run, I'm sure it'll work better if the data buffers do not
point to recently freed data.

svn-id: r15640
"
"f9f5845e2d0cd245ff75f95f36eaf7f30b639ea3","2004-10-22 07:21:17+00:00","Made the usage of the Rect data type more consistent with the rest of
ScummVM.

Note that these are only the cases I was able to find in one morning. There
may be others left to fix. But I'm sure at least most of them will be found
when we start cleaning up the codebase a bit.

svn-id: r15641
"
"58a19ecbcd857cb9c7fde8ee17528ad444c1d41c","2004-10-22 07:22:17+00:00","Marked SAGA item as partly done.

svn-id: r15642
"
"fc210b4d21f6da040a4e24bb1c74593f806d70e4","2004-10-22 08:25:07+00:00","iAdd support for MT-32 emu.

svn-id: r15643
"
"3843b6cb022efa6295012d8a651fa0f6bc69be70","2004-10-22 09:38:11+00:00","Correction for mingw compile

svn-id: r15644
"
"8e1481ae8fc20d4903bfc4ebb94cc62e85d61519","2004-10-22 10:13:18+00:00","Fixed warning. Hopefully without breaking anything.

The __int64 problem remains, though.

svn-id: r15645
"
"e88cd31e4ddab2680cc6441bbbcfcd4d1241bbc4","2004-10-22 10:24:48+00:00","Indentation

svn-id: r15646
"
"5f7f3dc0d2f80cc422514c01c28bbaf00fa584a7","2004-10-22 10:25:56+00:00","Whitespace

svn-id: r15647
"
"2398753140469df11c5ffd5501963724f2fff358","2004-10-22 12:05:18+00:00","Prepare true AdLib support on PalmOS

svn-id: r15648
"
"dc02e95cd7dcd3e17b8763f14deee6d14cebb3ec","2004-10-22 12:11:24+00:00","Prepare true AdLib support on PalmOS

svn-id: r15649
"
"a4eb97da4c00efb14987bb3cc7e2823f0dc7776f","2004-10-22 15:39:28+00:00","Replaced the Bit* data types with ScummVM's int* and uint* types. The
64-bit type has been renamed int64 and uint64. As a consequence, bug
#1051999 (the MinGW compilation problems) is now fixed.

svn-id: r15650
"
"bf588c163f36c64822cdaf010f61ec7d62d95a81","2004-10-22 15:48:56+00:00","ScummVM style.

svn-id: r15651
"
"5c53a3e260e8208cf9917b74f934b01629c47328","2004-10-22 15:56:39+00:00","cleanup

svn-id: r15652
"
"1a36eeda0ee85a37c24962be8fd3e94463585175","2004-10-22 15:59:11+00:00","ScummVM style (partial)

svn-id: r15653
"
"13055ca424a89e8e63ef5b443be04f219b612a31","2004-10-22 17:05:29+00:00","fix for bug [ 1043047 ] game hangs when foster path busy

svn-id: r15654
"
"41e0e8ce3c3a70a4ba8ffed189073204655d527b","2004-10-22 18:37:42+00:00","add section jumping to the debugger

svn-id: r15655
"
"c8495dbf23b88cd5a1bcfc8aea7d2ba37096bd90","2004-10-22 18:45:35+00:00","correct music/fx for section 6

svn-id: r15656
"
"2c76a8e024565f8e35745f5b15ff1e63b8963805","2004-10-22 23:44:08+00:00","Support MT-32 emu.

svn-id: r15657
"
"074ed070843c9c7a911be3b3bb540916eef0da3f","2004-10-22 23:45:50+00:00","Properly nitialize _passThrough variable.

svn-id: r15658
"
"03df05bd967f13b8b8eb652a6a7ea373dd947971","2004-10-23 00:02:38+00:00","Better support of MT-32.

svn-id: r15659
"
"670d84362546e24e9933f1274f83efeeb65b586f","2004-10-23 00:36:09+00:00","oops

svn-id: r15660
"
"07a6802dff96d170e7bdc0811655a73a7e7220e0","2004-10-23 12:50:31+00:00","Cleaned up axtoi()

svn-id: r15661
"
"4d8bc9862cac82349421270f22f9206c6b445ec8","2004-10-23 13:02:05+00:00","Cleanup

svn-id: r15662
"
"62ca7b6644b4f993dfed769da54300446f87057b","2004-10-23 13:17:03+00:00","Cleanup

svn-id: r15663
"
"879c2562e6e8f10b1c8f3a4b01047e1e39678247","2004-10-23 13:23:46+00:00","More cleanup. Too bored to go on.

svn-id: r15664
"
"c10cce6af180c6bf5e23abc1ae4206d59965c269","2004-10-23 13:39:03+00:00","fixed warnings

svn-id: r15665
"
"3fe42cf7efc5a24d1d619c5e4796e4269919183e","2004-10-23 13:46:20+00:00","update

svn-id: r15666
"
"e14b69d18d1c0f6f9c613eb163f2767e4293aa92","2004-10-23 13:49:58+00:00","Still needed for RU freddicove

svn-id: r15667
"
"d168ce9394ade21ac39740dfca1aa61f3566250b","2004-10-23 13:55:23+00:00","OpenBSD is _not_ a.out on i386/amd64

svn-id: r15668
"
"0b07a5f484c6ec602625f8919df95ecbe4839b83","2004-10-23 20:33:39+00:00","o Turn BASE_FREQ constant into variable. MT-32 has to be run in lesser time slices.
o Attempt to fix mi2, but that cure for symptom, not the cause. Under dosbox header is always valid, but here we get 0x41001612 instead of 0x41101612.

svn-id: r15669
"
"e8811e71584ff4f4530b462e0b390281fadba88b","2004-10-23 20:56:53+00:00","Oops

svn-id: r15670
"
"b60febe8a81120a21c2346bb8bc4255038b695e8","2004-10-23 23:08:53+00:00","Patch #1048283 (Improved CJK / FM-TOWNS support & some documention)

svn-id: r15671
"
"fd417f3e0934b66be308bd035422fa777dcc3f6f","2004-10-24 01:22:25+00:00","Only 20 actors in Sam & Max.

svn-id: r15672
"
"c70a3c76d36d285e9a6f0dfef6c251f4b2718604","2004-10-24 06:58:41+00:00","Move number of actors to scumm settings.
The amount of actors in HE games changes a lot between games.

svn-id: r15673
"
"dfeed002045fe9a0c06c536cdbb9c6899e82d71a","2004-10-24 07:03:23+00:00","Ooops

svn-id: r15674
"
"04e831b9dddecc10bc50d539866713fcdb449280","2004-10-24 07:08:53+00:00","*** empty log message ***

svn-id: r15675
"
"1acc63ecb3a5ca1cb80963c3d73d873c7a8d77a6","2004-10-24 10:41:57+00:00","Add small debugger font to NEWS

svn-id: r15676
"
"efefeaccc86823c9a06f9971d62f3ca8ea1bcd49","2004-10-24 10:51:46+00:00","Add correct actor number values for a few HE games.

svn-id: r15677
"
"dc89fe8e514227de42cf6573d5df1c1089b15314","2004-10-24 12:05:27+00:00","Revert, in order to be backwards compatbile with saved games.

svn-id: r15678
"
"7b8469312553d20999e4ae50566716f6ccb7a7a6","2004-10-24 13:03:42+00:00","o Check size of waveforms.raw so output rate could be adjusted
o Eliminate rom_path, as we use our File class

svn-id: r15679
"
"d591de9ab3c28a5179cb498732c960f57ad3d95d","2004-10-24 13:43:36+00:00","Fun shops start.

svn-id: r15680
"
"22581c3c104baa91e4cbb2cdada6bf768bd86ac2","2004-10-24 14:50:34+00:00","More cleanup.

svn-id: r15681
"
"53d10219858cd58542deb564156111aa83cc59ed","2004-10-24 15:04:19+00:00","More cleanup. Too bored to continue now.

svn-id: r15682
"
"6fd31192e1413e2a84c22a28379278e5ee8a9355","2004-10-24 19:21:38+00:00","o Sync with upstream source
o Move back to old sawtooth filter, which sounds better

svn-id: r15683
"
"376f51ba7954d5fe09c2887d4027a0f208c702e9","2004-10-25 00:27:53+00:00","use relative timing instead of constant values.

svn-id: r15684
"
"83605fec24194ce2f03b52e59abd1d4915ffdc9f","2004-10-26 07:01:26+00:00","Rename fields in R_ACTORTABLE struct (I think this is what they mean), and
added symbolic names for actor flags.

svn-id: r15685
"
"4a8213347a716eea24735637a1fe4f400c7bf3de","2004-10-26 07:01:57+00:00","Note which entry corresponds to which actor in the actor table.

svn-id: r15686
"
"dc796c939998e74b0e97c894b14da6bc6e2f35e3","2004-10-26 07:02:32+00:00","Better test for if it's the protagonist who leaves the scene.

svn-id: r15687
"
"b4df9bb2c1ba4970e4f519da477a75a55ad8b93b","2004-10-27 02:27:54+00:00","Started to rework script threads. Partially moved to thread flags.
Scene skipping now works, but scripts aren't chained yet.

svn-id: r15688
"
"117952430d8a64692ae01f122916f1ac52f7ca0f","2004-10-27 02:30:29+00:00","Update SAGA issues.

svn-id: r15689
"
"c7e5ab1f2d0f103de25da3c57cd30d5ee3ec7312","2004-10-27 21:32:28+00:00","removed R_ prefix with few r_ too

svn-id: r15690
"
"213c4093bac6954e17be4311d9a7840402764780","2004-10-27 22:17:11+00:00","Implement some script functions and report stubs.

svn-id: r15691
"
"7aa3cded0854a9bb59f27248ac99a90142f44dca","2004-10-28 01:56:25+00:00","Remove stray

svn-id: r15692
"
"1d6de6f5e4eee21f888956dae7cc7a568f2264d4","2004-10-28 06:55:50+00:00","replaced printf usage in saga

svn-id: r15693
"
"8050e42812b25fcae02631d7fb294c42dbdc5370","2004-10-28 07:25:29+00:00","Updated with my recent actor flag changes.

svn-id: r15694
"
"fe6d66a2434188deca14304c58ef1f1d3d9dab99","2004-10-28 07:31:16+00:00","Renamed some previously unknown variables.

svn-id: r15695
"
"afc07026c68d21dd3dc7d9723da5e1df0497590f","2004-10-30 10:31:00+00:00","Renaming of struct members.

svn-id: r15696
"
"94d74a04e98828603bdcfc7f8cfaa76e2349a947","2004-10-30 10:35:39+00:00","Brute-force workaround for speech decoder crashes in the BS1 demo. It still
doesn't work very well, though...

svn-id: r15697
"
"40d9601b615993763252abeea13621a0a629bd88","2004-10-30 18:02:48+00:00","Fix by salty-horse: 'currently, it doesn't handle the last word in a sentence
properly. the width comes out garbage, and then it is sometimes moved to the
next line for no reason

svn-id: r15698
"
"5f4575ccd09790ed7bd9d59403b7cf2c866567a4","2004-10-30 21:52:57+00:00","Doxygen fixes

svn-id: r15699
"
"43681e53274990ddeeda7ea476f8fb476d9027f7","2004-10-30 21:54:18+00:00","More doxygen fixes

svn-id: r15700
"
"926cfc5bd25df0194095227ddf1587d3a6ffc7f0","2004-10-30 21:58:37+00:00","Doxygen fixes

svn-id: r15701
"
"06c46fe423616f516648c67279f5c204398a2bd2","2004-10-30 22:13:48+00:00","Let Saga::SURFACE inherit from SURFACE

svn-id: r15702
"
"4126001b861aa6abd1633ae42b7b259ad646df9c","2004-10-30 22:34:08+00:00","Turn some methods into functions (potentially gives better code, and we may want to move some of those into the graphics/ module one day)

svn-id: r15703
"
"b0110fe5b2f2cc70b92c04dd0cad045fdf83b550","2004-10-31 13:51:01+00:00","Whitespace fixes

svn-id: r15704
"
"a2d000b267ade8d8738b12071e58aa116395375b","2004-10-31 13:51:28+00:00","Renamed an 'unknown' variable.

svn-id: r15705
"
"29a142e7052af415c0cff9ba3b63f2808d5500d8","2004-10-31 13:51:45+00:00","Updates

svn-id: r15706
"
"1af83b0c96104a3f465eecac607cb6b60001d519","2004-11-01 10:49:21+00:00","Renamed the 'unknown' parameters. I hope I didn't make too many errors.

svn-id: r15707
"
"f2173960a77763a5ad673462ff417e7f8df403d8","2004-11-02 08:37:14+00:00","Removed unknown part of IMAGE_HEADER struct since it wasn't used in the
original code either. (Apparently it was reserved for future use.)

I think the only remaining data structure with unknown members now is
ANIMATION_HEADER. Of course, there's probably a lot that isn't implemented
at all, too...

svn-id: r15708
"
"4bbd0cfe87b6d6af40bcb7cdd0a86865955088b6","2004-11-02 19:05:59+00:00","Hacked Okk entry is not needed anymore.

svn-id: r15709
"
"271f84cbde769069a5d74b7b73ba9747b88d3226","2004-11-03 07:43:09+00:00","Whitespace fix

svn-id: r15710
"
"775bd838c7a2857a1ca755494994e178a7707b00","2004-11-04 21:34:17+00:00","Delegate channel functions to any MidiDriver. This is useful for the
MT-32 emulation and quite possibly other MidiDrivers in future.

svn-id: r15711
"
"df17c27ebf688309c97efa6638088d396087fe20","2004-11-05 05:13:56+00:00","Add patch #1060453 - MIVGA: Actor Scale Patch

svn-id: r15712
"
"e0204e91a978d65f9c4d2abcbe93a0e7a579b8e4","2004-11-05 09:50:45+00:00","Typo

svn-id: r15713
"
"ab7c30e4ed59004f311fd068746d1537c9da5f50","2004-11-05 22:12:07+00:00","Fix #include

svn-id: r15714
"
"805b21181ab7138da6960ade703b25716120fc29","2004-11-06 01:41:32+00:00","Major MT-32 emu overhaul based on KingGuppy's code.
o added configure option
o mi2 intro doesn't freeze anymore and has no sound glitches
o missing instruments in many titles are fixed
o numerous memory overwrite bugs are fixed
o code is cleaned a lot and splitted into many smaller files
o mt32.cpp went to backends/midi
o synced with upstream code
o reverberation fixed

* don't complain about File class wrapper :)
* all custom types are back
* #pragmas are to do
* maybe some indentation is wrong too

I prefer smaller commits, but this thing came in one piece.

svn-id: r15715
"
"dee673d96e7c18b53745553f18acd1a6b5ac6282","2004-11-06 02:20:43+00:00","Improve reporting (OSD messages, file open errors) and fix typos.

Forgot to mention:

o waveforms.raw is autogenerated if not present

svn-id: r15716
"
"b36be2d8bc3b7533ce41b91b3a16e2880be28518","2004-11-06 05:18:04+00:00","Remove stray ;

svn-id: r15717
"
"84b5b2534cbf8683705dfb9d7bfccbb3850edcb0","2004-11-06 09:24:52+00:00","Changed spaces to tab to be consistent with other module.mk files.

svn-id: r15718
"
"6b3432a93ee1229997e94eeff04784c41251c83b","2004-11-06 09:26:36+00:00","Be more consistent with the other module.mk files.

svn-id: r15719
"
"18831f1df8f89e66388dec9f8b8c8175e5fbb5aa","2004-11-06 09:29:22+00:00","Cleanup

svn-id: r15720
"
"c3bc9e2e956bed5005eb89afe3e6a75e445193a2","2004-11-06 11:59:29+00:00","Indentation

svn-id: r15721
"
"74704a4d95d7a0040916ccad264ffff76eef7d40","2004-11-06 22:33:08+00:00","Add stub for every script function

svn-id: r15722
"
"c55ff57fc6111a3e67c598a3cca579392ce70d16","2004-11-07 14:15:41+00:00","Initial inventory support.

svn-id: r15723
"
"18abe168cedb8a332d69dabe661c0edf9847e229","2004-11-07 15:11:04+00:00","Unstubbed SF_dropObject(). (Untested)

svn-id: r15724
"
"24f8bdf6792e572c0c2617d6d161f25dc12bf368","2004-11-07 15:16:57+00:00","Unstubbed SF_sceneID(). (Untested)

svn-id: r15725
"
"ebb77764c65b16c7557af6af3ad438dcfc193faf","2004-11-07 15:23:00+00:00","Unstubbed SF_putString(). (Untested, but appears to be just for debugging.)

svn-id: r15726
"
"d6cfbdad21fe995b5f2c4e6c3b1b7afb84701d9e","2004-11-07 15:28:20+00:00","Unstubbed SF_setObjImage(). (Untested)

svn-id: r15727
"
"073d0680e1b9ce7cf2de50892ff065716eee3b6f","2004-11-07 15:35:42+00:00","Renamed SF_getObjName() to SF_getObjImage() and unstubbed it. (Untested)

svn-id: r15728
"
"8e4b36cb51562629ffa2eda2f4b8f2fa4fd9bf2f","2004-11-07 16:24:40+00:00","endianness

svn-id: r15729
"
"f6d9b66e21cb10ff8a69e7d8296b0a890f163ce4","2004-11-07 17:20:32+00:00","For now, perform writing always in the current directory (the old code would just create a new file in the first place it was looking at when using the write mode, which definitely is not what we want in most cases)

svn-id: r15730
"
"e759cf5522282febb94f4bd41a878ba0c28caa85","2004-11-07 18:25:32+00:00","Re-apply endian fix

svn-id: r15731
"
"6d38776da08ec86e99c0fe8a5c9b53d0aad7664a","2004-11-08 01:17:55+00:00","Fix it on LE systems. SCUMM_LITTLE_ENDIAN is defined in common/scummsys.h,
so it's a good idea to have that included before check :)

svn-id: r15732
"
"79509f9383ca60a1fa64130f17f3c9f4bdfd9b79","2004-11-08 10:16:07+00:00","cleanup

svn-id: r15733
"
"daee2edcfea567456bc94534e1cadcd988b6ad69","2004-11-08 10:17:47+00:00","oops

svn-id: r15734
"
"021f2cbccedfd2ed197bb4c54c3d5cf1fc3ca89f","2004-11-09 04:06:10+00:00","free memory on quit.
Still leaks some, though

svn-id: r15735
"
"48548aab247b0e3f3796b1018c6a664cb36b9c03","2004-11-09 04:20:33+00:00","oops

svn-id: r15736
"
"0823f2be2a8472a016d6f113210d2206f3449f71","2004-11-09 07:02:27+00:00","update

svn-id: r15737
"
"2abe17e5946ba25a0a2cbb106ebe310f4d9f57d4","2004-11-09 10:26:33+00:00","Cleanup

svn-id: r15739
"
"259896a4a1bfa9e5f3396c066fff33105b8e3c1b","2004-11-09 10:34:40+00:00","Fixed crash

svn-id: r15740
"
"139be2620b6156f8ced4ce602d69c9c6ad1e4e14","2004-11-09 10:37:28+00:00","Free more memory on PalmOS

svn-id: r15741
"
"463544099832fd8af37b813afc7c3fffc96e78aa","2004-11-09 10:39:12+00:00","Cleanup

svn-id: r15742
"
"618971dd2fbee8b075b7c888f3abdff8aba47897","2004-11-09 10:45:47+00:00","Gathered common functions into new source files

svn-id: r15743
"
"58557e6457acc1804ae66c06cfcaf8cbe8610537","2004-11-09 10:49:08+00:00","Move common palm definitions

svn-id: r15744
"
"923e53724c3116982d4a41b11a5157bee9900db5","2004-11-09 10:50:30+00:00","New module code

svn-id: r15745
"
"05da0f8eb83d7276f61b14fff745039f0ecc7b0f","2004-11-09 10:53:25+00:00","Only with 320x[x] games

svn-id: r15746
"
"77618b5974c3c42770c45bd07855528828550473","2004-11-09 10:54:45+00:00","Check width instead of height, and use newly added header files

svn-id: r15747
"
"8068fd40d4a9503fa61b3695468cca1afc7d40ec","2004-11-09 10:57:22+00:00","Added Sword1 support

svn-id: r15748
"
"efb7ffe22f9fbb5f4a98a999d65075eec9844ad9","2004-11-09 11:06:40+00:00","Added pre-init capability

svn-id: r15749
"
"628d369c432dcd779b18f5d9fb97c4c2708d460a","2004-11-09 11:07:07+00:00","Adlib

svn-id: r15750
"
"9c7d87e7104ddd271d3a5e01dbd7ee2e527f46de","2004-11-09 11:07:43+00:00","New info panel handler

svn-id: r15751
"
"1232eb18dc063e538ce90998a03a435addaf1dc2","2004-11-09 11:08:32+00:00","Cleanup

svn-id: r15752
"
"681159971cee649603e1dee68c0de71defc1d548","2004-11-09 11:11:05+00:00","New folder

svn-id: r15753
"
"3bed649682ad52d0506c75d7e1226d9c89fa32c8","2004-11-09 11:11:55+00:00","Added engine selection

svn-id: r15754
"
"ef2cc663630bb7beb418032f0b1a1c7b01a3e4b7","2004-11-09 11:12:59+00:00","New info panel + new audio skin button

svn-id: r15755
"
"54d55f2efdb462aec653946b39cfc4b2ea2af497","2004-11-09 11:13:50+00:00","New options :
- lightspeed integration
- return to launcher on exit
+ cleanup

svn-id: r15756
"
"d890d56502437a168b7a2d693c27ddb9f6c00059","2004-11-09 11:17:45+00:00","Cleanup + sword1 support

svn-id: r15757
"
"6854c86eb2ba636ed7aad9704222bef71a34d6fe","2004-11-09 11:23:49+00:00","Fixed potential crash

svn-id: r15758
"
"e40f30e81adc986cf6975bf90bfd4cbec2f47fa0","2004-11-09 11:27:15+00:00","Cleanup

svn-id: r15759
"
"48c3ae226c5e0f788c3ebbc071dff191aa323eb8","2004-11-09 11:30:52+00:00","New info panel (formsystem is now part of it)

svn-id: r15760
"
"0f1a0f80b2832ac5299afca9d90cae13cf6bf42a","2004-11-09 11:32:00+00:00","Use the new init stuffs

svn-id: r15761
"
"4fb01fd0fddeec12268e9c4cbab03101b5e6e2be","2004-11-09 11:33:30+00:00","Added Audio button

svn-id: r15762
"
"5fc9d34542f9df18bea1a75ad74f488808128ac7","2004-11-09 11:35:17+00:00","Moved to init_arm.h

svn-id: r15763
"
"c7653da156703a06c5b5210dca501a4730f5c0e2","2004-11-09 11:39:34+00:00","Split main resource file into two parts :
- one with launcher only resource
- one with engine only resource
+ new info panel
+ updated game panel

svn-id: r15764
"
"2f6670bfcd5064b99761f56088a0fefc02a4621c","2004-11-09 11:44:28+00:00","New options

svn-id: r15765
"
"5fd488b7a0e39dadb93cc8c7875ed6d28abfab01","2004-11-09 11:46:50+00:00","- operator new moved to extend.h
- bLauched var : to know if we have launched an engine
- new info panel
- sysAppLaunchCustomDeleteEngine : if the back to launcher option is disabled

svn-id: r15766
"
"27449a32541f434230bdff8f54a290ba40e5db53","2004-11-09 11:48:12+00:00","- ARM call functions moved to init_arm.cpp
- Added new operators
- cleanup

svn-id: r15767
"
"c9c862989a14d99c358cf7075ac7092e06794372","2004-11-09 11:49:07+00:00","Updated based on last changes

svn-id: r15768
"
"fd2bde21d32a2ef72e34f71d02f37fdfc460c6d4","2004-11-09 11:50:04+00:00","Init stuffs

svn-id: r15769
"
"28682e6d095fe4ac37f298c2bdde045021a25d75","2004-11-09 11:54:16+00:00","Major update :
- now modular
- modules are located on memory card and imported to storage memory when needed
- renamed AddArgs(..) -> ArgsAdd
- args related fucntions moved to args.* source files
- make some args passed even if no game was selected
- modules management stuffs

svn-id: r15770
"
"e92da967606bdae79911ba32ca6fc56faf297586","2004-11-09 11:56:45+00:00","Updated prefix file

svn-id: r15771
"
"d21e876d6ad2c544b8718496ae663adcadc029d8","2004-11-09 12:01:49+00:00","Updated project file

svn-id: r15772
"
"d4dee021fcb883143b9a4e0d1230f46da5d2a7d4","2004-11-09 16:04:36+00:00","Cleanup

svn-id: r15773
"
"49c49a2a963a01919543a5088b8b7b7e2d740968","2004-11-09 16:43:45+00:00","More PalmOS related cleanup

svn-id: r15774
"
"cbfa7e3b5ccbe739631dc4bb64f3b689d6693f5d","2004-11-10 00:25:58+00:00","Use the actual output rate of the sound mixer when producing MT32 audio samples -> by default only does 22.5 kHz -> it's now actually almost usable on my machine ;-). Alternative approach might be to hard code 32000 here

svn-id: r15775
"
"eb9404beb89060a30a5f3aa5ce4b0db760a1284e","2004-11-10 01:44:46+00:00","This is really an IMA codec...

svn-id: r15776
"
"e4f600ee481d2b4bd0243c30984a4ea1a05c76ef","2004-11-10 10:50:47+00:00","- Minor improvement to failure handling.

svn-id: r15777
"
"7480b7a45dc0e387ce210b84cfbb259d4fd1b174","2004-11-10 17:49:25+00:00","'pack' the GameStateHeader, safer that way

svn-id: r15778
"
"20d12a515e077bcdd9b6d38ee229b05c10341d1f","2004-11-10 17:54:51+00:00","fix potiential memory leak

svn-id: r15779
"
"695667d93432dbf34c7dbd3a344eb4f031e00933","2004-11-10 18:03:07+00:00","when calling SimonEngine::shutdown(), _itemheap_ptr and _tablesheap_ptr don't point to the beginning of the malloc'd buffer anymore. So use the offsets to do the free() call ; maybe it will fix the palmos issue.

svn-id: r15780
"
"507d02d8d224a91fadec6914136c657a56e945fe","2004-11-10 18:09:14+00:00","get rid of the gameDataPath stuff as File::open already handles it

svn-id: r15781
"
"c50560a48813ba237878af4f47854bd3bc8751b3","2004-11-10 18:45:32+00:00","Clean up a bit the script stuff. In particular, resized the command pointers array, as it seems that none of kyrandia games have more than 0x13 command opcodes (checked kyra2 and kyra3).

svn-id: r15782
"
"7dec7b7054db8367f48d27a319c3550ec807ac27","2004-11-11 10:14:35+00:00","misc cleanup

svn-id: r15783
"
"bd3363a46abb2127b0c53163ff53eb6619b2cb12","2004-11-11 10:31:03+00:00","oops

svn-id: r15784
"
"e67ffaaff0c95a25580db000e4fc1cc9ae81940c","2004-11-11 11:02:40+00:00","Added BASS note. (If anyone feels it ought to be clarified, the workarounds
I'm aware of were for bugs #786482 and #1043047.)

svn-id: r15785
"
"1f7ccd02938a1e418bf83ed44014631187df7fcb","2004-11-11 13:37:35+00:00","Bring kyra up-to-date with patch 1051358

svn-id: r15786
"
"cb4b3c1f7ee5a56d50307e75de6462b7d259903f","2004-11-11 14:01:11+00:00","Prevent infinite loop by displaying the launcher after a game start FAILURE too.

svn-id: r15787
"
"4aa5649c1ef4f243a2fc3e14e494d743aa7e12c1","2004-11-11 14:19:38+00:00","Erm, this was never meant to be commited. I might as well leave the .h change for now, until kyra is investigated further.

svn-id: r15788
"
"37833f9832c267212121a01451aa4386e630c157","2004-11-11 15:30:02+00:00","Fixed comment typo. It's the pyramid bug that's dreaded, not the pyramid
itself. :-)

svn-id: r15789
"
"fd2ab69c25a1967b3c3aebc41c61c31adf88864b","2004-11-11 15:40:48+00:00","fix for bug #1064113.
not sure how this could happen though

svn-id: r15790
"
"ed22985a984e950ddf499730bd439acccc70185e","2004-11-11 20:26:04+00:00","Fix compilation on BE systems

svn-id: r15791
"
"d1cb113de72dea4f59ebe19b93ac37ef1842665d","2004-11-12 07:34:07+00:00","update

svn-id: r15792
"
"6f8f614893130e3b0602dc6cc55a81daff1de627","2004-11-12 11:09:47+00:00","renamed file mt32

svn-id: r15793
"
"22afdfc5c952556759526728822790ac4dbe36bb","2004-11-12 11:32:35+00:00","renamed file mt32

svn-id: r15794
"
"e583efe1adb25dd112248b8cd86d6416758982ea","2004-11-12 15:19:32+00:00","Better names.

svn-id: r15795
"
"057cec5a05769e7f2afdc726d921089a60dba9a8","2004-11-12 15:32:42+00:00","Slight renaming

svn-id: r15796
"
"d4a4727553566eb2669cf624c1158a74a9bbaf2d","2004-11-12 18:12:41+00:00","use message window instead of console printf if user wants to load a savegame from a different BASS version

svn-id: r15797
"
"628b02a9e8183001279c7ecbf59d38456993aa8c","2004-11-13 04:05:35+00:00","minor Wiz stuff update

svn-id: r15798
"
"2ae3166f2db47b7beb5225d57b5e271de33ab9cd","2004-11-13 04:33:33+00:00","Add new clearScreen OSystem call. Currently only implemented in SDL backend. This call is currently only used for clearing the launcher screen to remove garbage from the main screen before reentering.

svn-id: r15799
"
"5e442766e533339c1e2f3389a2859601c6ab1127","2004-11-13 19:24:37+00:00","MT32 MidiDriver:
- Channels now ignore effectLevel() and chorusLevel(), instead of sending unsupported control change messages to MT32Emu (they're not supported in a real MT-32, either, according to docs).
- Implemented setPitchBendRange() by sending a sysex write command to adjust the patch.
- _outputRate is now hard-coded at 32000, until tuning can be fixed for other sample rates.

MT32EMu:
- Extended File interface to deal with reading/writing 16/32-bit values endian-independently (they're always big-endian on file).
- Improved usage of packing-related pragmas.
- Should now be endian-agnostic (without depending on #defines for the endianness).

svn-id: r15800
"
"1aeca6838b1ba5405674d0f5e38174fe6dedd138","2004-11-14 04:13:15+00:00","MT32 MidiDriver:
- Cleanup

MT32Emu:
- Lots more cleanup.
- Properly implemented pitch bending (not fast, but theoretically perfect).
- Full position delta is now calculated before PCM interpolation/decimation is performed, so that pitch modifiers will be considered.
- Now reports when using SSE or 3DNow, and when the samplerate is invalid.

svn-id: r15801
"
"a158e884a0abc347dfabbd140f21d52fc137cd79","2004-11-14 04:40:12+00:00","- More cleanup.
- Note-on MIDI commands outside the range 12-108 are now raised/lowered by octaves until in range (instead of being ignored).

svn-id: r15802
"
"0ed79dfad78aeb61961c7f865e8cc7f45840fe28","2004-11-14 07:54:43+00:00","- Prettied up, fixed sign-extension bug.

svn-id: r15803
"
"504d54e8ab65dc68d71ac1a77ad4a393fb69e3e9","2004-11-14 08:04:56+00:00","- Huge cleanup of LUT stuff.
- No longer stores a sawtooth waveform twice, once with each sample negated.
- More graceful handling of truncated waveformcache files.
- Fixed tuning of patterns for non-32KHz sample rates (needs checking).
- Note: Waveform cache format changed, will automatically be rebuilt.

svn-id: r15804
"
"2fb46f1b9569e2b8442f8d5414a888dc9e1ac0b0","2004-11-14 11:46:29+00:00","Make #pragma pack really multiplatform. Old code didn't work on
non-Win32 platforms.

svn-id: r15805
"
"61efd5ff0ea65b9e2f2d5f0ea956cc4755809bb8","2004-11-14 13:15:26+00:00","Fix stub a bit. Might garble rest of script otherwise.

svn-id: r15806
"
"8f1307ff6ca772b43b10ba77e9d32ddcc1c67f62","2004-11-14 14:11:54+00:00","Patch #1066150 from eriktorbjorn - Enable adlib emulated midi as fallback where hardware synth is unavailable.

svn-id: r15807
"
"71cac5a32e1fb23dbc9a082e4cf0955ba1c95da2","2004-11-14 14:46:56+00:00","For MT-32 emu graphics should be initialized before Midi, as it prints
ScummVM version on OSD. Now it works with the emu.

svn-id: r15808
"
"73afa3165be105149c78b98120019b545aecffa1","2004-11-14 14:58:39+00:00","This has to be a typo.

svn-id: r15809
"
"0cfd573951c2cdd886cea650c43f0c4406e7fa94","2004-11-14 15:00:01+00:00","Cleanup

svn-id: r15810
"
"ddda67753e012a2946403933f57115b37e796bf8","2004-11-14 20:11:22+00:00","Patch #1066256. Mostly indentation fixes and some debug messages removed.

svn-id: r15811
"
"0b3949389e9f7a48023894174d5e8e19286c199a","2004-11-14 21:10:50+00:00","Extend fopenNoCase with probe of capitalized files, such as Cave.mid.

svn-id: r15812
"
"183a11153e680a1b6cd399da09deff7a690304dc","2004-11-15 02:48:30+00:00","BS1 demo's speech and logic work now.
But there's something wrong with the SFX, which can lead to crashes.

svn-id: r15813
"
"4295a17c2323d025aad8ccd7084a8c3bdedfcaa6","2004-11-15 03:03:48+00:00","o Make GAME_GetFileContext() more object-like
o Font::loadFont() now normally survives zero-length fonts as used in demos
o Removed unused SndRes::ITEVOC_Resample()
o Fixed playing of voice #4 on old DOS targets
o Implemented playing voices in VOX (Oki ADPCM) format
o Support of Win32 and Linux demos. There was old-style Win32 demo, which
is not supported yet, same is with DOS demo.

svn-id: r15814
"
"df4d3fe47a2b76ba165e0821679b3c5d823fd91b","2004-11-15 03:57:22+00:00","Move most heavy initialization from engine constructor to mainInit()
method which is called from go(). This ensures that extrapath is added
to list od default directories after all other paths.

svn-id: r15815
"
"71a2c36fa1399ec01cd2a600b72f8e1c8615fda6","2004-11-15 04:41:51+00:00","Add global extrapath to GUI and to default directories list.

svn-id: r15816
"
"455d2a127a841dc832a0adbd161db8e4bddca99b","2004-11-15 08:11:02+00:00","GCC doesn't like 'const int' in a struct apparently.

svn-id: r15817
"
"38baf0a0d303110958e63e7f9875d3254aaa2499","2004-11-15 08:22:16+00:00","I think this is the kind of constructor/go changes _sev was talking about
in his mail to scummvm-devel. (Though 'a discussed a while ago change'
sounds like sort of thing Robert Jordan writes whenever there is danger of
anything actually happening in any of his more recent books. Tantalizing,
yet non-informative. ;-)

It's still rather messy. I'll look into cleaning it up later.

svn-id: r15818
"
"17f23ad3d5e8dcbbddf255bcea3664be349df19f","2004-11-15 08:23:09+00:00","BS1 demo is basically fully supported now.
only some SFX are flipped.

svn-id: r15819
"
"6b68feb3606fe66e69ce8aacfbe2a44937ac9820","2004-11-15 08:26:32+00:00","nothing...

svn-id: r15820
"
"f08482d0ce88424f6bb4b4844aa6888f699ef705","2004-11-15 12:39:08+00:00","- Now uses playInputStream to add a channel to the mixer, instead of setting the premixer. There can be only one, and this conflicted with Adlib in multi_midi mode.

svn-id: r15821
"
"a1867735a341e2e76082b6e26963dff626e1cbd6","2004-11-15 19:38:57+00:00","change engine initialization as suggested on -devel

svn-id: r15822
"
"bd40d25a6807636c7237ad566a2e59b6a48c8db8","2004-11-15 20:44:56+00:00","Move initialisation from constructor to initialise().

svn-id: r15823
"
"503da271884f77b3a0f77e1cd54223c0397d8f07","2004-11-15 20:51:14+00:00","This commit has been brought to you by the commit first, compile/test later association.

svn-id: r15824
"
"525df7cff072bec7c3d0af96513a6d0d3010f7d0","2004-11-15 23:33:06+00:00","const const const

svn-id: r15825
"
"7adc1f419f6e8bb987c7d9b9e645a7c52c2821a1","2004-11-16 09:15:25+00:00","Cleanup

svn-id: r15826
"
"f80bdba62fd694c29a61b90898c57af8104793c5","2004-11-18 17:34:54+00:00","Partial support for WAV sound playback, which apparently will be needed for
IHNM support. I used the partial IHNM intro as my test case, and it seems
to work that far at least.

svn-id: r15827
"
"589ce6d6aa51d36598457ca48b936a009c8b7462","2004-11-18 17:48:50+00:00","fixes a crash when closing BS1 while speech menu is open.

svn-id: r15828
"
"f93078209826a4bcc04cf226040e78a9bacbba7a","2004-11-18 22:54:15+00:00","Make IHNM default be 1x scaler.

svn-id: r15829
"
"ea79c9c5e77c01d0b81174ae8f60029775a3e718","2004-11-19 01:39:16+00:00","- Don't compile inline asm on versions of GCC < 3 (it uses MMX registers, which don't seem to be supported).

svn-id: r15830
"
"d173491acc2133497bc22b9728686b6b997ae505","2004-11-19 07:41:59+00:00","Added music to the partial IHNM intro. I think I picked the correct tune,
but I can't be absolutely sure.

I'm also not sure if I'm using the correct music data. I'm fairly sure that
the MUSICGM.RES file is the appropriate choice for 'General MIDI', but I
have no way of verifying that the MUSICFM.RES is really the right choice
for MT-32. (Is either of them a good choice for Adlib, or are they both
equally bad?)

svn-id: r15831
"
"0bda71fa39dec43d9f9e259a57bd958622c2fc2f","2004-11-19 07:55:33+00:00","a little cleanup

svn-id: r15832
"
"f02b07d6d068ffcb11fc3c390d77acecfdc95049","2004-11-19 18:08:02+00:00","update

svn-id: r15833
"
"c4a8b3c8b54022664fe231253f8314f0557a958f","2004-11-19 18:13:05+00:00","ops

svn-id: r15834
"
"20e9cf6f20dde6aed31b83698940786a783c2125","2004-11-19 19:50:22+00:00","added walkthrough

svn-id: r15835
"
"dc7a20ccc3a48a2070418cfc430b2f389480c681","2004-11-19 20:30:26+00:00","ops, commited before older version

svn-id: r15836
"
"b08b04b5505847470a51078ce161ed98700bd2b3","2004-11-19 21:58:24+00:00","fixed not defined MAX_PATH

svn-id: r15837
"
"1f6bcee124c4889b7dae3a100034813909b6b81f","2004-11-19 22:02:59+00:00","not needed chech for unsigned type

svn-id: r15838
"
"8dc5c9843c5eae8e9d450e5e757d772df81f99dc","2004-11-19 22:09:23+00:00","fixed additional not needed white space char

svn-id: r15839
"
"734a7d31025ba0ad2a1e494b3117b255c78772f4","2004-11-19 22:30:18+00:00","fixed missed ctrl key handle, and missed create() walklthrough call

svn-id: r15840
"
"309108430c743d8b5b19caa073da2d774e6b447d","2004-11-19 22:33:24+00:00","init walkthrough dialog later

svn-id: r15841
"
"a7b7a281f1759a96b39195f0885bb5de25471404","2004-11-19 22:43:20+00:00","changed file constructor to dymanic

svn-id: r15842
"
"5748227adcc17e76eab0c33e99bb978b170b3de0","2004-11-19 22:53:20+00:00","missed destroy object after last changes

svn-id: r15843
"
"e5cc4c629aac5d40f629155679c0c6cd8dc169e4","2004-11-20 00:05:50+00:00","o Restore cursor after walkthrough
o Add cursor events
o Hide cursor during intro

svn-id: r15844
"
"44ab7ce0be00860f7e220cca94a76bc777fa6442","2004-11-20 01:55:53+00:00","whitespaces

svn-id: r15845
"
"9766d59b7eb728b9b5dd8970f74fade4615c804b","2004-11-20 17:19:15+00:00","I'm told that the FM music file sounds terrible with MT-32 and that the
MT-32 is perfectly capable of playing General MIDI. My new guess is that
the FM file is for Adlib instead. It certainly sounds better - but quite
different - than playing the GM track through Adlib.

svn-id: r15846
"
"c93f57b112cc1684a9d7d90587ff5de19a1530bd","2004-11-20 17:32:47+00:00","Slight adjustment/renaming.

svn-id: r15847
"
"5d9b35510d7d6aad9408e12aaebed2a79e3ed826","2004-11-20 21:35:49+00:00","Changed the FilesystemNode implementation to make it easier to use (client code doesn't have to worry about the memory managment anymore, it's all 'automatic' now). May have introduced a mem leak or two, please check :-)

svn-id: r15848
"
"fa97d4ad897452e0ee2d975c4bf4dda45737e4c3","2004-11-20 23:49:11+00:00","Removing walkthrough stuff again (talked to aquadran about this, he had no objections)

svn-id: r15849
"
"eb44281ecb6ae01155c3e93c31b29b14cfcd6e73","2004-11-21 00:37:18+00:00","o Removed astray debug output.
o MT-32 music is correct, though Adlib is not. There is apparently custom
instrument remapping similiar to mt32->gm but it is different. With
that remapping it sounds much closer to original.

svn-id: r15850
"
"01cb15b9b272301d5d135c66caa9ee02d1f62b08","2004-11-21 13:18:07+00:00","Since we do ref counting on the nodes now, we can re-use the root nodes now

svn-id: r15851
"
"879431e76b57db9d7efbe993c1edd11d712d2747","2004-11-21 13:39:54+00:00","Fixed behaviour of return key in the file browser

svn-id: r15852
"
"fb32e12095d14cde2407ac4375ad06511d96b168","2004-11-21 14:48:17+00:00","Fix for bug #1052660 (FOA: No keyboard shortcuts for dialogs) - moved hack enabling keyboard fights to allow controlling  conversations via number keys again

svn-id: r15853
"
"a607d2248f32a62e5eb4688eb9854b5173d59058","2004-11-21 16:15:58+00:00","But surely we should still call setGM(true) in the GM case, right...?

svn-id: r15854
"
"ee565c0bae8fd7ca09c39c785995a53b0539ca7e","2004-11-21 17:47:05+00:00","Applied one of my suggested fixes for bug #1060568. Let's see if it causes
any regressions...

svn-id: r15855
"
"be0fb14facb55d14f142f33f78d780501df7b4f4","2004-11-21 20:55:56+00:00","o90_unknown24 implementation

svn-id: r15856
"
"cf7f878ddc99f075a6da28eeeca2b9d55122186a","2004-11-21 21:31:28+00:00","HE wiz stuff update

svn-id: r15857
"
"856b58965376da25e74ef02f89b3fc19f96d16da","2004-11-21 21:40:51+00:00","as the comment suggested, I rearranged the 3DO strip decoding function. Please, someone owning the 3DO games, test that this doesn't cause any regressions !

svn-id: r15858
"
"defa86961a6964fa532583e66872dcb4d47cb12d","2004-11-22 07:25:02+00:00","- Hopefully fixed MSVC7 and MSVC8 builds for walkthrough removal and FS changes. I don't have these environments to test in, sorry.

svn-id: r15859
"
"9bbb5fa0db998d35d7d05a256144ea7f49e79cf2","2004-11-22 20:34:29+00:00","HE wiz update, o90_unknown29 fully implemented.
Next step : move all the wiz related stuff to a specific class/struct.

svn-id: r15860
"
"f66f7865585d0b84c2efbeccdff50fc0dedd615c","2004-11-22 22:16:50+00:00","possible fix for 'bug' #1034715

svn-id: r15861
"
"e146d5f8c36596e59b0d8b88392cb7474259170d","2004-11-22 22:32:46+00:00","Renamed unkMessage2 to showMessageDialog; use printString() in script_v100he.cpp, too

svn-id: r15862
"
"96804652a2f310b31ad7dc4799872805d8c95e71","2004-11-22 22:52:48+00:00","cleanup

svn-id: r15863
"
"8ac347fd952a3811e6a948dfca3dec081882c335","2004-11-22 23:25:08+00:00","Added OSystem::beginGFXTransaction / endGFXTransaction (not yet implemented, though :-)

svn-id: r15864
"
"aad9f122c0c37b152e70a01da48dc86a441ef819","2004-11-23 00:03:25+00:00","Added Engine::init() method; added return value to Engine::go()

svn-id: r15865
"
"d75cc2386d1b68f0ce3870e4d4f3bdafa04b36c5","2004-11-23 00:48:34+00:00","Fix compilation

svn-id: r15866
"
"bc34d0d5624d79e84e3d797724ece85b80102e40","2004-11-23 03:08:40+00:00","Revert small part of recent WizImage changes, caused regressions.

svn-id: r15867
"
"8069f3003030c2e4be683d259914e602827f0621","2004-11-23 09:36:46+00:00","Moved bootscript loading into go(), where it belongs

svn-id: r15868
"
"37e900a2a3201550b7027c271c28a0c943837271","2004-11-23 19:47:54+00:00","renamed some HE opcodes

svn-id: r15869
"
"7877ccf628d4033a4941762b867b819770a61fa6","2004-11-23 21:30:38+00:00","Next step in transaction implementation. Now it postpones all calls.

NOTE: This breaks most ports, and they will not pass assertions. If you will
fix it (by moving violating OSystem calls to go() method), I'll be grateful.
If you don't bother to fix it, there is a workaround. Just comment out
beginGFXTransaction() and endGFXTransaction() in backends/sdl/graphics.cpp.
This will tunr it off and will use default transaction-less implementation.

svn-id: r15870
"
"9c317c95c3746ffcda8ae36b692a54ad49ad59dd","2004-11-23 21:51:30+00:00","sync queen engine with latest OSystem changes

svn-id: r15871
"
"6414ec92a2a3509946ae4ec35a3a77e76ad152df","2004-11-23 22:21:45+00:00","cleanup, follow code conventions

svn-id: r15872
"
"31e434dcf1e46510606efa3025c24c17ace379c6","2004-11-24 00:14:21+00:00","Fix a`ll engines. They work, though current fix is just temporary.
There are plans to add some brains to GameDetector class, which will let us
avoid passing detector to init() method.

svn-id: r15873
"
"666d7d106d35ebae690ca99d34fc42b851125d14","2004-11-24 09:47:32+00:00","Some code transformations (no functional change)

svn-id: r15874
"
"147a09bcf5d4182fd8fbff9ce53cfeaa13f4af60","2004-11-24 10:00:02+00:00","(Partial) fix for bug #1035690 (COMI: cannon shooting uses a lot of performance) -- remember, busy waiting is almost always bad, esp. when waiting for another thread...

svn-id: r15875
"
"373a19eef168c14afdbc4215957278dff530a521","2004-11-24 10:37:33+00:00","Added the next piece of music, to go along with AM's rantings. I'll
probably add some more of AM's speech soon, since that'd give me an
incentive to fix the remaining parts of the WAV playback code. I'll see if
I can add subtitles as well, like we do for ITE.

svn-id: r15876
"
"87ffc13324175dcc91cb33664ed4993a672830a5","2004-11-24 15:02:00+00:00","Added the voice-overs and partial subtitles for the IHNM intro monologue.

svn-id: r15877
"
"b14251415153c2862e0a69d14be6191da537c60f","2004-11-24 21:03:21+00:00","fix for bug 928791: BS1: 'Freeze' at hospital

svn-id: r15878
"
"ecc7b79a44f97f58db5b9bb0ae07efed9af49fa2","2004-11-25 07:09:30+00:00","Initialize variable to avoid warning and possibly undefined behaviour.

svn-id: r15879
"
"ee2f492cd900aadc6bfdd5a57747d51c1eb756d3","2004-11-25 07:13:40+00:00","Removed the hard-coded monologue. I realized that it was probably scripted,
and sev later confirmed this.

Instead I now try to start the - hopefully - correct scene. This should
start the script, but unfortunately we do not yet support IHNM script
loading so it won't work yet.

svn-id: r15880
"
"7c436352124acc3c82b7588d076f68b7f37e8399","2004-11-25 07:15:08+00:00","Fixed a really stupid memory leak I introduced yesterday.

svn-id: r15881
"
"03c32f05b012c4a26d607d900cb17a4d55bdaaf9","2004-11-25 07:18:35+00:00","Temporarily disable the status bar in IHNM. The only place where we drew it
so far, it shouldn't be drawn. Eventually we could probably handle this
with yet another panel mode: no panel at all.

svn-id: r15882
"
"85e362707537ab04eef7aa4a52b876982b77438c","2004-11-25 07:20:50+00:00","Tiny, almost unnoticeable, step towards IHNM script loading. We'll need to
figure out the correct values for IHNM_SCRIPT_LUT and _scriptLUTEntryLen.

svn-id: r15883
"
"e79e0dec7498088ca6519d3f0ddb4219c4a58bcd","2004-11-25 12:54:03+00:00","Reverted some more of yesterday's changes.

svn-id: r15884
"
"f5da05f80d0a24ccb3e77ae5740c89ebed4cc2fe","2004-11-25 23:33:21+00:00","Added some graphic primitives

svn-id: r15885
"
"5ad29fd7e08e08b2d82a8ea0b93b093576ad87a0","2004-11-25 23:35:02+00:00","Make use of the new graphic primitives

svn-id: r15886
"
"85ec4ee0b50cafba5663ca91958582f60438dcc2","2004-11-25 23:36:02+00:00","Turn the v1 member in the costume renderers into a function local object (used to be a member var)

svn-id: r15887
"
"e1cc9b9e591b1b29c1fa27a7d97cdb910aedf744","2004-11-25 23:51:52+00:00","Make use of new graphic primitives (untested, I don't have saga -- please don't kill if this breaks, it should be trivial for you to fix it :-)

svn-id: r15888
"
"b3e5b875da37acb0436b8169075c0e9fada36aaa","2004-11-25 23:51:58+00:00","Small optimization

svn-id: r15889
"
"6df3e8dc6fd41bce4a5072bc753dd28c032aaff1","2004-11-26 00:18:48+00:00","Spelling

svn-id: r15890
"
"ca7f3814eb88cbc8e3273ac823f7c914d4caab3f","2004-11-26 00:24:25+00:00","oops

svn-id: r15891
"
"e92054b46844ffeb058eff1d02b93f1a2012e611","2004-11-26 00:56:42+00:00","Fix typo. Actually asserts there would be more convenient for debugging
purposes.

svn-id: r15892
"
"de815bac901435197e665d67ac0f237b76e57940","2004-11-26 00:57:29+00:00","Fix break introduced with last commit :).

svn-id: r15893
"
"41d1be2ea8e1869b056cf09f3b82d52363aa80c1","2004-11-26 10:04:36+00:00","After listening to some of the IHNM music from both the FM and GM music
files through the MIDI synth on my Soundblaster, I can only conclude that
they are both General MIDI, so I've changed our code to assume that in both
cases. The End Title (which we currently incorrectly play at the end of the
intro) sounds much better in Adlib this way, too.

Perhaps the original used a different GM to FM mapping than the one in our
adlib.cpp, but if so using the MT-32 to GM mapping isn't likely to improve
the situation.

We could add a way of replacing the GM to FM mapping in adlib.cpp, I guess.
Of course, that would only be worth it if the original sounds better than
our mapping.

svn-id: r15894
"
"66b8bcd7ebb5cc53afc2a2192a8ccc9ae24ef670","2004-11-26 13:28:00+00:00","Added looping background noise to the IHNM intro. I don't know if it's the
correct sound or the correct volume, but the small extension to allow the
engine to start looping sounds is worthwhile enough in itself, I think.

svn-id: r15895
"
"0d27b23efdeeaead3ec57126bddea6621d53e2cd","2004-11-26 20:17:02+00:00","renamed some HE opcodes and got rid of o72_unknownEF as it seems it was a duplicate of o70_unknownEF

svn-id: r15896
"
"a0c4e81d74616147d3a5f4eed29ad47b753e2578","2004-11-26 21:10:56+00:00","Trying to fix the WinCE/DC port breakage -- blindfolded, though, hence it probably isn't enough to get things compiling again :-/

svn-id: r15897
"
"57f8ae73ce61e281414e5cc4d20dc4986f60c374","2004-11-26 21:14:51+00:00","Another one...

svn-id: r15898
"
"51bafda43afb57f9e26f32285aa9898735f54ea3","2004-11-26 21:53:12+00:00","The Adlib MidiDriver is now initialised immediately when it is determined that it may be used. Doing this lazily potentially deadlocked when using MT-32 emulation in mixed MIDI/Adlib mode.

svn-id: r15899
"
"d56cd17183008830b4fd50d903f7a0250928b691","2004-11-26 23:51:56+00:00","paranoia

svn-id: r15900
"
"876e738dce6e3725ce28d8caf1520e71edfe09f0","2004-11-27 00:26:11+00:00","Moved Engine::getSavePath() to class SaveFileManager; removed the 'directory' parameter from SaveFileManager::openSavefile and listSavefiles (they always use getSavePath() now, which is what we did anyway)

svn-id: r15901
"
"573cac958021b520f4bb9eaa8e3a59066bbbb5a6","2004-11-27 00:55:48+00:00","do clipping

svn-id: r15902
"
"096f2b61103db3af432bdc5030b303e25a9f28a8","2004-11-27 01:25:25+00:00","Add slide animation effect to the console

svn-id: r15903
"
"d172111444300a601cfab9dfc55fdef5d015f51c","2004-11-27 02:26:21+00:00","Don't use directory param of File::open unless you have to

svn-id: r15904
"
"6cd046a9061f1b40d4e39f1b1c20d512c7ed8bf0","2004-11-27 02:47:46+00:00","Revert opcode EF merge, HE72 uses different array structure.

svn-id: r15905
"
"fe43ebf73b31a6a831b40a91d216dd84fe9599b7","2004-11-27 03:07:21+00:00","No longer stubs

svn-id: r15906
"
"6bcb1ce7d9015772fabeb8a764aa901b099d5686","2004-11-27 13:10:30+00:00","Fixing some  evil behaviour

svn-id: r15907
"
"dce059eebf0d329de2d8a142782c366cfb11eaed","2004-11-27 13:10:41+00:00","Reduce code duplication

svn-id: r15908
"
"90e3fa96a33b9ba78130c5a319611e12827f088b","2004-11-27 13:13:41+00:00","Make Array stuff part of the V6 engine class (note: it's a bit confusing to have two different ArrayHeader structs, maybe we should rename them?)

svn-id: r15909
"
"1733863e711b1a9ef234416a21369b6bf713ee6f","2004-11-27 13:27:17+00:00","- driver being NULL there is perfectly fine, Fingolfin :)
DCVS: ----------------------------------------------------------------------

svn-id: r15910
"
"1a7ca2dc2a71fed65673b4e3934f2151cc8475d1","2004-11-27 13:54:09+00:00","AudioStream::read() has been removed quite some time ago, now making sure that change is reflected everywhere

svn-id: r15911
"
"8d0ab890f8597c90d8f51caf1ed416e1df60848a","2004-11-27 14:53:37+00:00","To really, truly fix the multi-midi race condition, the adlib driver is now always created before iMuse initialisation. This necessitated removing the multimidi toggle from the debug console.

svn-id: r15912
"
"b78ac6a18b2cb851718ef84b04557f7fba8d399a","2004-11-27 15:09:53+00:00","Make use of our String class instead of juggling with char pointers; added File::exists method

svn-id: r15913
"
"ba74a8e7f657cf795046a5cf6a7ead701fd4194e","2004-11-27 15:58:18+00:00","Added some more mixer doxygen docs; cleaned up Mixer API a bit, removing some very specialised methods

svn-id: r15914
"
"8ff15ae72cb4adb6b5ffc549eb7a00422308f014","2004-11-27 16:12:11+00:00","Use modern form of setupPremix

svn-id: r15915
"
"fbaac2e27336fb17c6ef952d41e1a408d25e7bbb","2004-11-27 16:18:25+00:00","Use modern form of setupPremix

svn-id: r15916
"
"d8406e26338a565313ee31ec8ce4814832744135","2004-11-27 16:18:50+00:00","cleanup

svn-id: r15917
"
"573e02bb4cd733c97caf850b805c25d6691ba718","2004-11-27 16:26:54+00:00","Removed the old setupPremix version, it is not needed anymore. Also fixed some doxygen comments (they were being assigned to the wrong things)

svn-id: r15918
"
"c51b1266c07d3fbd1d5236a6e5d1dbc1a685203b","2004-11-27 17:09:05+00:00","Removed the (highly SCUMM specific) 'appendable stream' API from SoundMixer; SCUMM now uses the appendable stream directly

svn-id: r15919
"
"b92b8e8d6aa4108663e309cef08e5bbae609f734","2004-11-27 17:24:22+00:00","This is done...

svn-id: r15920
"
"5e351b0c312a921f9e2e8090462afec5cce7dbb1","2004-11-27 17:50:23+00:00","moved all the HE wiz stuff to a separate module, with minor cleanups and simplifications

svn-id: r15921
"
"27d04815971a1c305d671fb9c2286adcda04dfa9","2004-11-27 18:01:44+00:00","fixed potiential problem in scumm save/load code

svn-id: r15922
"
"b64f1002c5702a9a05259ba66ffcc25b326cc461","2004-11-27 19:06:50+00:00","Fix for bug #1067982 (DIG: Parallax scrolling in library semi-broken)

svn-id: r15923
"
"b03c70f46013e44b731f2366e48227152a3ec79a","2004-11-27 21:02:28+00:00","md5 update

svn-id: r15924
"
"232ef35298f8105a2d061e8ce2ada0facf6b06e0","2004-11-28 02:04:14+00:00","Print some camera info

svn-id: r15925
"
"cc11a1249ac335cb289ed14913df85c8cd7d0036","2004-11-28 02:05:04+00:00","Fix AKOS clipping issues at the left/right border of the screen (smooth scrolling regression)

svn-id: r15926
"
"41f710c06cfeb291112843f60f8f92ca4bdb2aee","2004-11-28 02:36:01+00:00","Fixing actor regression in The Dig caused by my previous changes

svn-id: r15927
"
"67b8abac08befed3e545dd500df4f28b7524348a","2004-11-28 05:33:33+00:00","correction

svn-id: r15928
"
"077d19f5008e5cb911b1291f59b63fc46da18cc8","2004-11-28 05:35:07+00:00","- Added graphical representation of initialisation progress. This is quite hacky.
- Initialisation is now interruptible.
- All data is now loaded from MT32_CONTROL.ROM. drumpat.rom, Preset1.syx, Preset2.syx and patchlog.cfg are no longer used.
- Major cleanup. In particular, separated Rhythm part into a new class, instead of dealing with it as a special case everywhere.
- Improved accuracy of pitch key-follow.
- Recaching now happens lazily.
- Changed some right-shifts to divs, due to the former not being arithmetic on some architectures.
- Setting 'MT32EMU_ACCURATENOTES' to 1 will generate lookup tables for the exact frequency of every note played. Not recommended.
- Several small bugs fixed.

svn-id: r15929
"
"39817f91b3400f75265a0a4e9f3dbd6c1c77b98a","2004-11-28 05:42:12+00:00","- Tweaked tuning.

svn-id: r15930
"
"2149e0fc785f63ea7ce04db63c3295a2fcfd9c94","2004-11-28 06:03:23+00:00","- Cleanup. Still waiting for a real MT-32 to check PCM tuning.

svn-id: r15931
"
"2a3b7efc3d42be8c784896ae50e6e8aa0beb5bcc","2004-11-28 07:07:15+00:00","- Now uses g_scummfont instead of g_sysfont.
- Added default case to event switch to eliminate compiler warning.

svn-id: r15932
"
"c5915d19d075b92bd8dee188c38a84c587cd867b","2004-11-28 07:08:54+00:00","- Now really use g_scummfont everywhere.

svn-id: r15933
"
"6d255be202a91ad297ac9e5c3bbbcf40b649eb84","2004-11-28 07:25:18+00:00","- More cleanup.
- Another tuning tweak. Sounds better to my ear, but still guesswork.

svn-id: r15934
"
"075c09bcd87621c2f2d6b7df1c1e14e6ae529973","2004-11-28 12:36:31+00:00","Duplicates

svn-id: r15935
"
"46008733a1c5c0c65ebc84994875d2df40d29aca","2004-11-28 12:58:17+00:00","Sync with HE docs md5s

svn-id: r15936
"
"3225ae020397529b4c0f7067c1d68c296e968141","2004-11-28 13:08:23+00:00","const correctness fix

svn-id: r15937
"
"540ba778e9efcbf2c46504b74381e33195549778","2004-11-28 13:09:02+00:00","fixed an unsigned comparision warning (does this code really do what you intended it to do?)

svn-id: r15938
"
"3da8e08c0c2912df2b20de3616e606a9e7f7711e","2004-11-28 13:10:57+00:00","Fixed various warnings

svn-id: r15939
"
"f6b495c8bcba30a1ebc014f306a1017184ae9599","2004-11-28 13:57:49+00:00","Assume for now that the premixer is always used for music playback (as opposed to being used for SFX); this affects the volume (see bug #1049375)

svn-id: r15940
"
"988b0ce9c16a0ae075c8baac711dba5dc8a7e140","2004-11-28 18:26:09+00:00","Added debug message similar to the one for the scene LUT.

svn-id: r15941
"
"0d951de5e952e03ce67d4272ff025adda1522194","2004-11-28 18:28:40+00:00","Using a slightly hacked DOSbox I believe I have verified that the first
music track and the looping background noise over the 'hate' speech are
correct. I was already pretty sure of the music, but the sound was just a
lucky guess.

The script LUT, which is what I really wanted to find, remains elusive,
though. I couldn't see it reading any part of the resource file that looked
anything like the script LUT in ITE.

svn-id: r15942
"
"6c84bbf2bd808c7e72cdcc9e5d5f68562916606b","2004-11-28 21:08:37+00:00","- Cleanup.
- Signedness fix.
- Changed partial age to 32-bit... They don't exactly run until the heat-death of the universe.

svn-id: r15943
"
"1ae87c0fbbbb38950e2364da212adeb96d464d0c","2004-11-28 21:24:02+00:00","Trying to cleanup the volume control mess inside the SCUMM engine: renamed MusicEngine::setMasterVolume to setMusicVolume; fixed iMuse to use the correct method for setMusicVolume (previously modified the iMuse internal volume control); hooked up the volume control of various other music engines; added ScummEngine::setupVolume method which can be called whenever volume settings change, and which gurantees that those are handled uniformly

svn-id: r15944
"
"1947aa48accc4fee082a0df0a7f1ec4dd0b29b2a","2004-11-28 21:31:46+00:00","Initialize palette for the progress bar

svn-id: r15945
"
"45d92a02f4061fbb54baedc66d7d9d233e857125","2004-11-28 22:15:09+00:00","Added a 'permanent' field to Channels, which simply prevents them from being deleted during stopAll().
I hope this doesn't step on anyone's toes; it was quite urgent, since loading a saved game stopped MT-32 emulation audio forever.

svn-id: r15946
"
"87fc0548f9b59271a8d385168c202328de748387","2004-11-28 22:17:06+00:00","- Now sets itself as a 'permanent' mixer channel.

svn-id: r15947
"
"1f56326bd53f2762b353449a534a0912250b5e17","2004-11-28 22:23:13+00:00","- Now sets the palette earlier, and only once.

svn-id: r15948
"
"61440ca8304efc2e375cc46bdc06f9028d785ce7","2004-11-28 22:26:03+00:00","Fix range check

svn-id: r15949
"
"10dd548b854682d7a98bae91db7af4cc008db525","2004-11-28 23:02:28+00:00","Changed parameter order of SoundMixer::playInputStream to match that of playRaw

svn-id: r15950
"
"5c6a1fcb2d0b67ca1b2bfe6f55adc76a7872be1e","2004-11-28 23:03:32+00:00","- MIDI messages are now pre-processed and go through normal channel allocation, rather than being passed through directly.

svn-id: r15951
"
"1b638b829e1402356d346490b3120d9f506e3514","2004-11-28 23:08:05+00:00","Who started this trend? :)
MT-32 emulator should be handled just like all other drivers, except that it should always be considered native MT-32.

svn-id: r15952
"
"750ce1fe4eecb60697c52d858c59441a26f4613e","2004-11-28 23:11:37+00:00","No longer sets pass-through for MT-32 emulator.

svn-id: r15953
"
"5a0c72cf88a1d4bfeeb02823d4bef3c22beda9b5","2004-11-28 23:15:46+00:00","Last one... No more MT-32 pass-through.

svn-id: r15954
"
"d6d3e5422b1abfb4ebf147b39881ff08ca5289a0","2004-11-28 23:24:32+00:00","cleanup

svn-id: r15955
"
"9df1a8ea2f288c64beba8793e8cfd83da911a65d","2004-11-28 23:57:33+00:00","Fingolfin, I see what you mean about the volume control mess :)
This fixes Adlib playback, which was previously always mixed at volume 0.

svn-id: r15956
"
"5a8838ae1791f15a27fe667114ee6e5021f149a8","2004-11-29 00:09:35+00:00","Fix music volume.

svn-id: r15957
"
"72cb985ee3b63fcc75048ab8a31b69a1ecfbd4c7","2004-11-29 00:13:17+00:00","Go on safe side by getting music volume from config manager

svn-id: r15958
"
"99503e3a32ecd8e5631f54840f91a66a08b6717a","2004-11-29 00:17:03+00:00","Fix music volume

svn-id: r15959
"
"8f863b5d8ffeeefd75d9937eeafcc77db5923ba3","2004-11-29 00:25:15+00:00","Fix music volume

svn-id: r15960
"
"e61e0f27a0161da2068b2ed8f14034158e4bff9c","2004-11-29 01:05:15+00:00","- Now actually read and write the 4 bytes of tuning frequency info in the header.

svn-id: r15961
"
"e7572429376ffca14b8e6595ee958c7b3badabfd","2004-11-29 02:21:35+00:00","- Fixed uninitialised reverb level. This bug took embarrassingly long to find...

svn-id: r15962
"
"be58f22feb25ab840282fd38517c6c48db1b6c01","2004-11-29 11:14:12+00:00","Allow the file browser to get back to the 'pseudo root' under Windows. This
fixes bug #1074919.

svn-id: r15963
"
"f2fb63ffd9b32a21d985b8e41cc272edec8f0f50","2004-11-30 21:01:25+00:00","enabled savegame loading on startup

svn-id: r15964
"
"ebd1c15e1f1678ba743ff16751ae143b2f5c1170","2004-11-30 21:07:02+00:00","'atari, fmtowns, mac, pc, windows' have nothing to do with savepath :)

svn-id: r15965
"
"8bbbbc71fb8c1fbab19bb96371c2f48d5e4ede11","2004-12-01 13:28:22+00:00","I've been meaning to look at getting rid of the SAGA console in favour of
the standard ScummVM one.

svn-id: r15966
"
"cdec823d98f37bf47a5e557371c6e5a6ce7e017f","2004-12-01 21:16:55+00:00","renamed a few things to match our coding guidelines
simplified OSystem_SDL destructor and move all the SDL uninitialization stuff to the quit() method
made saveScreenshot() returning false on fail

svn-id: r15967
"
"5d5a13eec758665306cd21af058c118debc2ab66","2004-12-02 00:33:42+00:00","Moved MidiDriver creation code into the MidiDriver class (as static methods), same for some other MIDI related stuff

svn-id: r15968
"
"39de0960ff0ecfd6b71a4add447600e565c08d44","2004-12-02 08:21:49+00:00","Fix kyra compile

svn-id: r15969
"
"891970cd767760cbb682319d3215786d4a651c08","2004-12-02 21:24:27+00:00","enabled autosave

svn-id: r15970
"
"5884c6735dc911fcf732b564324feebc4cf1c0cf","2004-12-02 22:59:57+00:00","simplified palette handling

svn-id: r15971
"
"470a83e024ac06edf21ffc7cd979da5f2dde9a8b","2004-12-02 23:00:15+00:00","Synched with upstream (Munt 0.1.1).
Memory timbres are now loaded into the correct location again, and reaching the end of a PCM sample has been improved. The latter change is probably the only one relevant to ScummVM, and even that is unlikely to be audible.

svn-id: r15972
"
"f03ae8addbfd9ad1236be3210c869c416d32fca4","2004-12-03 10:36:30+00:00","Paranoia

svn-id: r15973
"
"75645cbd40fd65377caf473b9f1e5eab81d8b462","2004-12-03 13:17:57+00:00","Fixed an Adlib regression with older games (e.g. EGA Loom, Indy 3 and
Monkey VGA) that was introduced by a recent 'multi MIDI' change.

The 'old Adlib' property was set too late in the iMUSE player, so the Adlib
driver would always think the game was new. I've removed this property from
the iMUSE player, since it's only function appeared to be to pass it on to
the Adlib player, and now set it in the Adlib player directly instead.

Also removed some remaining 'multi MIDI' traces from the iMUSE player that
I believe were obsoleted by the aforementioned 'multi MIDI' change.

svn-id: r15974
"
"2cfdcb5a59dec0e66e81dc91be142224156de473","2004-12-03 13:39:00+00:00","Stop sounds at the beginning of a scene. Two reasons: we already stop
voices at the same time, and I didn't want the looping background sound in
the IHNM intro to keep playing if escaping during the 'hate speech'.

svn-id: r15975
"
"c64c7eb4d4edd087031603df446abf271f616480","2004-12-03 19:15:44+00:00","First pass at migrating from the old Reinherit console to the ScummVM
console.

Some things are likely to have broken. For instance, I believe the old
console was could be visible during gameplay, while ScummVM's is modal. So
any place where we output something to the console during gameplay should
probably be removed.

Some things I've stubbed out. Basically any code that registers a variable.

Most of the debugging commands are untested.

Syntax may have changed because of different command-line parsing. (I never
actually used the old console, so I don't know for sure. :-)

Actually, I'm not that interested in reproducing the old console commands
faithfully. What we should do now is to make the immediately useful console
stuff work. Anything that remains unimplemented should probably be removed.

svn-id: r15976
"
"7ba24ad1de89cff6dfd8d06d3a546d09abd3e744","2004-12-03 19:16:52+00:00","This is mostly done, except for bugfixing.

svn-id: r15977
"
"76bf11cbdf8a4549a9461a467d82dda12eec5d45","2004-12-03 19:19:56+00:00","Oops, I forgot to make this change before making the last commit.

svn-id: r15978
"
"fb5dcffff19c8bb5c516a6ddcaea397fb709194b","2004-12-03 22:39:55+00:00","Minor cleanup, one more time.
Fixed a crash when returning to the launcher at the end of the game.
I played FOTAQ (french) from the beginning to the end some hours ago, I haven't encountered any special problems/glitches (except the one mentionned above).

svn-id: r15979
"
"0f2117cbd023ccb764d2e211cc47f96bffd01cac","2004-12-03 23:23:06+00:00","don't assert if no mouse buffer hasn't been setup

svn-id: r15980
"
"634b99037bf923b4bd47405cb018f9f8fcd7eccf","2004-12-04 04:41:17+00:00","clear scroll offsets... not sure if this is actually necessary, but it *could* be related to bug #1077394

svn-id: r15981
"
"095549125b303db33702f30aeacb924e0b703ea0","2004-12-04 14:47:22+00:00","getFeatureState should only be allowed when we are *not* in a GFX transaction (and not vice versa)

svn-id: r15982
"
"5d32a2c034a1e9036c9dcc721b6bfe27c46eb904","2004-12-05 02:55:06+00:00","added support for an international BS1 cutscene pack (which we didn't release yet)

svn-id: r15983
"
"7d356170df962cb6e79b0a3d02c8c8cf8894bf97","2004-12-05 03:11:07+00:00","Remove stray ;
Add new object

svn-id: r15984
"
"d91e587d41423b7f1b3af69acac30b5b49547a6b","2004-12-05 03:20:04+00:00","Warning fix from LavosSpawn

svn-id: r15985
"
"ecf6a579c55e8485da112c554080e999deaa9368","2004-12-05 07:35:27+00:00","forgot to remove this.

svn-id: r15986
"
"bd9c01ad8c03ebb24b1a61ac649ad767851db64b","2004-12-05 09:41:39+00:00","this is just how watcom handles signed division

svn-id: r15987
"
"87b472c9e8bfe81ce75f33fae210ce9389a4d29f","2004-12-05 16:19:21+00:00","- Added details about which ROMs are required for the MT-32 emulator.
- Small grammatical fixes to MT-32 section.

svn-id: r15988
"
"8d4fcb1689a4c80fa9ef3ec84194fa791bd2c00e","2004-12-05 17:35:24+00:00","Turn off 'launcher looping' for now

svn-id: r15989
"
"f09293b22cdec7d8b309baea0a58e93757c77913","2004-12-05 17:42:20+00:00","Clean up OSystem::Event

svn-id: r15990
"
"30039560a39d306db43592e1dd59bc4ec9fadecf","2004-12-05 23:24:43+00:00","cleanup

svn-id: r15991
"
"24b169d683170950f6e3fe42b507ad19cbc21bf3","2004-12-06 07:55:58+00:00","update

svn-id: r15992
"
"17f1c47c5d9960749cec94aef15fb34bc5903669","2004-12-06 13:36:46+00:00","Updated instructions.

svn-id: r15993
"
"06f0fa8d3a5536cbf3620c3ca1bbc34e9d14c31c","2004-12-06 15:44:37+00:00","Use delete[] for dirs now that it contains objects.

svn-id: r15994
"
"24bc673b8b31bebf5b34d408a02e9d74afb560a0","2004-12-06 15:57:08+00:00","Switch back from netcd to regular ronin.

svn-id: r15995
"
"3fb09f9b1c36bba22b3248b37a04eb8a311d4ba0","2004-12-06 20:42:11+00:00","Cutaway code also handles some talking stuff... Updated this part too, to fix 'bug' #1034715

svn-id: r15996
"
"954e16abbf8de9b37d124f0725f943c662994f95","2004-12-06 21:12:52+00:00","Fix for bug #1074931 (GUI: Starting games in fullscreen doesn't work), avoid one unneccessary redraw

svn-id: r15997
"
"6dbe271a5eeec5c3474eabac5971ecede92130ce","2004-12-06 22:05:04+00:00","Only activate virtual keyboard when needed

svn-id: r15998
"
"9eed72f0fcee00c403534de6d8656df7c9ad84c2","2004-12-08 00:03:08+00:00","oops

svn-id: r15999
"
"ece69c12e8ccd6428c0bb2bb028aa357cf7f3884","2004-12-08 03:15:36+00:00","Use some disassembly-based values.

svn-id: r16000
"
"58bf9028b16a1a6d125baa79b223de5e2a5aa0e0","2004-12-08 04:38:39+00:00","moved the bootparam code out of sword1.cpp

svn-id: r16001
"
"0d7ab01640a2209167272936c624c32142131993","2004-12-09 15:06:49+00:00","Pass subdirectories to gamedetector functions

svn-id: r16002
"
"846f520ed69281dc113cfb71b5e7fa76da88cc51","2004-12-09 16:33:54+00:00","fix potential race condition

svn-id: r16003
"
"9f5bd8510d0919b58817aec09955be9161aeecc5","2004-12-09 20:21:31+00:00","Made SoftKbd more usable with a mouse.

svn-id: r16004
"
"3bd97accd48ad0d9b0180d69be450b5e14eea2dd","2004-12-09 21:32:02+00:00","make scrolling smooth.

svn-id: r16005
"
"3825614f6734a4b6e92718f4eaa007ccb2a415d5","2004-12-10 00:11:52+00:00","Removed outdated (and wrong) comment; all this stuff will be rewritten eventually anyway, but at least we shouldn't spread false information

svn-id: r16006
"
"971719f0981bfb289ec3bbaa917bbfc4d3ac6fdc","2004-12-10 00:25:29+00:00","Fix warning

svn-id: r16007
"
"143bbaf6720fae1f0ee723f55ef74c8643cd777d","2004-12-10 12:22:49+00:00","Limit width to 80 chars again.

svn-id: r16008
"
"e185e0d6495ead1065f09314bea35c4eff08f32f","2004-12-10 14:28:40+00:00","Cleanup

svn-id: r16009
"
"a446a90e2cd00c0b81b6a9f6dde8747c9954fe13","2004-12-10 14:43:56+00:00","Revamped ARM stuffs

svn-id: r16010
"
"e1458ca1ff6ddb20c0a4fe5fac296ffd91fef7a1","2004-12-10 15:10:10+00:00","PalmOS stuffs

svn-id: r16011
"
"981d5fb1a203bbd18dce91b6ab2f174a3b1af8c5","2004-12-10 15:11:53+00:00","Reading from memory card is too slow

svn-id: r16012
"
"ccca4856aa7323e2a9897e293baf15cdf35fdd86","2004-12-10 15:13:10+00:00","Many PalmOS ARM optimizations

svn-id: r16013
"
"66e14111cca59d8d2ce01c21220b676afc33438e","2004-12-10 15:18:28+00:00","New ARM call (PalmOS)

svn-id: r16014
"
"1a5fa3e86f6f5fe9be6bcb536bfdfb38b2679218","2004-12-10 15:19:53+00:00","Moved to prefix file

svn-id: r16015
"
"f961f34c6af9667831e420b3ab5b61497ce51278","2004-12-10 15:21:33+00:00","Fixed redraw problem

svn-id: r16016
"
"3d40a9b98194a99a2b5017967d592a495b24ec34","2004-12-10 15:23:41+00:00","Cleanup

svn-id: r16017
"
"acd8456719e6b949bcdb31df96370180747afd59","2004-12-10 15:24:54+00:00","Hide ARM checkbox on non-ARM devices

svn-id: r16018
"
"7d160b2df6a65a4c11f7cdc301bb8c4192fa25a2","2004-12-10 15:28:41+00:00","Fixed language option + cleanup

svn-id: r16019
"
"7a194532209ce00480bcc11d09fa231e3d322bd3","2004-12-10 15:29:34+00:00","New ARM call

svn-id: r16020
"
"85045efac8861c3c7c5c0907e0915dc3f3968882","2004-12-10 15:41:50+00:00","Fixed virtual silkarea madness

svn-id: r16021
"
"e78e6fa95096f8c2008a1788606a1366f554782f","2004-12-10 16:00:21+00:00","- cleanup
- move notification init after screenSize to prevent another DIA madness

svn-id: r16022
"
"d15d3bf97d85bde3bce0d9ecf80508417dab1690","2004-12-10 16:11:16+00:00","Use the new init functions

svn-id: r16023
"
"5dc8b51b27dabe766afc9d1b15ea63a721dc0eb4","2004-12-10 17:55:03+00:00","changed cd checking code, gives warnings about everything now.

svn-id: r16024
"
"c9fb63af0b63d0a5424b34a0e3acd79ea14fd199","2004-12-10 18:26:08+00:00","unify pc/palm sourcecode

svn-id: r16025
"
"876079be752023dcd377518f226fe3fc158b6048","2004-12-11 00:37:05+00:00","Fix dumb CE compiler

svn-id: r16026
"
"cdf2eb2eb79f59b5b0873402e07c281463b52b11","2004-12-11 00:39:27+00:00","Update CE default savepath

svn-id: r16027
"
"744ea3161b57be8e1b2c1711e5e1670bee2372ff","2004-12-11 00:41:31+00:00","Update with SDL backend changes, untested yet

svn-id: r16028
"
"4e1096e070c26ee78645d8752878916fe71f7652","2004-12-11 00:42:18+00:00","Update project build files

svn-id: r16029
"
"0852a6e21813edc212b58ca4ea1d11da7e2e222f","2004-12-11 15:17:47+00:00","CE backend needs to overload a few functions - list them with an appropriate comment and hope they'll last more than a few months this time :p

svn-id: r16030
"
"87d90b080c7079a7564060ffc1f6b5bb93b55112","2004-12-11 15:18:36+00:00","Oops

svn-id: r16031
"
"59bd385301d56303ef87ee28290a2cc147384e72","2004-12-11 22:04:54+00:00","Const correctness

svn-id: r16032
"
"ff2e6565d1a0e6c2d8c6906496799b9a05d0d52f","2004-12-11 22:21:37+00:00","Fix for bug #1083083 (QUEEN: journal bug), thanks for the patch, salty-horse

svn-id: r16033
"
"369e31a41c87a38da018a3350da53dd914a7065e","2004-12-11 23:16:36+00:00","Modified version of patch #1082777 (common/stream optimization)

svn-id: r16034
"
"3891c0fa39c35f84b6eea3ad5001125806160938","2004-12-11 23:34:34+00:00","change loadVOCFromStream to take a reference instead of a pointer (to a stream)

svn-id: r16035
"
"e1f6101140f3243caf407a7be934a02cc44c1a57","2004-12-11 23:36:17+00:00","use loadVOCFromStream

svn-id: r16036
"
"41a7e6674cface371c1a923beb3c955d711eb042","2004-12-11 23:50:39+00:00","Remove the 24 bit read/write methods -- we don't use them anymore and they are weird anyway ;-)

svn-id: r16037
"
"791db21a6cdb1a284e703d436c7851d68ab0e225","2004-12-12 00:02:44+00:00","Fix for bug #1082105 (GUI: ScummVM returns to window mode automatically)

svn-id: r16038
"
"475b5f138db6fed544ee21912338e3be5812c945","2004-12-12 07:11:11+00:00","fixed warning

svn-id: r16039
"
"74e789ce99f9929694893f23042b0607dd79dd55","2004-12-12 21:23:21+00:00","clean up slide code

svn-id: r16040
"
"9e4a529ef9b2e2760c79fd729ad67545302f7c63","2004-12-12 21:38:11+00:00","Hide iterator implementation details from client code

svn-id: r16041
"
"1ded9cff77d06d3cca6754f3b546fc3eaacaacd0","2004-12-12 21:54:33+00:00","Optimized List assignment operator, thanks to h00ligan

svn-id: r16042
"
"1ec06340da2f5790fa13c2a41e9dcfc3b3505b6e","2004-12-13 02:02:47+00:00","fixed a bug that I introduced with the last cleanup.
(caused the graphical glitches in the pipe factory)

svn-id: r16043
"
"a6479b070d721b3ad154c0ec0fb9df5383e00b5e","2004-12-13 08:00:25+00:00","Slight update.

svn-id: r16044
"
"59b6a078266ee27d20315899e1b0cf650f01ecef","2004-12-14 01:02:55+00:00","Evil workaround for bug #1083058

svn-id: r16045
"
"ede24fabe2ea65e8d08800e246cea8eb7f12dfca","2004-12-14 20:57:23+00:00","Patch #1083548 (common/list enhancement)

svn-id: r16046
"
"f5a281a56642d1ce9f3d0f94106bfe84f033627a","2004-12-14 22:59:40+00:00","Branch updates

svn-id: r16050
"
"7e42ea1e1945e9a96aa396f6238d720c9a401660","2004-12-15 09:59:43+00:00","New man page.

svn-id: r16055
"
"5040c76a9be150ce0df0df5ee343e98323a55c9e","2004-12-15 10:07:26+00:00","Make music driver section more readable.
Alphabetically order the list of drivers as well.

svn-id: r16057
"
"d52035584e8ea61f5e63835559c62f57a6355562","2004-12-15 21:37:39+00:00","Use noserial libronin for the release.

svn-id: r16064
"
"76569705802966bddedfc4626d6cd0f898714c79","2004-12-15 22:32:46+00:00","Fixed input event starvation bug.

svn-id: r16065
"
"adcd80cc28203545891f23fa1747048a9dc2b5b6","2004-12-15 23:50:12+00:00","Typo

svn-id: r16066
"
"cc6f3ebfc228cd290b38a9ceb99c28cfc824ec55","2004-12-16 03:10:35+00:00","Update HE games

svn-id: r16069
"
"b065631b7451a4eb2efbaeb8d62e10b4a4aaff2f","2004-12-16 05:57:20+00:00","copied walk fix over to release branch

svn-id: r16073
"
"8a92830c7bab28b9b9669c2dbd64d304b11cdc07","2004-12-16 12:35:39+00:00","Split simon.cpp more for PalmOS port.

svn-id: r16077
"
"e859d25109dfc3982be4f8b189c44b04c69cb658","2004-12-16 12:51:17+00:00","Remove md5 hack

svn-id: r16079
"
"833cf802904c61d15ceaf62cc8cb256a24d47dcc","2004-12-16 14:57:15+00:00","Do not mention SAGA engine in NEWS (should we remove them in TODO too?)
Do not build by default.

aquadran, may you, please, fix MSVC projects too?

svn-id: r16080
"
"c8c420d78131bd37210b0642a74e5ff4a1d7cf5a","2004-12-16 15:28:36+00:00","Fix compilation when USE_MPEG2 is undefined

svn-id: r16082
"
"6ee93b0d0d692b706e4347710df4a2f955d5a854","2004-12-16 16:36:30+00:00","Added some BS1 items, though I don't know if I got them all. (E.g. there
seems to be some slight change to scrolling. Do we want to mention that?)

svn-id: r16083
"
"d1968a1455edecd7b8e279e6534c2e957e6f5751","2004-12-16 19:17:45+00:00","Using errno isn't really portable; don't have time to fix this properly right now

svn-id: r16085
"
"8fe5d98d1a784064c3b87c6b526141a196e2df8e","2004-12-17 07:54:15+00:00","This file no longer needs to include <errno.h>, and from what I understand
we already got the appropriate include for time() through stdafx.h, so we
don't need to include <time.h> either.

svn-id: r16092
"
"01d4a239b1bdd7393e5ba6a0e9b3020b709ab722","2004-12-17 13:29:02+00:00","Mute speech for floppy version as well.
This fixes the text speed for the floppy version after the recent Talk/Speech behaviour changes.

svn-id: r16096
"
"6a78ba2fce10614f7d10f5048fa6476ff593d9e3","2004-12-17 13:51:05+00:00","Don't allow the user to enable speech for non-talkie versions.

svn-id: r16098
"
"abc79066a0abedc1c5af3dc11a54c63810ec9de2","2004-12-17 13:55:35+00:00","Simplify check.

svn-id: r16100
"
"edd521182e166e79a27edb88ea983a32e5dc8106","2004-12-17 16:50:29+00:00","Even more paranoia, since the older ScummVM releases allowed speech_mute to be false for floppy versions.

svn-id: r16102
"
"e000466299565577936c5252b75074b96d8c7e1c","2004-12-17 18:01:43+00:00","Reduce code size of resource.cpp to help PalmOS port, by moving util code to a new file util.cpp and sound resource code to sound.cpp

svn-id: r16103
"
"558fdd34fa1cfce0570b9f5a9504ac107a7814e1","2004-12-18 02:33:52+00:00","Ensure that the file list in the browser is always sorted

svn-id: r16109
"
"b1389b80b91ef8b02f6debf7ef2c1fc3cfcc41b0","2004-12-18 02:37:16+00:00","oops

svn-id: r16111
"
"cfb23d8a30a98e470ac2cf86c2e1d8eae8635f28","2004-12-18 11:08:13+00:00","Fix for bug #1087439 (Volume control regression)

svn-id: r16114
"
"7ef3091a7fcabcd1d499357cdceefb13783d535a","2004-12-18 12:07:45+00:00","Default *nix save path for 0.7.0 as well.

svn-id: r16117
"
"4fbf736544c5e38588f7dd0eb44ee41ce66ead6d","2004-12-18 12:08:50+00:00","This is done.

svn-id: r16118
"
"b2ae643c88b1c9291cd1612b1928e9eedb0c83d4","2004-12-19 02:26:37+00:00","Add MD5 check from HEAD branch.

svn-id: r16125
"
"f0348dd49f219886ebbfd253a6bb46300e9db479","2004-12-19 09:24:55+00:00","Off by one

svn-id: r16126
"
"2349ae8085026190b7c4cfa8647b22321e1941f2","2004-12-19 11:02:07+00:00","Correct range

svn-id: r16128
"
"37e610cb45e73ad41371358f0d578aadfa8155b6","2004-12-19 11:23:28+00:00","Disable sound looping in HE games, since it is often never stopped.

svn-id: r16130
"
"25e0c1dd1d2a8ba831a891f7d147395b0d91b5a5","2004-12-19 12:48:12+00:00","Fixed regression in queen floppy version. Before doing any speech/texts synchronization, we check the voice sfx exists. See also patch #1087870

svn-id: r16134
"
"f2b1cb8f8fe8977908822e327579a7504cb7d4f7","2004-12-19 15:43:06+00:00","Patch #1087890 (README corrections)

svn-id: r16137
"
"a969a8c96e55d19716d754487bb903259472653e","2004-12-19 16:59:26+00:00","Sync TODO file partially

svn-id: r16139
"
"41b00bd51707c759d29743b632d93ea1e20a36ef","2004-12-20 00:31:54+00:00","typo

svn-id: r16146
"
"1e270123a5a3c2161f7402c55bd969c94634bccc","2004-12-20 00:54:47+00:00","consistency

svn-id: r16148
"
"4befe3a98e39b0be814fcd7aa22d9af54bb8b1de","2004-12-20 01:17:35+00:00","sync with HEAD

svn-id: r16151
"
"9b394660fc4e6d82b3e5f88495e1d2bc91ef5c91","2004-12-20 01:26:43+00:00","Relabeling as 0.7.0 (sans 'CVS' marker)

svn-id: r16154
"
"518e45e1792f0b5f1c318aa7366cded238621830","2004-12-20 11:48:24+00:00","Added AUTHORS file

svn-id: r16157
"
"bf89813e5f27fbec2176c132b5065be35de83226","2004-12-20 11:56:26+00:00","Add AUTHORS to win32 dist.

svn-id: r16158
"
"81b552707c1bdc19ba2e24104b0fe535b076928a","2004-12-20 12:49:16+00:00","Added invalid song number check from HEAD

svn-id: r16161
"
"a6fd7b628fb751442c94ae9b30cd3ddac9c11769","2004-12-20 18:28:53+00:00","Move this too

svn-id: r16177
"
"5baa6973a0418eafe3646a297b8a54abc9fe54f5","2004-12-20 18:33:54+00:00","Speedup a bit PalmOS port

svn-id: r16178
"
"a03da12c64cc9ed7fa56f1bacb020d282f50f592","2004-12-20 18:37:11+00:00","Use a draw function instead of a preinit one

svn-id: r16179
"
"e092714c325191626b5de738689b88720514daa2","2004-12-20 18:38:32+00:00","Use the new draw parameter

svn-id: r16180
"
"5a7f25db833aba2ce04a9000a40e274df4480f3c","2004-12-20 18:44:17+00:00","Better ARM support

svn-id: r16182
"
"69374226201a7bbd45d25acf3b3651ca5b818469","2004-12-20 18:53:55+00:00","Cleanup

svn-id: r16183
"
"d2cd263252997c4f8efad18b71a50e4454eda8a0","2004-12-20 18:55:49+00:00","Better ARM spport

svn-id: r16184
"
"23b1d99ac75cd4de3e715b14e7c3bd4a3914f7dd","2004-12-20 18:59:56+00:00","- Cleanup
- Prevent conflict with the new OSystem enum
- Better ARM support

svn-id: r16185
"
"2fc23edcb51436a736780e6f93a38bc1b133004e","2004-12-20 19:01:34+00:00","Cleanup

svn-id: r16186
"
"52da9a9e8ff37e7219a930b176e4475e5da95638","2004-12-20 19:05:05+00:00","- CLeanup
- More comilation option

svn-id: r16187
"
"08cdd912cebbca4f07e869ed8cfd544bc15f0d08","2004-12-20 19:24:19+00:00","Updated resource files

svn-id: r16190
"
"1634583a9e770f1c0d6da1f58a526d23d91de459","2004-12-20 19:33:20+00:00","...

svn-id: r16191
"
"355a979034f747c4a2e2177cc6dd4fc943e52199","2004-12-20 21:06:22+00:00","Added AUTHORS in some more places

svn-id: r16193
"
"fb9e2b83a39fcfdf7386e57235c34602289fdc9e","2004-12-20 21:17:33+00:00","?

svn-id: r16195
"
"53f14adb8e00758f79821af1559280f208daa11a","2004-12-20 21:23:56+00:00","Project file

svn-id: r16196
"
"2b7fe65148447d7a0648479110009d9e4915edfa","2004-12-20 22:02:30+00:00","Updated, cleaned up, and unified the credits

svn-id: r16198
"
"70ca36301a6289176c9cea763f561876c2f9e774","2004-12-20 22:05:33+00:00","Add in FLAC support

svn-id: r16199
"
"8da3938a6b708a2e1385ac2eda2117cd4b5e4881","2004-12-20 22:54:21+00:00","cast fix, hopefully this helps PalmOS

svn-id: r16202
"
"d89d900b678f64daafcdcf27223bb2cbe7237e01","2004-12-20 22:54:33+00:00","clipping fixes from HEAD

svn-id: r16203
"
"74d0ccf27b1d3535688aa6097afd5bde55e77109","2004-12-20 22:54:36+00:00","Document default save directories.

svn-id: r16204
"
"3fbe2c5709b12396c1109fb5ffdfe6b505820fd1","2004-12-20 23:11:35+00:00","sync HEAD/0.7.0 versions of the NEWS f mention new about dialog

svn-id: r16206
"
"0d8681e75ab591006f7a3bd68afdfb51d1118b31","2004-12-20 23:20:31+00:00","WinCE global domains are not needed anymore

svn-id: r16207
"
"359f6eee726669d1103fab5ca097a28b79621c11","2004-12-20 23:22:23+00:00","WinCE workaround to limit issues if the decoding is too slow

svn-id: r16208
"
"17a8a6623f7549a04a4cb20ad77d976308907017","2004-12-20 23:25:07+00:00","CE workaround - skipping the movie is better than crashing if the LUT cannot be allocated

svn-id: r16209
"
"2d2f4167e85617d1b09d13c6ca67e6065fff98cd","2004-12-20 23:26:36+00:00","Add common include needed by WinCE

svn-id: r16210
"
"e1fd5c5fbaa7f7445bba881ce4d5ef8f39da5f84","2004-12-20 23:27:25+00:00","Fix assert

svn-id: r16211
"
"93a16a3e0cf36b7cc87d5089ee57abfebfd153d4","2004-12-20 23:29:09+00:00","Re-add Smartphone support (sorry for the year lag :p)

svn-id: r16213
"
"65d8b7a0c9d150d5dfaa363c888f00eaed3255a6","2004-12-20 23:31:27+00:00","Re-add Smartphone support / Comply with GFX system transactions / Fix random startup crash / Fix landscape icon scaler behaviour

svn-id: r16214
"
"f7d184455195243d19bbbba626d711f9a3caeb87","2004-12-21 00:28:23+00:00","Cleanup mouseclick emulation (and make the new about dialog happy)

svn-id: r16221
"
"5b4e418298e74dd2db60271e6647078b5739c222","2004-12-21 01:13:46+00:00","It's Mac OS X, not MacOS X (OTOH it's MacOS 9 -- yeah, a bit confusing, but that's life ;-)

svn-id: r16225
"
"8073e09110fa0e06a4ff634f7768cc0653bbefda","2004-12-21 04:02:31+00:00","Remove unwanted space.

svn-id: r16228
"
"227672fcd4fe3cca549617457983295eae4971ef","2004-12-21 04:37:14+00:00","_HEV7ActorPalette doesn't need to be saved.

svn-id: r16230
"
"26db36f1fb03b696058a8495002797b02ebb670a","2004-12-21 05:24:47+00:00","Missed line

svn-id: r16233
"
"b835586e7258a70e79c733b29b6dd0f95f03f2da","2004-12-21 13:27:43+00:00","Change order of close()'ing and delete'ing _driver and _parser; fixes bug #1088441

svn-id: r16242
"
"2c69515a7b06e3ccffdd727e53049957c32360de","2004-12-21 22:55:53+00:00","Update CE related stuff a bit

svn-id: r16246
"
"c1c47f45198eb7fc16441caa3832acce430f833f","2004-12-21 23:57:53+00:00","Update CE specific FAQ

svn-id: r16247
"
"c586ceefa0eae3d810f744c1768e322342e661dd","2004-12-22 00:17:53+00:00","whitespace fix

svn-id: r16251
"
"c45bbbc8eabf9d3362ded06c7383344443cf83d2","2004-12-22 01:07:30+00:00","Moved credits into a separate file

svn-id: r16255
"
"a50ab6179b94028915e69b56d9101796b4144492","2004-12-22 01:46:44+00:00","Wrote a perl script which generates AUTHORS, credits.h, and credits.inc from a single source

svn-id: r16257
"
"e582221cf6e04c3bce04baabfb7f68acaa5e6f9c","2004-12-22 19:07:42+00:00","G*oe*ffringmann; word case fix

svn-id: r16260
"
"06a19a4fa8430806f6cc6969ec0a2318163f46b6","2004-12-23 01:14:22+00:00","Add Zone key support for Smartphones. Last commit for today

svn-id: r16265
"
"d7cc6ec8bcceb467fd9c0613af28646b71cb750d","2004-12-23 01:16:59+00:00","Update project files that keep changing for whatever reason. Real last commit this time :p

svn-id: r16267
"
"6b4f888dca03d46ecdb42a7bc88e38591563e2cd","2004-12-23 03:01:30+00:00","Release is schedulde for the 24th...

svn-id: r16268
"
"e71fefeaa4839bebd8eeb60c97b1fc70e61a10b4","2004-12-23 04:53:11+00:00","songs > 1000 are special commands which shouldn't be ignored. fixes a rather nasty regression in fotaq.

svn-id: r16271
"
"0b8c52865f678ee939e3b04e0563090abf08b474","2004-12-23 07:32:17+00:00","Remove FIXME from Known Bugs section. Add some cr&p.

svn-id: r16274
"
"0cbb7e4ff5ac10817c5a48b4262b49cefc9ad26e","2004-12-23 07:52:30+00:00","Few fixes from sev. Retagged.

svn-id: r16275
"
"c38e961b57f6f419f53375a94c3b3bccc9e12a4c","2004-12-23 19:43:09+00:00","Fix LaTeX code

svn-id: r16278
"
"62656ff7c6d87a293392689528569366dd212c63","2004-12-23 19:47:13+00:00","Anothe update for the LaTeX docs

svn-id: r16279
"
"4853a634afe84b391706d2dc6cc62a513737c922","2004-12-23 19:49:48+00:00","Update the date in the LaTeX docs

svn-id: r16280
"
"3b11bd6abfcad23a68adb57915950a04c03075f6","2004-12-23 20:20:35+00:00","Done.

svn-id: r16281
"
