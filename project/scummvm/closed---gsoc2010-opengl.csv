"commit id","commit date","commit message"
"7e2e16847021c95db2b7d0b07ea732f7af50e50f","2010-07-29 19:53:17+00:00","SWORD25: Added module.mk

svn-id: r53172
"
"2cbeeb1e97500b23eeb864519e7daef50783a6b5","2010-07-29 19:53:21+00:00","SWORD25: Removed cpuinfo.cpp file

svn-id: r53173
"
"385e4944394699327b380d841602d196cb85ec8d","2010-07-29 19:53:24+00:00","SWORD25: removed ASM usage

svn-id: r53174
"
"804cf1c4c7481a1bcd8bad971a21a9218b3c2358","2010-07-29 19:53:29+00:00","SWORD25: Fix some includes

svn-id: r53175
"
"c939bc753e536f529506c056d502b2c2befbce1b","2010-07-29 19:53:34+00:00","SWORD25: Remove memorydumper which is Windows-specific

svn-id: r53176
"
"1af6e17b0e96cdb934c828a0fe09c1a035d1e000","2010-07-29 19:53:38+00:00","SWORD25: Remove main_win.cpp

svn-id: r53177
"
"221fc150c6418c3eda949c149b3f6997f06ee341","2010-07-29 19:54:54+00:00","SWORD25: Moving Lua one level up

svn-id: r53178
"
"7b964a2823406721ec1200938948c0cfcdb3f1b1","2010-07-29 19:55:03+00:00","SWORD25: Make couple file compilable

svn-id: r53179
"
"65da804f583460739aec3bfe35b70310af1ee5a9","2010-07-29 19:55:28+00:00","SWORD25: Path fixes for includes

svn-id: r53180
"
"e8bca8b8fe0f80e0d5053b190840b034f50ae163","2010-07-30 09:02:39+00:00","SWORD25: Fixed rest of the include paths

svn-id: r53181
"
"69b618a8f5517c609a5e94d9609dc27aea2ad573","2010-07-30 12:19:13+00:00","SWORD25: Compilation fixes

Majority of files now compile under Windoze.

svn-id: r53182
"
"1842de4b0035854f271a40dcaa514cdba66bcf57","2010-10-12 21:54:43+00:00","COMMON: Let --list-targets output all targets in an alphabetical list again.

svn-id: r53183
"
"e78b19a650e27fe9a24d0e4c9c938294c7b08650","2010-07-31 06:23:38+00:00","SWORD25: Converted kernel/kernel.cpp to compile under ScummVM

This commit creates a skeleton detection and engine class, as well as code necessary to call the kernel initiation.
The kernel/kernel.cpp has been converted to compile under ScummVM, along with all dependant header files.

svn-id: r53184
"
"ee24f79ca122a82780f03fdf068d5c271cfe82a5","2010-07-31 07:14:47+00:00","SWORD25: Added and fixed the remaining engine setup/execution/free code

svn-id: r53185
"
"878f5a49f771d9808adad287f217defeee2caf7a","2010-07-31 07:52:54+00:00","SWORD25: Implemented ScummVM version of BS_FileSystemUtil interface

svn-id: r53186
"
"5cad3bcf02c9ac5c7b6edafaab5c1064fd9a3425","2010-07-31 08:34:16+00:00","SWORD25: Converted the Resource Manager

svn-id: r53187
"
"293bf95c01f76c8d812a300eb038854f1246ab3d","2010-07-31 09:53:02+00:00","SWORD25: Replacing headers with ScummVM ones plus original (C)

svn-id: r53188
"
"023b970480924b39c18c18c5183907f047932da9","2010-07-31 10:09:12+00:00","SWORD25: Update detection to modern state

svn-id: r53189
"
"cb35fc3497b0b6999b219badf83f3511f4ec5edc","2010-07-31 10:12:00+00:00","SWORD25: Update GUIO

svn-id: r53190
"
"11b485122c9a64b68fc7073cb2fb3c18b19148b7","2010-07-31 11:09:10+00:00","SWORD25: get rid of custom md5.cpp and Windows-specific debug stuff

All version ID generation is useless for ScummVM as we have our own clear
versions. Thus removing all of that.

svn-id: r53191
"
"6a55700935983efc0d7e9fd37563c14dcc199027","2010-07-31 11:18:20+00:00","SWORD25: Removed leftover include references

svn-id: r53192
"
"bed623b11ef007bb46b26f1f995b6073914383c5","2010-07-31 11:49:39+00:00","SWORD25: Fix compilation

svn-id: r53193
"
"ea29e41b86dd6efad5b044220505ded798b2503e","2010-07-31 13:02:58+00:00","SWORD25: Reimplemented package manager for ScummVM using Common::Archive

svn-id: r53194
"
"2d8e94e4ff71cefb9822732741bc7eb1a9116e07","2010-08-01 01:49:06+00:00","SWORD25: Converted Lua interface classes

svn-id: r53195
"
"2f86c7a45c7c092ee294c056a9b971d2bbf64114","2010-10-12 22:17:00+00:00","SCUMM/FM-TOWNS: start fixing japanese font drawing

svn-id: r53196
"
"53a9d2d0a1dab1119dc1cc12886321fa72743061","2010-08-01 08:31:50+00:00","SWORD25: Converted the math folder files

svn-id: r53197
"
"2006e564a1287ff31c2c6acedecf90034e784fd2","2010-08-01 09:31:36+00:00","SWORD25: Moved the Lua library into it's own namespace

Previously with some of the files I was leaving the #include references to the library inside the global namespace. However, since the engine itself is now inside a namespace, I had to do a lot of changes, such as lua_State to ::lua_State. This way is cleaner, and I just need to add a 'using namespace Lua' where needed.

svn-id: r53198
"
"8061d8cac9934cda24de3da3b2e5ba096b3500b7","2010-10-12 22:18:43+00:00","TOON: Fixed bug #3086025 with bad inventory behavior

Bug #3086025 'TOON: Inventory not working correctly with butter'

svn-id: r53199
"
"56d82aade16bbf23a1321d494068b2b82cffa0cf","2010-08-01 09:43:02+00:00","SWORD25: Converted inputengine.cpp

svn-id: r53200
"
"b9044a6a27dc9f3549047898ea6b88d2c291a420","2010-08-01 09:49:32+00:00","SWORD25: Changing service registration to use replacement ScummVM Package Manager

svn-id: r53201
"
"fab86ba22250c282139fb0c94a250499abdc875f","2010-08-01 11:02:24+00:00","SWORD25: Converted Savegame Load/Save code

In addition to converting the loading/saving of savefiles to use the SaveFileManager interface, also converted the date/time code to use the ScummVM TimeDate structure.

svn-id: r53202
"
"86bef1508c3fb3c21a10e3f35305f6eaf641a33e","2010-08-03 09:47:45+00:00","SWORD25: Converted the input engine to use the ScummVM event manager

svn-id: r53203
"
"f0b1aa92c2dc0a2f6cb7bda6cb903eff9da3a955","2010-08-04 09:57:11+00:00","SWORD25: Mostly converted callbackregistry.cpp

There is still one reference to 'It->second' that I haven't changed to 'It->value'.. if I do it, I start getting errors in ScummVM's hashmap.h, which I'm not sure how to resolve

svn-id: r53204
"
"8533538c8343bedbb22b19b5fef738ac54bd84c3","2010-08-04 10:11:41+00:00","SWORD25: Mostly converted input/inputengine_script.cpp

I have the same problem with this file as inputengine.cpp.. I'm getting errors converting between 'void *' and CommandCallback function pointers.

svn-id: r53205
"
"9b3e26e7a29756848395d7a12928efdb60b8ff21","2010-08-04 14:53:07+00:00","SWORD25: Start for VideoDecoder-compatible Theora player.

svn-id: r53206
"
"1e3b3af5c09ef5b9168436b2276bce612f74c0d2","2010-08-04 21:13:43+00:00","SWORD25: Start of plugging audio to Theora decoder

svn-id: r53207
"
"49ea23c532cb0d8ab6e27d290484a1e2daadb347","2010-08-05 10:16:21+00:00","SWORD25: Fix for void * conversion errors

It turns out that strict C++ doesn't allow function pointers to be converted to void pointers and vice versa. Since there are two callback function pointer types - one with a KEY_COMMANDS enum parameter, and the other with an unsigned char type, I changed all void * occurances to a function pointer type with an 'int' parameter, and changed all implementation methods to take in an int parameter.

svn-id: r53208
"
"6984d24d06226a2124907ad440e9a5dee9a4624a","2010-08-05 10:22:48+00:00","SWORD25: Removed redundant kernel/hashmap.h

This was only used by the callbackregistery file, which is being converted to use the Common::HashMap class

svn-id: r53209
"
"7bc8cd284a0929f67b51dd9ffbd6dd6ce09f0746","2010-08-05 10:46:18+00:00","SWORD25: Fixed string comparisons against pointers rather than contents

svn-id: r53210
"
"ccba0891fdce8e043fbb7cc5e4015590ab8a7b6b","2010-08-05 11:52:13+00:00","SWORD25: Converted further files from old hashmap.h to Common::HashMap

This commit includes a class pointer hash function added in objectregistry.h that should be double-checked to see if it's correct.

svn-id: r53211
"
"6b755174bd45ac0d44052b2eee2609710fabe1fb","2010-08-05 11:57:06+00:00","SWORD25: Fixed some potentially uninitialised variable warnings

svn-id: r53212
"
"eb30ebde2a4e3181bc2ef2daccedfe852aa891e1","2010-08-05 12:16:21+00:00","SWORD25: Finish preliminary implementation of Theora decoder

svn-id: r53213
"
"de0fe1db4939bbb787de60231dd30a7b5391f269","2010-08-05 12:48:19+00:00","SWORD25: Mass-putting of all files in gfx/ into Sword25 namespace

svn-id: r53214
"
"bf53914c2aedbe340be8fb920a5023020d64c101","2010-08-05 13:42:10+00:00","SWORD25: Fix compilation and several warnings

svn-id: r53215
"
"87553862d92d462534cb7a050bf481d9cd1d0d59","2010-08-06 10:50:16+00:00","SWORD25: Converted remainder of Kernel/ folder

svn-id: r53216
"
"c1b5e5acb88201910b07d20819a677ee09e64df4","2010-08-06 10:59:22+00:00","SWORD25: Fix warnings and compilation

svn-id: r53217
"
"6dcf9f0ee557e692df3c70a263ca35068ff45380","2010-08-06 10:59:35+00:00","SWORD25: std::string -> Common::String in gfx/

svn-id: r53218
"
"a17ec87b7dd09e7b251a3f578d1f788917550451","2010-08-06 10:59:50+00:00","SWORD25: Number of compilation and warning fixes

svn-id: r53219
"
"a5819c1e0ac59e7e6f1dec7d2657e06292c546da","2010-08-06 11:20:37+00:00","SWORD25: Converted remainder of package/ folder

svn-id: r53220
"
"ca17def625154e5f758b797e4fc48c76b0566320","2010-08-06 13:07:07+00:00","SWORD25: Fix callbackregistry.h compilation

svn-id: r53221
"
"47904bc7b2992189bb554833f00a79ff0fea9fb8","2010-08-06 13:13:25+00:00","SWORD25: Mass-astyle.

svn-id: r53222
"
"7257ee345b9c71e0aa0677061de0a0466c183cb9","2010-08-06 14:38:08+00:00","SWORD25: More compilation fixes

svn-id: r53223
"
"ab85540a1bb59d7f69b89868805d1fe2a2adc89c","2010-08-07 20:09:40+00:00","SWORD25: More compilation fixes

Now almost everything compiles fine. Several files were tricked
and there are references to tinyxml.h and of course fmod and agg.

OpenGL gfx renderer removed from the project, we need to create
our own from the scratch.

svn-id: r53224
"
"ad5b74c9de1eb3d6eda91e1bf21b24c87a78391e","2010-08-10 12:16:31+00:00","SWORD25: Clean compile!

Under MinGW, with OpenGL and tinyxml.

svn-id: r53225
"
"d50dcb80ad44465745a38ea42bd87db9480db949","2010-08-13 15:24:13+00:00","SWORD25: Linking fixes.

svn-id: r53226
"
"fd40021a722956a3c37119c72b1350acb313574e","2010-08-13 15:24:23+00:00","SWORD25: Started rewriting gfx subsystem

svn-id: r53227
"
"f010c4e2ad16e862a943726014fadb992f0183f4","2010-08-14 19:48:39+00:00","SWORD25: Fix linking

svn-id: r53228
"
"23eace8f7dda2163f2b2aa407e102516b8f9f8ac","2010-08-14 19:49:57+00:00","SWORD25: Next step of graphics code conversion.

Now it does not depend on glsprite library and may even show something

svn-id: r53229
"
"fa224de16f6de5ce29a50769e5fdd9823d5f3bb2","2010-08-14 19:52:01+00:00","SWORD25: Temporarily added tinyxml code

To speedup linking, added the code. It has to be replaced with our
XML parser.

svn-id: r53230
"
"2be2f8331baa585dcfcf143da45116f6465b3303","2010-08-14 19:53:53+00:00","SWORD25: Get rid of glsprites library

svn-id: r53231
"
"9be75f0acccf9ea4aeb2b1fd3c736a1156d28b92","2010-08-14 19:54:29+00:00","SWORD25: Added missing file

svn-id: r53232
"
"5cf67ce36f5ce169249bc3f74e31b02317a0002a","2010-08-14 19:54:58+00:00","SWORD25: Stubbed FMODExSound class

svn-id: r53233
"
"031a2fc88ed9c8df3c1d4eced7969724b9328bc3","2010-08-14 19:55:28+00:00","SWORD25: Final linking fixes. Now it links!

svn-id: r53234
"
"43959cc6bd87cbe59b2d9440c6f819c39cb574fd","2010-08-14 19:55:43+00:00","SWORD25: Turn on debugging by default

svn-id: r53235
"
"72130c284d2f3b2db8d54da96f798806082029f3","2010-08-14 19:56:15+00:00","SWORD25: Fix couple more warnings

svn-id: r53236
"
"3a8e1622af58c997b8d2b716e6d326a16db9e38a","2010-08-14 19:56:45+00:00","SWORD25: Fix conversion bugs in BS_LuaBindhelper::_CreateTable()

svn-id: r53237
"
"c97aee132ad8c09f1f7f595590861dd3a326773b","2010-08-14 19:57:04+00:00","SWORD25: Fix log output.

svn-id: r53238
"
"8977f88834bf5ea70e1f66c14ef535d055bbc1ac","2010-08-14 19:57:27+00:00","SWORD25: started fixing pakage manager

svn-id: r53239
"
"3f69477b44cd6adfd916962f240bef714f522f11","2010-08-14 22:25:56+00:00","SWORD25: Portability fixes. Now compiles and runs under Linux.

svn-id: r53240
"
"4b1b3e5034485b3ffdadaf1a1784a9d8b532c511","2010-08-14 22:26:51+00:00","SWORD25: Better detection entry.

svn-id: r53241
"
"06fc35ffe874b3dad16804f5827b5e5845444889","2010-08-14 22:27:59+00:00","SWORD25: Make Lua package registering more robust.

svn-id: r53242
"
"992c504968303fcd4ccc89007d4ca660b79184c9","2010-08-14 22:29:17+00:00","SWORD25: Further fixes for package manager

svn-id: r53243
"
"fbdbc089e087e8ccdb58cdc4bcc8812385d6c1ba","2010-08-14 22:30:49+00:00","SWORD25: Fix package manager. Now scripts run.

svn-id: r53244
"
"f4024d7d14a0101e88ca2e49d97c0da353a893d9","2010-08-14 22:32:23+00:00","SWORD25: Fix initialization.

svn-id: r53245
"
"eb191e3590823c2d29655fe3aaa77102ca7672cd","2010-08-15 08:13:31+00:00","SWORD25: Fix loading files with relative paths.

svn-id: r53246
"
"28d81a2a1c98dc082c54cf0770d11142910ec208","2010-08-15 08:26:32+00:00","SWORD25: package manager. Style fixes. Cleanup

svn-id: r53247
"
"0cdab788ae651f428d5f6b7e1ee24b26c4814eff","2010-08-15 08:50:03+00:00","SWORD25: Changed signature of FS searching method. Cleanup.

svn-id: r53248
"
"24db2ad73989131227d81c34463ea89cdfb64f6e","2010-08-15 21:12:19+00:00","SWORD25: Implement BS_ScummVMPackageManager::doSearch.

Now all scripts run.

svn-id: r53249
"
"a87dbb4c609780030f2d330bcf1d9937c1440bd6","2010-08-15 21:13:43+00:00","SWORD25: Actually blit images to screen.

svn-id: r53250
"
"a21b148a9b0f6b6d26a7cec996163515efcb7ec3","2010-08-16 15:16:36+00:00","SWORD25: Added possibility to run from extracted game.

Still doesn't start though

svn-id: r53251
"
"f95da5e3ee03ee61b1428c86dca4cc76f36c38bb","2010-08-16 15:16:46+00:00","SWORD25: Made game run with extracted data

svn-id: r53252
"
"b65284078aaa3c1fc3dcc7bebf804d2dc43a8e41","2010-08-16 15:16:53+00:00","SWORD25: Debug output for image blitting

svn-id: r53253
"
"a1d22a063b2a9de47cf3f23cac1cd73777eea321","2010-08-16 20:23:53+00:00","SWORD25: Fix warnings

svn-id: r53254
"
"0a7cdd7128fa440150511ae046a899f4ff3e459b","2010-08-16 21:13:05+00:00","SWORD25: Fix valgrind warning

svn-id: r53255
"
"596684101e3431e61dbeabeb81eee66322e15042","2010-08-17 09:52:50+00:00","SWORD25: Added implementation of rint method

Windows doesn't seem to implement this method; even examples for FMOD I saw had WIN32 defines that manually provided the method.

svn-id: r53256
"
"e71337861ffece83ca8fe254e411557249118d43","2010-08-18 10:52:00+00:00","SWORD25: brought CallBackRegisry class to our naming standards

svn-id: r53257
"
"485ff15d23b3ae9545f5c9df794f1326185eae7a","2010-08-18 10:52:24+00:00","SWORD25: Mass-eliminating of BS_ prefix in fmv/ and gfx/

svn-id: r53258
"
"be44216e5c1d74879d7843215ce1cd3f488b4db8","2010-08-18 12:57:47+00:00","SWORD25: eliminated BS_ prefix in all but kernel/

svn-id: r53259
"
"4c4e821326a3772ad59fee836eabd5175bbb84ca","2010-10-12 22:57:03+00:00","TOON: Fixed bug #3085971 with missing 'fail' sound sfx

Bug #3085971: 'TOON: Missing sfx for invalid Flux request'

svn-id: r53260
"
"b01994a53bbc96da907a4c28934e644184291017","2010-08-18 12:58:22+00:00","SWORD25: removed BS_ prefix from rest of the classes.

The things which are intentionally left with the prefix:
BS_LOG, BS_ASSERT, BS_Rect, BS_String.

svn-id: r53261
"
"3fb0e9383b7da395d2d715c6f1abeb0252cac229","2010-08-18 12:58:45+00:00","SWORD25: Removed last traces of STL

svn-id: r53262
"
"9efd8bac2681d8078b08c0136f450cd7fdd55795","2010-08-19 00:47:59+00:00","SWORD25: Removed now redundant 'using namespace std' lines

svn-id: r53263
"
"018698467143fb2d91c4688db032a883bac8db5c","2010-08-19 00:55:21+00:00","SWORD25: Fixed return value of AppEnd

svn-id: r53264
"
"1d16dfd281b30627ce0ade7c6c2de0cb7e4cc985","2010-08-21 08:20:32+00:00","SWORD25: Refactored engine to remove BS_Rect class

svn-id: r53265
"
"4d678fc3b834d455f29f0f5734d9794969485db3","2010-08-21 08:53:44+00:00","SWORD25: Fix warning

svn-id: r53266
"
"c875856d20f4963f5f20ceb8cf8f71d81b5d6036","2010-08-21 19:25:37+00:00","SWORD25: Implemented script tracing

To turn on traces turn on debugchannel 'script' and then use
debug level as a bitmask:
1 - show function calls
2 - show function exits
3 - show every line

svn-id: r53267
"
"f1e7fb28a0d3a1d38692332322df911959b0020b","2010-08-21 19:25:56+00:00","SWORD25: Fix early engine quit. Now it runs, hurray!

svn-id: r53268
"
"c51f4629cfab692e0e1fc62f0030e4c67cd8d9c5","2010-08-21 19:26:00+00:00","SWORD25: Implement graphics Fill() method

svn-id: r53269
"
"bab1358e51ab1e457f98b5d8f4e8550b2bcfefc0","2010-08-21 19:26:10+00:00","SWORD25: More tweaking to image Blit, doesn't assert anymore.

Though in fact it is all wrong now.

svn-id: r53270
"
"de0b8addc49f80e4e25c7f76e4b4514f52bcc0a3","2010-08-21 19:26:22+00:00","SWORD25: Fix stupid error in Blit(). Now it shows stuff!

svn-id: r53271
"
"fccc44851f68f9153a17fdc886f8e532213a6d5a","2010-08-21 20:17:52+00:00","SWORD25: Attempt to implement alpha blending. Code disabled.

svn-id: r53272
"
"b9efb23e035a617652fa8b0452e38ccf86c14c6e","2010-08-21 21:12:01+00:00","SWORD25: Fix image blitting width.

svn-id: r53273
"
"e9d6fa094eb53b23132093fb9cc46cac7b958a38","2010-08-21 21:17:37+00:00","SWORD25: Fix colors

svn-id: r53274
"
"4d11cf941e75eecb5682ca74cf92f631d3555671","2010-08-21 21:44:44+00:00","SWORD25: Another attempt to implement alpha blending. Looks a bit better.

svn-id: r53275
"
"2c6201683854d3f56c93f3f2ca1f826b1b2f450e","2010-08-22 02:05:31+00:00","SWORD25: Added GetXmlFile helper function

The XML files included with the game don't include an XML header line, which is required by the ScummVM XML parser. This helper function encapsulates the GetFile method to return a buffer that includes the required line at the start.

svn-id: r53276
"
"b294e88f7e89a0b3d89b5d184e1b491eaddff70f","2010-08-22 02:06:18+00:00","SWORD25: Converted FontResource to use ScummVM XML Parser

svn-id: r53277
"
"e7c9014b05995bfbc7b47e145a691b216328e537","2010-08-22 10:34:37+00:00","SWORD25: A bit better alpha blending. Still incorrect

svn-id: r53278
"
"1d6aa4d306ea2836beb303edece95d6d444035d0","2010-08-23 00:29:34+00:00","SWORD25: Fixed memory leak

svn-id: r53279
"
"ee753bf0313e6fadf369b330bb169309cd5a84c6","2010-08-23 00:31:11+00:00","SWORD25: Bugfix so that EVENT_QUIT quits the game

svn-id: r53280
"
"5bd5790e5714403682bd254625c7b1dd9813b65d","2010-08-23 00:32:45+00:00","SWORD25: Converted AnimationResource to use SCUMMVM XMLParser. Removed tinyxml library

svn-id: r53281
"
"cfc8f84c3e648e98b9f6102a27eb16c18b06f6e2","2010-08-23 00:35:50+00:00","SWORD25: Fixed compiler warnings

svn-id: r53282
"
"08237f5d98f47162875ca0d25e3f10d287a3d97e","2010-08-23 01:38:06+00:00","SWORD25: Changed save path missing message to an error() call

svn-id: r53283
"
"73ae6739a586294f8b25ee82b01caaee1bb4563c","2010-08-23 08:40:12+00:00","SWORD25: Finally fix alpha blending.

svn-id: r53284
"
"18e2534b63c4dc6e77f36a5091bd2ff9d3b48900","2010-08-23 08:40:21+00:00","SWORD25: Fix color format

svn-id: r53285
"
"a6d909c07f8a99e826f4a102111736e8198a5925","2010-08-23 08:40:30+00:00","SWORD25: Implement image tinting.

svn-id: r53286
"
"e381bc3c148d2a45e903e71538be393e99143fd2","2010-08-23 08:40:39+00:00","SWORD25: char * -> byte * in image-related operations

svn-id: r53287
"
"1e8b91ef2b94accc1f5d25c334eab8ee05b4bd7a","2010-08-23 08:40:46+00:00","SWORD25: Partially unstubbed FindEmbeddedPNG so it is less noisy

svn-id: r53288
"
"11219f12a694c082d1df73ed670ee6578c3e746c","2010-08-23 10:01:43+00:00","SWORD25: Bugfix to walk path detection

svn-id: r53289
"
"edfd2e6aca1063530058800c0253a05eb2588917","2010-08-23 23:04:08+00:00","SWORD25: Corrected the definition of infinity constant

Previous string of ~(-1) was actually evaluating to 0, which was screwing up the path-finding algorithms

svn-id: r53290
"
"4024caf76839a21413317fbb39510a616b958fa5","2010-08-23 23:34:28+00:00","SWORD25: Bugfix for clipping error causing crash

The CLIP() macro won't work as desired if the max value is less than the min value. Hence the need for the extra MAX() added into the two lines.

svn-id: r53291
"
"deb7dcc8bb26483ea1f0271e04de441a586dd144","2010-08-28 16:02:08+00:00","SWORD25: Fix warnings

svn-id: r53292
"
"7a2142b8d6f545e99900460e5f03a43fb96f5337","2010-08-28 20:58:11+00:00","SWORD25: Fix more warnings

svn-id: r53293
"
"ffce890f66bc34b356c8df89591bc4f56e5a9e4e","2010-08-30 02:20:56+00:00","SWORD25: Bugfix to set _backSurface in alternate GLImage constructor

svn-id: r53294
"
"cb95db7cc04a5a3d14f408835cd371e0a0abd4ed","2010-08-30 07:48:27+00:00","SWORD25: Commit of in-progress MoviePlayer code

Frames aren't being corrected decoded yet; still trying to locate the cause

svn-id: r53295
"
"f71295ab6d6899b21809837b6c6bf317a45193ef","2010-08-31 09:45:15+00:00","Revert 'SWORD25: Commit of in-progress MoviePlayer code'

This reverts commit cb95db7cc04a5a3d14f408835cd371e0a0abd4ed.

svn-id: r53296
"
"384468c0148ede9ae8140b4fd75183368d26ada6","2010-08-31 09:45:21+00:00","SWORD25: Started to hook TheoraDecoder. Crashes at startup.

svn-id: r53297
"
"f06db87a0ee0323ceb5a1e946fa9ed1f8576abca","2010-08-31 18:37:59+00:00","SWORD25: Implement playback. Blitting is TODO.

svn-id: r53298
"
"579d872e96862882d4cf92e82a0e8deb82496020","2010-08-31 21:07:36+00:00","SWORD25: Bugfixes for video playback.

svn-id: r53299
"
"3d3f1db15c50c9b675e29e0a10ee896fd8928445","2010-09-01 07:35:38+00:00","SWORD25: Merge of my pending changes to movie playback

svn-id: r53300
"
"3b80a9378223b807a1ec3865bdeb94ba55d508e3","2010-09-01 08:42:51+00:00","SWORD25: Put back changes accidentally removed in previous merge.

svn-id: r53301
"
"77cfc170755e3a21167a409767c5a8239aa3cde6","2010-09-01 08:42:56+00:00","SWORD25: Formatting fixes

svn-id: r53302
"
"2b2330ce65783a5dd86bc882481e383df501f460","2010-09-01 09:34:05+00:00","SWORD25: Movie playback now works

svn-id: r53303
"
"a5d895473cd6d5c95ed1d17c885ce45e46c2873f","2010-09-01 09:52:51+00:00","SWORD25: Implement image filpping

svn-id: r53304
"
"53ac47b95581d07e147d68c7de962da7bcbb6c6b","2010-09-01 10:03:04+00:00","SWORD25: update makefile with latest changes.

svn-id: r53305
"
"8e5879eac0df543850d14b459a76709f00654d8b","2010-09-02 00:01:44+00:00","SWORD25: Fixed warning

svn-id: r53306
"
"56878b0e62d65aae1b0eba76a2ca2553fbaf1288","2010-09-02 11:51:38+00:00","SWORD25: Got rid of custom typedefs

svn-id: r53307
"
"0cdb2ded85d17150cb108a5d63dd8957c29af2a5","2010-09-02 11:54:44+00:00","SWORD25: unsigned char -> byte

svn-id: r53308
"
"086f5961b6575c50bb386750b6e9a3ed1efdd8cd","2010-09-02 12:14:04+00:00","SWORD25: unsigned int -> uint

svn-id: r53309
"
"06bce68860696f67f0a0ac1e9682635081918801","2010-09-02 17:11:45+00:00","SWORD25: Comply to the code conventions for several classes

svn-id: r53310
"
"99e8337e633e18f31d91e73c4e0a71983124fd77","2010-09-03 21:49:22+00:00","SWORD25: Fix bug in SWF parser

svn-id: r53311
"
"dcf70dc6a66c054c6cb9398ff68a12c38cc4223c","2010-09-03 21:49:28+00:00","SWORD25: Remove redundant colorspace defines and code.

svn-id: r53312
"
"5f83fd19540c3072f50edff0acddf1cb6a072b78","2010-09-03 21:49:33+00:00","SWORD25: Load and parse vector images

Libart is temporary solution.

svn-id: r53313
"
"7032c209a7e8bbd77bc7638f1a173a992bdb5e81","2010-09-03 23:02:00+00:00","SWORD25: Initial code for vector image rendering. Crashes badly.

svn-id: r53314
"
"bd3c4f2ae54d78fe7a37d51a8159f5587810d556","2010-09-03 23:14:34+00:00","SWORD25: Fix crashes with vector renderer. Still no gfx.

svn-id: r53315
"
"1041335d34f2748c303b7a7f1b6c0625e6a5a328","2010-09-04 08:49:49+00:00","SWORD25: partial fix for vector image rendering

svn-id: r53316
"
"feefc111dd5536616149a410d7e06649d8422992","2010-09-04 09:55:51+00:00","SWORD25: code formatting

svn-id: r53317
"
"5f8739209b2cb637348954fd428594658daf2df4","2010-09-04 09:55:54+00:00","SWORD25: Fix pen width for vector images

svn-id: r53318
"
"e844de5141a03692e74c892a35e55f1c9697719a","2010-09-04 22:29:36+00:00","SWORD25: Started rewriting vector renderer into proper one

Previous attempt was all wrong, as it completely incorrectly
interpreted SWF shape data.

svn-id: r53319
"
"5d98d85a091747ed610d01612d3fe1d23d06490b","2010-09-04 23:02:34+00:00","SWORD25: fix line drawing in vector images

svn-id: r53320
"
"a773c7a84268f7b7a7a1f8ecd00e7a14e1ab667c","2010-09-05 08:49:22+00:00","SWORD25: Further attempt to fix vector rendering

svn-id: r53321
"
"7ad20e33378673b7e4c1c3ebcf602c22cdb95e61","2010-09-05 21:15:35+00:00","SWORD25: Further fixes to vector images. Still not finished.

svn-id: r53322
"
"7db8be5d4d10f47d987d90709710142a510016fd","2010-09-05 21:30:00+00:00","SWORD25: bugfix for vector images

svn-id: r53323
"
"b922b58f8d16864e373fbc60451b69e23030f3af","2010-09-06 00:52:18+00:00","SWORD25: Fix for using uninitialised doubles

svn-id: r53324
"
"3fc518cd0c5fa39b17028fda89f5d2645657012d","2010-09-07 05:00:04+00:00","SWORD25: Replaced some free's with delete[]

svn-id: r53325
"
"5d7922d052c93b5536e90c00dd69df61d898a190","2010-09-07 08:47:51+00:00","SWORD25: Fix memory leak

svn-id: r53326
"
"49decb9dc52eae5a43369d274ae2bee6ec43c1fe","2010-09-07 09:03:23+00:00","SWORD25: Another memory leak fix

svn-id: r53327
"
"94f1a8be0393d2f7cfccaa07dc168bea435e61dd","2010-09-07 12:11:00+00:00","SWORD25: Added minimal subset of libart inplace

svn-id: r53328
"
"72dc197885cf9ac0fdacd341adc45e064db1d5ab","2010-09-07 12:16:45+00:00","SWORD25: Fix compilation

svn-id: r53329
"
"795a6110cb8e4409036ebde2815068564037188a","2010-09-07 22:10:12+00:00","SWORD25: Fix warnings

svn-id: r53330
"
"07a8c87efcc5397ad681ae64c499483ad6b8d754","2010-09-07 23:13:44+00:00","SWORD25: Added scaling support

svn-id: r53331
"
"d84400d5074b7c4bf6efe8dc002d75191ff74b67","2010-09-07 23:36:18+00:00","SWORD25: Initialise image data block in constructor

svn-id: r53332
"
"f5a822c34092b1ea6051943f317760f66e590be7","2010-09-07 23:37:44+00:00","SWORD25: Added de-allocation of data on image load error

svn-id: r53333
"
"25bb8b62430732169614a2dbbe39e7076f9ac6b1","2010-09-07 23:47:47+00:00","SWORD25: Compilation fix

svn-id: r53334
"
"1f184fd5a9ad3e43c77b9c49dbf46bb97baa6bc6","2010-09-08 01:36:56+00:00","SWORD25: Memory leak fixes

svn-id: r53335
"
"cbe304c3aefd4b409fc01f4e7d393bf1878a0564","2010-09-08 11:32:05+00:00","SWORD25: Implement transparent bg color for images

svn-id: r53336
"
"30f199a5a449d612e026b3d3a0ccace3a870c40e","2010-09-08 11:45:17+00:00","SWORD25: Fix memory leak in transparency commit

At the point where the alpha value was checked, a scaled image surface may have already been created, which needs to be freed.

svn-id: r53337
"
"e5ac21dcac9a4c18dd5934b4db19b02db06163ca","2010-09-08 14:34:36+00:00","SWORD25: Fix some warnings

svn-id: r53338
"
"af1fcbf71d11ecf1fb4cf8a5e775120d339fa655","2010-09-11 22:40:32+00:00","SWORD25: Major bugfix for vector renderer. Only minor glitches are left

svn-id: r53339
"
"2fce44d3353b57170e36c5e0bb1dcb4408998f16","2010-09-13 20:51:30+00:00","SWORD25: Further fixes for vectorimage rendering

svn-id: r53340
"
"a248e0b3f1918824b762deb9de65727edf71a5c3","2010-09-13 20:53:24+00:00","SWORD25: Fix bug with some vector frames not showing up.

svn-id: r53341
"
"099406e15e4f00ddfb33272046758a0f2ff3fcc1","2010-09-13 20:55:25+00:00","SWORD25: Implement original hack with skipping green lines

svn-id: r53342
"
"0716b8c1bb597e5144b6693f06dc37a5d0b9eb7a","2010-09-13 20:57:14+00:00","SWORD25: Fix vectorimage transparency

svn-id: r53343
"
"61c7cc13b021792d494fb5213cfff0c4d1ad1ad1","2010-09-13 21:13:43+00:00","SWORD25: Fixed debug output in GLImage::blit()

svn-id: r53344
"
"72104f0f0f64786a7e1343cdc6211d752a5d01a2","2010-09-13 21:14:25+00:00","SWORD25: Remove unneeded file

svn-id: r53345
"
"e0cd481d95f23f949def29c25ad4dedd507da133","2010-09-13 21:45:44+00:00","SWORD25: Confirmed correctness of vector images alpha blending

svn-id: r53346
"
"21fe28dbef160ab3ef4ad1c96e6f38b12a0b3ade","2010-09-14 09:03:41+00:00","SWORD25: Fix for blitting images with negative offsets

svn-id: r53347
"
"3e9610c6016e76f55672214896336c419eeff665","2010-09-14 09:28:48+00:00","SWORD25: Fix for path-finding

svn-id: r53348
"
"3fe27789709bbf5bf68a782a26fc11aaf8ca4e68","2010-09-14 09:53:58+00:00","SWORD25: Fix to array reversal, fixing path-finding

svn-id: r53349
"
"cf664780cb860078f4e06684d862ce4a2c981316","2010-09-14 09:54:41+00:00","SWORD25: Bugfix to not draw off-screen images

svn-id: r53350
"
"5c228cea0b5d69e819d0fd48ac7290320d743450","2010-09-14 11:55:31+00:00","SWORD25: Fixes to the savegame saving code

svn-id: r53351
"
"d5ec19960da4825fcb38054e92b6ec6406a9883d","2010-09-14 12:00:26+00:00","SWORD25: Make full transparency check earlier

svn-id: r53352
"
"ccb1644568e2534bc2f67cf7fc8f3a9eff8971e7","2010-09-14 19:26:26+00:00","SWORD25: Got rid of ScummVMPackageManager

svn-id: r53353
"
"c59603ddba0f22d5364da85e7576b0539728d9b5","2010-09-14 19:37:21+00:00","SWORD25: Get rid of ScummVMInput class

svn-id: r53354
"
"1aa907e8151013e8068b08699238b64ef474bd93","2010-09-14 19:39:27+00:00","SWORD25: Remove unnecessary executable flags

svn-id: r53355
"
"69cae2e7dd5f52801093a4ab069924673f6e307c","2010-09-14 19:58:25+00:00","SWORD25: Got rid of OpenGLGfx class

svn-id: r53356
"
"7dfea5ee4d2f0ef5dfd9dec324bd52cc06d058d3","2010-09-14 20:02:33+00:00","SWORD25: Moved glimage and swimage to image/

svn-id: r53357
"
"2b81beea69df4a7e5718bdd6a87b3d62d3b79500","2010-09-14 20:04:35+00:00","SWORD25: Remove opengl/ directory

svn-id: r53358
"
"97164f058c28d4258dfba7a0fccec8b6930e71e4","2010-09-14 20:08:01+00:00","SWORD25: Adjust the paths accordingly

svn-id: r53359
"
"cd453b3d0195f3a95b1df25c24cca0e347a66082","2010-09-14 20:09:41+00:00","SWORD25: Rename glimage.* to renderedimage.*

svn-id: r53360
"
"e975cc057d31f8c2daa422308ff3a6c1891b139c","2010-09-14 20:15:27+00:00","SWORD25: Rename GLImage to RenderedImage

svn-id: r53361
"
"cefa844b51e8e1416cf3a1e0a92a0ebf1660e9e5","2010-09-14 20:15:36+00:00","SWORD25: Rename GLImage to RenderedImage

svn-id: r53362
"
"56aac421eb7846472f73b9b17a65d3e26f0d2c24","2010-09-14 20:15:41+00:00","SWORD25: Rename GLImage to RenderedImage

svn-id: r53363
"
"573dafefbb95924d11d6d869b2236a17c4b56bfd","2010-09-14 21:58:30+00:00","SWORD25: Got rid of FMODExSound class

svn-id: r53364
"
"951549a29884bee204aa3b9d67d7c868cb3bcce8","2010-09-15 12:51:25+00:00","SWORD25: Fix hangup

svn-id: r53365
"
"3e637a8341694e8aa7bce5c5e12b9bc506865b8b","2010-09-15 14:48:53+00:00","SWORD25: Initial work on sound

svn-id: r53366
"
"38d84fd7677ed379c4e46d1fe9b411698301a875","2010-09-17 14:37:27+00:00","SWORD25: Further work on sound.

Have difficulties with understanding how mainmenu sound is stopped.
Currently it is not. Must be some trickery with object creation.

svn-id: r53367
"
"2a918b794aeef5671d6d5ac85fe169c94ef55427","2010-09-17 20:54:43+00:00","SWORD25: Fix warning

svn-id: r53368
"
"017d461b3a1edcd83ba78133cb62cb943f2005c6","2010-09-18 09:43:16+00:00","SWORD25: Fix bug with script debug flags

svn-id: r53369
"
"08ce5575faed22287e3133b07deec12c7739e8fe","2010-09-18 09:43:20+00:00","SWORD25: Put all sound-related debug output under debug flag.

svn-id: r53370
"
"b2003364ff109e1f0170ea87fe379496631f6040","2010-09-18 09:43:23+00:00","SWORD25: Fix freeze with sound code. Now game is really playable.

svn-id: r53371
"
"1e07d9561fc43e1b1c0763d54c3eea4154fff070","2010-09-18 10:03:54+00:00","SWORD25: Add standalone SWF renderer

svn-id: r53372
"
"80521ed5dd279316d0534fc3cc4b61c27d19ef4e","2010-09-19 05:00:45+00:00","SWORD25: Further savegame work, including savegame screenshots

This handles saving (but not yet re-loaded display) of screenshots into savegame files. It also changes the original engine behaviour of temporarily saving the screenshots in a file 'tmp.png' to keeping the raw PNG file data in a memory block.

svn-id: r53373
"
"3e84d4fe73ac36bcfb36bbe8a26ce99ab71e92db","2010-09-20 09:38:53+00:00","SWORD25: Implemented thumbnail loading for savegame list

svn-id: r53374
"
"7c1b37e150e154a8259e8bc820c6af3ae2a5e7c9","2010-09-20 13:34:12+00:00","SWORD25: Fix transparency effects

svn-id: r53375
"
"d7c6d615bbf62db0fcf62572d2e25ae8351325fc","2010-09-25 19:48:01+00:00","SWORD25: Fixed vector renderer. Yay!

svn-id: r53376
"
"2143afde6cfd3ee3f068861589fd45212ef755de","2010-09-25 19:48:05+00:00","SWORD25: Add support for language patch

svn-id: r53377
"
"f85139bbfa3b4e7032c22466c1f4b76e67c36175","2010-09-25 19:48:12+00:00","SWORD25: Remove redundant code

svn-id: r53378
"
"736ae4c07aa33589a5f9651643d7af07b5d0a877","2010-09-25 19:48:16+00:00","SWORD25: Return proper path separator

svn-id: r53379
"
"8582c1ad5770b6385381f524a4610934d115cd88","2010-09-25 19:48:26+00:00","SWORD25: Enforse code naming conventions in PackageManager and Sword25Engine

svn-id: r53380
"
"1855cee5e37009e51f3c319aba5888ca57061cb8","2010-09-25 19:48:29+00:00","SWORD25: Loading >200kb file in memory is no more ugly

svn-id: r53381
"
"5790f2a8a1e7fdf8c891316c47e7ccea4ca8c015","2010-09-25 19:48:38+00:00","SWORD25: Add proper copyrights to gfx/image/art*

svn-id: r53382
"
"91d1d9eb093067628837fb596d8eb4139a814624","2010-09-25 19:48:41+00:00","SWORD25: Fix startup

svn-id: r53383
"
"0603a5884577c13f40c91de1ef67dbf245f48df5","2010-09-25 19:48:50+00:00","SWORD25: Merged all art* code and cleaned it up

svn-id: r53384
"
"56e05f93a38576b32d77f81cb7b43b5970f87d92","2010-09-25 19:48:56+00:00","SWORD25: Stop polluting global namespace

svn-id: r53385
"
"343981923291581b3c4890ea99961a1bf2e7c56e","2010-09-25 19:49:02+00:00","SWORD25: Add path to art.h include

svn-id: r53386
"
"7bcfe1f195671057ecb028e3bf353f475cebb379","2010-09-25 19:50:04+00:00","SWORD25: Remove standalone SWF rendering tool

svn-id: r53387
"
"bf22def884986e4bd5bec2b42dea7f91b5417ccc","2010-09-29 10:40:06+00:00","SWORD25: Enforce code naming conventions in fmv/*

svn-id: r53388
"
"9a5415e6f9c95f61a4eaf5955ee4e36221e9ec77","2010-10-03 13:25:04+00:00","SWORD25: Remove custom .c builiding rules

svn-id: r53389
"
"1e15d8efb73503d9f613cc60023771b0c11f0dd6","2010-10-03 13:25:11+00:00","SWORD25: Enforced code naming conventions in sfx/ and reservice.h

svn-id: r53390
"
"54ccc8f4c906cd4f84c955581c0368886a7a9c78","2010-10-03 13:25:22+00:00","SWORD25: Enforced code naming conventions in script/*

svn-id: r53391
"
"063cb5d84ca5846ac0eff9388759a9b6662e764f","2010-10-03 13:25:36+00:00","SWORD25: Enforced code naming conventions in math/*

svn-id: r53392
"
"eb66750137c1f32276ed4d66512deca2ee6aae93","2010-10-12 19:38:40+00:00","SWORD25: Enforce code naming conventions in gfx/animation*

svn-id: r53393
"
"3b81a9489eabad1faa6c67bb0d5685d7a3eb0386","2010-10-13 00:48:40+00:00","SOUND: Allow TiMidity support to be disabled via configure.

svn-id: r53395
"
"e9f50882ea5b6beeefa994040be9d3bab6a1f107","2010-10-13 00:53:53+00:00","SOUND: Add info about TiMidity support in about dialog.

svn-id: r53396
"
"75e8452b6e6a2bf4fb2f588aa00b428a60d873b5","2010-10-13 03:57:44+00:00","OPENGL: Merged from trunk, from rev 52105 to 53396.

This includes an rather hacky attempt to merge all the recent gp2x backend
changes into the branch. I suppose the gp2x backend and probably all new
backends, i.e. gph, dingux etc., might not compile anymore.

Since I have no way of testing those it would be nice if porters could look
into getting those up to speed in this branch.

svn-id: r53399
"
"a2b96a2516cd87203b22f7496a8d5a6b65749da3","2010-10-13 15:42:16+00:00","OPENGL: Replace SdlEventManager by SdlEventSource.

Formerly SdlEventManager was a subclass of DefaultEventManager but did not
really have anything in common with the idea of our EventManager interface.
Now I made a new object SdlEventSource which only subclasses EventSource
and which is responsible for obtaining events from SDL (and processing them).

svn-id: r53433
"
"1769b520aaf066bb8298c8e2f9d089fb69cf0c02","2010-10-13 15:42:33+00:00","OPENGL: Cleanup.

svn-id: r53434
"
"34302765caecabf21cc884de95805b3e1d8f8ea1","2010-10-13 15:42:53+00:00","OPENGL: Get rid of one ugly cast.

svn-id: r53435
"
"54f559dc516d8de6ec916176ece4988f55f25d32","2010-10-13 15:43:08+00:00","OPENGL: Cleanup.

svn-id: r53436
"
"f08b144c5a3c071cefb8f7b9f3b99d151337384d","2010-10-13 17:58:48+00:00","OPENGL: More cleanup.

svn-id: r53441
"
"b713beed189b439853be50fa330d06b3275f9713","2010-10-21 18:13:13+00:00","OPENGL: Add an SdlEventSource member to OSystem_SDL instead of subclassing SdlEventSource.

Derived backends are allowed to overwrite that member in case they need special
handling of SDL events.

svn-id: r53675
"
"74a53df11b51fa4956745c086b2e6351b8383568","2010-10-23 09:30:26+00:00","DINGUX: fix compilation for the opengl branch

Moved events related code to backends/events/dinguxsdl/*
and move graphics related code to backends/graphics/dinguxsdl/*
Subclass OSystem_POSIX instead of OSystem_SDL

svn-id: r53730
"
