"commit id","commit date","commit message"
"5f64e44b584e2c55544b6f68a73ffa5e50339194","2014-07-02 14:19:02+02:00","Initial commit
"
"b711097570e548cf45162a79d908cdc45f068762","2014-07-02 14:20:43+02:00","A skeleton app using a content provider.
"
"54a591acb384b6156e74f07eb751d3cb339aae5d","2014-07-04 10:14:51+02:00","Add a ContentProvider to get Galaxy Zoo items via REST.

The ContentProvider has a method to explicitly request more items.
"
"b1c3a565110f228687ec4f9e4acc08461f395e8d","2014-07-04 11:10:08+02:00","Parse GalaxyZoo subjects rather than classifications.
"
"baac99a6dbf542e3b0ecccfeeb80b4b5306a0b8c","2014-07-04 12:05:19+02:00","Cache the three image files from the REST server.
"
"8d3f5c80186ef7ca99aff5ac4af8763c343ec605","2014-07-04 22:01:58+02:00","Show the thumbnails in the list view.

Using a ListView row layout defined in XML.
"
"7d2e0765f5d25f0aa1bfc0e4a22f724edbd6f9cc","2014-07-04 22:13:46+02:00","ItemsContentProvier: Avoid adding duplicates.
"
"988a1de8b245210f0a07c8ab6d910cce8bc44d5c","2014-07-04 22:49:12+02:00","DetailFragment: Take the _ID, not the subject Id.
"
"78289e0b18d88e96701d506668d4c05c36d3523f","2014-07-05 22:07:13+02:00","ListCursorAdaptor: Move image-filling code to UiUtils.
"
"89efc65fc6151955cfd3e05d6e03e2a758614ed0","2014-07-05 22:07:30+02:00","DetailFragment: Show the image.
"
"d3ed9c95503f3097e9bd65d7509f5266de5e1e18","2014-07-05 22:11:51+02:00","ItemsContentProvider: Add done and skipped columns, for later use.
"
"df1e798691ceb38055c136dd03e1ac0278d2f257","2014-07-05 22:41:39+02:00","DetailActivty: Show a next available item if non is specified.
"
"d7d9f14b311ecab2a028f08e385783df1f0e1781","2014-07-05 22:53:07+02:00","ListFragment: Add a 'Next' action bar menu item.
"
"887d34742fe7d5fc2e45c1f976113cd57bfddd72","2014-07-05 22:53:22+02:00","ItemsContentProvider: Default 'boolean' columns to 0.

Because otherwise != 1 doesn't give us the records that have no value (null).
"
"ba30f96dcab5adb4a8612af8162884acfee64edd","2014-07-24 12:23:32+02:00","Provider: Query the /groups URI, not the recents URI.
"
"ccebdf40f76f9f04b4e32de8515bf010bba1b718","2014-07-24 12:24:05+02:00","build.gradle: A change suggested by android-lint.
"
"0271905c10520fde70ac0a4358aea827ba3f6161","2014-07-24 12:27:19+02:00","ListFragment: onListItemClick(): Get the correct item.

The -1 is only needed when we have a ListView header.
"
"a6705cca7daa3f03b77766c703cadfcf12902f7d","2014-07-25 10:57:20+02:00","Remove some unused code.
"
"6f8e54b8910dedeede452c58f80656332304e9c4","2014-07-25 11:40:45+02:00","ListFragment: Change from a ListView to a GridView.

So we can show more, and not bother showing the boring Subject ID.
"
"c5449ded8b051e2941691a0a9620d89f51c4a132","2014-07-25 11:44:04+02:00","ListFragment: Remove some traces of ListView.
"
"7c488655262c7f1d537b58d9c8ddf8881af45492","2014-07-29 10:35:35+02:00","Layout XML: Remove some markup that android-lint says is useless/invalid.
"
"c8746fcad8a36155a918894ed87dba22a9217931","2014-07-29 10:37:16+02:00","Remove unnecessary imports.
"
"808bd265fe88799cc9386ac000c72c36e92c7d49","2014-07-31 09:14:27+02:00","ContentProviderTest: Update this for recent changes.
"
"8bb33df897c48fcd5705dc71f4b12f88333cd5d3","2014-07-30 20:59:12+02:00","Add an XML version of Galaxy-Zoo's sloan_tree.coffee.
"
"bce67914a6c5e7c81ca858a0804dafb48c23a707","2014-07-31 09:13:06+02:00","Add a DecisionTree XML parser and a test for it.
"
"7d4aff9bc4d6ba8666c953e38d72b30ab4bf13d4","2014-07-31 12:59:21+02:00","Add Singleton to share the DecisionTree and other stuff.
"
"c40f36c0fac8f183edad9a230b0c6dc650393722","2014-07-31 13:31:43+02:00","Fix a comment.
"
"c35400decf1ee9eeff92d8e772e521734ccf5582","2014-07-31 21:26:18+02:00","Add a ClassifyActivity with a fragment that nests a subject and question fragment.

Also put the XML decision tree in assets/ rather than resources/.
"
"2159d7f1d79d2f7799c582611b1843a921cef641","2014-08-01 09:55:12+02:00","ClassifyFragment: Add a Classification data structure.

To be used later.
"
"9a5a94271cef8856392346ee1670f9f0b5c17471","2014-08-01 09:58:21+02:00","ClassifyFragment, DetailFragment: Remove unused cursor loader.
"
"f5c1ab36c5405da9588fecc5c1d244701f3e11ec","2014-08-01 09:59:21+02:00","Remove duplicate ARG_ITEM_ID constant.
"
"471bbf1ce57288c38e6cf2d747bb7ba73105f784","2014-08-01 10:17:00+02:00","DecisionTree: Also read the question title.
"
"879f7381b3b1c880f2bc900cda2be8575cf5ae0d","2014-08-01 10:23:13+02:00","QuestionFragment: Show the title too.
"
"abd272b338bd94997708e1d04cf847a84df8e331","2014-08-01 11:44:40+02:00","QuestionFragment: Dynamically add answers and respond by showing the next question.
"
"7e62a9c8703f41b4056b5f7ec3be3d2c46b507d1","2014-08-01 21:45:27+02:00","QuestionFragment: Store the answers in a Classification object.
"
"38fcd0a2404f253f52f4c70c06382d4392a76cab","2014-08-01 21:55:06+02:00","ItemsContentProvider: Group db column names by table with inner classes.
"
"fe132c37588f1c26fcbe5e760879baab417e8c22","2014-08-02 19:56:28+02:00","ItemsContentProvider: Add tables, and URIs, for classifications and classification answers.
"
"d1002bbfb3389ca1c833c926bc800846d29309e4","2014-08-02 21:03:40+02:00","Item: Rename the uri columns to match the internal db column names.

This works around the lack of mapping when query()ing with null to
mean all columns, for now.
"
"406e179d776fc74b9143557699332edcbd86a6da","2014-08-02 21:26:12+02:00","ItemsContentProvider: Implement insert() properly for all URIs.
"
"11950c87b410aabfdd58a3ece78d81d1ab4505aa","2014-08-02 21:35:35+02:00","ItemsContentProvider: Improve the update() implementation.

Avoid copy/pasting by using a helper method and actually map the
column names.
"
"df82970fba37220ca9d04bdab7e6425a276c7628","2014-08-03 13:51:51+02:00","ItemsContentProvider, ClassificationAnswer: Add Classification ID too.
"
"fc5ef9f958987707a074b46c68eaf3246d61f9ce","2014-08-03 16:43:51+02:00","ListFragment: Overlay 'Done' if the item has been classified already.

This is not pretty, but it shows when the system is working.
"
"a3dfaf82fbc1608343cf703d79b42852c5d036a3","2014-08-03 16:44:32+02:00","QuestionFragment/ItemsContentProvider: Store the classification.
"
"29937fded6d707b093f0512f946f91d7c5ccf18d","2014-08-03 16:47:16+02:00","Fix some incorrect (copy/pasted) copyright lines.
"
"694ebe0d39c47c8d88c6ad67eb318a1ad85bad2d","2014-08-03 17:07:02+02:00","Remove some irrelevant comments.
"
"2bc51e8fd0a17aafb734fb5b244be61f16be3713","2014-08-03 20:00:20+02:00","ClassifyFragment: Get the actual ID when getting the 'next' item.

Otherwise we will try to use the special next ID when inserting our
classification.
"
"1241c025d778693918d6212038c3ca4798255945","2014-08-03 20:01:29+02:00","QuestionFragment: Close the activity after the last question.
"
"961b45453dd1372fff1284a4ed489dcc8c0eba2f","2014-08-03 20:52:56+02:00","QuestionFragment: Open the talk.galaxy.org URI if the user wants it.

This hard-codes the question ID of the 'Would you like to discuss this object?'
question. See the TODO comment in the code.
"
"525ee3b4d67eb2305bba84ab625c37f608000167","2014-08-03 21:08:01+02:00","DecisionTree: Correct the hard-coded first question ID.
"
"28f11bc5928cd1e007be46a76fee65cf18e1f54d","2014-08-03 21:24:37+02:00","Update a comment.
"
"fc2c845ae5db2054789716f85c04b0797f46ad25","2014-08-03 21:56:29+02:00","sloan_tree.xml: Regenerate from murrayc_tree_exporter.coffee
"
"59ba03f23cbd81811c9dccfbc0347dc197accaf8","2014-08-04 10:27:38+02:00","DecisionTree: Load the checkbox nodes.
"
"590fc96740938f2fdaf888db5817ef9334e07bdc","2014-08-04 13:41:30+02:00","QuestionFragment: Show ToggleButtons for multi-choice checkboxes.

Each answer could have multiple checkboxes selected.
"
"a6b9e612adf3ac9620c409d4b9fd5886ee65af33","2014-08-04 13:50:06+02:00","Fix a typo.
"
"7da10a5d7eb12498ecb08f12ad0fc337f56d807d","2014-08-04 14:13:39+02:00","ItemsContentProvider: Support ClassificationCheckboxes too.

This is an example of how tedious a ContentProvider implementation can be.
Maybe some of this copy/pasting can be reduced.
"
"85e9fb94a8269a7d87aeec1d1b2f093df8d37f7f","2014-08-04 14:42:07+02:00","ClassifyFragment, SubjectFragment: Add checks for empty Cursors.
"
"fdedaba0e4de12ddc8bfea17c3e0b4c057c85e07","2014-08-04 14:45:58+02:00","QuestionFragment: Save the checkbox selections too.
"
"caf872b923e0674f2d438e75f8fc79b2b64bffd0","2014-08-04 15:03:28+02:00","GalaxyZooResponseHandler, UriRequestTask: Log a clue when the server is down.
"
"be8eb5f8b46ad29d60643786e281570228bf0b11","2014-08-04 15:18:25+02:00","UriRequestTask: Make the use of the handler result a bit more generic.
"
"a711c22d1f404c273d182f25c92d680622485f1b","2014-08-04 15:20:43+02:00","Fix typo
"
"cc228329ca31dc381ec66f89b8f2741f7073411b","2014-08-04 15:26:01+02:00","ItemsContentProvider: newQueryTask() simplify.
"
"6949e72d52509b07a9c2654051b3b71cdd46d5dc","2014-08-04 17:26:25+02:00","ItmsContentProvider, QuestionFragment: Simplify.

Remove the unncessary intermediate Classifications table.
"
"20f13d0bfdea64577abbc6c389b8b55d410b1bb9","2014-08-04 20:31:47+02:00","QuestionFragment: Add some null checks.
"
"13a73d31b070cb531a18311077a8a8158739c430","2014-08-04 20:34:41+02:00","ItemsContentProvider: Add code to POST the classification to the server.

Along with a method call to start the uploading, just to excercise it for now.
This is not complete and it is not yet using the zooniverse server's URI.
"
"4b8f22b406bbfbe48118008cbaa13971e7375404","2014-08-04 20:35:49+02:00","ListFragment: Add an Upload button to test the POSTing code.
"
"4647261ba6543acde08b54e0f4bdecf11655258e","2014-08-04 20:40:44+02:00","QuestionFragment: Save the sequence number too.

These are in the POSTed message parameters, and they might be
important.
"
"7fd0054436ddeb7d0cf22f4dfa832a67c4c5848c","2014-08-04 20:43:52+02:00","ItemsContentProvider: newPostTask: Get the answers in sequence order.
"
"a2834b0b94634a9680694f87437a59199bcc1a41","2014-08-04 21:12:48+02:00","QuestionFragment: Fix a typo to really save the checkbox selections.
"
"066074d6fe6a1b441c69b0e4c6f3b8672ca6fdaa","2014-08-04 21:13:06+02:00","ItemsContentProvider: Add the checkbox selections to the POST too.

However, HttpParams.setParameter() does not support multiple parameters
with the same name, as expected by the Galaxy-Zoo server. For instance:
classification[annotations][9][sloan-6]=a-0
classification[annotations][9][sloan-6]=x-2
classification[annotations][9][sloan-6]=x-3
if the user selected two checkboxes (x-2) and (x-3) for the
'Is there anything Odd?'question and then clicked Done (a-0).
"
"1a541f3f4d4f4aab2d5e84bdb0b01956f7f86b8c","2014-08-04 21:25:22+02:00","ItemsContentProvider: newPostTask(): Use setEntity() instead of setParameter().

This allows multiple parameters with the same name.
"
"7f49a0cb4ba952f164622d4f245d34ef88bd43e6","2014-08-05 18:08:24+02:00","ItemsContentProvider: Move URI constants into Config class.
"
"3292710309fcf031e8b88a980a83b4759262aa76","2014-08-05 19:58:12+02:00","Convert some class fields into local variables.
"
"c373b4fb66bc1f34dedb8096d299a2be3f49febc","2014-08-05 19:58:57+02:00","ClassifyFragment: Remove getUserId() because it is already in the base class.

And it is not used yet anyway.
"
"e25f4b33f80713b56dc84328594346535444326d","2014-08-05 19:59:27+02:00","ItemActivity: Avoid an android-lint warning.
"
"93d939cc2ddd56f083a097957044ca33112024dd","2014-08-05 19:59:52+02:00","Layout XML: Some slight corrections.
"
"ee0827647412d013c71d106c7cc0e61623a3500b","2014-08-05 20:01:47+02:00","Use some Java 7 syntax to simplify catch blocks.
"
"baa9aefbd31f683f308f38105f166821b1bf3225","2014-08-05 20:02:45+02:00","Use some Java 7 syntax to simplify new with ArrayList<>.
"
"6d866c91914f51199b44e6a2f77accf3a51b8bcf","2014-08-05 20:03:35+02:00","Remove unnecessary imports.
"
"810cd991694f81a59d593436b86dc16221a8c578","2014-08-05 20:07:11+02:00","Layout XML: Remove some invalid parameters, according to android-lint.
"
"abd7d294b1a31289bf43bf3c10430b1dc5ce7ec4","2014-08-05 20:55:46+02:00","ItemsContentProvider: Add a login method and parse the JSON result.

It seems to work. We just need to ask the user and store the
resulting name and api_key for use when uploading classifications.
"
"01cc24ff6572e422f0e2a47163db552632f1a6be","2014-08-05 21:28:32+02:00","Add a fairly-standard Login Activity.

It is based on the New->Activity->Login template, with the email
text box changed to a username textbox. Therefore I could also remove
the code to fill the autosuggestion list from the email addresses in
contacts.
"
"ad0371c7894674db5f6916b304c952475f19d43d","2014-08-05 22:40:09+02:00","ItemsContentProvider: Login method: Take the username and password in the extras bundle.
"
"e1ee2c6d766c334296e62840a9a4e9291abfb3a8","2014-08-05 22:40:30+02:00","ListFragment, LoginActivity: Show the Login activity and use the input.

We still don't check for the result in the activity, or use it in the
content provider.
"
"21492e949051f93044e59d5335e9f0c7586a30f6","2014-08-05 22:45:06+02:00","Move another hard-coded URL to the Config class.
"
"aeade2894e42ed66649f75047adb1ec40a2a3647","2014-08-06 22:17:39+02:00","ItemsContentProvider: Use AsyncTasks instead of Thread and custom UriRequestTask.

AsyncTask has a (tested, standard, safe) way to get a result back to our main
thread, and seems fine to use for something that will take just a couple of
seconds, though the AsyncTask documentation says that it should not be used
for something that takes longer than a few seconds.
The Thread+UriRequestTask idea was from O'Reilly's Programming Android
(2nd Edition) book, in its 'A Content Provider as a Facade for a RESTful Web
Service' chapter, but I see no reasoning there for not just using an
AsyncTask.
Maybe this would make it harder to cancel existing identical requests, but
that doesn't seem like a problem we have here.
"
"7438b80d0bd673ec60a5798800ad632adc360431","2014-08-07 09:51:32+02:00","ItemsContentProvider: After login, save name and api_key in SharedPreferences.
"
"cd62158124e2bf0a02ac6519946e082d8dabefc0","2014-08-07 10:48:38+02:00","ItemsContentProvider: Use a Boolean result for some ResponseHandlers.

This simplifies things and adds some static type safety.
"
"b1ff6807b9332d84b250a8e9d90a62161baffb25","2014-08-07 10:49:19+02:00","ItemsContentProvider: Upload: Pass the name and api_key as authentication.
"
"1bfce51c1163528cfc395bdc5a0ce88c4ce30163","2014-08-07 13:22:20+02:00","ItemsContentProvider: PostAsyncTask: Add the Authorization header.

However, when we add this to the request, we see
CircularRedirectException exception. We don't when we don't add this
header.
"
"fd1b64ee3835fcd477500e2fc44d6885e0e91503","2014-08-07 13:34:17+02:00","Add a comment.
"
"33e4b06019b337606db92f83c8128f93a2fe19b8","2014-08-07 13:36:17+02:00","ItemsContentProvider Remove unnecessary onProgressUpdate() overrides.
"
"42c0b2d6cf87a21330a80e695c3e0229bf0e23d8","2014-08-07 13:39:05+02:00","ItemsContentProvider: Rename PostAsyncTask to UploadAsyncTask.
"
"4cd43d8d501a052df6a29446b4771af4e5f792eb","2014-08-07 13:40:01+02:00","Fix a typo.
"
"e3f07f4b33f1c86d259e7fa09e5969771223ee74","2014-08-07 17:04:32+02:00","ItemsContentProvider: Remove the SKIPPED column.

The regular Galaxy-Zoo UI does not allow skipping so we shouldn't
either.
"
"875912b30bc1304493e83fa3db1bedcf54b5c731","2014-08-07 17:10:03+02:00","QuestionFragment: Add some error checking.
"
"7b3c6da73918cc33a3ea6cb4a116367349ce06a8","2014-08-07 17:18:10+02:00","ItemsContentProvider: Get more items when necessary.

This was a regression after the change to use AsyncTask.
"
"6a5fb2c5536d3d667406b89796609681c85ec412","2014-08-07 20:11:21+02:00","Fragments: Use restartLoader() instead of initLoader().

This will let us get new data from the query, for instance to get the new
'next' item.
"
"8c004d0594d6d9ff959ea59926b5426aab1681c9","2014-08-07 20:12:19+02:00","QuestionFragment: onAnswerButtonClicked(): Reset the question ID to null too.
"
"23c401e4a67ea3eefcc1c407c8c2c50bfdb0f519","2014-08-07 20:13:58+02:00","ClassifyFragment: addChildFragments(): Change to addOrUpdateChildFragments().

And update existing fragments if they have already been added.
"
"1c2d7dfb0f4a083721de915584232f5c243ebe2e","2014-08-07 20:14:55+02:00","QuestionFragment: Let ClassifyActivity show the next item when finished.

Add a callback that ClassifyActivity must implement, as a parent of
QuestionFragment. Then set the ID to the 'next' again, and update
the fragment, instead of just closing the activity.
"
"0fa1745b391df2fc666cb22a795b710ba4d5d7a5","2014-08-07 20:43:01+02:00","ClassifyActivity: Make this the default activity, and remove the Up button.
"
"9071cf2ff87265b6f95c8b2126a3af26d40b6708","2014-08-07 20:44:21+02:00","ItemFragment: Give this a menu too.

This lets us get to the list, for instance, which is useful for debugging.
"
"7e5fa4327f1cc918c9858ecd54251d5f228e008f","2014-08-07 21:05:35+02:00","ClassifyFragment: Really give this a menu.
"
"efd80dbeddec19c8e6a1a4d0a43fff0e3687bd03","2014-08-07 21:04:44+02:00","Remove useless DetailActivity and DetailFragment.
"
"5897e3a32aad8a022e681ee68f4508665eabba2e","2014-08-07 22:26:42+02:00","QuestionFragment: Pass the questionId to the handler.

Otherwise, it seems that this.getQuestionId() can be changed,
when we switch to the next subject, between the button being
pressed and the handler being called.
"
"6d5d7b3283d3dcfeb0d3e9b36c793723d7a8e4fa","2014-08-07 22:28:13+02:00","GalaxyZooResponseHandler: Avoid incorrect error in log about no JSON objects being parsed.
"
"6b9b070abf96279883dfcdfba51bc45c726f8dd9","2014-08-07 22:59:18+02:00","ItemsContentProvider: Return the Subjects from the ResponseHandler.

Instead of calling addSubject() from the response handler, which would need to be synchronized,
because the response handler runs in a different thread. This might be why the images
(standard, inverted, thumbnail) were getting mixed up sometimes.
"
"a3155237e409e81876763b0b8571bbc244cf2f62","2014-08-08 09:27:36+02:00","UiUtils: fillImageViewFromContentUri(): Add a null check.
"
"d4452d1fa1636ac5a39ebd4e74034e46c5153667","2014-08-08 09:32:01+02:00","ItemsContentProvider: cacheUriToFile: Use the correct response handler.

This must have been a refactoring error.
"
"981aecd65287aca2389a5642d0fc37a3fa00989d","2014-08-08 09:47:37+02:00","ItemsContentProvider: Download image data immediately when necessary.

When we are smarter about getting it in advance then this should not
happen anyway. But at first use, we need to get some data as soon
as possible.
"
"59a7cb274d50ccecfd02d260a1d95889f6432308","2014-08-08 09:50:22+02:00","Fix the build.
"
"3a73b67cad1577e84f3ab4c4995471819e61dc4f","2014-08-08 09:51:09+02:00","Fix a typo.
"
"49eef6b117a09271ca0a7db331e14f072af5e830","2014-08-08 09:55:26+02:00","Add some TODO comments.
"
