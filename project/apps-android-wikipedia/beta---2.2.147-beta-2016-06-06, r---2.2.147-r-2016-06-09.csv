"commit id","commit date","commit message"
"ae78d7152823bcd33afdc864a49370e052524116","2016-05-24 20:51:28+00:00","Merge 'Upgrade Gradle to v2.13'
"
"178e466e3d3a538326cdd2314a466848cfa11bc5","2016-05-24 21:15:42+00:00","Merge 'Hygiene: replace error logging with crash on beta'
"
"a803035901b6ad423848294bbadddce903847937","2016-05-25 15:15:01-06:00","Hygiene: override return type instead of casting

No functional changes intended.

Change-Id: Iee10d5a5ea0061edde12ba438f31cc16891a7d42
"
"c69d562468b75b776695e5a99877ac15069717bc","2016-05-25 16:03:37-06:00","Hygiene: replace deprecated method

Change-Id: I9c2ead8a2d4488627feaf69ff25a4b2e6050b42f
"
"efd1f908cd9d9838ec5612544b6ad0b006c5daca","2016-05-26 14:09:28+00:00","Merge 'Hygiene: replace deprecated method'
"
"cda79b4a2c61ffcee97e0f394f810dabc05f78f3","2016-05-26 11:06:13-04:00","Close nav menu as soon as Random is tapped.

Bug: T135448
Change-Id: Ic5467be50abd4fc38957c0a2dc38463127fade10
"
"2abc1459f45699115ec8ebbff02bc04b9853d3a7","2016-05-19 16:42:57-06:00","Add Feed Activity, Fragment, & card aggregator UI

• Add FeedActivity and wire it to the nav drawer. An Activity is used
to help enforce separation of concerns. It's sparse and may be removed
for a pure View or Fragment implementation at any time.

• Add bare bones FeedFragment with a FeedView and a button to add
dummy cards.

• Add supporting components (a couple placeholders and
AutoFitRecyclerView).

Bug: T129078
Change-Id: Icd6f10097d6b32f40f27b1409ead4ec803acb7ea
"
"e86558a936d6a238d7990eb650cb13835bb2d5c0","2016-05-26 17:09:21+00:00","Merge 'Close nav menu as soon as Random is tapped.'
"
"f924a63132076728d39cfacc851115cf552e06ea","2016-05-25 13:59:49-06:00","Centralize SimpleDraweeView style

• Move some common SimpleDraweeView attributes to a style.

• Side effect fix for transparent images in link previews missing a
background.

• Added captcha loading and error checkerboard placeholder.

Bug: T130158
Change-Id: I7fac6745f243c44144e5ae816b3802448718cb53
"
"c276548d8f428d83de978c7d88fe818c2742e7a5","2016-05-27 12:24:16-04:00","Improve some i18n documentation.

As requested:

Bug: T135316
Bug: T136293
Bug: T136296
Change-Id: If2318751983a9b85fdf9dc4e1ef70d79b07acb6f
"
"61ac353904ba1fa892888b70bd1ce32967ad2455","2015-03-17 22:07:37-06:00","Add Talk link at bottom of page

Opens the talk page from the link in external browser.

Change-Id: I39e5b18d5c96def6b9ac41a0fead92eeddf22712
(cherry picked from commit 89069e7df9d31dacf32c7d5b967a526121fa4a43)
"
"e40e4b1bd14c35b9850d80c0d06a235e5162e98d","2016-05-31 09:37:36-04:00","Hygiene: replace several more drawables with vectors.

Change-Id: Ie7a0d6a14f501edc5c17cfbb7abdecd2d805095f
"
"efa981e2878d78d11c496941cb4cc3f1ba130c7e","2016-05-31 17:26:14+02:00","Localisation updates from https://translatewiki.net.

Change-Id: I8e2fe688cf53a119c293e5e52b0033a82ed302da
"
"d6823a1299c1a0dd407cd0c64a0234f13809489e","2016-05-31 15:43:59+00:00","Merge 'Localisation updates from https://translatewiki.net.'
"
"f8a67bad5bf2bbd817b0dc665e0de8c13abd9577","2016-06-02 10:02:41-04:00","Make the message text in developer settings dialogs be highlightable.

When modifying developer settings, such as the RestBase URI format, we
show a message with a 'hint' of what the setting should be. Since the hint
is relatively long, and contains many special characters, it's beneficial
to allow long-pressing of the text to highlight it and copy it into the
EditText field, and simply modify the pasted text.

Change-Id: Iaff11fe749553ac4640d709315a7f8ecf6a01762
"
"8d7115b0363f0496f4fdb1a8c264c4cfdad7e967","2016-05-31 09:49:01-04:00","In search results, hide description when there's a redirect source.

Bug: T129958
Change-Id: I8afbfece88f24c5da6655c0f3ef5a8e7dacc9fd1
"
"552707b18700563a15c99e45264e8147d69fca6e","2016-05-25 14:40:50-06:00","Upgrade Robolectric to v3.1-rc1

No release notes[0] yet but this seems to fix the sporadic AsyncTask
threading issue[1,2] that surfaced recently, possibly in 37ed818.

[0] https://github.com/robolectric/robolectric/releases/tag/robolectric-3.1-rc1
[1] https://github.com/robolectric/robolectric/issues/2415
[2] https://integration.wikimedia.org/ci/job/apps-android-wikipedia-test/2600/testReport/junit/org.wikipedia.readinglist.api.legacy/GetLegacyReadingListPageTitlesTest/testCollectionPages/

Error Message

java.lang.RuntimeException: java.lang.NullPointerException
Stacktrace

java.lang.RuntimeException: java.lang.NullPointerException
at org.robolectric.RobolectricTestRunner$2.evaluate(RobolectricTestRunner.java:244)
at org.robolectric.RobolectricTestRunner.runChild(RobolectricTestRunner.java:188)
at org.robolectric.RobolectricTestRunner.runChild(RobolectricTestRunner.java:54)
at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
at org.robolectric.RobolectricTestRunner$1.evaluate(RobolectricTestRunner.java:152)
at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.runTestClass(JUnitTestClassExecuter.java:112)
at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.execute(JUnitTestClassExecuter.java:56)
at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassProcessor.processTestClass(JUnitTestClassProcessor.java:66)
at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
at java.lang.reflect.Method.invoke(Method.java:606)
at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
at org.gradle.messaging.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)
at org.gradle.messaging.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)
at com.sun.proxy.$Proxy2.processTestClass(Unknown Source)
at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:109)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
at java.lang.reflect.Method.invoke(Method.java:606)
at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
at org.gradle.messaging.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:364)
at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:54)
at org.gradle.internal.concurrent.StoppableExecutorImpl$1.run(StoppableExecutorImpl.java:40)
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.NullPointerException
at org.robolectric.shadows.ShadowAssetManager.getAndResolve(ShadowAssetManager.java:350)
at org.robolectric.shadows.ShadowAssetManager.getResourceText(ShadowAssetManager.java:70)
at android.content.res.AssetManager.getResourceText(AssetManager.java)
at android.content.res.Resources.getText(Resources.java:270)
at org.robolectric.shadows.ShadowResources.getText(ShadowResources.java:358)
at android.content.res.Resources.getText(Resources.java)
at android.content.res.Resources.getString(Resources.java:360)
at org.robolectric.shadows.ShadowContext.getString(ShadowContext.java:33)
at org.robolectric.shadows.ShadowContextWrapper.getString(ShadowContextWrapper.java:81)
at android.content.Context.getString(Context.java)
at org.wikipedia.WikipediaApp.initExceptionHandling(WikipediaApp.java:573)
at org.wikipedia.WikipediaApp.onCreate(WikipediaApp.java:167)
at org.robolectric.internal.ParallelUniverse.setUpApplicationState(ParallelUniverse.java:140)
at org.robolectric.RobolectricTestRunner.setUpApplicationState(RobolectricTestRunner.java:433)
at org.robolectric.RobolectricTestRunner$2.evaluate(RobolectricTestRunner.java:240)
at org.robolectric.RobolectricTestRunner.runChild(RobolectricTestRunner.java:188)
at org.robolectric.RobolectricTestRunner.runChild(RobolectricTestRunner.java:54)
at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
at org.robolectric.RobolectricTestRunner$1.evaluate(RobolectricTestRunner.java:152)
at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.runTestClass(JUnitTestClassExecuter.java:112)
at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.execute(JUnitTestClassExecuter.java:56)
at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassProcessor.processTestClass(JUnitTestClassProcessor.java:66)
at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)
at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
at org.gradle.messaging.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)
at org.gradle.messaging.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)
at com.sun.proxy.$Proxy2.processTestClass(Unknown Source)
at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:109)
... 8 more
Standard Output

E/org.wikipedia.crash.hockeyapp.HockeyAppExceptionHandler:
java.lang.RuntimeException: java.lang.RuntimeException: java.lang.NullPointerException
at org.robolectric.util.SimpleFuture.run(SimpleFuture.java:61)
at org.robolectric.shadows.ShadowAsyncTask$3.run(ShadowAsyncTask.java:112)
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.RuntimeException: java.lang.NullPointerException
at org.robolectric.shadows.ShadowAsyncTask$1.done(ShadowAsyncTask.java:57)
at org.robolectric.util.SimpleFuture.run(SimpleFuture.java:58)
... 4 more
Caused by: java.lang.NullPointerException
at org.robolectric.shadows.ShadowAsyncTask$1.done(ShadowAsyncTask.java:38)
... 5 more
E/HockeyApp: Error saving crash report!
java.io.FileNotFoundException: /tmp/android-tmp-robolectric8261273648910926280/files/a8e7881d-492f-471d-aa28-42de4d79fe69.stacktrace (No such file or directory)
at java.io.FileOutputStream.open(Native Method)
at java.io.FileOutputStream.<init>(FileOutputStream.java:221)
at java.io.FileOutputStream.<init>(FileOutputStream.java:110)
at java.io.FileWriter.<init>(FileWriter.java:63)
at net.hockeyapp.android.objects.CrashDetails.writeCrashReport(CrashDetails.java:148)
at net.hockeyapp.android.ExceptionHandler.saveException(ExceptionHandler.java:93)
at net.hockeyapp.android.ExceptionHandler.saveException(ExceptionHandler.java:51)
at org.wikipedia.crash.hockeyapp.HockeyAppExceptionHandler.uncaughtException(HockeyAppExceptionHandler.java:42)
at java.lang.ThreadGroup.uncaughtException(ThreadGroup.java:1057)
at java.lang.ThreadGroup.uncaughtException(ThreadGroup.java:1052)
at java.lang.Thread.dispatchUncaughtException(Thread.java:1986)
V/org.wikipedia.WikipediaApp: initExceptionHandling():574: Registering for HockeyApp crash handling.
I/org.wikipedia.WikipediaApp: onCreate():201: Registered reading list page observer
Standard Error

java.lang.NullPointerException
at org.robolectric.shadows.ShadowAssetManager.getAndResolve(ShadowAssetManager.java:350)
at org.robolectric.shadows.ShadowAssetManager.getResourceText(ShadowAssetManager.java:70)
at android.content.res.AssetManager.getResourceText(AssetManager.java)
at android.content.res.Resources.getText(Resources.java:270)
at org.robolectric.shadows.ShadowResources.getText(ShadowResources.java:358)
at android.content.res.Resources.getText(Resources.java)
at android.content.res.Resources.getString(Resources.java:360)
at org.robolectric.shadows.ShadowContext.getString(ShadowContext.java:33)
at org.robolectric.shadows.ShadowContextWrapper.getString(ShadowContextWrapper.java:81)
at android.content.Context.getString(Context.java)
at org.wikipedia.WikipediaApp.initExceptionHandling(WikipediaApp.java:573)
at org.wikipedia.WikipediaApp.onCreate(WikipediaApp.java:167)
at org.robolectric.internal.ParallelUniverse.setUpApplicationState(ParallelUniverse.java:140)
at org.robolectric.RobolectricTestRunner.setUpApplicationState(RobolectricTestRunner.java:433)
at org.robolectric.RobolectricTestRunner$2.evaluate(RobolectricTestRunner.java:240)
at org.robolectric.RobolectricTestRunner.runChild(RobolectricTestRunner.java:188)
at org.robolectric.RobolectricTestRunner.runChild(RobolectricTestRunner.java:54)
at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
at org.robolectric.RobolectricTestRunner$1.evaluate(RobolectricTestRunner.java:152)
at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.runTestClass(JUnitTestClassExecuter.java:112)
at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.execute(JUnitTestClassExecuter.java:56)
at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassProcessor.processTestClass(JUnitTestClassProcessor.java:66)
at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)
at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
at org.gradle.messaging.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)
at org.gradle.messaging.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)
at com.sun.proxy.$Proxy2.processTestClass(Unknown Source)
at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:109)
at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
at org.gradle.messaging.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:364)
at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:54)
at org.gradle.internal.concurrent.StoppableExecutorImpl$1.run(StoppableExecutorImpl.java:40)
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
at java.lang.Thread.run(Thread.java:745)
May 25, 2016 8:58:05 PM okhttp3.mockwebserver.MockWebServer$3 execute
INFO: MockWebServer[45585] starting to accept connections
May 25, 2016 8:58:06 PM okhttp3.mockwebserver.MockWebServer$4 processOneRequest
INFO: MockWebServer[45585] received request: GET /w/api.php?format=json&formatversion=2&action=query&list=listpages&lspid=0 HTTP/1.1 and responded: HTTP/1.1 200 OK
May 25, 2016 8:58:06 PM okhttp3.mockwebserver.MockWebServer$3 acceptConnections
INFO: MockWebServer[45585] done accepting connections: Socket closed

Change-Id: I7e47e3093ed1c289188cd3bbc7b5a4a0680b4420
"
"2412e53b5411138972e6e1cb5621d26f069f7d02","2016-06-02 20:32:22+00:00","Merge 'Make the message text in developer settings dialogs be highlightable.'
"
"f90b0df7aee2b16685dc0df2618aa6b08e6de95f","2016-06-02 13:51:35-04:00","Make reading lists sortable.

This adds a Toolbar button in the ReadingLists fragment used for sorting
the lists, as well as sorting the pages in a list. The button expands into
a menu with options to 'sort by name' and 'sort by recent'.

If the user is looking at the list of lists, the sorting will apply to the
list of lists.  If the user is looking at the pages in a certain list, the
sorting will apply to the pages.

The sorting modes for both cases are stored in Prefs.

Bug: T136739
Change-Id: I76c095d912146fafbdd3f1e59de366767a00fafa
"
"0d801014245273a8ec7834cfe0608ab9b4d77494","2016-06-02 15:31:39-04:00","Show an onboarding snackbar for deleting a page from a reading list.

Bug: T136740
Change-Id: I86a04620842227387c7d77109459d8d6cef3850c
"
"95fd166bf1fd06dd463cda0cc9ed87605db0e428","2016-06-03 15:28:52-04:00","Fix possible crash when displaying W0 banner.

Bug: T136977
Change-Id: I6e76a08ac2a8fb0c8c95d23320885bb0fcd867ef
"
"7ceba8b5ead0d4b128fc2df61933ec59a388c433","2016-06-03 19:41:23+00:00","Merge 'Upgrade Robolectric to v3.1-rc1'
"
"65b7301af089a2d24fb841a8e47304e9217aefe8","2016-06-03 19:45:20+00:00","Merge 'Make reading lists sortable.'
"
"1938237b549c03298bd8068a3fbec8dd3480dd33","2016-06-03 19:46:29+00:00","Merge 'Show an onboarding snackbar for deleting a page from a reading list.'
"
"4a201758b258e524eb0d994d49e8dc2ac53c0300","2016-06-03 19:54:50+00:00","Merge 'Fix possible crash when displaying W0 banner.'
"
"ae046324a23c7f80b86d5a8b2490e9fabbd7ed38","2016-06-04 00:25:56-04:00","Remove bits URL from make-css-assets.bash

Since bits is being decommissioned (see T107430, T132969).

Change-Id: Ie81f1095cace7d2b3c421d85dc144d79c5fe8eb7
"
"cf8a444baf1f1f3187c07d44b7efff9679ad1f67","2016-06-04 11:08:44-04:00","Update gradle to 2.1.2

Change-Id: I677eded3a4a7092872dd96766e34d0c4999eb7b7
"
"64426eee13f0a04ceb33b1c54663e09dfa322a60","2016-06-06 08:45:28-04:00","Fix possible crash by sharing cache between instances of OkHttpClient.

We create multiple instances of OkHttpClient, namely one per every Site
that the user visits.  And for each instance of this client, we create a
new Cache object, which points to the *same* cache directory. This
suggests that multiple caches can conflict with each other, and cause a
crash.

The OkHttp documentation[1] recommends using a single instance of
OkHttpClient, which we should eventually do, and it definitely recommends
using a single instance of Cache. And I quote:

'It is an error to have multiple caches accessing the same cache directory
simultaneously. Most applications should call new OkHttpClient() exactly
once, configure it with their cache, and use that same instance
everywhere.'

[1] https://github.com/square/okhttp/wiki/Recipes#response-caching

Bug: T137077
Change-Id: Ia8bcc60fb019dbbb127da758dad9cf22996f8093
"
"5d0f57353b14c81659d19b98552b2d943f2ed23b","2016-06-05 19:50:08-04:00","Fix possible NPE when receiving user option response.

Bug: T136978
Change-Id: Iaf77735750cf6d513355ba3b781113450ef4279e
"
"18c34378449b5061fb35fe069168499053479161","2016-06-06 13:07:50+00:00","Merge 'Remove bits URL from make-css-assets.bash'
"
"f70ffdf14e04b54433583a5c17dc26a3239a5b34","2016-06-05 20:01:59-04:00","Fix possible crash by making cookie manager synchronized.

The crash tells us that a call to map.get(key) is returning null, even
though two lines earlier we called map.put(key). This can only mean one
thing:  another thread is removing that key from the map. The solution?
Synchronize access to the map.

Bug: T136980
Change-Id: I55b094ec2cde606884bfbd0275297158f8c45952
"
"3bbd2b2cab37ff631bfa9b282480aad7f4b275cb","2016-06-05 21:37:19-04:00","Fix possible crash(es) when fetching token for storing user options.

This instance of FetchEditTokenTask simply didn't have its onCatch method
overridden, meaning that things like timeout exceptions or connection
errors were not being handled. We'll simply catch them silently, since it
will be retried next time the task is run.

Bug: T137078
Change-Id: Ic2779fec347b4738ec0868cb7b8aec655461e505
"
"6927277a225694359fb60353d3ecc344f3980713","2016-06-06 17:02:45+02:00","Localisation updates from https://translatewiki.net.

Change-Id: I71eaccc1849f168e09c8825ef9a1e542dbf2c035
"
"0dfddda774e4d40c353676e70dcd90a8e2dc1628","2016-06-05 22:05:22-04:00","Fix possible crash when displaying gallery license icon.

Refactor things a bit, and make ImageLicense be final.

Bug: T137080
Change-Id: I88f3ef6160da86153234b46ea64c9d1cda87e903
"
"d22b8098d456628c0d072091fa814b11d9c36362","2016-06-06 15:40:50+00:00","Merge 'Fix possible crash(es) when fetching token for storing user options.'
"
"88e691f327316fe4da520798cc087d4a3979704c","2016-06-06 15:56:21+00:00","Merge 'Fix possible crash when displaying gallery license icon.'
"
"e008a6ff90a61495d7a188a042abf95631aca051","2016-06-06 16:10:39+00:00","Merge 'Fix possible crash by sharing cache between instances of OkHttpClient.'
"
"7207fcb30a181013e487735b85ba15847310c804","2016-06-06 16:31:37+00:00","Merge 'Fix possible crash by making cookie manager synchronized.'
"
"b632cf709eaef8453c33f2fcd0cab38956494658","2016-06-06 16:52:30+00:00","Merge 'Fix possible NPE when receiving user option response.'
"
"9db75d35692f1d7a9afab4ad940ff8d39f0cf69f","2016-06-06 11:35:52-06:00","Bump versionCode

Change-Id: Ifbc59493ba879fbe1de79ea1f21fb31f754a46b7
"
