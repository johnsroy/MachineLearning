"commit id","commit date","commit message"
"9247dd80cbad99faa274833f6b0c06425cc09dde","2015-12-28 13:46:37+08:00","remove deprecated actionbar sherlock dependency
"
"1b7abcc6559e1cd7bf73d5ef981dcdfd5b00ddb3","2015-12-28 14:42:04+08:00","apply material design styles
"
"05df8ea378412112535f1483fa07c70c7e00399c","2015-12-28 17:45:05+08:00","implement material design style dialog
"
"7c946df8a117ff79d6418d3ee4fac60a604a4507","2015-12-28 22:31:07+08:00","apply ripple effects to listview
"
"1f05344d0e17548e906f0e65cb424d22e973b23d","2015-12-28 23:47:30+08:00","use toolbar to manage overflow menus
"
"069e42da65a394649f403acfa8b3412dd954f2c6","2015-12-27 15:26:01+08:00","implement SwipeRefreshLayout for responding a refresh request
"
"268ce23877a7a4aaa9152266029b2e3dc8cad1de","2015-12-29 10:31:00+08:00","implement up navigation
"
"fb68c78a9fa3200e8401197fdadc417e7697b594","2015-12-29 11:00:32+08:00","update theme
"
"a040e427299c2b1817e5b6abeb6774257150f46e","2015-12-29 13:35:07+08:00","apply ripple effects to buttons
"
"b55fa970b8cb44424e99e15621bb28f0139585f6","2015-12-29 13:49:57+08:00","support bottom sheet
"
"1644f16eb613fae8ad767d9a264e2d9ebca1a73b","2015-12-27 19:10:49+08:00","implement bottom sheet panel for multiple operations
"
"2248740a7a44a7618752c77d729e97654263c7a3","2015-12-27 20:38:58+08:00","implement item click events of bottom sheet
"
"93c0fe5f415f0e76f946521643f4661a3ef531c7","2015-12-29 14:45:13+08:00","code cleanup
"
"4fd244ada2ba6cdca51309f60bf04c30388fccc1","2015-12-29 14:47:57+08:00","update THIRD_PARTY_LICENSE.md
"
"44f15d757fe6493b89000a934938cd1ea750648a","2015-12-29 16:01:17+08:00","update icons
"
"0927d3998b3c674c4e4a85c004fde978a8703e3c","2015-12-29 17:48:48+08:00","apply toolbar to Activity
"
"c5675ecc07565617bbc6f8dfbba1c1695ecd9293","2015-12-29 18:51:06+08:00","remove dependency on pager sliding tab strip
"
"fec4190250279918f70da57b598f7206754c0997","2015-12-29 18:59:41+08:00","update .gitignore
"
"2b90f073f0c9ac4a648195efcf55f53bd48054e5","2015-12-31 12:53:33+08:00","removed old icons
"
"db2ccfba6c7d178b86d020c193c9a9d8e0795e4e","2015-12-31 13:40:27+08:00","adjust layout
"
"d3d08bcae11ede724086c8094d46da9a411dfd2f","2015-12-31 15:14:20+08:00","use toolbar in MarkdownActivity
"
"6b462328dab955de3e42e65c74b8bada02448934","2015-12-31 16:19:29+08:00","use toolbar in SeafilePathChooserActivity
"
"87b875d30e3fcf607b78516faf0a4e715d54d70b","2016-01-01 11:51:09+08:00","detect encrypted repo and show bottom sheet menus accordingly
"
"5453dda5dfd7313390442e704fc2a0c76ed65962","2016-01-01 12:19:06+08:00","set action mode overlay actionbar
"
"3547b0f9ab60edcbcb379818865c8213204cdf80","2016-01-01 14:39:31+08:00","support multiple operations via action mode
"
"b07e6b72f1a875e743b6a10ea45c73bde5469dc0","2016-01-01 16:28:23+08:00","change large progressbar style to normal
"
"d3a464bee6265d561c959cae4ef4b22b0065b34f","2016-01-01 16:29:39+08:00","support backwards compatibility
"
"08a6b5f29bafc8cc12bc9c34a57e47f53bc414b0","2016-01-02 12:44:20+08:00","show loading progress dialog when login
"
"092dbdfc43f10e72e0d63abba964af25ef2699eb","2016-01-02 13:46:13+08:00","apply orange theme to swipe refresh layout
"
"3d4db49b9935bc4b7e0d00f2b3915b4f4c6ae4ad","2016-01-02 14:39:03+08:00","support consistent dialog style for different API devices
"
"345efacc09395eb515c8d0785b091c0b03fbd192","2016-01-02 15:12:19+08:00","set windowActionModeOverlay for pre-L devices
"
"ee155170114045663d35bb41403a740b9ad23307","2016-01-02 15:37:42+08:00","adapt negative button style to pre-L devices
"
"3183d85b270dd91e3b7766122eaf8b343c884866","2016-01-04 12:13:44+08:00","Add Tabs using TabLayout

to avoid the potential error: Error inflating class android.support.design.widget.TabLayout
see http://www.geeksmember.blogspot.in/2015/10/errorerror-inflating-class.html
"
"c6862dee3102e99f4f34cfaf3be9b78e34bef1b9","2016-01-04 13:33:06+08:00","declaring tablet overflow menus
"
"840cf3cd86642941d49ded48ae82c8081d07b187","2016-01-04 13:48:17+08:00","update .travis.yml
"
"52a2fd0004e1816143201d7ae025668779ec04a8","2016-01-04 14:20:04+08:00","update proguard-project.txt
"
"6c7039e6aff4033e10b3be95d1ab575b2bac7030","2016-01-05 18:30:55+08:00","support tap to refresh when load data fialed
"
"38055e1937baef29eee64d36d52e455faf917e79","2016-01-05 18:37:27+08:00","support tap to refresh when loading data failed
"
"725a8f015e9c9333771a6317b8db95059064e91f","2016-01-05 18:42:15+08:00","code cleanup
"
"358f845a7c8223aba0542c5aa25d94c231ae8df7","2015-11-15 16:52:05+01:00","require Java 7

The following patches make use of some Java 7 language (mainly ArrayList<>()
and switch() over Strings).

http://stackoverflow.com/a/13550632
"
"4c346a14eb667b2dcf92aab86edc482f681be98e","2015-11-15 17:03:25+01:00","Account refactoring

This patch refactors the way Seadroid stores its user accounts.

Previously there was a SQL Table, where server,mail and token were
stored. This patch ditches that table and uses instead the account
store offered by the Android framework.

Why would this be a good idea?

Well, mostly to make use of the Sync Provider framework offered by
Android. It builds upon and requires the app to store its account
data in the android account store. (Technically thats not true. One
could stub out the android account and continue to use SQL tables.
But the code would look ugly and it might confuse users).

Important internal changes:
• Creating/removing/editing an account is now done via a Framework API.
That means that all account editing is now going through the android
AccountManager. (For some convenience there is still another
AccountManager in Seadroid. It provides some convenience calls).
• AccountDetailActivity and Shibboleth*Activity had to be slightly
refactored to make them work with the Android Authentifactor.
Specifically they no longer modify the account database themselves.
Instead they pass the account credentials back to
SeafileAuthenticatorActivity.
* Each account now has a unique ID (string). It is created via
Account.getSignature().

Important user-visible changes:
• Users can now create and delete Seadroid accounts via Android
Settings.
* The 4-element choice dialog looks slightly different now

Besides the actual migration, this patch tries to be as minimally
invasive as possible. However a couple of other changes were either
neccessary or at least preferable. These are:

• Refactoring of Account, AccountInfo and ServerInfo.
• Simplifying 'current account'. previously the triple 'server, mail,
token' was saved. Now only the accountName is stored.

Useful links:
https://developer.android.com/training/sync-adapters/creating-authenticator.html
http://blog.udinic.com/2013/04/24/write-your-own-android-authenticator/
"
"4a0b68db3b42e7cfd273338c0a07543cf9544338","2015-11-15 16:52:05+01:00","Refactoring of Camera upload as Sync Provider

This patch reworks most of the camera upload. It contains two important
changes:

(1) The old code implemented camera upload as a service. While that worked,
it proved somewhat problematic. Services can be killed by Android, and the
service had to be started by an Activity.

Android provides an API for implementing data syncing:
https://developer.android.com/training/sync-adapters/index.html

This API provides a number of advantages compared to a self-implemented
service. Among them are:

* Less code
* Automatic error recovery (e.g. retry on network errors)
* Periodic synchronisation (e.g. every 24h)
* Better visibility to the user (via Android Settings->Accounts)

(2) The old camera media sync algortihm tried to upload media via two ways:

a) when a new photo was added to the MediaStore, that photo was uploaded. But
*only* if the data plan allowed it.
b) when the user interacts with Seadroid, the service uploaded all photos
not yet uploaded. It did that by scanning certain hard-coded directories
on the externalStorage  and looking for new media files.

Important changes added by this patch:

- This new design builds soly on the MediaStore. The MediaStore contains
all images/videos on the phone. Therefore it should not be necessary to
scan (or even be aware of) where the photos are actually stored.

- The MediaStore has a column where it records the 'DATA_ADDED' for every
media file. We can use that to sort and filter for new newly added media
files. This eases up the syncing mechanism considerably.

- Allowing to sync to sub directories in a repository.

- There is still a service necessary to monitor MediaStore activity. However
even without that service, Android will perform a sync about every 24h.
Also that service is now autostarted on System boot and on Seadroid
apk upgrades.

- Finally merging with existing files on the server was also improved by
skipping files that are already present on the server (it compares the file
size and will still upload if the sizes differ. That's probably the best
one can do with the current API2).

Overall, this patch should adresses the following issues:

issue #277 (Camera upload function dumps all subdir files into single dir)
issue #301 (Inconsistency in camera upload sync)
issue #311 (second suggestion: target repo sub directories)
issue #336 (file duplication when doing a full resync)
issue #375 (Picture upload not acting as service?)
issue #423 (Pictures never upload) [maybe. not sure what's going on there]

Useful links:
https://developer.android.com/training/sync-adapters/creating-sync-adapter.html
http://blog.udinic.com/2013/07/24/write-your-own-android-sync-adapter/
"
"3ffaf512b5ffb08ba937f9759c1003ce38782985","2015-11-15 20:41:22+01:00","Move account activities in the account package

Grr, had forgotten that I wanted to move these files.

These five Activities are never started by the main Seadroid
Activities (e.g. BrowserActivity or AccountsActivity).

They are only ever started by the 'Authenticator' or by each
other. For that reason I find it more fitting to group them
together within the 'account' package.

This patch does just the moving and should therefore have to
further impact.
"
"f619febe2d4c4ded7db12722659ecd0bcda9643a","2015-11-25 07:55:46+01:00","add a ton of debug output
"
"a73bfc5d79b1ff96892c3d3d4d5a06baa3f09f96","2015-11-30 17:14:07+01:00","fix typo in Manifest

this would have caused camera upload to temporarily stop working after an
apk upgrade
"
"5ebb8a9e20b0faaf022294938fe977def2aa47ce","2015-11-30 20:36:41+01:00","add more potential camera directories
"
"276aa2a80d6ceae33d86b7e515d6e5c7d9af8701","2015-11-30 22:24:23+01:00","TransferService: return taskID to caller
"
"bac8896d34cd5a22e8850cfe0600b003a4c40809","2015-11-30 22:24:39+01:00","TransferService: remove unused code
"
"c4c7727ba0b239c4cc7dfa15878a2329c1668332","2015-11-30 22:24:59+01:00","CameraSyncAdapter: refactor to use TransferService
"
"7bc0f2102cf6e12843d96f6f9c2f824f33a60b4a","2015-12-02 15:17:55+01:00","Restore old Camera DB helper

Just undelete the file. it is not used yet.
"
"97d3bdbbf91ef703fce69576ef55a984ffb92ce7","2015-12-03 13:41:18+01:00","Instead of remembering timestamps, store upload status for files individually

this is based on the previous CameraUploadDBHelper. However I simplified the
table (only storing data that is necessary) and added the file modified timestamp.
The latter makes sure that if a local image/video has been modified, it will get
uploaded again.
"
"b7192f617a5c0a80d3f5a1de835c3cfb9c0d95d2","2015-12-03 14:58:35+01:00","CameraUpload: Further improve bucket selection

* pre-select default camera buckets when switching to 'manual'
* move const list of bucket names to a more fitting place
* simplify code in CameraSyncProvider for bucket selection
"
"64e01e132e2f0a859c16f1587fa372712e5f4174","2015-12-03 15:00:44+01:00","CameraUpload: make string more precise

that 'auto' setting is a heuristic
"
"2bf6774c4ff7629cd0a6d38071ecc89cbdd8b9a9","2015-12-03 15:57:23+01:00","Put all photos one layer deeper into 'My Photos'
"
"bb6c3ddf8765a0313377ea989344199a562bdb26","2015-12-03 16:28:51+01:00","CameraSyncProvider: fix: recursively create directories

i.e. if the user has selected '/a/b/c/d', then images will be uploaded
into '/a/b/c/d/My Photos/Camera/bla.jpg'.

If the user then decides to delete that whole directory structure, we
should recreate it again.
"
"b9b7baafdb268f0e4a94f740a9afc8a344396e9c","2015-12-25 09:47:43+01:00","Rename account type

Note: This patch will remove old accounts for developers that
merge this patch on top of the existing patch set.
"
"fbc2fe5cce16233f4ec2190ffdf265b4e1e3f7c0","2015-12-25 09:49:29+01:00","Code style optimizations
"
"24aa7dea17c9a7580e30452314ed4f6f24482a85","2015-12-25 10:09:59+01:00","CameraSyncAdapter: Cancel pending syncs before disabling sync
"
"f7bcce6b85115dd1f962512bc6b2330f8c262ff8","2015-12-25 10:48:01+01:00","CameraUpload: revert back to original CloudLibrarySelectionFragment

This commit restores the original state of this file from before this patchset.
"
"8a48d734ebfe35ca90819db83259efce623fa9a8","2015-12-25 10:49:09+01:00","CameraUpload: remove the ability to select subdirectories as camera upload targets

this again simplifies the code a bit
"
"7dff24f077b67421052912693910b0ecf27a3b1c","2015-12-25 11:21:10+01:00","CameraUpload: fix directory creation
"
"cb90c598fd2cee10b1f40d9b9acb2dc343a07f5e","2016-01-03 22:05:49+01:00","add callback for newer frameworks

as suggested by Logan676
"
"165f6c9bd0f0b3c4ffaf0655977c6928bce3cb0d","2016-01-05 18:46:05+01:00","CameraSyncAdapter: add comment to explain autoInitialize
"
"7f58e8dc796bd2bc51535a81c11d4035e982c206","2016-01-05 18:50:52+01:00","Rename camera upload authority
"
"6c9f6e997aa636ced262b28c995f96602ec2e481","2016-01-05 21:12:33+01:00","fix compile error introduced by rebase
"
"a21f84480a4b93f55612bcb9a1712b65da3ff8c7","2016-01-05 21:45:47+01:00","Camera Upload: Make directory structure on the server backwards compatible

Make the structure to be:

- Server S / Repo R
- 'Camera Uploads'
- Media from bucket 'Camera' (backwards compatibility)
- 'Album X'
- Media from bucket 'Album X'
- 'Album Y'
- Media from bucket 'Album Y'

this way, existing photos uploaded by previous versions of Seadroid won't be
uploaded again as they will be placed in the same directory as before.
"
"6c4af4127d5300e65e9d51ae15a6395c7a9df7f1","2016-01-06 14:03:57+08:00","add bottom line to toolbar
"
"f5ccfc62b04a599c0fd76bb909032d75cb7a29c5","2016-01-06 15:40:58+08:00","add background to settings group sections
"
"fc5e8671b1b38d9a35d9078a8ab64dc792f51d99","2016-01-06 16:13:10+08:00","use soarcn/BottomSheet to custom styles and support 2.1+ APIs
"
"5fe8d14791099e63b2ed156b5e31fce0c6f34284","2016-01-06 16:45:23+08:00","fix typo
"
"720296c6b23ec580ded26eed5911da04ca77d8b7","2016-01-08 14:46:36+01:00","Camera Upload: fix previous commit regarding target folder

the previous commit tried to put all camera-related media into the folder
'Camera Uploads'. However it missed that there are actually three possible
bucket names for camera-related media. This patch addresses that.
"
"c2fb89d1a6017cefb18febfa74b1ae16da6d6b52","2016-01-09 09:52:05+08:00","set scroll position to tablayout when sliding tabs
"
"7c5cf0a67067f2a7e715fc686c55ff7d96045958","2016-01-09 10:30:01+08:00","implement two-state toggle widget by android.support.v7.widget.SwitchCompat
"
"c59bb561ec66c2f5b42f6e2dab3ddf54534e3aaa","2016-01-09 10:41:36+08:00","use preferences of platform provided widget
"
"ce488384314958149bdc15ee4ba7703112b3d36c","2016-01-09 10:43:28+08:00","remove unused code
"
"e1520aff4b25b781d619ddab88fc4310157d9e58","2016-01-09 10:50:26+08:00","hint tap to refresh when failed to load folders or libraries
"
"2cb5900a0260e5473a945a168636a6443438d3a5","2016-01-09 11:03:44+08:00","update icons for action mode
"
"344f6d18a0f58a910641ae209bd1e46da17c6751","2016-01-09 11:21:28+08:00","use radiobutton of platform provided widget
"
"af3d24adc26ef236f2ba099f8aafeec0ad8e371f","2016-01-09 11:26:23+08:00","use checkbox of platform provided widget
"
"5584ee4557767afde92d3def61af78952f7441db","2016-01-09 11:31:59+08:00","enlarge the size of repo icons in camera upload configuration helper
"
"a145a75a80646ed5a24e7e2df41163ada3455f2b","2016-01-09 11:42:15+08:00","style SslConfirmDialog for pre-L devices
"
"cd238d2fe91d30fdd0edb9c11d520a8f7fe6be4a","2016-01-09 11:51:19+08:00","Merge pull request #460 from Logan676/remove_abs

Implement material design
"
"c26341beb9822d93649e8b522734a17e528df997","2016-01-09 14:10:56+08:00","Merge pull request #444 from forouher/refactor/account_and_camera_upload

Refactor account storage and camera upload
"
"1e46ec3d4440918198a8f21a02c1481903a1d21a","2016-01-09 14:17:43+08:00","Revert 'Camera Upload: Make directory structure on the server backwards compatible'

This reverts commit a21f84480a4b93f55612bcb9a1712b65da3ff8c7.
"
"a3d694a29104366840368010d4009e909e87526c","2016-01-09 14:34:04+08:00","migrate to gradle build structure - delete files in old structure
"
"ee3f9abc33b2afa12bedeaf98e9bc68af024a942","2016-01-09 14:37:09+08:00","migrate to gradle build structure - add files to app folder
"
"38c925e6beacfe28c6077caf2f412d8884f87405","2016-01-09 14:37:35+08:00","migrate to gradle build structure - add libraries
"
"ed7f0d19210080bb27ed520fa927cac1abf98510","2016-01-09 16:09:13+08:00","Merge branch 'develop'
"
"5c73bd3b270ed9e9a16d8319c3f6308a42d7477f","2016-01-09 16:43:17+08:00","style activities
"
"6332d0d6f8ac43704fe4785a4c5a1cfa4d6cb287","2016-01-09 17:59:05+08:00","style SeafileAuthenticatorActivity
"
"0217f1a41bdc288f20dfc9606262adb430f5f736","2016-01-10 20:57:36+01:00","clean up unused code

introduced through merge
"
"4f3bfbc225c0472e008ab3026e62d75d98c94447","2016-01-10 21:37:10+01:00","the 3rd parameter of Account is for a token

putting a passwd in there won't work
"
"17bb425586fde33f236103ec25df11dac4d03e75","2016-01-10 22:33:59+01:00","handle usernames in AccountDetailActivity
"
"d84d22e55d331793c74c2230a8254097e37c2e39","2016-01-11 09:42:30+08:00","Merge pull request #4 from forouher/refactor/account_and_camera_upload2

Refactor/account and camera upload2
"
"849a0866829aa3302d21ad731584f07e9e3caf1d","2016-01-11 09:53:17+08:00","remove unused code
"
"5516184cafca4072dd3a5634142bce147611fd69","2016-01-11 10:07:07+08:00","Merge pull request #466 from Logan676/camera_sync

Merge camera sync patch
"
"b2acc95ee915ace3984f6c0d17ea6dd0a99c74c3","2016-01-11 10:13:22+08:00","update i18n
"
"e84c5570b3c5d6afdf8adc6032522ed9715313f2","2016-01-11 11:02:21+08:00","update version code
"
"15bb521c91bf62d1ca05991303486a8ea618415f","2016-01-11 11:13:08+08:00","update i18n
"
