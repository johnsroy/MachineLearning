"commit id","commit date","commit message"
"3be9c505aa603f3f60cc866ac28aabce3990fe08","2013-04-01 16:19:52+02:00","Ignore the Eclipse .settings directory.
"
"d52fd8e52cd8c7c9c77fe12867b2a2da3805bb4e","2013-04-01 16:59:47+02:00","Merge commit 'dc14b1c432a7705e37b3613704bc2301f4b38e80' into actionbar
"
"69a1c99cbc94cf759826dd3336a0f5ed9ba2217c","2013-04-01 17:37:14+02:00","Implement search as an Android Search Interface.

Merge commit '8c51f7ae0de07dca78e7342e200c578576c14d5e' into actionbar

Conflicts:
res/layout/search_layout.xml
res/values-nl/strings.xml
src/uk/org/ngo/squeezer/SqueezerSearchActivity.java
src/uk/org/ngo/squeezer/SqueezerSearchAdapter.java
src/uk/org/ngo/squeezer/framework/SqueezerFilterableListActivity.java
src/uk/org/ngo/squeezer/itemlists/SqueezerSongListActivity.java
"
"9f60cf4ba22c3779ac897b34a1846c391336f96f","2013-04-01 23:52:21+02:00","Add context menu indicators for 'Internet Radio' and 'Favorites'

Merge commit '648f5c2148f0ef342a15945a4e39cff4221acbec' into actionbar

Conflicts:
res/values-da/strings.xml
res/values-nl/strings.xml
res/xml/searchable.xml
src/uk/org/ngo/squeezer/itemlists/SqueezerCurrentPlaylistActivity.java
src/uk/org/ngo/squeezer/itemlists/SqueezerPluginItemView.java
src/uk/org/ngo/squeezer/itemlists/SqueezerSongView.java
"
"0282b8747ae04babbd81a7a6e9759e3c13b056f6","2013-04-02 18:35:02+02:00","Merge commit '0be978ecc10af0ec68f4fcdc2cc5c322cb522411' into actionbar
"
"146531f4cbcef237e41e88116138d09406a656c6","2013-04-02 18:53:04+02:00","Merge commit '0be978ecc10af0ec68f4fcdc2cc5c322cb522411' into actionbar
"
"3de3251a2ad4cfbb24daf8b12f3e11c282aec0e0","2013-04-02 21:05:23+02:00","Merge commit 'f96eebf0df3bb155e96878da237b1e1819fbf249' into actionbar

Conflicts:
AndroidManifest.xml
res/layout/about_dialog.xml
res/layout/authentication_dialog.xml
res/layout/search_layout.xml
res/layout/server_address_dialog.xml
res/values-da/strings.xml
res/values-nl/strings.xml
src/uk/org/ngo/squeezer/SqueezerHomeActivity.java
src/uk/org/ngo/squeezer/SqueezerSearchActivity.java
src/uk/org/ngo/squeezer/dialogs/ServerAddressPreference.java
src/uk/org/ngo/squeezer/itemlists/SqueezerAlbumArtView.java
src/uk/org/ngo/squeezer/itemlists/SqueezerAlbumView.java
src/uk/org/ngo/squeezer/itemlists/SqueezerCurrentPlaylistActivity.java
src/uk/org/ngo/squeezer/itemlists/SqueezerPlaylistView.java
src/uk/org/ngo/squeezer/itemlists/SqueezerPluginItemView.java
src/uk/org/ngo/squeezer/itemlists/SqueezerSongListActivity.java
src/uk/org/ngo/squeezer/service/ISqueezeService.aidl
src/uk/org/ngo/squeezer/service/SqueezeService.java
"
"adf36d867519b0bfe0b84d61e7b7778aa4b6fa83","2013-04-02 21:18:19+02:00","Merge commit '05f2fd5a3fa3c18e108ea3e908e1a6f848c98151' into actionbar

* commit '05f2fd5a3fa3c18e108ea3e908e1a6f848c98151':
Fix list view creation problems
"
"22fbf7bb0853d5b0aedb8b2031fd125473ea8b7d","2013-04-02 21:33:03+02:00","Merge commit '8c359f1b042bb05bef1bab0caea0c8891d687472' into actionbar

* commit '8c359f1b042bb05bef1bab0caea0c8891d687472':
Merged master

Conflicts:
res/values-nl/strings.xml
src/uk/org/ngo/squeezer/itemlists/SqueezerPluginItemView.java
"
"796a9a2ff664ad897303df2980f4f52e72fce11e","2013-04-02 22:26:23+02:00","Merge commit 'c41e5be0df7c2a3e10da4b01dcc932322562b7be' into actionbar

* commit 'c41e5be0df7c2a3e10da4b01dcc932322562b7be':
List view generation changed

Conflicts:
src/uk/org/ngo/squeezer/itemlists/SqueezerAlbumArtView.java
src/uk/org/ngo/squeezer/itemlists/SqueezerPluginItemView.java
src/uk/org/ngo/squeezer/itemlists/SqueezerPluginView.java
"
"f2a13481fb602f467fa3de99e5a29314360afeee","2013-04-02 22:59:30+02:00","Merge commit 'e54597e495a591e50c357eb3f1a31e2b4b86af7a' into actionbar

* commit 'e54597e495a591e50c357eb3f1a31e2b4b86af7a':
Fix dynamically change visible/enable for action bar items
Fix constantly updating the power state
Use a proper icon when the server does not provide it

Conflicts:
src/uk/org/ngo/squeezer/itemlists/SqueezerAlbumArtView.java
src/uk/org/ngo/squeezer/itemlists/SqueezerPluginItemView.java
"
"84f8bcfd22d4bf5ed5960256b849edce13713aba","2013-04-02 23:15:02+02:00","Merge commit 'd73eb89a388cbf9a05b62da835d494d2befc4c39' into actionbar

* commit 'd73eb89a388cbf9a05b62da835d494d2befc4c39':
Fix crash in options menu for pre honeycomb devices
"
"a061a27e0a4cef6387db8f633730dfa1423f933e","2013-04-02 23:56:09+02:00","Merge commit '07563360a19fb513b3f1c621f7d7fdc638a410b5' into actionbar

* commit '07563360a19fb513b3f1c621f7d7fdc638a410b5':
Album sort order changes
"
"b5214c4bc5d91c2fa2f9e50b6020bb70083f4365","2013-04-03 00:06:28+02:00","Recover the correct version of server_address_dialog.xml.

Inadvertently broken during the merge of
3de3251a2ad4cfbb24daf8b12f3e11c282aec0e0.
"
"6708768d97b857ab4462997f7d40b8b438963018","2013-04-03 20:25:11+02:00","Merge commit '222b1d17946a98ad9a6d86b060c7b1adfdb48c25' into actionbar

* commit '222b1d17946a98ad9a6d86b060c7b1adfdb48c25':
Navigation changes

Conflicts:
src/uk/org/ngo/squeezer/SqueezerSearchActivity.java
"
"ba23750740fea9413b22bcb645aa6e252c0a38f6","2013-04-03 20:36:15+02:00","Merge commit 'c35876cc65a85f71ef702deee209c55fd139aef7' into actionbar

* commit 'c35876cc65a85f71ef702deee209c55fd139aef7':
Fixed bug in onMusicChanged in current playlist
Initital list selection
"
"1db73a1156b1ba684c691f262a3155628f6fdb4e","2013-04-03 22:37:06+02:00","Merge commit '2fd77533f4de2669638afe93533a92007db4c492' into actionbar

* commit '2fd77533f4de2669638afe93533a92007db4c492':
Implemented shuffle and repeat

Conflicts:
res/layout-land/now_playing_fragment_full.xml
res/layout/now_playing_fragment_full.xml
res/values/strings.xml
src/uk/org/ngo/squeezer/service/SqueezeService.java
"
"0592b3f4756235f5bf38ae9d038f800b523443d0","2013-04-03 23:04:12+02:00","Merge commit '200e66829a6875f49126b4336185b09afa2a5991' into actionbar

* commit '200e66829a6875f49126b4336185b09afa2a5991':
Use string references in string-arrays
Fix potential npe

Conflicts:
res/values-da/strings.xml
res/values-nl/strings.xml
res/values/strings.xml
src/uk/org/ngo/squeezer/service/SqueezeService.java
"
"f4c6fee324a0b82c56bec5058f0ef80e39a0af00","2013-04-03 23:09:48+02:00","Merge remote-tracking branch 'kaaholst/actionbar' into actionbar

* kaaholst/actionbar:
Added SqueezerTest project
"
"ac6124a84f6cdfdce74edebba5835ed820e56ba8","2013-04-03 23:26:26+02:00","Merge commit 'cca16327e06be57c1e2cab3734322a6df2c5ad48' into actionbar

* commit 'cca16327e06be57c1e2cab3734322a6df2c5ad48':
Note the source of an NPE for future work.
Update mapping file for 0.9 release.
Fix ClassCastException in download from current playlist
Danish localization
Update AndroidManifest.xml and NEWS ready for the 0.9 release.
Dutch translations for new strings, contributed by Sebastian van Winkel.
Rename some variables after overzealous Eclipse refactoring.
Make scrobbling simpler to control.
Make sure that scrobbling code does not depend on notification preferences.
Explicitly keep the model class constructors.
Update to v9 of the support library.
Correct the image fade in.
"
"9d0407518b5ba3a2f0d5c4d4d1601de818089b22","2013-04-04 22:53:08+02:00","Merge branch 'master' into actionbar

* master: (25 commits)
Update Proguard map for 0.9.1 release.
Call setLoadingImage() once per mImageFetcher, not every getAdapterView().
Target android-17.
Add initial notes for 0.9.1 release, bump version numbers.
Report on cache stats, commented out by default.
Manage the image cache over the activity lifecycle.
Only add resized bitmaps to the memory cache, keep originals on disk.
Calculate the artwork icon size correctly.
Ignore .classpath files.
Correct typo: allready -> already.
Make uiThreadHandler a static inner class.
Remove an Eclipse config file.
...

Conflicts:
res/drawable-hdpi/icon_album_noart.png
res/layout/icon_two_line.xml
res/layout/main.xml
src/uk/org/ngo/squeezer/SqueezerActivity.java
src/uk/org/ngo/squeezer/framework/SqueezerBaseActivity.java
src/uk/org/ngo/squeezer/framework/SqueezerBaseListActivity.java
src/uk/org/ngo/squeezer/itemlists/SqueezerAlbumArtView.java
src/uk/org/ngo/squeezer/itemlists/SqueezerIconicItemView.java
src/uk/org/ngo/squeezer/itemlists/SqueezerPluginItemView.java
src/uk/org/ngo/squeezer/itemlists/SqueezerPluginView.java
src/uk/org/ngo/squeezer/util/ImageFetcher.java
"
"8f9022030555c2508508269625d3a75119b79ac4","2013-04-04 23:02:15+02:00","Rename the icon_pending_artwork 9-patch images so they're recognised.

Per http://developer.android.com/guide/topics/graphics/2d-graphics.html#nine-patch
9-patch images have a .9 suffix before the extension, and should be stored
in res/drawable.
"
"fcf1be475f5c52df1dfd425a837facee2e4db287","2013-04-06 22:14:28+02:00","Fix a potential NPE when receiving plugin items.
"
"1df13bf3a228bbe8a9a1c90a3c6818aaf0852cc6","2013-04-06 22:21:45+02:00","Merge branch 'master' into actionbar

* master:
Fix a potential NPE when receiving plugin items.
"
"50fd53aaa44697c695ae58c463ad1fe69afd20ef","2013-04-09 22:23:05+02:00","Slide in activities that list hierarchical collections from the right.

To try and emphasise the spatial dimension in the navigation, animate the
activity transition when viewing music folders, radio stations, and
favourites by sliding the new activity in from the right when it starts,
and back out to the right if the back button is pressed.

Android provides public android.R.anim animations for the inverse effect,
but not for this one although they're in the Android Open Source Project,
so copy the animations from there.

Adjust how item lists are shown.  Remove the 'Loading...' string, per the
guides at http://developer.android.com/design/building-blocks/progress.html
and remove the custom background colour, as the transition was jarring.
"
"0576e760f2238359d69888c1eb96e3540ce3b045","2013-04-09 22:26:35+02:00","Correct the order of Apps and Favourites, so Favourites shows up properly.
"
"24bb81ffc78dcce7c8b0555f856aaac83a9bde02","2013-04-09 22:36:16+02:00","Fix an NPE.  Apparently mScanNetworkTask can be null at this point.
"
"b477b98ab3b887b36eacc509e0e4f4defecc8329","2013-04-09 22:39:16+02:00","Merge branch 'master' into actionbar

* master:
Fix an NPE.  Apparently mScanNetworkTask can be null at this point.
"
"38ae028928a528571b9bbb2c27dc1177db9d8975","2013-04-09 22:44:01+02:00","Remove 'Browse' prefix from activity titles when navigating.
"
"2c2386b14c342d887b15672eeeade85068e6f737","2013-04-11 00:11:45+02:00","First cut of a mock server
"
"d219781159448a11cd3d1783991433c075000e94","2013-04-11 23:21:31+02:00","Merge remote-tracking branch 'nik/actionbar' into actionbar
"
"5faba78515e8f2a110769f6c9ae73a7e002e23e8","2013-04-16 21:59:30+02:00","Correctly manage the service over the activity lifecycle.

Per http://developer.android.com/guide/components/bound-services.html#Binding:

'Note: You should usually not bind and unbind during your activity's
onResume() and onPause(), because these callbacks occur at every lifecycle
transition and you should keep the processing that occurs at these
transitions to a minimum. Also, if multiple activities in your application
bind to the same service and there is a transition between two of those
activities, the service may be destroyed and recreated as the current
activity unbinds (during pause) before the next one binds (during resume).'
"
"b1a99ecc4e49f1173c5a9af94aadc8868ff2c795","2013-04-16 22:04:46+02:00","Fix NPE, as shuffleButton and repeatButton are only non-null when full height.
"
"d9ae6295bb8fb954f1417ad8e151afbf114bb809","2013-05-13 23:40:13+02:00","Merge remote-tracking branch 'nik/actionbar' into actionbar
"
"2fb26f3b6e3098d94ba0f2f6e9d054de06f1b32c","2013-05-16 00:05:16+02:00","Renamed the test project folder to the conventional tests
"
"dc8f13310d2166d509d8ef7b0490fc0520281d8d","2013-05-16 20:18:40+02:00","Stop tracking .classpath
"
"d5ae49bde1346402af8f6e32e49dd574af276549","2013-05-16 22:45:58+02:00","NPE protect ConnectingDialog#onDismiss.

This could happen when Squeezer is closed (by pressing HOME), when connecting to
LMS.
"
"a56c031d64d6bb3560c7e9c21be31b67d0ea9e46","2013-04-11 00:11:45+02:00","First cut of a mock server
"
"736beaffff86ccdbfe2a712589e94586fedc9a59","2013-05-16 00:05:16+02:00","Renamed the test project folder to the conventional tests
"
"d6fda523accf165a9c6ccff548a40dbce5c2431a","2013-05-16 20:18:40+02:00","Stop tracking .classpath
"
"80601c3bee7eefb76e342d5aa03d80489a4135b2","2013-05-16 22:45:58+02:00","NPE protect ConnectingDialog#onDismiss.

This could happen when Squeezer is closed (by pressing HOME), when connecting to
LMS.
"
"c92c836a1524e2f14dc80f99475452c4de9a631d","2013-05-28 21:42:00+02:00","Fix crash on connection in NowPlayingActivity

There current SqueezerPlayerState was read from the service, and then the UI
was updated accordingly, which caused and NPE.
The problem is that the state is not yet known, when just connected.
Instead the UI is not updated on connection, we wait until it is brodcast by
the service.
"
"ac833e075d6c527e129cd615d11fe23d3d330459","2013-05-28 22:25:53+02:00","Merge branch 'actionbar' of github.com:kaaholst/android-squeezer into actionbar
"
"dbc6e2535e48a81b3d98c298626f9bb276556582","2013-05-31 07:33:26+02:00","Make the UI more accurately reflect the player state
"
"d44160fc6009584d08f8ebdabb1aacce6879ff9d","2013-06-07 00:02:21+02:00","Fix broken tests
Signed-off-by: Kurt Aaholst <kaaholst@gmail.com>
"
"3591c60c5d935dbde4ea8bd99488b1d65b3cf423","2013-06-13 22:52:22+02:00","Track whether callbacks have been registered

Register when the service is bound, and in onResume.
Unregister in onPause
"
"3c6699048f4df41b88048990a6faf658bce4e23d","2013-06-16 14:38:46+02:00","Fix connection dialogs and progress publishing

- Moved the isConnecting state to the service, which is a singleton
- Catch various IllegalStateExceptions and missing fragment manager situations,
when the fragment wasn't able to publish the status.
- Dismiss connectiong dialog in onDestroy to avoid 'activity has leaked ...'
errors in the log.
"
"26a11ce18a8a45b1ac59f7664177ae8e4189f163","2013-06-16 23:12:32+02:00","Missing deleted file from previous commit
"
"dcb81befc196d4560a597e61fdf77d7ce612c1c8","2013-06-16 23:39:06+02:00","Fix danish string
"
"4a87a8569923006a031a1054993421f7d3316668","2013-06-17 23:04:05+02:00","Fix crash initializing image cache on 4.1 emulator.
Apparently storage state is removed and removable is false!
This caused the external cache dir to be null.
"
"4dfc3caf881c7f88d9d29e16e1b56e0f580bf78f","2013-06-18 23:14:26+02:00","Merged osebelin/actionbar
Signed-off-by: Kurt Aaholst <kaaholst@gmail.com>
"
"1725505b36b72e8e213e0939f93677093813719e","2013-07-03 23:33:18+02:00","../commit.msg
"
"7fe895b1c72c75617bb8de00fcd5b4842f7d771c","2013-07-09 19:36:58+02:00","Fix a potential NPE.
"
"45c46e0a6bc29409679d1f68b9bd8a1e69bdddee","2013-07-09 19:44:31+02:00","Use consistent fonts in now_playing_fragment_*.xml.

Remove bold styling, and use the @style/SqueezerTextItem where appropriate.
"
"9f7c2f78c2dcf24b4cea7ebec154a907c35bd98d","2013-07-09 20:57:48+02:00","Support play/pause from the now_playing_fragment_mini layout.
"
"881c9d8a2cd219c0e7408817aee9d5c276de32c7","2013-07-11 12:50:48+02:00","Fix commit message for the previous commit

Implement consistent Squeezer item actions

- Implement actions as per:
https://docs.google.com/spreadsheet/ccc?key=0AoZbzjFHlorsdE1MY2FFeE1jYjRkTEw1aV9qUURuV3c&usp=sharing
- Configurable actions are moved from activity to view logic, to make it work
from all lists, i.e. album list and search result for albums, and song list,
search result and playlist songs for songs.
- Call default and context menu actions through the adapter, to enable reuse
for search results.
- Add PlayableItemAction.Type.NONE and use this as the default for songs.
- Add an ActionBar/options menu entry to play/queue all songs of activities
showing songs
"
"dc8f31e4dcd2113f9cd27872281bf1f2b23726cc","2013-07-16 23:34:00+02:00","Fix items not loading after resume from sub-activity

Responses which come in after callbacks have been unregistered are discarded,
but they are marked as ordered, so they are are not reordered when a view is
requested.
We cancel outstanding orders after unregistering callbacks to solve this.
"
"efb177238ef2fabfbc76c5cd6cefa0818881b3fe","2013-07-17 21:27:59+02:00","Correctly unregister songlist callback

This fixes a potential activity leak, cause the service keeps a reference to
the callback, which holds a reference to the activity.
"
"bbbc9470589e9acaba760f6a26b5e3c907d87cb6","2013-07-17 22:52:34+02:00","Enable Android Studio and the Gradle build system

Ignore workspace files and add gradle build files.
The project can be imported into Android Studio using gradle.build.
"
"b432218395e513923307c113aa05569ce418c161","2013-07-18 21:48:28+02:00","Cleanup and polish SqueezerBaseListActivity

- SqueezerBaseListActvity: Initialize image fetcher on demand, so it can be
used before onCreate is called.
- Do not leak pages when items are reordered, and prevent previous items from
showing briefly.
"
"ef7760c5f3a0bc698dea17a4a95c2277700da671","2013-07-20 23:47:03+02:00","Update the UI on return from browsing songs of a playlist

Use startActivity for result to start the child activity, and update the list
with any changes, in onActivityResult in the parent activity
"
"4bcc606175508b37fa97b2524687a4583ddf851f","2013-07-20 23:57:45+02:00","Merge branch 'actionbar' of github.com:kaaholst/android-squeezer into actionbar
"
"75c48356d425a51d4cf7ae7bac116937ca7c52eb","2013-08-01 12:15:29+02:00","Treat SqueezerItems with getId() == null as identical.

Fixes a problem when connecting to a server with no currently playing
song -- the 'current' song and 'new' song weren't comparing as equal,
resulting in repeated calls to updateOngoingNotification().

Add unit tests to verify that equals() works as expected.
"
"5f28f5e57d3f7f5ff06274f3795a33e0c10ceba9","2013-08-02 09:46:32+02:00","Merge remote-tracking branch 'kaaholst/actionbar' into actionbar
"
"066f5c938d03af876d8b2ac30132a0a4bf39c98a","2013-08-08 15:17:18+02:00","Fix an NPE when togglePausePlay() is called with no connected players.
"
"be8a354ef3ef58ea15b1c7506073f535b74d7ae6","2013-08-10 18:28:27+02:00","Optimise SquareImageView layout.

A normal call to setImageDrawable() will result in a layout request, as the
image being added may cause the ImageView to resize.

In the case of SquareImageView this is not the case, as the dimensions are
fixed irrespective of the image size.  So block layout requests for the
duration of calls to setImageDrawable().

See https://plus.google.com/113058165720861374515/posts/iTk4PjgeAWX for
more.
"
"a184c74653255a5df1936a66c3a7224988342bd0","2013-08-10 22:14:53+02:00","Merge remote-tracking branch 'kaaholst/actionbar' into actionbar

* kaaholst/actionbar:
Update the UI on return from browsing songs of a playlist
Cleanup and polish SqueezerBaseListActivity
Enable Android Studio and the Gradle build system
Correctly unregister songlist callback
Fix items not loading after resume from sub-activity
Fix commit message for the previous commit
"
"b3368951e5c0aa0a68a63f011ebc3a826d473faf","2013-08-10 22:26:33+02:00","Use Gradle versions of 0.5.1 and above, per
http://tools.android.com/knownissues.
"
"30af8d5c5ad48b40f88889ce37ec3d4ca5d000ae","2013-08-11 00:01:22+02:00","Remove references to non-existent strings.

settings_username_title and settings_password_title were removed when
server_address_dialog was refactored, but they were still referenced here.

Remove the TextViews, and replace with hints in the EditText views.
"
"f07768e5e246e625bb943c1a83fdab7fa43d6a42","2013-08-11 14:47:09+02:00","Make it obvious that the CLI port can be specified with the server address.

If the user does not explicitly provide a port then add the default port
when the dialog is closed, so it will be displayed in the UI.

Include the port explicitly for any servers found through discovery.
"
"878d59960bc75601b8e631820b9c1d0236326a74","2013-08-11 16:23:58+02:00","Use a marquee effect for long strings of track info.

The previous code would wrap long track/album/artist information on to
multiple lines when showing 'Now Playing' info.  This could cause the size
of the displayed album artwork to shrink/grow depending on available space,
and was visually jarring.

Force the TextViews to be a single line high, and use the 'marquee' effect
to scroll items of text.
"
"1f27298ceddc1fabce0b36c0b3666f2a204847b9","2013-08-11 16:26:19+02:00","Remove unnecessary semi-colons.
"
"8374822e382bd29973a33cbd803ba467a4efd764","2013-08-13 08:27:35+02:00","Do not use deprecated intent in connectivity change broadcast
"
"e069c1af69d07c3e9e54c5c45fb3fe4c5f23994e","2013-08-13 20:51:42+02:00","Support volume control without needing the hardware buttons.

The user can trigger the appearance of the volume panel from a menu or
from the hardware buttons.  When triggered, the volume level is indicated
by a seekbar in a volume panel, which the user can drag to set the desired
volume.  After a period of inactivity the volume panel automatically
dismisses itself and fades from view.

The previous version of this code used a Toast with a custom view to act
as the volume panel.  That doesn't work with a SeekBar, as the user cannot
interact with any controls on the Toast.  Therefore, replace the Toast
with a Dialog themed to look similar to a Toast, and with similar automatic
dismiss behaviour.

Since the user can now set the volume level directly (by dragging the
SeekBar) and trigger the appearance of the volume panel without changing
the volume level (by selecting the menu item) add a method to the service
to set the volume to a specific level, and track the current per-player
volume in SqueezerPlayerState.

The creation of the volume panel has moved from the service to the
NowPlayingFragment.  As a Toast the service could show the panel, but
services are not permitted to show dialogs.  Accordingly, have the fragment
register the menu item to display the volume panel.  In addition, it needs
to show the panel whenever the volume changes, so provide an interface,
IServiceVolumeCallback, and a mechanism it can use to register callbacks
to listen for volume changes and display the panel.
"
"3aac60973897ecba4ce2dd2b3429514e094823da","2013-08-16 21:25:52+02:00","Use the three-arg form of LayoutInflater.inflate() everywhere.

This is necessary so that the inflated views evaluate their layout
parameters in the context of the correct parent ViewGroup.

See http://www.doubleencore.com/2013/05/layout-inflation-as-intended/ for
details.
"
"2b905e78c94a260d058f39b170aae89ee0937a1b","2013-08-16 21:41:21+02:00","Use the correct layout for spinner dropdown items.

Fixes a bug (in conjunction with the previous commit) where spinner items
where shown either too small, or in the wrong colour.
"
"0b0a5d9ec6996e59964779272187ae4b9ee29019","2013-08-16 23:12:44+02:00","Merge remote-tracking branch 'kaaholst/actionbar' into actionbar

* kaaholst/actionbar:
Do not use deprecated intent in connectivity change broadcast
"
"9b869881ab3011cb5b878066256fe35c08a5727f","2013-08-25 13:07:22+02:00","Save and restore itemlist contents + position on orientation changes.

- Create a RetainFragment that backs a hash that can be used to get/put
arbitrary objects, and use this in multiple places to save state across
the activity life cycle.


framework/SqueezerItemListActivity.java:

- Maintain a set of pages that have been received from the server, distinct
from the set of pages that have been ordered.  Use the RetainFragment to
persist this across activity pauses.

- Rename reorderItems() to clearAndReorderItems() to make the code more
documenting, clear the sets of received and ordered pages, and re-fetch
page 0 when it's called.


framework/SqueezerBaseListActivity.java:

- Use the RetainFragment to persist and restore the state of the itemView,
imageFetcher, adapter, and listview.


itemlists/Squeezer*Activity.java:
itemlists/dialogs/*.java:

- s/orderItems()/clearAndReOrderItems()/


util/ImageCache.java:

- Use the new util.RetainFragment, and delete the retain fragment inner
class from this class.


util/RetainFragment.java:

- A Fragment designd to be retained across activity boundaries.  It can
store and retrieve arbitrary objects under a given key.
"
"5c677737c4b60cd2cdfccb2756e33c28900e99b0","2013-08-25 13:07:41+02:00","Remove two unnecessary semi-colons.
"
"9915a11062738261068bcf38000d67f2034d1a6d","2013-08-25 13:08:37+02:00","Ignore out/ and *.patch.

out/ is created by gradle/Android Studio.

*.patch are generated from Android Studio's 'Create patch' feature.
"
"e4e1734296f7a6be10616128de039e745d3bec9a","2013-08-26 22:55:40+02:00","Restore functionality to show loading progress in list activities.

As the activity may start with cached state this cannot blindly show the
progress indicator.  Adjust SqueezerItemListActivity::maybeOrderPage() to
return a boolean indicating whether or not the page was ordered.

Override this in SqueezerBaseListActivity::maybeOrderPage(), and if page 0
was requested then hide the listview and make the loading progress indicator
visible.
"
"ca0163752defd4f0d0aab514db175da2ef33db53","2013-09-04 16:58:24+02:00","Merge branch 'actionbar' of https://github.com/nikclayton/android-squeezer into actionbar
"
"e745309f59b48e521339cfa43b05cad7d46848c3","2013-09-04 18:11:37+02:00","Add a 'wrapper' task, expected by Android Studio.
"
"a2fd8fcdaf268de1edc020d30e2ecf6fd856897f","2013-09-08 22:40:50+02:00","Customise the song list views depending on filtering.

Create a custom view for SqueezerSongListActivity when viewing all the
songs on a single album.  The view shows the album information
(artwork, name, artist, year) in a fixed view at the top of the list.
The tracks are shown (without the artwork) in a ListView below.

Menu items to play the album, add it to the current playlist, or
browse artists on the album are moved from the options menu to a
custom context menu shown in the header.

Refactor SqueezerSongView in to two classes.  Keep the general
behaviour and context menu in SqueezerSongView, and create
SongViewWithArt that handles setting album artwork.  This means that
SqueezerSongView can inherit from SqueezerPlaylistItemView instead of
SqueezerAlbumArtView.

In addition to hiding the album artwork, SqueezerSongView adjusts the
information shown in the second line of 'details' information.  When
viewing an album the album name does not need to be repeated, and, if
it's not a compilation, the artist name can be removed.  Instead, show
the track number and the duration.  Adjust the tags requested for
songs to return this information.

To do this, introduce two general mechanisms for configuring
SqueezerBaseItemView.  The first is via a new
SqueezerBaseItemView.ViewParams enum.  Subclasses can set this to
specify the features that that item view should have -- an icon, a
second line for details, and a context button -- both when the view
has data, and when it's waiting for data to be loaded in to it.

Introducing this meant that the custom layouts icon_large_row_layout,
icon_one_line, and icon_two_line could be retired, as they can be
implemented with this new method.  This also means that the single
item view layout is consistent across different views, and errors
(inconsistent padding, etc) can be avoided.

The second mechanism is similar, except it's an enum of 'Details' to
show in the second row of text.  Classes and subclasses can set this,
and the bindView method will include the relevant details in the
correct order.

This pushes a lot of common code in to SqueezerBaseItemView and
simplifies many of the itemlists/*View.java files -- in most cases
they now set the details that should be included and a binding with
small custom bindView() methods.

This highlighted an issue with searching, as the search results only
include the album name and ID, with no other metadata.  So change the
service's search() method to instead issue 4 parallel requests to the
server for artists, albums, genres, and songs that match the search
text.

This also means that album and song artwork can be included in the
search results list, so do that.

These changes also made it possible to adjust SqueezerAlbumListView
and SqueezerArtistListView to show a header displaying what they
showing if filters were in effect ('All songs by <foo>', 'All albums
in genre <x>') and so on, so do that.

Add a dependency on the Guava library for its support for easy string
joining and some value checking methods.
"
"c1a5602d34a9771ad09f5cc9404aafa6d98e3104","2013-09-08 22:43:55+02:00","Correct the name of the final parameter.
"
"6e75a2b2cceab3c587eef731f1c6352167b8ee71","2013-09-08 22:44:31+02:00","Clean up whitespace, add comments for future work.
"
"7f5e95f85f34080778da53c5029735a015631bfd","2013-09-08 22:45:01+02:00","Add a tools:layout entry for Android Studio's UI builder view.
"
"a478878e04da739ec758202127f7a3d54186ba01","2013-09-08 22:46:05+02:00","Merge branch 'actionbar' into custom-album-view
"
"b4a2016c21b9b1459447a59f883167d0fc03b0a7","2013-09-09 07:17:37+02:00","Catch ActivityNotFound when requesting a scrobbling app.

This will happen on any device without a market:// URI handler
installed.
"
"cb71cf810dd539945a5647de04d71a05f6733762","2013-09-09 09:36:43+02:00","Merge branch 'actionbar' into custom-album-view
"
"fa115c93c7242991389b441eb47575a90f2d227f","2013-09-09 13:42:07+02:00","Put back GENRE enum, deleted in error.
"
"6370e06e5190db30397d247ec26580ef4b71fda8","2013-09-09 15:35:57+02:00","Fix typo in comment.
"
"af696e1eefd21f85860987efea420d25a8880574","2013-09-09 16:19:27+02:00","Update playlist code with other itemlist code.

Use the new mechanisms to show album artwork, track duration, album, and
artist.  Remove the special formatting for the details text.
"
"03051168d0c0fca41c3f0014cde444d41402bb25","2013-09-09 17:36:27+02:00","Show additional details in search results.

For songs show the duration, album, and artist.  For albums show the artist
and year.
"
"32d11c0d694cbbe68ece86ac38caef532be737c6","2013-09-10 21:49:38+02:00","Fix a bug where searches from the search activity did not work.

The previous code called maybeOrderPage(0), but since page 0 had been fetched
it was not refetched, and so second and subsequent attempts to search would
leave the loading view spinning indefinitely.

Fix this by calling clearAndReOrderItems() instead.  Do this after the
loading label has been made visible so that the clearing of the results
does not happen visibly to the user.

Add some comments while I'm here.
"
"d6d46e926e5a9ee9734e74cdc8378e512136a18b","2013-09-10 21:52:53+02:00","Merge branch 'actionbar' into custom-album-view

* actionbar:
Fix a bug where searches from the search activity did not work.

Conflicts:
src/uk/org/ngo/squeezer/SqueezerSearchActivity.java
"
"06a126958abb85061a96b34c9e1462a269517eb6","2013-09-10 21:55:36+02:00","Enable voice searches.
"
"0c87f67fe84b9fe1ad1b411a055a04b92933d2cb","2013-09-11 22:04:23+02:00","Merge branch 'actionbar' into custom-album-view

* actionbar:
Enable voice searches.
"
"bb053ae5679841072698d44b54c5ca65a2896b90","2013-09-11 22:58:14+02:00","Fix a bug where all option menu items were being shown.

Different versions of Android call onCreateOptionsMenu() at different times,
which may be either before or after the service connection has completed.

The code that toggles state checks to see if menu_item_connect is
non-null, and only toggles visibility if that is the case.  This meant that
the service connection might complete before onCreateOptionsMenu() ran,
menu_item_connect was null, and no toggling would take place.  This resulted
in (for example) the 'Connect' menu item being visible even after connection
had completed.

Fix this by moving the toggling code in its own method and call it after
service connection has completed and in onCreateOptionsMenu.  This ensures
that the menu items are set correctly at either point.

While I'm here, rename the variables that reference the items, as the
'Button' suffix was misleading.
"
"058f40a2fec9ca7ff82ec84b09503bac791008a4","2013-09-15 10:50:15+02:00","Include connection state when determining which power menu items to show.

Fixes a bug where Power on/off could appear in the menu when there was
no connection to the server.
"
"cb1be6284017cbf92b4f9f05d237b4ed9c21d3f2","2013-09-15 20:34:47+02:00","Fix BadTokenExceptions with VolumePanel.

The panel's display could happen while the activity hosting the
NowPlayingFragment was finishing, or finished.  Include an explicit check
for this before showing the dialog, and ensure the dialog is dismissed
when the fragment is paused.
"
"92ff52b5076dc6cf98d3a0b9b46d334a1d3bfa10","2013-09-15 20:37:34+02:00","Merge branch 'actionbar' into custom-album-view

* actionbar:
Fix BadTokenExceptions with VolumePanel.
Include connection state when determining which power menu items to show.
Fix a bug where all option menu items were being shown.
"
"3cf0ce9d47bdebeb6573b3534f10f913380164a3","2013-09-22 21:27:30+02:00","Correctly take account of padding when calculating the view size.

Always use whichever dimension is smaller as the final size.
"
"e73d0561a5e4f5b40f40dee50c8edd95c0724f3f","2013-09-22 21:32:04+02:00","Replace non-functional 'Download' option menu item with a context menu.

The 'Download' option menu item did nothing.  Remove it, and add a context
menu to now_playing_fragment_full.xml.  Add the Download menu item here.

As there's now an available context menu, use it to also show menu options
for viewing songs on the album, albums by the artist, and songs by the artist.
This replaces touching the track, album, and artist name views, which were
small touch targets.

Trying to fit the context menu in to the existing LinearLayout created many
nested views, so switch to using a RelativeLayout for
now_playing_fragment_full.xml.
"
"355da40b8bb1c83be465eb4c8e8a1383c9b25b8a","2013-09-22 21:41:56+02:00","Merge branch 'actionbar' into custom-album-view

* actionbar:
Replace non-functional 'Download' option menu item with a context menu.
Correctly take account of padding when calculating the view size.

Conflicts:
src/uk/org/ngo/squeezer/NowPlayingFragment.java
src/uk/org/ngo/squeezer/widgets/SquareImageView.java
"
"e6dafcc35262e74ba8c4a499a641c296021d003d","2013-09-24 18:33:42+02:00","Include the player name in the 'turn on/off' menu items.
"
"43a3c6984a48d10f7823682d8690b351d4f2bb60","2013-09-24 19:48:26+02:00","Use a non-deprecated method to fetch the display size.
"
"466bbf18fa8e193e6dca295ef6a746db21fb0bcb","2013-09-24 19:49:27+02:00","Set the album's layout_height to fil_parent.

This allows the min() calculation in SquareImageView to do the right thing
if the album artwork is shorter than it is wide.
"
"25c9070d152e5d5d405f6790d443c4675d8a1a2b","2013-09-24 19:49:51+02:00","Change 'Volume' in the menu to 'Change volume'.
"
"1bc5efaf02ecb959830a1458cbb312870cdd49b8","2013-09-25 23:15:06+02:00","Update to Gradle 1.8.
"
"0900971dc2c2f957d7da62d93a5bc5c8fd3e0c45","2013-09-25 23:23:50+02:00","Use Guava 15.0.
"
"8a209ca7d6d8b03c4f67ba7b2484b5bca0f352a0","2013-09-25 23:24:13+02:00","Merge branch 'actionbar' into custom-album-view

* actionbar:
Update to Gradle 1.8.
Change 'Volume' in the menu to 'Change volume'.
Set the album's layout_height to fil_parent.
Use a non-deprecated method to fetch the display size.
Include the player name in the 'turn on/off' menu items.
"
"67f2faae8011b38cdfefb4d427f04e31a3280b09","2013-09-25 23:42:18+02:00","Set width to fill_parent so that smaller album artwork displays correctly.
"
"a498c411321aca519f97028aa29e5b9fd74d4559","2013-09-28 19:30:59+02:00","Merge branch 'actionbar' into custom-album-view
"
"ec581d78ca57205cc49b3fd8e789dfd5d992c043","2013-09-28 19:54:27+02:00","Use margin instead of padding.

This corrects the image placement now that SquareImageView takes account
of padding.
"
"9ef75bc16506736f6051cc75b2867fd970b0360b","2013-10-14 12:08:12+02:00","Implement album grid layout

Album list layout is now selectable between the existing list view and a new
grid view. The grid view organizes the albums in a grid, and uses larger
artwork.

The selection is done from the options menu. The existing menu entry for
choosing the sort order of the albums, is renamed to 'View', and the resulting
dialog is used for both selecting the layout and the sort order. This is
modelled after the view selection on the LMS web interface (and other android
apps). The selected layout is stored in preferences and used in all subsequent
displays of the album list. Like the sort order strings, the strings for
selecting the layout is fetched from the server.

The default layout (i.e. when not previously selected by the user), is based on
the screen size, on the assumption that the artwork grid is preferred on larger
screens.

To implement this the item_list layout is extended with an optional GridView.
To avoid too many setVisibility(GONE/VISIBLE), the optional views (ListView/
GridView/Loading) are put in a ViewAnimator. The BaseListActivity now takes
an extra parameter in its intent, which chooses the current list view.

To support the larger artwork, the image fetcher used in the item lists can now
be overridden. This is accomplished by making the createImageFetcher method
protected, and make it return the newly created image fetcher. This is the same
way the item view can be specified for an item list.

To make it easier to implement the grid item view, the
SqueezerAlbumArtView.getAdapterView method got an overridden method with an
ekstra parameter, layoutId, which specifies the layout to use. Now we just need
to create a new layout resource for the grid items, and specify it in the new
item view logic.

On a side note the image fetcher should be embedded in the item view logic,
since the item view inflates the layout, and therefore already knows about the
image size. Also they are both created from the item list activity. This will
also eliminate the need for all adapters to have an image fetcher.

This new implementation revealed a problem when switching the orientation in the
album list. Using a ViewAnimator caused views to be drawn in onCreate (measure),
which is before the service is connected, so we cant load images.

To fix this the adapter is not set on the listview until after the service is
connected (onServiceConnected/onResume). But that caused the list to scroll to
top, so the current position in the list is retained.

The item view is referenced from the adapter, so it is indirectly retained, so
is removed from the retain fragment.
"
"5351b6fbb62f18a2e7eae3a4f63d5213bfbb69c8","2013-10-15 18:24:34+02:00","Note a possible change to make to options menu creation.
"
"41eb61397bb8953a8ba7597be9b03134dee47b19","2013-10-15 18:48:12+02:00","Provide explicit ordering for certain menu items.

Ensure that 'Search' and 'Playlist' are always the first two, and that
'Settings' and 'About' are always the last two.
"
"2b36afc7a7b09134a13fb443d3aedf1399969f1e","2013-10-15 18:55:19+02:00","Adjust strings for playlists.

Correct capitalisation, and make it clear that a few strings refer to
a playlist.
"
"bc7f63b3ba963912eecf2d52a0a3dc999d32b8bf","2013-10-15 18:55:42+02:00","Remove leading spaces before each ellipsis.
"
"851dc63590ecac0e0b299adaa92039a80821cede","2013-10-15 19:31:30+02:00","Additional strings cleanup.

- Remove trailing periods from settings strings.
- Add setting strings for squeezer.notifyofconnection
- Pluralise BROWSE_ARTIST_ALBUMS
- Correct text for settings_album_selectaction
"
"4da46c577c3a0c898a45a8480cfaa12d1a0dd6a4","2013-10-15 21:31:34+02:00","Update album and song select preference summaries on selection.

Add functions that take a value for the preference and turn that back
in to the displayable string for the preference's value.  Call this
when the preference screen is first displayed, and every time the
preference changes.

Remove unnecessary summary strings and references in preferences.xml.
"
"6dc744de1e73dda0c62089736d34287d591833a2","2013-10-15 21:46:16+02:00","Add padding to the Scrobble app selection dialog to match the platform.
"
"2374c1805dd536f70ffe7d861935723d8e62ac65","2013-10-15 22:48:10+02:00","Merge branch 'actionbar' of https://github.com/nikclayton/android-squeezer into actionbar

* 'actionbar' of https://github.com/nikclayton/android-squeezer:
Add padding to the Scrobble app selection dialog to match the platform.
Update album and song select preference summaries on selection.
Additional strings cleanup.
Remove leading spaces before each ellipsis.
Adjust strings for playlists.
Provide explicit ordering for certain menu items.
Note a possible change to make to options menu creation.
"
"0e6f21b88dc6e32e42e2611d1c3ebae99e9cef45","2013-10-15 22:50:27+02:00","Merge branch 'actionbar' into custom-album-view

* actionbar:
Add padding to the Scrobble app selection dialog to match the platform.
Update album and song select preference summaries on selection.
Additional strings cleanup.
Remove leading spaces before each ellipsis.
Adjust strings for playlists.
Provide explicit ordering for certain menu items.
Note a possible change to make to options menu creation.
Set width to fill_parent so that smaller album artwork displays correctly.
"
"a351f47ec1ff707fe34448c05454c5e65ebeb735","2013-10-15 23:06:06+02:00","Rename savePosition to saveVisiblePosition, and add javadoc

to new fields and methods.
"
"aa453e3f7a61d079a9f91b96d86e8ea71fd13a29","2013-10-15 23:06:36+02:00","SquareImageView takes account of padding, so switch to layout_marginRight.

Without this, the maximum image size is computed to be reduced by the amount
of padding, resulting in a smaller image.
"
"71dfb84e99696f3774627ee7b752585ff13d3bad","2013-10-15 23:07:14+02:00","Add a tools:layout rendering hint for Android Studio.
"
"8b3196d5ab53bd4c411f32ac9da773dca296153a","2013-10-15 23:08:04+02:00","Merge remote-tracking branch 'origin/custom-album-view' into custom-album-view

* origin/custom-album-view:
Use margin instead of padding.
"
"17533d55d5357138a22b0d4e52090c11b7c4ec08","2013-10-15 23:51:18+02:00","Do not use the Squeezer prefix for new files/classes
"
"8b6c4e6c6bcd9ebad4c1c31eeacd30e183f3e6ea","2013-10-15 23:56:52+02:00","Use spaces (instead of tabs) for indentation

Signed-off-by: Kurt Aaholst <kaaholst@gmail.com>
"
"846b71559f3b93f6aa3bb0cb4cd0fa0bf7ee34ec","2013-10-16 21:49:00+02:00","Group UI behaviour preferences in to a distinct category.
"
"a166a58db7b1fe30c31640741fc6ad62c0238827","2013-10-16 21:51:58+02:00","Start a document to explain how to download and build Squeezer.
"
"be321403e67ccdab16154eefd00352b7e6633148","2013-10-19 22:13:53+02:00","Merge branch 'actionbar' into album-grid
"
"291ac56f9c0340692cc61f3743996bf4ab3fd043","2013-10-20 18:07:08+02:00","Properly return the boolean value for context menu clicks from search results.

Without this, Android assumes that the context menu click was not handled,
and it bubbles up to the next context menu handler, which is in the
NowPlayingFragment.  The end result is that you choose a context item like
'Browse songs on album' and it shows the album selected from the search
results, and immediately loads the album that's currently playing on top of
that.
"
"40ff7d062b95c45043d28209da4f155331e3ad8f","2013-10-20 18:15:26+02:00","Use 0.6.+ of the Gradle plugin.

This is the minimum version supported by Android Studio 0.3.0, per
http://tools.android.com/recent/androidstudio030released.
"
"24f772b334a7f023c5b0ef371a55f47b1a07ff0f","2013-10-20 20:22:53+02:00","Fixes the activity title when viewing favourites.

The activity title for favourites was previously '0 null' (or some other
number) because SqueezerPluginItemListActivity::createItemView() returns
a SqueezerPluginItemView, and its getQuantityString() method always returns
null.

This adds a specialisation of both of those classes for favourites, to
return a list activity and view class with a custom quantity string.

Adjust SqueezerHomeActivity accordingly.

Create new string resources for this, including a specialisation for the
correct spelling of 'Favourites'
"
"13681853e6e18b3c69ccbc3066bf11cdb240c43a","2013-10-20 20:35:04+02:00","Vertical align section header text in search results.
"
"19d2492c0f38096f888b31348ca5d7e287732b08","2013-10-21 21:42:35+02:00","Switch to Gradle 1.8.
"
"b6e82c609d3b8fb4d764f128399967d79853fe34","2013-10-21 21:43:10+02:00","Merge branch 'actionbar' of https://github.com/nikclayton/android-squeezer into actionbar

* 'actionbar' of https://github.com/nikclayton/android-squeezer:
Start a document to explain how to download and build Squeezer.
Group UI behaviour preferences in to a distinct category.
"
"ba37b2042457f614ef60affc6a6df5300e75d98d","2013-10-21 21:48:03+02:00","Merge branch 'actionbar' into custom-album-view

* actionbar:
Start a document to explain how to download and build Squeezer.
Group UI behaviour preferences in to a distinct category.
"
"b8464c65f763020d4f1f41841a43c7f59eebfa68","2013-10-21 22:40:30+02:00","List 'Browse albums' as the first item in the artist context menu.

The default action when selected is to browse albums, so this makes the
menu ordering match the action.
"
"850e95384f87c529f14f911c93104cb8ed7b84a9","2013-10-21 22:50:41+02:00","Fix an NPE when calling equals() on songs without an ID.
"
"fd2dc5d3a9a7b2d2f36d8ace42c1dbbf48b2e9da","2013-10-21 23:06:50+02:00","Remove bold styling from text of selected items.
"
"840d113884d4cd652e9e38fbd61ca31e6f05c0d7","2013-10-21 23:25:12+02:00","Update ACRA to v4.5.0.

Remove the bundled library from the repository, and use Gradle's
depdendency management to fetch it as necessary.
"
"56d946151178b4c6b018dbe9083ddf70b3c6768f","2013-10-22 22:43:02+02:00","Merge branch 'actionbar' into album-grid
"
"8fa660552ccaba969220ce2ec7d9c5778bff5a79","2013-11-03 19:27:14+01:00","Handle events that invalidate the current playlist.

When moving through the playlist the server might add or delete tracks
from it.  For example, if it's a random mix.  If it does this it sends
'addtracks' and 'delete' notifications.  Listen for these, and if found,
call a callback in the activity to handle them.

Provide a basic callback for these that invalidates the playlist and
re-orders it from the server, to ensure that the UI is consistent.
"
"1d9578c5995a45d99fb8776f38d757ad3e210ba4","2013-11-07 21:33:27+01:00","Merge branch 'album-grid' into actionbar

Use the getContentView pattern instead of a ViewAnimator.
This means that a new layout, item_grid, is introduced, which
duplicates some views from the item_list layout, but it is better than
item_list needing to know about all item lists.
To dynamically change the layout, when the user changes the list view
preference, the preference is saved, and the activity restarts itself.
This causes the retained adapter to be lost, so the items are reordered
and the list scrolls to top. The alternative to to call setContentView
again causes problems with the NowPlayingFragment, and would also be
errorprone, cause every findViewById would have to called again.
To retain the adapter, figure out how Android recreates the activity
on a configuration change. Maybe call Activity.recreate for API level
>= 11.

Conflicts:
res/values/dimensions.xml
src/uk/org/ngo/squeezer/SqueezerHomeActivity.java
src/uk/org/ngo/squeezer/framework/SqueezerBaseListActivity.java
src/uk/org/ngo/squeezer/itemlists/SqueezerAlbumArtView.java
src/uk/org/ngo/squeezer/itemlists/SqueezerAlbumListActivity.java
"
"4802fa45698c2ab955ee6c69aad77a2280f7f640","2013-11-10 21:43:44+01:00","Prepare to support beta releases in the market.

- Add beta and live product flavours to build.gradle, with a defaultConfig
that mirrors AndroidManifest.xml

- As the version string may get more complicated, update AboutDialog to
support longer version strings.  Switch to using a RelativeLayout, and
move the version string to its own line.  This obsoletes some string
resources, so remove them.
"
"dfea5c172808c3c37ceeae37571e20d4278383c4","2013-11-10 23:28:23+01:00","Fix header lost after orientation change

Update views with the retained item adapters count, and create a new
item view logic which refers to the new activity (this also releases
the reference to the old view logic, and hence the old activity).

Signed-off-by: Kurt Aaholst <kaaholst@gmail.com>
"
"16cd2916344381c06545f7ddc3a5dae05ae24c3f","2013-11-12 21:06:32+01:00","Fix item list problems with orientation change

The adapter is retained in onCreate so the list view will start generating the
views. This causes various problems, because the service is not yet connected.

To fix this the adapter is not set on the listview until after the service is
connected (onServiceConnected/onResume). But that caused the list to scroll to
top, so the current position in the list is retained.
"
"9bfa0680c7822f785384b4fecfbbac8b1d540968","2013-11-12 21:39:12+01:00","Merge remote-tracking branch 'nik/actionbar' into actionbar
"
"2c14b3d72c5f8e252d56c5745888a4f1aac5253b","2013-11-17 21:56:43+01:00","Fix crash on orientation change when volume panel is showing

- In volume panel do not post to handler when the panel is dismissed.
Posting caused an 'Activity has leaked window that was originally
added ...' error in the log, and an 'IllegalArgumentException: View
not attached to window manager' exception when the dialog was closed
by the message handler.
- In now playing fragment, do not post to the UI thread, when showing
a volume message from LMS, as the volume panel internally does that.
- Correctly unregister the volume callback in onPause in the now
playing fragment. Failing to do that, caused an exception when
rotating the device for the second time, cause the no longer active
fragment receives a volume message from the LMS, which is passed on
to its volume panel. When the not activy volume panel receives a
timeout, it gets an exception when trying to dismiss the dialog.

Signed-off-by: Kurt Aaholst <kaaholst@gmail.com>
"
"dbb74aacd86718c48d65b2185d4ebf2baade395a","2013-11-18 00:08:15+01:00","ActionBarCompat: Support action bar items setEnabled/setVisibility

from onCreateOptionsMenu
"
"e99c570042972083513f687fb5638b6bbcae345e","2013-11-18 19:42:57+01:00","Show an activity when the user is disconnnected from the server.

This ensures that the user is not seeing stale content (e.g., a list
of albums) that they cannot interact with.
"
"203c37e23b726036a085a20fab0fa9e857be415b","2013-11-18 23:12:04+01:00","Do not call service to get a server string

Instead take advantage that java enums are singletons, and just grab
the server string directly from the enum.
The strings are ordered from the server when a connection is made, and
written to the enum be the service.

This fixes a crash when switching orientation with the album display
options dialog open, because it contains server strings, and the
dialog is displayed before the service is connected.

Signed-off-by: Kurt Aaholst <kaaholst@gmail.com>
"
"9f977210fd64c0f43a58445c9e0d72c0c8fcfb73","2013-11-19 18:49:52+01:00","Merge remote-tracking branch 'kaaholst/actionbar' into actionbar

* kaaholst/actionbar:
ActionBarCompat: Support action bar items setEnabled/setVisibility
Fix crash on orientation change when volume panel is showing
Fix item list problems with orientation change
Fix header lost after orientation change
Use spaces (instead of tabs) for indentation
Do not use the Squeezer prefix for new files/classes
Rename savePosition to saveVisiblePosition, and add javadoc
Implement album grid layout
"
"506ad8334a4afca83113de032474dc6b3d92dbcd","2013-11-19 20:46:58+01:00","Show the NowPlayingFragment in the album grid view.

The GridView was consuming all available space, leaving none for the
NowPlayingFragment.  Set the GridView's height to 0dip with a weight of
1 to force it consume only spare space.
"
"6b39c03e66fc998c95221f9ab880a3c477b06e9c","2013-11-19 21:09:03+01:00","Simplify the per-item grid layout.

grid_item.xml:

- Use a RelativeLayout instead of a series of nested LinearLayouts.

- Remove the marquee effect from the TextViews, it dramatically slows down
scrolling performance.

- Adjust padding for consistency.

item_grid.xml:

- Adjust padding for consistency.

- Add a weight to the ProgressBar, so that it also pushes NowPlayingFragment
to the bottom of the screen, preventing an awkward transition if it takes
a while to load content.

AlbumGridView.java:

- Remove marquee related code.
"
"fcef2be17966f53ff7c8507d4226c0b158c7458a","2013-11-19 22:30:12+01:00","Merge remote-tracking branch 'nik/actionbar' into actionbar
"
"9e105c0c5f09e36ddbee5be8843f077cd3b19414","2013-11-24 10:54:59+01:00","Clear adapter and show load in progress when items are reordered

Restore functionality for the above, which was lost when implementing
retain item lists on orientation change.
Also fix registration of received pages.
"
"76b8272c4256afbe2d35c1cc8f87c1565ac61a34","2013-11-25 11:57:21+01:00","Add a codestyle for Android Studio / intellij.

Copied from Android Open Source Project at
https://github.com/android/platform_development/commit/87cfafaa3d9ebebe6a60d7919fe6b4dfb62a7bf0

Update HACKING.md to describe how to install and enable this style in
Android Studio.
"
"a3bce2039d75418aee7805cfa4b451e7a7758e3b","2013-11-25 12:32:40+01:00","Remove unused imports.
"
"d4165a61eba1358a5a346a6874a5dcea8c0a39ca","2013-11-25 12:39:39+01:00","Convert mScanBtn to a local variable instead of a field.
"
"35db01d74bf1b99d5d430d8965a83b4b3045b195","2013-11-25 12:44:52+01:00","Remove unnecessary semi-colons.
"
"3563b753646520aea15fb4d3810d4041ef427d52","2013-11-25 12:48:09+01:00","Remove redundant local variables.
"
"2b9dbe21cf750a9f5135f245e2428bad38ecd8a1","2013-11-25 12:50:40+01:00","Remove empty onCreateOptionsMenu() method.
"
"79df0032b7e8a3346c167b40864d2aac45be5d3d","2013-11-25 12:51:10+01:00","Suppress EmptyMethod warnings for onPreExecute() and onCancelled().
"
"62681e7eba7be3692c73943c4bd69505f496c263","2013-11-25 12:54:08+01:00","Remove redundant initialiser.
"
"c99bc1b9e21bd5834a32d780a15d875084b198ed","2013-11-25 12:56:11+01:00","Remove redundant 'artwork' variable.
"
"a6f3d19dcf3f8f8e088e1eb1a8817d3f7a06bcdd","2013-11-25 12:58:36+01:00","Add pragma to disable warning for valid empty if() body.
"
"e407805a41d65ad4e22427c0cc5fea03ea78fe78","2013-11-25 12:58:51+01:00","Remove empty switch statement.
"
"6c35dd62e3b065b663a3b956f3fb0c0e7fe03cec","2013-11-25 13:01:55+01:00","Remove unused variable 'parameters'.
"
"4a64d9fe6edc2cc6cc6fca9959e8ba80653e246c","2013-11-25 14:06:29+01:00","Use 0dip instead of wrap_content for more efficient layout_height.
"
"4746cf7d720443972ade58a4c12f4cba8c6e0508","2013-11-25 14:06:52+01:00","Use 'sp' instead of 'dp' for textSize to honour user's preferences.
"
"8c4aa97b1f348b1106d5b3a1018b11020db09982","2013-11-25 20:12:26+01:00","Enable Proguard for gradle builds.

Split the Proguard configuration in to several files, one for
Android defaults ('proguard.cfg'), one per library that has special
Proguard requirements ('proguard-acra.cfg', 'proguard-guava.cfg')
and one for things that are specific to Squeezer.

Guava needs the 'jsr305' library installed to work with Proguard,
so add that as a dependency.

Customise the 'release' buildType to run Proguard and use these
configuration files.

Add a signingConfig to the 'live' product flavour so that it shows up
in the list of tasks.  Use the debug signing config for the moment.
"
"a58c1ed1eceaac6c41becd6d158bed15e90b42d0","2013-11-25 22:22:59+00:00","Update gradle config to support signing releases.

Create gradle.properties, which defines a property file called
'squeezer.properties'.  This file (not checked in to source control)
contains two entries:

key.store.password=...
key.alias.password=...

defining the values for those passwords.

Update build.gradle to look for this file (indirectly, through the
value of 'Squeezer.properties') and use the values from it if it exists.
If it doesn't exist then provide dummy values to allow the other tasks
to complete.
"
"be09467ed3175c6aad6d943875b93475af3f3349","2013-11-26 07:27:54+01:00","Danish translation of latest changes
"
"ae462ea53dfa92af67ee3ec22381e2a70e93203b","2013-11-26 07:36:05+01:00","Merge remote-tracking branch 'nik/actionbar' into actionbar
"
"9eccdb5c059b60fd4ed01cefde6f44b73e6e5ffb","2013-11-26 08:59:58+00:00","Merge branch 'actionbar' of https://github.com/nikclayton/android-squeezer into actionbar
"
"a2704beb3b106844a3e113276830e1b31b5fe28f","2013-11-26 09:02:13+00:00","Merge remote-tracking branch 'kaaholst/actionbar' into actionbar
"
"9c8199ce5f189cebc6b19ad8e5b356ff4f9b4d34","2013-11-26 22:14:58+00:00","Remove the uses-sdk element in favour of the build.gradle config.
"
"5f8fbcc98fb4f4ada8102ac65bc0f983f29d07fd","2013-11-26 22:15:10+00:00","Set targetSdkVersion to 19.
"
"b1927a7973b1f76501c8e71b43aaed40f294fe60","2013-11-26 22:33:30+00:00","Compile to SDK 19 using buildTools 19.

Move the defaultConfig { } block next to the other options for choosing
SDK versions.

Remove the default versionCode and versionName, provide them explicitly
in each product flavor.

Set the beta version code to 14.
"
"7773f4308008da97576573382e1029135721ebe6","2013-11-26 23:35:51+00:00","Add a suffix to the beta versionName, incremented with each release.
"
